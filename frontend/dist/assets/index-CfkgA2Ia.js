var dre=Object.defineProperty;var B5=t=>{throw TypeError(t)};var fre=(t,e,n)=>e in t?dre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Rt=(t,e,n)=>fre(t,typeof e!="symbol"?e+"":e,n),DP=(t,e,n)=>e.has(t)||B5("Cannot "+n);var C=(t,e,n)=>(DP(t,e,"read from private field"),n?n.call(t):e.get(t)),W=(t,e,n)=>e.has(t)?B5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),V=(t,e,n,i)=>(DP(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),H=(t,e,n)=>(DP(t,e,"access private method"),n);var ro=(t,e,n,i)=>({set _(r){V(t,e,r,n)},get _(){return C(t,e,i)}});function hre(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var F_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NP={exports:{}},xS={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V5;function pre(){if(V5)return xS;V5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var a in r)a!=="key"&&(s[a]=r[a])}else s=r;return r=s.ref,{$$typeof:t,type:i,key:o,ref:r!==void 0?r:null,props:s}}return xS.Fragment=e,xS.jsx=n,xS.jsxs=n,xS}var H5;function mre(){return H5||(H5=1,NP.exports=pre()),NP.exports}var b=mre(),PP={exports:{}},wS={},OP={exports:{}},LP={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U5;function gre(){return U5||(U5=1,function(t){function e(le,ee){var Z=le.length;le.push(ee);e:for(;0<Z;){var se=Z-1>>>1,j=le[se];if(0<r(j,ee))le[se]=ee,le[Z]=j,Z=se;else break e}}function n(le){return le.length===0?null:le[0]}function i(le){if(le.length===0)return null;var ee=le[0],Z=le.pop();if(Z!==ee){le[0]=Z;e:for(var se=0,j=le.length,te=j>>>1;se<te;){var ae=2*(se+1)-1,U=le[ae],ve=ae+1,ke=le[ve];if(0>r(U,Z))ve<j&&0>r(ke,U)?(le[se]=ke,le[ve]=Z,se=ve):(le[se]=U,le[ae]=Z,se=ae);else if(ve<j&&0>r(ke,Z))le[se]=ke,le[ve]=Z,se=ve;else break e}}return ee}function r(le,ee){var Z=le.sortIndex-ee.sortIndex;return Z!==0?Z:le.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,v=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function R(le){for(var ee=n(c);ee!==null;){if(ee.callback===null)i(c);else if(ee.startTime<=le)i(c),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(c)}}function N(le){if(S=!1,R(le),!v)if(n(l)!==null)v=!0,oe();else{var ee=n(c);ee!==null&&ce(N,ee.startTime-le)}}var P=!1,O=-1,$=5,F=-1;function q(){return!(t.unstable_now()-F<$)}function B(){if(P){var le=t.unstable_now();F=le;var ee=!0;try{e:{v=!1,S&&(S=!1,E(O),O=-1),m=!0;var Z=p;try{t:{for(R(le),h=n(l);h!==null&&!(h.expirationTime>le&&q());){var se=h.callback;if(typeof se=="function"){h.callback=null,p=h.priorityLevel;var j=se(h.expirationTime<=le);if(le=t.unstable_now(),typeof j=="function"){h.callback=j,R(le),ee=!0;break t}h===n(l)&&i(l),R(le)}else i(l);h=n(l)}if(h!==null)ee=!0;else{var te=n(c);te!==null&&ce(N,te.startTime-le),ee=!1}}break e}finally{h=null,p=Z,m=!1}ee=void 0}}finally{ee?X():P=!1}}}var X;if(typeof M=="function")X=function(){M(B)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,J=Q.port2;Q.port1.onmessage=B,X=function(){J.postMessage(null)}}else X=function(){A(B,0)};function oe(){P||(P=!0,X())}function ce(le,ee){O=A(function(){le(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(le){le.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,oe())},t.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<le?Math.floor(1e3/le):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(le){switch(p){case 1:case 2:case 3:var ee=3;break;default:ee=p}var Z=p;p=ee;try{return le()}finally{p=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(le,ee){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var Z=p;p=le;try{return ee()}finally{p=Z}},t.unstable_scheduleCallback=function(le,ee,Z){var se=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?se+Z:se):Z=se,le){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Z+j,le={id:d++,callback:ee,priorityLevel:le,startTime:Z,expirationTime:j,sortIndex:-1},Z>se?(le.sortIndex=Z,e(c,le),n(l)===null&&le===n(c)&&(S?(E(O),O=-1):S=!0,ce(N,Z-se))):(le.sortIndex=j,e(l,le),v||m||(v=!0,oe())),le},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(le){var ee=p;return function(){var Z=p;p=ee;try{return le.apply(this,arguments)}finally{p=Z}}}}(LP)),LP}var q5;function yre(){return q5||(q5=1,OP.exports=gre()),OP.exports}var jP={exports:{}},Yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G5;function bre(){if(G5)return Yt;G5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function p(j){return j===null||typeof j!="object"?null:(j=h&&j[h]||j["@@iterator"],typeof j=="function"?j:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,S={};function A(j,te,ae){this.props=j,this.context=te,this.refs=S,this.updater=ae||m}A.prototype.isReactComponent={},A.prototype.setState=function(j,te){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,te,"setState")},A.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function E(){}E.prototype=A.prototype;function M(j,te,ae){this.props=j,this.context=te,this.refs=S,this.updater=ae||m}var R=M.prototype=new E;R.constructor=M,v(R,A.prototype),R.isPureReactComponent=!0;var N=Array.isArray,P={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function $(j,te,ae,U,ve,ke){return ae=ke.ref,{$$typeof:t,type:j,key:te,ref:ae!==void 0?ae:null,props:ke}}function F(j,te){return $(j.type,te,void 0,void 0,void 0,j.props)}function q(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function B(j){var te={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ae){return te[ae]})}var X=/\/+/g;function Q(j,te){return typeof j=="object"&&j!==null&&j.key!=null?B(""+j.key):te.toString(36)}function J(){}function oe(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(J,J):(j.status="pending",j.then(function(te){j.status==="pending"&&(j.status="fulfilled",j.value=te)},function(te){j.status==="pending"&&(j.status="rejected",j.reason=te)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function ce(j,te,ae,U,ve){var ke=typeof j;(ke==="undefined"||ke==="boolean")&&(j=null);var Ce=!1;if(j===null)Ce=!0;else switch(ke){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(j.$$typeof){case t:case e:Ce=!0;break;case d:return Ce=j._init,ce(Ce(j._payload),te,ae,U,ve)}}if(Ce)return ve=ve(j),Ce=U===""?"."+Q(j,0):U,N(ve)?(ae="",Ce!=null&&(ae=Ce.replace(X,"$&/")+"/"),ce(ve,te,ae,"",function(Ye){return Ye})):ve!=null&&(q(ve)&&(ve=F(ve,ae+(ve.key==null||j&&j.key===ve.key?"":(""+ve.key).replace(X,"$&/")+"/")+Ce)),te.push(ve)),1;Ce=0;var je=U===""?".":U+":";if(N(j))for(var Ue=0;Ue<j.length;Ue++)U=j[Ue],ke=je+Q(U,Ue),Ce+=ce(U,te,ae,ke,ve);else if(Ue=p(j),typeof Ue=="function")for(j=Ue.call(j),Ue=0;!(U=j.next()).done;)U=U.value,ke=je+Q(U,Ue++),Ce+=ce(U,te,ae,ke,ve);else if(ke==="object"){if(typeof j.then=="function")return ce(oe(j),te,ae,U,ve);throw te=String(j),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function le(j,te,ae){if(j==null)return j;var U=[],ve=0;return ce(j,U,"","",function(ke){return te.call(ae,ke,ve++)}),U}function ee(j){if(j._status===-1){var te=j._result;te=te(),te.then(function(ae){(j._status===0||j._status===-1)&&(j._status=1,j._result=ae)},function(ae){(j._status===0||j._status===-1)&&(j._status=2,j._result=ae)}),j._status===-1&&(j._status=0,j._result=te)}if(j._status===1)return j._result.default;throw j._result}var Z=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function se(){}return Yt.Children={map:le,forEach:function(j,te,ae){le(j,function(){te.apply(this,arguments)},ae)},count:function(j){var te=0;return le(j,function(){te++}),te},toArray:function(j){return le(j,function(te){return te})||[]},only:function(j){if(!q(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Yt.Component=A,Yt.Fragment=n,Yt.Profiler=r,Yt.PureComponent=M,Yt.StrictMode=i,Yt.Suspense=l,Yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Yt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Yt.cache=function(j){return function(){return j.apply(null,arguments)}},Yt.cloneElement=function(j,te,ae){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var U=v({},j.props),ve=j.key,ke=void 0;if(te!=null)for(Ce in te.ref!==void 0&&(ke=void 0),te.key!==void 0&&(ve=""+te.key),te)!O.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(U[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)U.children=ae;else if(1<Ce){for(var je=Array(Ce),Ue=0;Ue<Ce;Ue++)je[Ue]=arguments[Ue+2];U.children=je}return $(j.type,ve,void 0,void 0,ke,U)},Yt.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:s,_context:j},j},Yt.createElement=function(j,te,ae){var U,ve={},ke=null;if(te!=null)for(U in te.key!==void 0&&(ke=""+te.key),te)O.call(te,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(ve[U]=te[U]);var Ce=arguments.length-2;if(Ce===1)ve.children=ae;else if(1<Ce){for(var je=Array(Ce),Ue=0;Ue<Ce;Ue++)je[Ue]=arguments[Ue+2];ve.children=je}if(j&&j.defaultProps)for(U in Ce=j.defaultProps,Ce)ve[U]===void 0&&(ve[U]=Ce[U]);return $(j,ke,void 0,void 0,null,ve)},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(j){return{$$typeof:a,render:j}},Yt.isValidElement=q,Yt.lazy=function(j){return{$$typeof:d,_payload:{_status:-1,_result:j},_init:ee}},Yt.memo=function(j,te){return{$$typeof:c,type:j,compare:te===void 0?null:te}},Yt.startTransition=function(j){var te=P.T,ae={};P.T=ae;try{var U=j(),ve=P.S;ve!==null&&ve(ae,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(se,Z)}catch(ke){Z(ke)}finally{P.T=te}},Yt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Yt.use=function(j){return P.H.use(j)},Yt.useActionState=function(j,te,ae){return P.H.useActionState(j,te,ae)},Yt.useCallback=function(j,te){return P.H.useCallback(j,te)},Yt.useContext=function(j){return P.H.useContext(j)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(j,te){return P.H.useDeferredValue(j,te)},Yt.useEffect=function(j,te){return P.H.useEffect(j,te)},Yt.useId=function(){return P.H.useId()},Yt.useImperativeHandle=function(j,te,ae){return P.H.useImperativeHandle(j,te,ae)},Yt.useInsertionEffect=function(j,te){return P.H.useInsertionEffect(j,te)},Yt.useLayoutEffect=function(j,te){return P.H.useLayoutEffect(j,te)},Yt.useMemo=function(j,te){return P.H.useMemo(j,te)},Yt.useOptimistic=function(j,te){return P.H.useOptimistic(j,te)},Yt.useReducer=function(j,te,ae){return P.H.useReducer(j,te,ae)},Yt.useRef=function(j){return P.H.useRef(j)},Yt.useState=function(j){return P.H.useState(j)},Yt.useSyncExternalStore=function(j,te,ae){return P.H.useSyncExternalStore(j,te,ae)},Yt.useTransition=function(){return P.H.useTransition()},Yt.version="19.0.0",Yt}var W5;function q2(){return W5||(W5=1,jP.exports=bre()),jP.exports}var IP={exports:{}},bs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K5;function vre(){if(K5)return bs;K5=1;var t=q2();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(l,c,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:h==null?null:""+h,children:l,containerInfo:c,implementation:d}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return bs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,bs.createPortal=function(l,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return s(l,c,null,d)},bs.flushSync=function(l){var c=o.T,d=i.p;try{if(o.T=null,i.p=2,l)return l()}finally{o.T=c,i.p=d,i.d.f()}},bs.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,i.d.C(l,c))},bs.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},bs.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var d=c.as,h=a(d,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,m=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?i.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:p,fetchPriority:m}):d==="script"&&i.d.X(l,{crossOrigin:h,integrity:p,fetchPriority:m,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},bs.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=a(c.as,c.crossOrigin);i.d.M(l,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&i.d.M(l)},bs.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,h=a(d,c.crossOrigin);i.d.L(l,d,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},bs.preloadModule=function(l,c){if(typeof l=="string")if(c){var d=a(c.as,c.crossOrigin);i.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else i.d.m(l)},bs.requestFormReset=function(l){i.d.r(l)},bs.unstable_batchedUpdates=function(l,c){return l(c)},bs.useFormState=function(l,c,d){return o.H.useFormState(l,c,d)},bs.useFormStatus=function(){return o.H.useHostTransitionStatus()},bs.version="19.0.0",bs}var Y5;function j9(){if(Y5)return IP.exports;Y5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),IP.exports=vre(),IP.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X5;function xre(){if(X5)return wS;X5=1;var t=yre(),e=q2(),n=j9();function i(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}var s=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),N=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function O(u){return u===null||typeof u!="object"?null:(u=P&&u[P]||u["@@iterator"],typeof u=="function"?u:null)}var $=Symbol.for("react.client.reference");function F(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===$?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case l:return"Fragment";case a:return"Portal";case d:return"Profiler";case c:return"StrictMode";case S:return"Suspense";case A:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case m:return(u.displayName||"Context")+".Provider";case p:return(u._context.displayName||"Context")+".Consumer";case v:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case E:return f=u.displayName||null,f!==null?f:F(u.type)||"Memo";case M:f=u._payload,u=u._init;try{return F(u(f))}catch{}}return null}var q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=Object.assign,X,Q;function J(u){if(X===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);X=f&&f[1]||"",Q=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+X+u+Q}var oe=!1;function ce(u,f){if(!u||oe)return"";oe=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(f){var Ie=function(){throw Error()};if(Object.defineProperty(Ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ie,[])}catch(_e){var xe=_e}Reflect.construct(u,[],Ie)}else{try{Ie.call()}catch(_e){xe=_e}u.call(Ie.prototype)}}else{try{throw Error()}catch(_e){xe=_e}(Ie=u())&&typeof Ie.catch=="function"&&Ie.catch(function(){})}}catch(_e){if(_e&&xe&&typeof _e.stack=="string")return[_e.stack,xe.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=w.DetermineComponentFrameRoot(),I=D[0],K=D[1];if(I&&K){var ne=I.split(`
`),he=K.split(`
`);for(T=w=0;w<ne.length&&!ne[w].includes("DetermineComponentFrameRoot");)w++;for(;T<he.length&&!he[T].includes("DetermineComponentFrameRoot");)T++;if(w===ne.length||T===he.length)for(w=ne.length-1,T=he.length-1;1<=w&&0<=T&&ne[w]!==he[T];)T--;for(;1<=w&&0<=T;w--,T--)if(ne[w]!==he[T]){if(w!==1||T!==1)do if(w--,T--,0>T||ne[w]!==he[T]){var Me=`
`+ne[w].replace(" at new "," at ");return u.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",u.displayName)),Me}while(1<=w&&0<=T);break}}}finally{oe=!1,Error.prepareStackTrace=g}return(g=u?u.displayName||u.name:"")?J(g):""}function le(u){switch(u.tag){case 26:case 27:case 5:return J(u.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return u=ce(u.type,!1),u;case 11:return u=ce(u.type.render,!1),u;case 1:return u=ce(u.type,!0),u;default:return""}}function ee(u){try{var f="";do f+=le(u),u=u.return;while(u);return f}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function Z(u){var f=u,g=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(g=f.return),u=f.return;while(u)}return f.tag===3?g:null}function se(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function j(u){if(Z(u)!==u)throw Error(i(188))}function te(u){var f=u.alternate;if(!f){if(f=Z(u),f===null)throw Error(i(188));return f!==u?null:u}for(var g=u,w=f;;){var T=g.return;if(T===null)break;var D=T.alternate;if(D===null){if(w=T.return,w!==null){g=w;continue}break}if(T.child===D.child){for(D=T.child;D;){if(D===g)return j(T),u;if(D===w)return j(T),f;D=D.sibling}throw Error(i(188))}if(g.return!==w.return)g=T,w=D;else{for(var I=!1,K=T.child;K;){if(K===g){I=!0,g=T,w=D;break}if(K===w){I=!0,w=T,g=D;break}K=K.sibling}if(!I){for(K=D.child;K;){if(K===g){I=!0,g=D,w=T;break}if(K===w){I=!0,w=D,g=T;break}K=K.sibling}if(!I)throw Error(i(189))}}if(g.alternate!==w)throw Error(i(190))}if(g.tag!==3)throw Error(i(188));return g.stateNode.current===g?u:f}function ae(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=ae(u),f!==null)return f;u=u.sibling}return null}var U=Array.isArray,ve=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke={pending:!1,data:null,method:null,action:null},Ce=[],je=-1;function Ue(u){return{current:u}}function Ye(u){0>je||(u.current=Ce[je],Ce[je]=null,je--)}function Ge(u,f){je++,Ce[je]=u.current,u.current=f}var ft=Ue(null),mt=Ue(null),xt=Ue(null),Gt=Ue(null);function Mn(u,f){switch(Ge(xt,f),Ge(mt,u),Ge(ft,null),u=f.nodeType,u){case 9:case 11:f=(f=f.documentElement)&&(f=f.namespaceURI)?x_(f):0;break;default:if(u=u===8?f.parentNode:f,f=u.tagName,u=u.namespaceURI)u=x_(u),f=w_(u,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}Ye(ft),Ge(ft,f)}function Vn(){Ye(ft),Ye(mt),Ye(xt)}function Wt(u){u.memoizedState!==null&&Ge(Gt,u);var f=ft.current,g=w_(f,u.type);f!==g&&(Ge(mt,u),Ge(ft,g))}function mi(u){mt.current===u&&(Ye(ft),Ye(mt)),Gt.current===u&&(Ye(Gt),ng._currentValue=ke)}var ii=Object.prototype.hasOwnProperty,Bt=t.unstable_scheduleCallback,Hn=t.unstable_cancelCallback,ie=t.unstable_shouldYield,$e=t.unstable_requestPaint,Ee=t.unstable_now,Xe=t.unstable_getCurrentPriorityLevel,be=t.unstable_ImmediatePriority,Ne=t.unstable_UserBlockingPriority,de=t.unstable_NormalPriority,Ke=t.unstable_LowPriority,rt=t.unstable_IdlePriority,sn=t.log,rr=t.unstable_setDisableYieldValue,ri=null,Rn=null;function Tr(u){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(ri,u,void 0,(u.current.flags&128)===128)}catch{}}function An(u){if(typeof sn=="function"&&rr(u),Rn&&typeof Rn.setStrictMode=="function")try{Rn.setStrictMode(ri,u)}catch{}}var Dn=Math.clz32?Math.clz32:g0,sr=Math.log,zf=Math.LN2;function g0(u){return u>>>=0,u===0?32:31-(sr(u)/zf|0)|0}var ze=128,fn=4194304;function Si(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function Ll(u,f){var g=u.pendingLanes;if(g===0)return 0;var w=0,T=u.suspendedLanes,D=u.pingedLanes,I=u.warmLanes;u=u.finishedLanes!==0;var K=g&134217727;return K!==0?(g=K&~T,g!==0?w=Si(g):(D&=K,D!==0?w=Si(D):u||(I=K&~I,I!==0&&(w=Si(I))))):(K=g&~T,K!==0?w=Si(K):D!==0?w=Si(D):u||(I=g&~I,I!==0&&(w=Si(I)))),w===0?0:f!==0&&f!==w&&(f&T)===0&&(T=w&-w,I=f&-f,T>=I||T===32&&(I&4194176)!==0)?f:w}function rd(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function bN(u,f){switch(u){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v1(){var u=ze;return ze<<=1,(ze&4194176)===0&&(ze=128),u}function _T(){var u=fn;return fn<<=1,(fn&62914560)===0&&(fn=4194304),u}function x1(u){for(var f=[],g=0;31>g;g++)f.push(u);return f}function rm(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function w1(u,f,g,w,T,D){var I=u.pendingLanes;u.pendingLanes=g,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=g,u.entangledLanes&=g,u.errorRecoveryDisabledLanes&=g,u.shellSuspendCounter=0;var K=u.entanglements,ne=u.expirationTimes,he=u.hiddenUpdates;for(g=I&~g;0<g;){var Me=31-Dn(g),Ie=1<<Me;K[Me]=0,ne[Me]=-1;var xe=he[Me];if(xe!==null)for(he[Me]=null,Me=0;Me<xe.length;Me++){var _e=xe[Me];_e!==null&&(_e.lane&=-536870913)}g&=~Ie}w!==0&&MT(u,w,0),D!==0&&T===0&&u.tag!==0&&(u.suspendedLanes|=D&~(I&~f))}function MT(u,f,g){u.pendingLanes|=f,u.suspendedLanes&=~f;var w=31-Dn(f);u.entangledLanes|=f,u.entanglements[w]=u.entanglements[w]|1073741824|g&4194218}function y0(u,f){var g=u.entangledLanes|=f;for(u=u.entanglements;g;){var w=31-Dn(g),T=1<<w;T&f|u[w]&f&&(u[w]|=f),g&=~T}}function RT(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function DT(){var u=ve.p;return u!==0?u:(u=window.event,u===void 0?32:P_(u.type))}function vN(u,f){var g=ve.p;try{return ve.p=u,f()}finally{ve.p=g}}var Vc=Math.random().toString(36).slice(2),kr="__reactFiber$"+Vc,ds="__reactProps$"+Vc,Bf="__reactContainer$"+Vc,S1="__reactEvents$"+Vc,NT="__reactListeners$"+Vc,xN="__reactHandles$"+Vc,PT="__reactResources$"+Vc,sm="__reactMarker$"+Vc;function C1(u){delete u[kr],delete u[ds],delete u[S1],delete u[NT],delete u[xN]}function sd(u){var f=u[kr];if(f)return f;for(var g=u.parentNode;g;){if(f=g[Bf]||g[kr]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(u=C_(u);u!==null;){if(g=u[kr])return g;u=C_(u)}return f}u=g,g=u.parentNode}return null}function Vf(u){if(u=u[kr]||u[Bf]){var f=u.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return u}return null}function Hc(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u.stateNode;throw Error(i(33))}function Hf(u){var f=u[PT];return f||(f=u[PT]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Mi(u){u[sm]=!0}var OT=new Set,LT={};function od(u,f){ad(u,f),ad(u+"Capture",f)}function ad(u,f){for(LT[u]=f,u=0;u<f.length;u++)OT.add(f[u])}var Ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),IT={},FT={};function wN(u){return ii.call(FT,u)?!0:ii.call(IT,u)?!1:jT.test(u)?FT[u]=!0:(IT[u]=!0,!1)}function b0(u,f,g){if(wN(f))if(g===null)u.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":u.removeAttribute(f);return;case"boolean":var w=f.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){u.removeAttribute(f);return}}u.setAttribute(f,""+g)}}function om(u,f,g){if(g===null)u.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(f);return}u.setAttribute(f,""+g)}}function Fa(u,f,g,w){if(w===null)u.removeAttribute(g);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(g);return}u.setAttributeNS(f,g,""+w)}}function zs(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function v0(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function SN(u){var f=v0(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),w=""+u[f];if(!u.hasOwnProperty(f)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var T=g.get,D=g.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return T.call(this)},set:function(I){w=""+I,D.call(this,I)}}),Object.defineProperty(u,f,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(I){w=""+I},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function am(u){u._valueTracker||(u._valueTracker=SN(u))}function lm(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var g=f.getValue(),w="";return u&&(w=v0(u)?u.checked?"true":"false":u.value),u=w,u!==g?(f.setValue(u),!0):!1}function cm(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var CN=/[\n"\\]/g;function Bs(u){return u.replace(CN,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function x0(u,f,g,w,T,D,I,K){u.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?u.type=I:u.removeAttribute("type"),f!=null?I==="number"?(f===0&&u.value===""||u.value!=f)&&(u.value=""+zs(f)):u.value!==""+zs(f)&&(u.value=""+zs(f)):I!=="submit"&&I!=="reset"||u.removeAttribute("value"),f!=null?A1(u,I,zs(f)):g!=null?A1(u,I,zs(g)):w!=null&&u.removeAttribute("value"),T==null&&D!=null&&(u.defaultChecked=!!D),T!=null&&(u.checked=T&&typeof T!="function"&&typeof T!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?u.name=""+zs(K):u.removeAttribute("name")}function w0(u,f,g,w,T,D,I,K){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(u.type=D),f!=null||g!=null){if(!(D!=="submit"&&D!=="reset"||f!=null))return;g=g!=null?""+zs(g):"",f=f!=null?""+zs(f):g,K||f===u.value||(u.value=f),u.defaultValue=f}w=w??T,w=typeof w!="function"&&typeof w!="symbol"&&!!w,u.checked=K?u.checked:!!w,u.defaultChecked=!!w,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(u.name=I)}function A1(u,f,g){f==="number"&&cm(u.ownerDocument)===u||u.defaultValue===""+g||(u.defaultValue=""+g)}function ld(u,f,g,w){if(u=u.options,f){f={};for(var T=0;T<g.length;T++)f["$"+g[T]]=!0;for(g=0;g<u.length;g++)T=f.hasOwnProperty("$"+u[g].value),u[g].selected!==T&&(u[g].selected=T),T&&w&&(u[g].defaultSelected=!0)}else{for(g=""+zs(g),f=null,T=0;T<u.length;T++){if(u[T].value===g){u[T].selected=!0,w&&(u[T].defaultSelected=!0);return}f!==null||u[T].disabled||(f=u[T])}f!==null&&(f.selected=!0)}}function S0(u,f,g){if(f!=null&&(f=""+zs(f),f!==u.value&&(u.value=f),g==null)){u.defaultValue!==f&&(u.defaultValue=f);return}u.defaultValue=g!=null?""+zs(g):""}function C0(u,f,g,w){if(f==null){if(w!=null){if(g!=null)throw Error(i(92));if(U(w)){if(1<w.length)throw Error(i(93));w=w[0]}g=w}g==null&&(g=""),f=g}g=zs(f),u.defaultValue=g,w=u.textContent,w===g&&w!==""&&w!==null&&(u.value=w)}function Ko(u,f){if(f){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=f;return}}u.textContent=f}var $T=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function E1(u,f,g){var w=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?w?u.setProperty(f,""):f==="float"?u.cssFloat="":u[f]="":w?u.setProperty(f,g):typeof g!="number"||g===0||$T.has(f)?f==="float"?u.cssFloat=g:u[f]=(""+g).trim():u[f]=g+"px"}function zT(u,f,g){if(f!=null&&typeof f!="object")throw Error(i(62));if(u=u.style,g!=null){for(var w in g)!g.hasOwnProperty(w)||f!=null&&f.hasOwnProperty(w)||(w.indexOf("--")===0?u.setProperty(w,""):w==="float"?u.cssFloat="":u[w]="");for(var T in f)w=f[T],f.hasOwnProperty(T)&&g[T]!==w&&E1(u,T,w)}else for(var D in f)f.hasOwnProperty(D)&&E1(u,D,f[D])}function A0(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),VT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function um(u){return VT.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var T1=null;function k1(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Uf=null,cd=null;function HT(u){var f=Vf(u);if(f&&(u=f.stateNode)){var g=u[ds]||null;e:switch(u=f.stateNode,f.type){case"input":if(x0(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Bs(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var w=g[f];if(w!==u&&w.form===u.form){var T=w[ds]||null;if(!T)throw Error(i(90));x0(w,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(f=0;f<g.length;f++)w=g[f],w.form===u.form&&lm(w)}break e;case"textarea":S0(u,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&ld(u,!!g.multiple,f,!1)}}}var _1=!1;function UT(u,f,g){if(_1)return u(f,g);_1=!0;try{var w=u(f);return w}finally{if(_1=!1,(Uf!==null||cd!==null)&&(gb(),Uf&&(f=Uf,u=cd,cd=Uf=null,HT(f),u)))for(f=0;f<u.length;f++)HT(u[f])}}function dm(u,f){var g=u.stateNode;if(g===null)return null;var w=g[ds]||null;if(w===null)return null;g=w[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(u=u.type,w=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!w;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(i(231,f,typeof g));return g}var fm=!1;if(Ia)try{var hm={};Object.defineProperty(hm,"passive",{get:function(){fm=!0}}),window.addEventListener("test",hm,hm),window.removeEventListener("test",hm,hm)}catch{fm=!1}var Uc=null,M1=null,E0=null;function qT(){if(E0)return E0;var u,f=M1,g=f.length,w,T="value"in Uc?Uc.value:Uc.textContent,D=T.length;for(u=0;u<g&&f[u]===T[u];u++);var I=g-u;for(w=1;w<=I&&f[g-w]===T[D-w];w++);return E0=T.slice(u,1<w?1-w:void 0)}function jn(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function Nn(){return!0}function GT(){return!1}function fs(u){function f(g,w,T,D,I){this._reactName=g,this._targetInst=T,this.type=w,this.nativeEvent=D,this.target=I,this.currentTarget=null;for(var K in u)u.hasOwnProperty(K)&&(g=u[K],this[K]=g?g(D):D[K]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Nn:GT,this.isPropagationStopped=GT,this}return B(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Nn)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Nn)},persist:function(){},isPersistent:Nn}),f}var ud={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T0=fs(ud),pm=B({},ud,{view:0,detail:0}),AN=fs(pm),k0,R1,Ri,qf=B({},pm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$a,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Ri&&(Ri&&u.type==="mousemove"?(k0=u.screenX-Ri.screenX,R1=u.screenY-Ri.screenY):R1=k0=0,Ri=u),k0)},movementY:function(u){return"movementY"in u?u.movementY:R1}}),qc=fs(qf),WT=B({},qf,{dataTransfer:0}),D1=fs(WT),So=B({},pm,{relatedTarget:0}),_0=fs(So),KT=B({},ud,{animationName:0,elapsedTime:0,pseudoElement:0}),YT=fs(KT),XT=B({},ud,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),JT=fs(XT),ZT=B({},ud,{data:0}),hs=fs(ZT),EN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Co={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QT(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=TN[u])?!!f[u]:!1}function $a(){return QT}var M0=B({},pm,{key:function(u){if(u.key){var f=EN[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=jn(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Co[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$a,charCode:function(u){return u.type==="keypress"?jn(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?jn(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),N1=fs(M0),si=B({},qf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jl=fs(si),P1=B({},pm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$a}),kN=fs(P1),O1=B({},ud,{propertyName:0,elapsedTime:0,pseudoElement:0}),_N=fs(O1),MN=B({},qf,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),RN=fs(MN),ek=B({},ud,{newState:0,oldState:0}),R0=fs(ek),Gf=[9,13,27,32],L1=Ia&&"CompositionEvent"in window,Wf=null;Ia&&"documentMode"in document&&(Wf=document.documentMode);var tk=Ia&&"TextEvent"in window&&!Wf,D0=Ia&&(!L1||Wf&&8<Wf&&11>=Wf),N0=" ",j1=!1;function nk(u,f){switch(u){case"keyup":return Gf.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P0(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Gc=!1;function DN(u,f){switch(u){case"compositionend":return P0(f);case"keypress":return f.which!==32?null:(j1=!0,N0);case"textInput":return u=f.data,u===N0&&j1?null:u;default:return null}}function ik(u,f){if(Gc)return u==="compositionend"||!L1&&nk(u,f)?(u=qT(),E0=M1=Uc=null,Gc=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return D0&&f.locale!=="ko"?null:f.data;default:return null}}var Vs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O0(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!Vs[u.type]:f==="textarea"}function Kf(u,f,g,w){Uf?cd?cd.push(w):cd=[w]:Uf=w,f=xb(f,"onChange"),0<f.length&&(g=new T0("onChange","change",null,g,w),u.push({event:g,listeners:f}))}var Yf=null,Xf=null;function NN(u){b_(u,0)}function L0(u){var f=Hc(u);if(lm(f))return u}function rk(u,f){if(u==="change")return f}var sk=!1;if(Ia){var I1;if(Ia){var Wc="oninput"in document;if(!Wc){var ok=document.createElement("div");ok.setAttribute("oninput","return;"),Wc=typeof ok.oninput=="function"}I1=Wc}else I1=!1;sk=I1&&(!document.documentMode||9<document.documentMode)}function ak(){Yf&&(Yf.detachEvent("onpropertychange",j0),Xf=Yf=null)}function j0(u){if(u.propertyName==="value"&&L0(Xf)){var f=[];Kf(f,Xf,u,k1(u)),UT(NN,f)}}function lk(u,f,g){u==="focusin"?(ak(),Yf=f,Xf=g,Yf.attachEvent("onpropertychange",j0)):u==="focusout"&&ak()}function Kc(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return L0(Xf)}function I0(u,f){if(u==="click")return L0(f)}function PN(u,f){if(u==="input"||u==="change")return L0(f)}function ON(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var Hs=typeof Object.is=="function"?Object.is:ON;function za(u,f){if(Hs(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var g=Object.keys(u),w=Object.keys(f);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var T=g[w];if(!ii.call(f,T)||!Hs(u[T],f[T]))return!1}return!0}function Ao(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function F1(u,f){var g=Ao(u);u=0;for(var w;g;){if(g.nodeType===3){if(w=u+g.textContent.length,u<=f&&w>=f)return{node:g,offset:f-u};u=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Ao(g)}}function ck(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?ck(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function uk(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var f=cm(u.document);f instanceof u.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)u=f.contentWindow;else break;f=cm(u.document)}return f}function $1(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}function LN(u,f){var g=uk(f);f=u.focusedElem;var w=u.selectionRange;if(g!==f&&f&&f.ownerDocument&&ck(f.ownerDocument.documentElement,f)){if(w!==null&&$1(f)){if(u=w.start,g=w.end,g===void 0&&(g=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(g,f.value.length);else if(g=(u=f.ownerDocument||document)&&u.defaultView||window,g.getSelection){g=g.getSelection();var T=f.textContent.length,D=Math.min(w.start,T);w=w.end===void 0?D:Math.min(w.end,T),!g.extend&&D>w&&(T=w,w=D,D=T),T=F1(f,D);var I=F1(f,w);T&&I&&(g.rangeCount!==1||g.anchorNode!==T.node||g.anchorOffset!==T.offset||g.focusNode!==I.node||g.focusOffset!==I.offset)&&(u=u.createRange(),u.setStart(T.node,T.offset),g.removeAllRanges(),D>w?(g.addRange(u),g.extend(I.node,I.offset)):(u.setEnd(I.node,I.offset),g.addRange(u)))}}for(u=[],g=f;g=g.parentNode;)g.nodeType===1&&u.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)g=u[f],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var jN=Ia&&"documentMode"in document&&11>=document.documentMode,Yo=null,pe=null,Te=null,we=!1;function et(u,f,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;we||Yo==null||Yo!==cm(w)||(w=Yo,"selectionStart"in w&&$1(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Te&&za(Te,w)||(Te=w,w=xb(pe,"onSelect"),0<w.length&&(f=new T0("onSelect","select",null,f,g),u.push({event:f,listeners:w}),f.target=Yo)))}function gt(u,f){var g={};return g[u.toLowerCase()]=f.toLowerCase(),g["Webkit"+u]="webkit"+f,g["Moz"+u]="moz"+f,g}var on={animationend:gt("Animation","AnimationEnd"),animationiteration:gt("Animation","AnimationIteration"),animationstart:gt("Animation","AnimationStart"),transitionrun:gt("Transition","TransitionRun"),transitionstart:gt("Transition","TransitionStart"),transitioncancel:gt("Transition","TransitionCancel"),transitionend:gt("Transition","TransitionEnd")},Di={},In={};Ia&&(In=document.createElement("div").style,"AnimationEvent"in window||(delete on.animationend.animation,delete on.animationiteration.animation,delete on.animationstart.animation),"TransitionEvent"in window||delete on.transitionend.transition);function Il(u){if(Di[u])return Di[u];if(!on[u])return u;var f=on[u],g;for(g in f)if(f.hasOwnProperty(g)&&g in In)return Di[u]=f[g];return u}var dk=Il("animationend"),Us=Il("animationiteration"),mm=Il("animationstart"),IN=Il("transitionrun"),Jf=Il("transitionstart"),F0=Il("transitioncancel"),gm=Il("transitionend"),Tn=new Map,fk="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Eo(u,f){Tn.set(u,f),od(f,[u])}var Ur=[],Zf=0,z1=0;function $0(){for(var u=Zf,f=z1=Zf=0;f<u;){var g=Ur[f];Ur[f++]=null;var w=Ur[f];Ur[f++]=null;var T=Ur[f];Ur[f++]=null;var D=Ur[f];if(Ur[f++]=null,w!==null&&T!==null){var I=w.pending;I===null?T.next=T:(T.next=I.next,I.next=T),w.pending=T}D!==0&&B1(g,T,D)}}function dd(u,f,g,w){Ur[Zf++]=u,Ur[Zf++]=f,Ur[Zf++]=g,Ur[Zf++]=w,z1|=w,u.lanes|=w,u=u.alternate,u!==null&&(u.lanes|=w)}function Ba(u,f,g,w){return dd(u,f,g,w),fd(u)}function Xo(u,f){return dd(u,null,null,f),fd(u)}function B1(u,f,g){u.lanes|=g;var w=u.alternate;w!==null&&(w.lanes|=g);for(var T=!1,D=u.return;D!==null;)D.childLanes|=g,w=D.alternate,w!==null&&(w.childLanes|=g),D.tag===22&&(u=D.stateNode,u===null||u._visibility&1||(T=!0)),u=D,D=D.return;T&&f!==null&&u.tag===3&&(D=u.stateNode,T=31-Dn(g),D=D.hiddenUpdates,u=D[T],u===null?D[T]=[f]:u.push(f),f.lane=g|536870912)}function fd(u){if(50<Km)throw Km=0,zw=null,Error(i(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}var hd={},V1=new WeakMap;function qr(u,f){if(typeof u=="object"&&u!==null){var g=V1.get(u);return g!==void 0?g:(f={value:u,source:f,stack:ee(f)},V1.set(u,f),f)}return{value:u,source:f,stack:ee(f)}}var pd=[],Va=0,Ha=null,md=0,To=[],ko=0,gd=null,_o=1,Mo="";function Fl(u,f){pd[Va++]=md,pd[Va++]=Ha,Ha=u,md=f}function hk(u,f,g){To[ko++]=_o,To[ko++]=Mo,To[ko++]=gd,gd=u;var w=_o;u=Mo;var T=32-Dn(w)-1;w&=~(1<<T),g+=1;var D=32-Dn(f)+T;if(30<D){var I=T-T%5;D=(w&(1<<I)-1).toString(32),w>>=I,T-=I,_o=1<<32-Dn(f)+T|g<<T|w,Mo=D+u}else _o=1<<D|g<<T|w,Mo=u}function z0(u){u.return!==null&&(Fl(u,1),hk(u,1,0))}function H1(u){for(;u===Ha;)Ha=pd[--Va],pd[Va]=null,md=pd[--Va],pd[Va]=null;for(;u===gd;)gd=To[--ko],To[ko]=null,Mo=To[--ko],To[ko]=null,_o=To[--ko],To[ko]=null}var Gr=null,ln=null,Et=!1,Jo=null,Ua=!1,B0=Error(i(519));function yd(u){var f=Error(i(418,""));throw $l(qr(f,u)),B0}function V0(u){var f=u.stateNode,g=u.type,w=u.memoizedProps;switch(f[kr]=u,f[ds]=w,g){case"dialog":cn("cancel",f),cn("close",f);break;case"iframe":case"object":case"embed":cn("load",f);break;case"video":case"audio":for(g=0;g<Jm.length;g++)cn(Jm[g],f);break;case"source":cn("error",f);break;case"img":case"image":case"link":cn("error",f),cn("load",f);break;case"details":cn("toggle",f);break;case"input":cn("invalid",f),w0(f,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),am(f);break;case"select":cn("invalid",f);break;case"textarea":cn("invalid",f),C0(f,w.value,w.defaultValue,w.children),am(f)}g=w.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||w.suppressHydrationWarning===!0||_t(f.textContent,g)?(w.popover!=null&&(cn("beforetoggle",f),cn("toggle",f)),w.onScroll!=null&&cn("scroll",f),w.onScrollEnd!=null&&cn("scrollend",f),w.onClick!=null&&(f.onclick=wb),f=!0):f=!1,f||yd(u)}function Qf(u){for(Gr=u.return;Gr;)switch(Gr.tag){case 3:case 27:Ua=!0;return;case 5:case 13:Ua=!1;return;default:Gr=Gr.return}}function bd(u){if(u!==Gr)return!1;if(!Et)return Qf(u),Et=!0,!1;var f=!1,g;if((g=u.tag!==3&&u.tag!==27)&&((g=u.tag===5)&&(g=u.type,g=!(g!=="form"&&g!=="button")||Qm(u.type,u.memoizedProps)),g=!g),g&&(f=!0),f&&ln&&yd(u),Qf(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8)if(g=u.data,g==="/$"){if(f===0){ln=la(u.nextSibling);break e}f--}else g!=="$"&&g!=="$!"&&g!=="$?"||f++;u=u.nextSibling}ln=null}}else ln=Gr?la(u.stateNode.nextSibling):null;return!0}function qa(){ln=Gr=null,Et=!1}function $l(u){Jo===null?Jo=[u]:Jo.push(u)}var zl=Error(i(460)),ym=Error(i(474)),Yc={then:function(){}};function pk(u){return u=u.status,u==="fulfilled"||u==="rejected"}function H0(){}function mk(u,f,g){switch(g=u[g],g===void 0?u.push(f):g!==f&&(f.then(H0,H0),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===zl?Error(i(483)):u;default:if(typeof f.status=="string")f.then(H0,H0);else{if(u=Fn,u!==null&&100<u.shellSuspendCounter)throw Error(i(482));u=f,u.status="pending",u.then(function(w){if(f.status==="pending"){var T=f;T.status="fulfilled",T.value=w}},function(w){if(f.status==="pending"){var T=f;T.status="rejected",T.reason=w}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===zl?Error(i(483)):u}throw bm=f,zl}}var bm=null;function gk(){if(bm===null)throw Error(i(459));var u=bm;return bm=null,u}var Bl=null,Vl=0;function vm(u){var f=Vl;return Vl+=1,Bl===null&&(Bl=[]),mk(Bl,u,f)}function G(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function Hl(u,f){throw f.$$typeof===s?Error(i(525)):(u=Object.prototype.toString.call(f),Error(i(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function xm(u){var f=u._init;return f(u._payload)}function qs(u){function f(ge,fe){if(u){var ye=ge.deletions;ye===null?(ge.deletions=[fe],ge.flags|=16):ye.push(fe)}}function g(ge,fe){if(!u)return null;for(;fe!==null;)f(ge,fe),fe=fe.sibling;return null}function w(ge){for(var fe=new Map;ge!==null;)ge.key!==null?fe.set(ge.key,ge):fe.set(ge.index,ge),ge=ge.sibling;return fe}function T(ge,fe){return ge=du(ge,fe),ge.index=0,ge.sibling=null,ge}function D(ge,fe,ye){return ge.index=ye,u?(ye=ge.alternate,ye!==null?(ye=ye.index,ye<fe?(ge.flags|=33554434,fe):ye):(ge.flags|=33554434,fe)):(ge.flags|=1048576,fe)}function I(ge){return u&&ge.alternate===null&&(ge.flags|=33554434),ge}function K(ge,fe,ye,Pe){return fe===null||fe.tag!==6?(fe=Nw(ye,ge.mode,Pe),fe.return=ge,fe):(fe=T(fe,ye),fe.return=ge,fe)}function ne(ge,fe,ye,Pe){var nt=ye.type;return nt===l?Me(ge,fe,ye.props.children,Pe,ye.key):fe!==null&&(fe.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===M&&xm(nt)===fe.type)?(fe=T(fe,ye.props),G(fe,ye),fe.return=ge,fe):(fe=Hm(ye.type,ye.key,ye.props,null,ge.mode,Pe),G(fe,ye),fe.return=ge,fe)}function he(ge,fe,ye,Pe){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==ye.containerInfo||fe.stateNode.implementation!==ye.implementation?(fe=Pw(ye,ge.mode,Pe),fe.return=ge,fe):(fe=T(fe,ye.children||[]),fe.return=ge,fe)}function Me(ge,fe,ye,Pe,nt){return fe===null||fe.tag!==7?(fe=Td(ye,ge.mode,Pe,nt),fe.return=ge,fe):(fe=T(fe,ye),fe.return=ge,fe)}function Ie(ge,fe,ye){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=Nw(""+fe,ge.mode,ye),fe.return=ge,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case o:return ye=Hm(fe.type,fe.key,fe.props,null,ge.mode,ye),G(ye,fe),ye.return=ge,ye;case a:return fe=Pw(fe,ge.mode,ye),fe.return=ge,fe;case M:var Pe=fe._init;return fe=Pe(fe._payload),Ie(ge,fe,ye)}if(U(fe)||O(fe))return fe=Td(fe,ge.mode,ye,null),fe.return=ge,fe;if(typeof fe.then=="function")return Ie(ge,vm(fe),ye);if(fe.$$typeof===m)return Ie(ge,cb(ge,fe),ye);Hl(ge,fe)}return null}function xe(ge,fe,ye,Pe){var nt=fe!==null?fe.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return nt!==null?null:K(ge,fe,""+ye,Pe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case o:return ye.key===nt?ne(ge,fe,ye,Pe):null;case a:return ye.key===nt?he(ge,fe,ye,Pe):null;case M:return nt=ye._init,ye=nt(ye._payload),xe(ge,fe,ye,Pe)}if(U(ye)||O(ye))return nt!==null?null:Me(ge,fe,ye,Pe,null);if(typeof ye.then=="function")return xe(ge,fe,vm(ye),Pe);if(ye.$$typeof===m)return xe(ge,fe,cb(ge,ye),Pe);Hl(ge,ye)}return null}function _e(ge,fe,ye,Pe,nt){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return ge=ge.get(ye)||null,K(fe,ge,""+Pe,nt);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case o:return ge=ge.get(Pe.key===null?ye:Pe.key)||null,ne(fe,ge,Pe,nt);case a:return ge=ge.get(Pe.key===null?ye:Pe.key)||null,he(fe,ge,Pe,nt);case M:var Zt=Pe._init;return Pe=Zt(Pe._payload),_e(ge,fe,ye,Pe,nt)}if(U(Pe)||O(Pe))return ge=ge.get(ye)||null,Me(fe,ge,Pe,nt,null);if(typeof Pe.then=="function")return _e(ge,fe,ye,vm(Pe),nt);if(Pe.$$typeof===m)return _e(ge,fe,ye,cb(fe,Pe),nt);Hl(fe,Pe)}return null}function st(ge,fe,ye,Pe){for(var nt=null,Zt=null,at=fe,yt=fe=0,En=null;at!==null&&yt<ye.length;yt++){at.index>yt?(En=at,at=null):En=at.sibling;var pn=xe(ge,at,ye[yt],Pe);if(pn===null){at===null&&(at=En);break}u&&at&&pn.alternate===null&&f(ge,at),fe=D(pn,fe,yt),Zt===null?nt=pn:Zt.sibling=pn,Zt=pn,at=En}if(yt===ye.length)return g(ge,at),Et&&Fl(ge,yt),nt;if(at===null){for(;yt<ye.length;yt++)at=Ie(ge,ye[yt],Pe),at!==null&&(fe=D(at,fe,yt),Zt===null?nt=at:Zt.sibling=at,Zt=at);return Et&&Fl(ge,yt),nt}for(at=w(at);yt<ye.length;yt++)En=_e(at,ge,yt,ye[yt],Pe),En!==null&&(u&&En.alternate!==null&&at.delete(En.key===null?yt:En.key),fe=D(En,fe,yt),Zt===null?nt=En:Zt.sibling=En,Zt=En);return u&&at.forEach(function(bu){return f(ge,bu)}),Et&&Fl(ge,yt),nt}function Tt(ge,fe,ye,Pe){if(ye==null)throw Error(i(151));for(var nt=null,Zt=null,at=fe,yt=fe=0,En=null,pn=ye.next();at!==null&&!pn.done;yt++,pn=ye.next()){at.index>yt?(En=at,at=null):En=at.sibling;var bu=xe(ge,at,pn.value,Pe);if(bu===null){at===null&&(at=En);break}u&&at&&bu.alternate===null&&f(ge,at),fe=D(bu,fe,yt),Zt===null?nt=bu:Zt.sibling=bu,Zt=bu,at=En}if(pn.done)return g(ge,at),Et&&Fl(ge,yt),nt;if(at===null){for(;!pn.done;yt++,pn=ye.next())pn=Ie(ge,pn.value,Pe),pn!==null&&(fe=D(pn,fe,yt),Zt===null?nt=pn:Zt.sibling=pn,Zt=pn);return Et&&Fl(ge,yt),nt}for(at=w(at);!pn.done;yt++,pn=ye.next())pn=_e(at,ge,yt,pn.value,Pe),pn!==null&&(u&&pn.alternate!==null&&at.delete(pn.key===null?yt:pn.key),fe=D(pn,fe,yt),Zt===null?nt=pn:Zt.sibling=pn,Zt=pn);return u&&at.forEach(function(TP){return f(ge,TP)}),Et&&Fl(ge,yt),nt}function vi(ge,fe,ye,Pe){if(typeof ye=="object"&&ye!==null&&ye.type===l&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case o:e:{for(var nt=ye.key;fe!==null;){if(fe.key===nt){if(nt=ye.type,nt===l){if(fe.tag===7){g(ge,fe.sibling),Pe=T(fe,ye.props.children),Pe.return=ge,ge=Pe;break e}}else if(fe.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===M&&xm(nt)===fe.type){g(ge,fe.sibling),Pe=T(fe,ye.props),G(Pe,ye),Pe.return=ge,ge=Pe;break e}g(ge,fe);break}else f(ge,fe);fe=fe.sibling}ye.type===l?(Pe=Td(ye.props.children,ge.mode,Pe,ye.key),Pe.return=ge,ge=Pe):(Pe=Hm(ye.type,ye.key,ye.props,null,ge.mode,Pe),G(Pe,ye),Pe.return=ge,ge=Pe)}return I(ge);case a:e:{for(nt=ye.key;fe!==null;){if(fe.key===nt)if(fe.tag===4&&fe.stateNode.containerInfo===ye.containerInfo&&fe.stateNode.implementation===ye.implementation){g(ge,fe.sibling),Pe=T(fe,ye.children||[]),Pe.return=ge,ge=Pe;break e}else{g(ge,fe);break}else f(ge,fe);fe=fe.sibling}Pe=Pw(ye,ge.mode,Pe),Pe.return=ge,ge=Pe}return I(ge);case M:return nt=ye._init,ye=nt(ye._payload),vi(ge,fe,ye,Pe)}if(U(ye))return st(ge,fe,ye,Pe);if(O(ye)){if(nt=O(ye),typeof nt!="function")throw Error(i(150));return ye=nt.call(ye),Tt(ge,fe,ye,Pe)}if(typeof ye.then=="function")return vi(ge,fe,vm(ye),Pe);if(ye.$$typeof===m)return vi(ge,fe,cb(ge,ye),Pe);Hl(ge,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,fe!==null&&fe.tag===6?(g(ge,fe.sibling),Pe=T(fe,ye),Pe.return=ge,ge=Pe):(g(ge,fe),Pe=Nw(ye,ge.mode,Pe),Pe.return=ge,ge=Pe),I(ge)):g(ge,fe)}return function(ge,fe,ye,Pe){try{Vl=0;var nt=vi(ge,fe,ye,Pe);return Bl=null,nt}catch(at){if(at===zl)throw at;var Zt=Zs(29,at,null,ge.mode);return Zt.lanes=Pe,Zt.return=ge,Zt}finally{}}}var Pt=qs(!0),yk=qs(!1),eh=Ue(null),U0=Ue(0);function Xc(u,f){u=ec,Ge(U0,u),Ge(eh,f),ec=u|f.baseLanes}function U1(){Ge(U0,ec),Ge(eh,eh.current)}function q1(){ec=U0.current,Ye(eh),Ye(U0)}var Ro=Ue(null),Ga=null;function Jc(u){var f=u.alternate;Ge(Yi,Yi.current&1),Ge(Ro,u),Ga===null&&(f===null||eh.current!==null||f.memoizedState!==null)&&(Ga=u)}function Wa(u){if(u.tag===22){if(Ge(Yi,Yi.current),Ge(Ro,u),Ga===null){var f=u.alternate;f!==null&&f.memoizedState!==null&&(Ga=u)}}else Zc()}function Zc(){Ge(Yi,Yi.current),Ge(Ro,Ro.current)}function Ul(u){Ye(Ro),Ga===u&&(Ga=null),Ye(Yi)}var Yi=Ue(0);function q0(u){for(var f=u;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var FN=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(g,w){u.push(w)}};this.abort=function(){f.aborted=!0,u.forEach(function(g){return g()})}},ql=t.unstable_scheduleCallback,$N=t.unstable_NormalPriority,Xi={$$typeof:m,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function G1(){return{controller:new FN,data:new Map,refCount:0}}function wm(u){u.refCount--,u.refCount===0&&ql($N,function(){u.controller.abort()})}var Sm=null,Gl=0,th=0,nh=null;function Zo(u,f){if(Sm===null){var g=Sm=[];Gl=0,th=Xw(),nh={status:"pending",value:void 0,then:function(w){g.push(w)}}}return Gl++,f.then(bk,bk),f}function bk(){if(--Gl===0&&Sm!==null){nh!==null&&(nh.status="fulfilled");var u=Sm;Sm=null,th=0,nh=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function zN(u,f){var g=[],w={status:"pending",value:null,reason:null,then:function(T){g.push(T)}};return u.then(function(){w.status="fulfilled",w.value=f;for(var T=0;T<g.length;T++)(0,g[T])(f)},function(T){for(w.status="rejected",w.reason=T,T=0;T<g.length;T++)(0,g[T])(void 0)}),w}var vk=q.S;q.S=function(u,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&Zo(u,f),vk!==null&&vk(u,f)};var vd=Ue(null);function W1(){var u=vd.current;return u!==null?u:Fn.pooledCache}function Cm(u,f){f===null?Ge(vd,vd.current):Ge(vd,f.pool)}function K1(){var u=W1();return u===null?null:{parent:Xi._currentValue,pool:u}}var Qc=0,Kt=null,kn=null,oi=null,xd=!1,ih=!1,eu=!1,G0=0,Gs=0,tu=null,wd=0;function xn(){throw Error(i(321))}function Y1(u,f){if(f===null)return!1;for(var g=0;g<f.length&&g<u.length;g++)if(!Hs(u[g],f[g]))return!1;return!0}function W0(u,f,g,w,T,D){return Qc=D,Kt=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,q.H=u===null||u.memoizedState===null?ms:Ka,eu=!1,D=g(w,T),eu=!1,ih&&(D=rh(f,g,w,T)),X1(u),D}function X1(u){q.H=Ci;var f=kn!==null&&kn.next!==null;if(Qc=0,oi=kn=Kt=null,xd=!1,Gs=0,tu=null,f)throw Error(i(300));u===null||Ji||(u=u.dependencies,u!==null&&lb(u)&&(Ji=!0))}function rh(u,f,g,w){Kt=u;var T=0;do{if(ih&&(tu=null),Gs=0,ih=!1,25<=T)throw Error(i(301));if(T+=1,oi=kn=null,u.updateQueue!=null){var D=u.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}q.H=ru,D=f(g,w)}while(ih);return D}function nu(){var u=q.H,f=u.useState()[0];return f=typeof f.then=="function"?Sd(f):f,u=u.useState()[0],(kn!==null?kn.memoizedState:null)!==u&&(Kt.flags|=1024),f}function K0(){var u=G0!==0;return G0=0,u}function J1(u,f,g){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~g}function sh(u){if(xd){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}xd=!1}Qc=0,oi=kn=Kt=null,ih=!1,Gs=G0=0,tu=null}function ps(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oi===null?Kt.memoizedState=oi=u:oi=oi.next=u,oi}function Ni(){if(kn===null){var u=Kt.alternate;u=u!==null?u.memoizedState:null}else u=kn.next;var f=oi===null?Kt.memoizedState:oi.next;if(f!==null)oi=f,kn=u;else{if(u===null)throw Kt.alternate===null?Error(i(467)):Error(i(310));kn=u,u={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},oi===null?Kt.memoizedState=oi=u:oi=oi.next=u}return oi}var Bi;Bi=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Sd(u){var f=Gs;return Gs+=1,tu===null&&(tu=[]),u=mk(tu,u,f),f=Kt,(oi===null?f.memoizedState:oi.next)===null&&(f=f.alternate,q.H=f===null||f.memoizedState===null?ms:Ka),u}function Am(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Sd(u);if(u.$$typeof===m)return Mr(u)}throw Error(i(438,String(u)))}function Do(u){var f=null,g=Kt.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var w=Kt.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(f={data:w.data.map(function(T){return T.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=Bi(),Kt.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(u),w=0;w<u;w++)g[w]=N;return f.index++,g}function Qo(u,f){return typeof f=="function"?f(u):f}function Cd(u){var f=Ni();return Wl(f,kn,u)}function Wl(u,f,g){var w=u.queue;if(w===null)throw Error(i(311));w.lastRenderedReducer=g;var T=u.baseQueue,D=w.pending;if(D!==null){if(T!==null){var I=T.next;T.next=D.next,D.next=I}f.baseQueue=T=D,w.pending=null}if(D=u.baseState,T===null)u.memoizedState=D;else{f=T.next;var K=I=null,ne=null,he=f,Me=!1;do{var Ie=he.lane&-536870913;if(Ie!==he.lane?(hn&Ie)===Ie:(Qc&Ie)===Ie){var xe=he.revertLane;if(xe===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Ie===th&&(Me=!0);else if((Qc&xe)===xe){he=he.next,xe===th&&(Me=!0);continue}else Ie={lane:0,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},ne===null?(K=ne=Ie,I=D):ne=ne.next=Ie,Kt.lanes|=xe,fu|=xe;Ie=he.action,eu&&g(D,Ie),D=he.hasEagerState?he.eagerState:g(D,Ie)}else xe={lane:Ie,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},ne===null?(K=ne=xe,I=D):ne=ne.next=xe,Kt.lanes|=Ie,fu|=Ie;he=he.next}while(he!==null&&he!==f);if(ne===null?I=D:ne.next=K,!Hs(D,u.memoizedState)&&(Ji=!0,Me&&(g=nh,g!==null)))throw g;u.memoizedState=D,u.baseState=I,u.baseQueue=ne,w.lastRenderedState=D}return T===null&&(w.lanes=0),[u.memoizedState,w.dispatch]}function Y0(u){var f=Ni(),g=f.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=u;var w=g.dispatch,T=g.pending,D=f.memoizedState;if(T!==null){g.pending=null;var I=T=T.next;do D=u(D,I.action),I=I.next;while(I!==T);Hs(D,f.memoizedState)||(Ji=!0),f.memoizedState=D,f.baseQueue===null&&(f.baseState=D),g.lastRenderedState=D}return[D,w]}function _r(u,f,g){var w=Kt,T=Ni(),D=Et;if(D){if(g===void 0)throw Error(i(407));g=g()}else g=f();var I=!Hs((kn||T).memoizedState,g);if(I&&(T.memoizedState=g,Ji=!0),T=T.queue,Q0(wk.bind(null,w,T,u),[u]),T.getSnapshot!==f||I||oi!==null&&oi.memoizedState.tag&1){if(w.flags|=2048,iu(9,xk.bind(null,w,T,g,f),{destroy:void 0},null),Fn===null)throw Error(i(349));D||(Qc&60)!==0||X0(w,f,g)}return g}function X0(u,f,g){u.flags|=16384,u={getSnapshot:f,value:g},f=Kt.updateQueue,f===null?(f=Bi(),Kt.updateQueue=f,f.stores=[u]):(g=f.stores,g===null?f.stores=[u]:g.push(u))}function xk(u,f,g,w){f.value=g,f.getSnapshot=w,Sk(f)&&J0(u)}function wk(u,f,g){return g(function(){Sk(f)&&J0(u)})}function Sk(u){var f=u.getSnapshot;u=u.value;try{var g=f();return!Hs(u,g)}catch{return!0}}function J0(u){var f=Xo(u,2);f!==null&&Dr(f,u,2)}function Z1(u){var f=ps();if(typeof u=="function"){var g=u;if(u=g(),eu){An(!0);try{g()}finally{An(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:u},f}function oh(u,f,g,w){return u.baseState=g,Wl(u,kn,typeof w=="function"?w:Qo)}function Ck(u,f,g,w,T){if(dh(u))throw Error(i(485));if(u=f.action,u!==null){var D={payload:T,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){D.listeners.push(I)}};q.T!==null?g(!0):D.isTransition=!1,w(D),g=f.pending,g===null?(D.next=f.pending=D,Ak(f,D)):(D.next=g.next,f.pending=g.next=D)}}function Ak(u,f){var g=f.action,w=f.payload,T=u.state;if(f.isTransition){var D=q.T,I={};q.T=I;try{var K=g(T,w),ne=q.S;ne!==null&&ne(I,K),Ek(u,f,K)}catch(he){Q1(u,f,he)}finally{q.T=D}}else try{D=g(T,w),Ek(u,f,D)}catch(he){Q1(u,f,he)}}function Ek(u,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(w){ah(u,f,w)},function(w){return Q1(u,f,w)}):ah(u,f,g)}function ah(u,f,g){f.status="fulfilled",f.value=g,Tk(f),u.state=g,f=u.pending,f!==null&&(g=f.next,g===f?u.pending=null:(g=g.next,f.next=g,Ak(u,g)))}function Q1(u,f,g){var w=u.pending;if(u.pending=null,w!==null){w=w.next;do f.status="rejected",f.reason=g,Tk(f),f=f.next;while(f!==w)}u.action=null}function Tk(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function Z0(u,f){return f}function ew(u,f){if(Et){var g=Fn.formState;if(g!==null){e:{var w=Kt;if(Et){if(ln){t:{for(var T=ln,D=Ua;T.nodeType!==8;){if(!D){T=null;break t}if(T=la(T.nextSibling),T===null){T=null;break t}}D=T.data,T=D==="F!"||D==="F"?T:null}if(T){ln=la(T.nextSibling),w=T.data==="F!";break e}}yd(w)}w=!1}w&&(f=g[0])}}return g=ps(),g.memoizedState=g.baseState=f,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Z0,lastRenderedState:f},g.queue=w,g=Ws.bind(null,Kt,w),w.dispatch=g,w=Z1(!1),D=uh.bind(null,Kt,!1,w.queue),w=ps(),T={state:f,dispatch:null,action:u,pending:null},w.queue=T,g=Ck.bind(null,Kt,T,D,g),T.dispatch=g,w.memoizedState=u,[f,g,!1]}function kk(u){var f=Ni();return _k(f,kn,u)}function _k(u,f,g){f=Wl(u,f,Z0)[0],u=Cd(Qo)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?Sd(f):f;var w=Ni(),T=w.queue,D=T.dispatch;return g!==w.memoizedState&&(Kt.flags|=2048,iu(9,BN.bind(null,T,g),{destroy:void 0},null)),[f,D,u]}function BN(u,f){u.action=f}function tw(u){var f=Ni(),g=kn;if(g!==null)return _k(f,g,u);Ni(),f=f.memoizedState,g=Ni();var w=g.queue.dispatch;return g.memoizedState=u,[f,w,!1]}function iu(u,f,g,w){return u={tag:u,create:f,inst:g,deps:w,next:null},f=Kt.updateQueue,f===null&&(f=Bi(),Kt.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=u.next=u:(w=g.next,g.next=u,u.next=w,f.lastEffect=u),u}function Mk(){return Ni().memoizedState}function lh(u,f,g,w){var T=ps();Kt.flags|=u,T.memoizedState=iu(1|f,g,{destroy:void 0},w===void 0?null:w)}function Em(u,f,g,w){var T=Ni();w=w===void 0?null:w;var D=T.memoizedState.inst;kn!==null&&w!==null&&Y1(w,kn.memoizedState.deps)?T.memoizedState=iu(f,g,D,w):(Kt.flags|=u,T.memoizedState=iu(1|f,g,D,w))}function nw(u,f){lh(8390656,8,u,f)}function Q0(u,f){Em(2048,8,u,f)}function Tm(u,f){return Em(4,2,u,f)}function Rk(u,f){return Em(4,4,u,f)}function iw(u,f){if(typeof f=="function"){u=u();var g=f(u);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function rw(u,f,g){g=g!=null?g.concat([u]):null,Em(4,4,iw.bind(null,f,u),g)}function sw(){}function ow(u,f){var g=Ni();f=f===void 0?null:f;var w=g.memoizedState;return f!==null&&Y1(f,w[1])?w[0]:(g.memoizedState=[u,f],u)}function Dk(u,f){var g=Ni();f=f===void 0?null:f;var w=g.memoizedState;if(f!==null&&Y1(f,w[1]))return w[0];if(w=u(),eu){An(!0);try{u()}finally{An(!1)}}return g.memoizedState=[w,f],w}function km(u,f,g){return g===void 0||(Qc&1073741824)!==0?u.memoizedState=f:(u.memoizedState=g,u=n_(),Kt.lanes|=u,fu|=u,g)}function aw(u,f,g,w){return Hs(g,f)?g:eh.current!==null?(u=km(u,g,w),Hs(u,f)||(Ji=!0),u):(Qc&42)===0?(Ji=!0,u.memoizedState=g):(u=n_(),Kt.lanes|=u,fu|=u,f)}function eb(u,f,g,w,T){var D=ve.p;ve.p=D!==0&&8>D?D:8;var I=q.T,K={};q.T=K,uh(u,!1,f,g);try{var ne=T(),he=q.S;if(he!==null&&he(K,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Me=zN(ne,w);Mm(u,f,Me,eo(u))}else Mm(u,f,w,eo(u))}catch(Ie){Mm(u,f,{then:function(){},status:"rejected",reason:Ie},eo())}finally{ve.p=D,q.T=I}}function VN(){}function _m(u,f,g,w){if(u.tag!==5)throw Error(i(476));var T=Vt(u).queue;eb(u,T,f,ke,g===null?VN:function(){return Nk(u),g(w)})}function Vt(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:ke,baseState:ke,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:ke},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:g},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function Nk(u){var f=Vt(u).next.queue;Mm(u,f,{},eo())}function lw(){return Mr(ng)}function ch(){return Ni().memoizedState}function cw(){return Ni().memoizedState}function HN(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var g=eo();u=ra(g);var w=Ks(f,u,g);w!==null&&(Dr(w,f,g),ct(w,f,g)),f={cache:G1()},u.payload=f;return}f=f.return}}function UN(u,f,g){var w=eo();g={lane:w,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},dh(u)?uw(f,g):(g=Ba(u,f,g,w),g!==null&&(Dr(g,u,w),dw(g,f,w)))}function Ws(u,f,g){var w=eo();Mm(u,f,g,w)}function Mm(u,f,g,w){var T={lane:w,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(dh(u))uw(f,T);else{var D=u.alternate;if(u.lanes===0&&(D===null||D.lanes===0)&&(D=f.lastRenderedReducer,D!==null))try{var I=f.lastRenderedState,K=D(I,g);if(T.hasEagerState=!0,T.eagerState=K,Hs(K,I))return dd(u,f,T,0),Fn===null&&$0(),!1}catch{}finally{}if(g=Ba(u,f,T,w),g!==null)return Dr(g,u,w),dw(g,f,w),!0}return!1}function uh(u,f,g,w){if(w={lane:2,revertLane:Xw(),action:w,hasEagerState:!1,eagerState:null,next:null},dh(u)){if(f)throw Error(i(479))}else f=Ba(u,g,w,2),f!==null&&Dr(f,u,2)}function dh(u){var f=u.alternate;return u===Kt||f!==null&&f===Kt}function uw(u,f){ih=xd=!0;var g=u.pending;g===null?f.next=f:(f.next=g.next,g.next=f),u.pending=f}function dw(u,f,g){if((g&4194176)!==0){var w=f.lanes;w&=u.pendingLanes,g|=w,f.lanes=g,y0(u,g)}}var Ci={readContext:Mr,use:Am,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useLayoutEffect:xn,useInsertionEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useSyncExternalStore:xn,useId:xn};Ci.useCacheRefresh=xn,Ci.useMemoCache=xn,Ci.useHostTransitionStatus=xn,Ci.useFormState=xn,Ci.useActionState=xn,Ci.useOptimistic=xn;var ms={readContext:Mr,use:Am,useCallback:function(u,f){return ps().memoizedState=[u,f===void 0?null:f],u},useContext:Mr,useEffect:nw,useImperativeHandle:function(u,f,g){g=g!=null?g.concat([u]):null,lh(4194308,4,iw.bind(null,f,u),g)},useLayoutEffect:function(u,f){return lh(4194308,4,u,f)},useInsertionEffect:function(u,f){lh(4,2,u,f)},useMemo:function(u,f){var g=ps();f=f===void 0?null:f;var w=u();if(eu){An(!0);try{u()}finally{An(!1)}}return g.memoizedState=[w,f],w},useReducer:function(u,f,g){var w=ps();if(g!==void 0){var T=g(f);if(eu){An(!0);try{g(f)}finally{An(!1)}}}else T=f;return w.memoizedState=w.baseState=T,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:T},w.queue=u,u=u.dispatch=UN.bind(null,Kt,u),[w.memoizedState,u]},useRef:function(u){var f=ps();return u={current:u},f.memoizedState=u},useState:function(u){u=Z1(u);var f=u.queue,g=Ws.bind(null,Kt,f);return f.dispatch=g,[u.memoizedState,g]},useDebugValue:sw,useDeferredValue:function(u,f){var g=ps();return km(g,u,f)},useTransition:function(){var u=Z1(!1);return u=eb.bind(null,Kt,u.queue,!0,!1),ps().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,g){var w=Kt,T=ps();if(Et){if(g===void 0)throw Error(i(407));g=g()}else{if(g=f(),Fn===null)throw Error(i(349));(hn&60)!==0||X0(w,f,g)}T.memoizedState=g;var D={value:g,getSnapshot:f};return T.queue=D,nw(wk.bind(null,w,D,u),[u]),w.flags|=2048,iu(9,xk.bind(null,w,D,g,f),{destroy:void 0},null),g},useId:function(){var u=ps(),f=Fn.identifierPrefix;if(Et){var g=Mo,w=_o;g=(w&~(1<<32-Dn(w)-1)).toString(32)+g,f=":"+f+"R"+g,g=G0++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=wd++,f=":"+f+"r"+g.toString(32)+":";return u.memoizedState=f},useCacheRefresh:function(){return ps().memoizedState=HN.bind(null,Kt)}};ms.useMemoCache=Do,ms.useHostTransitionStatus=lw,ms.useFormState=ew,ms.useActionState=ew,ms.useOptimistic=function(u){var f=ps();f.memoizedState=f.baseState=u;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=uh.bind(null,Kt,!0,g),g.dispatch=f,[u,f]};var Ka={readContext:Mr,use:Am,useCallback:ow,useContext:Mr,useEffect:Q0,useImperativeHandle:rw,useInsertionEffect:Tm,useLayoutEffect:Rk,useMemo:Dk,useReducer:Cd,useRef:Mk,useState:function(){return Cd(Qo)},useDebugValue:sw,useDeferredValue:function(u,f){var g=Ni();return aw(g,kn.memoizedState,u,f)},useTransition:function(){var u=Cd(Qo)[0],f=Ni().memoizedState;return[typeof u=="boolean"?u:Sd(u),f]},useSyncExternalStore:_r,useId:ch};Ka.useCacheRefresh=cw,Ka.useMemoCache=Do,Ka.useHostTransitionStatus=lw,Ka.useFormState=kk,Ka.useActionState=kk,Ka.useOptimistic=function(u,f){var g=Ni();return oh(g,kn,u,f)};var ru={readContext:Mr,use:Am,useCallback:ow,useContext:Mr,useEffect:Q0,useImperativeHandle:rw,useInsertionEffect:Tm,useLayoutEffect:Rk,useMemo:Dk,useReducer:Y0,useRef:Mk,useState:function(){return Y0(Qo)},useDebugValue:sw,useDeferredValue:function(u,f){var g=Ni();return kn===null?km(g,u,f):aw(g,kn.memoizedState,u,f)},useTransition:function(){var u=Y0(Qo)[0],f=Ni().memoizedState;return[typeof u=="boolean"?u:Sd(u),f]},useSyncExternalStore:_r,useId:ch};ru.useCacheRefresh=cw,ru.useMemoCache=Do,ru.useHostTransitionStatus=lw,ru.useFormState=tw,ru.useActionState=tw,ru.useOptimistic=function(u,f){var g=Ni();return kn!==null?oh(g,kn,u,f):(g.baseState=u,[u,g.queue.dispatch])};function fh(u,f,g,w){f=u.memoizedState,g=g(w,f),g=g==null?f:B({},f,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var tb={isMounted:function(u){return(u=u._reactInternals)?Z(u)===u:!1},enqueueSetState:function(u,f,g){u=u._reactInternals;var w=eo(),T=ra(w);T.payload=f,g!=null&&(T.callback=g),f=Ks(u,T,w),f!==null&&(Dr(f,u,w),ct(f,u,w))},enqueueReplaceState:function(u,f,g){u=u._reactInternals;var w=eo(),T=ra(w);T.tag=1,T.payload=f,g!=null&&(T.callback=g),f=Ks(u,T,w),f!==null&&(Dr(f,u,w),ct(f,u,w))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var g=eo(),w=ra(g);w.tag=2,f!=null&&(w.callback=f),f=Ks(u,w,g),f!==null&&(Dr(f,u,g),ct(f,u,g))}};function nb(u,f,g,w,T,D,I){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(w,D,I):f.prototype&&f.prototype.isPureReactComponent?!za(g,w)||!za(T,D):!0}function fw(u,f,g,w){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,w),f.state!==u&&tb.enqueueReplaceState(f,f.state,null)}function Kl(u,f){var g=f;if("ref"in f){g={};for(var w in f)w!=="ref"&&(g[w]=f[w])}if(u=u.defaultProps){g===f&&(g=B({},g));for(var T in u)g[T]===void 0&&(g[T]=u[T])}return g}var hh=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function Yl(u){hh(u)}function Pk(u){console.error(u)}function Xl(u){hh(u)}function Rm(u,f){try{var g=u.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(w){setTimeout(function(){throw w})}}function hw(u,f,g){try{var w=u.onCaughtError;w(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Dm(u,f,g){return g=ra(g),g.tag=3,g.payload={element:null},g.callback=function(){Rm(u,f)},g}function Ok(u){return u=ra(u),u.tag=3,u}function Lk(u,f,g,w){var T=g.type.getDerivedStateFromError;if(typeof T=="function"){var D=w.value;u.payload=function(){return T(D)},u.callback=function(){hw(f,g,w)}}var I=g.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(u.callback=function(){hw(f,g,w),typeof T!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var K=w.stack;this.componentDidCatch(w.value,{componentStack:K!==null?K:""})})}function qN(u,f,g,w,T){if(g.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(f=g.alternate,f!==null&&bh(f,g,T,!0),g=Ro.current,g!==null){switch(g.tag){case 13:return Ga===null?Vw():g.alternate===null&&Ei===0&&(Ei=3),g.flags&=-257,g.flags|=65536,g.lanes=T,w===Yc?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([w]):f.add(w),Uw(u,w,T)),!1;case 22:return g.flags|=65536,w===Yc?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([w])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([w]):g.add(w)),Uw(u,w,T)),!1}throw Error(i(435,g.tag))}return Uw(u,w,T),Vw(),!1}if(Et)return f=Ro.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=T,w!==B0&&(u=Error(i(422),{cause:w}),$l(qr(u,g)))):(w!==B0&&(f=Error(i(423),{cause:w}),$l(qr(f,g))),u=u.current.alternate,u.flags|=65536,T&=-T,u.lanes|=T,w=qr(w,g),T=Dm(u.stateNode,w,T),vh(u,T),Ei!==4&&(Ei=2)),!1;var D=Error(i(520),{cause:w});if(D=qr(D,g),qm===null?qm=[D]:qm.push(D),Ei!==4&&(Ei=2),f===null)return!0;w=qr(w,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,u=T&-T,g.lanes|=u,u=Dm(g.stateNode,w,u),vh(g,u),!1;case 1:if(f=g.type,D=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(tl===null||!tl.has(D))))return g.flags|=65536,T&=-T,g.lanes|=T,T=Ok(T),Lk(T,u,g,w),vh(g,T),!1}g=g.return}while(g!==null);return!1}var pw=Error(i(461)),Ji=!1;function fr(u,f,g,w){f.child=u===null?yk(f,null,g,w):Pt(f,u.child,g,w)}function mw(u,f,g,w,T){g=g.render;var D=f.ref;if("ref"in w){var I={};for(var K in w)K!=="ref"&&(I[K]=w[K])}else I=w;return lu(f),w=W0(u,f,g,I,D,T),K=K0(),u!==null&&!Ji?(J1(u,f,T),ta(u,f,T)):(Et&&K&&z0(f),f.flags|=1,fr(u,f,w,T),f.child)}function gw(u,f,g,w,T){if(u===null){var D=g.type;return typeof D=="function"&&!Dw(D)&&D.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=D,Wr(u,f,D,w,T)):(u=Hm(g.type,null,w,f,f.mode,T),u.ref=f.ref,u.return=f,f.child=u)}if(D=u.child,!gh(u,T)){var I=D.memoizedProps;if(g=g.compare,g=g!==null?g:za,g(I,w)&&u.ref===f.ref)return ta(u,f,T)}return f.flags|=1,u=du(D,w),u.ref=f.ref,u.return=f,f.child=u}function Wr(u,f,g,w,T){if(u!==null){var D=u.memoizedProps;if(za(D,w)&&u.ref===f.ref)if(Ji=!1,f.pendingProps=w=D,gh(u,T))(u.flags&131072)!==0&&(Ji=!0);else return f.lanes=u.lanes,ta(u,f,T)}return ph(u,f,g,w,T)}function ea(u,f,g){var w=f.pendingProps,T=w.children,D=(f.stateNode._pendingVisibility&2)!==0,I=u!==null?u.memoizedState:null;if(Nm(u,f),w.mode==="hidden"||D){if((f.flags&128)!==0){if(w=I!==null?I.baseLanes|g:g,u!==null){for(T=f.child=u.child,D=0;T!==null;)D=D|T.lanes|T.childLanes,T=T.sibling;f.childLanes=D&~w}else f.childLanes=0,f.child=null;return jk(u,f,w,g)}if((g&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&Cm(f,I!==null?I.cachePool:null),I!==null?Xc(f,I):U1(),Wa(f);else return f.lanes=f.childLanes=536870912,jk(u,f,I!==null?I.baseLanes|g:g,g)}else I!==null?(Cm(f,I.cachePool),Xc(f,I),Zc(),f.memoizedState=null):(u!==null&&Cm(f,null),U1(),Zc());return fr(u,f,T,g),f.child}function jk(u,f,g,w){var T=W1();return T=T===null?null:{parent:Xi._currentValue,pool:T},f.memoizedState={baseLanes:g,cachePool:T},u!==null&&Cm(f,null),U1(),Wa(f),u!==null&&bh(u,f,w,!0),null}function Nm(u,f){var g=f.ref;if(g===null)u!==null&&u.ref!==null&&(f.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(i(284));(u===null||u.ref!==g)&&(f.flags|=2097664)}}function ph(u,f,g,w,T){return lu(f),g=W0(u,f,g,w,void 0,T),w=K0(),u!==null&&!Ji?(J1(u,f,T),ta(u,f,T)):(Et&&w&&z0(f),f.flags|=1,fr(u,f,g,T),f.child)}function Ad(u,f,g,w,T,D){return lu(f),f.updateQueue=null,g=rh(f,w,g,T),X1(u),w=K0(),u!==null&&!Ji?(J1(u,f,D),ta(u,f,D)):(Et&&w&&z0(f),f.flags|=1,fr(u,f,g,D),f.child)}function yw(u,f,g,w,T){if(lu(f),f.stateNode===null){var D=hd,I=g.contextType;typeof I=="object"&&I!==null&&(D=Mr(I)),D=new g(w,D),f.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=tb,f.stateNode=D,D._reactInternals=f,D=f.stateNode,D.props=w,D.state=f.memoizedState,D.refs={},Lm(f),I=g.contextType,D.context=typeof I=="object"&&I!==null?Mr(I):hd,D.state=f.memoizedState,I=g.getDerivedStateFromProps,typeof I=="function"&&(fh(f,g,I,w),D.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(I=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),I!==D.state&&tb.enqueueReplaceState(D,D.state,null),Fm(f,w,D,T),sa(),D.state=f.memoizedState),typeof D.componentDidMount=="function"&&(f.flags|=4194308),w=!0}else if(u===null){D=f.stateNode;var K=f.memoizedProps,ne=Kl(g,K);D.props=ne;var he=D.context,Me=g.contextType;I=hd,typeof Me=="object"&&Me!==null&&(I=Mr(Me));var Ie=g.getDerivedStateFromProps;Me=typeof Ie=="function"||typeof D.getSnapshotBeforeUpdate=="function",K=f.pendingProps!==K,Me||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(K||he!==I)&&fw(f,D,w,I),Ja=!1;var xe=f.memoizedState;D.state=xe,Fm(f,w,D,T),sa(),he=f.memoizedState,K||xe!==he||Ja?(typeof Ie=="function"&&(fh(f,g,Ie,w),he=f.memoizedState),(ne=Ja||nb(f,g,ne,w,xe,he,I))?(Me||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(f.flags|=4194308)):(typeof D.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=he),D.props=w,D.state=he,D.context=I,w=ne):(typeof D.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{D=f.stateNode,jm(u,f),I=f.memoizedProps,Me=Kl(g,I),D.props=Me,Ie=f.pendingProps,xe=D.context,he=g.contextType,ne=hd,typeof he=="object"&&he!==null&&(ne=Mr(he)),K=g.getDerivedStateFromProps,(he=typeof K=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(I!==Ie||xe!==ne)&&fw(f,D,w,ne),Ja=!1,xe=f.memoizedState,D.state=xe,Fm(f,w,D,T),sa();var _e=f.memoizedState;I!==Ie||xe!==_e||Ja||u!==null&&u.dependencies!==null&&lb(u.dependencies)?(typeof K=="function"&&(fh(f,g,K,w),_e=f.memoizedState),(Me=Ja||nb(f,g,Me,w,xe,_e,ne)||u!==null&&u.dependencies!==null&&lb(u.dependencies))?(he||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(w,_e,ne),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(w,_e,ne)),typeof D.componentDidUpdate=="function"&&(f.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof D.componentDidUpdate!="function"||I===u.memoizedProps&&xe===u.memoizedState||(f.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||I===u.memoizedProps&&xe===u.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=_e),D.props=w,D.state=_e,D.context=ne,w=Me):(typeof D.componentDidUpdate!="function"||I===u.memoizedProps&&xe===u.memoizedState||(f.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||I===u.memoizedProps&&xe===u.memoizedState||(f.flags|=1024),w=!1)}return D=w,Nm(u,f),w=(f.flags&128)!==0,D||w?(D=f.stateNode,g=w&&typeof g.getDerivedStateFromError!="function"?null:D.render(),f.flags|=1,u!==null&&w?(f.child=Pt(f,u.child,null,T),f.child=Pt(f,null,g,T)):fr(u,f,g,T),f.memoizedState=D.state,u=f.child):u=ta(u,f,T),u}function bw(u,f,g,w){return qa(),f.flags|=256,fr(u,f,g,w),f.child}var vw={dehydrated:null,treeContext:null,retryLane:0};function ib(u){return{baseLanes:u,cachePool:K1()}}function su(u,f,g){return u=u!==null?u.childLanes&~g:0,f&&(u|=No),u}function mh(u,f,g){var w=f.pendingProps,T=!1,D=(f.flags&128)!==0,I;if((I=D)||(I=u!==null&&u.memoizedState===null?!1:(Yi.current&2)!==0),I&&(T=!0,f.flags&=-129),I=(f.flags&32)!==0,f.flags&=-33,u===null){if(Et){if(T?Jc(f):Zc(),Et){var K=ln,ne;if(ne=K){e:{for(ne=K,K=Ua;ne.nodeType!==8;){if(!K){K=null;break e}if(ne=la(ne.nextSibling),ne===null){K=null;break e}}K=ne}K!==null?(f.memoizedState={dehydrated:K,treeContext:gd!==null?{id:_o,overflow:Mo}:null,retryLane:536870912},ne=Zs(18,null,null,0),ne.stateNode=K,ne.return=f,f.child=ne,Gr=f,ln=null,ne=!0):ne=!1}ne||yd(f)}if(K=f.memoizedState,K!==null&&(K=K.dehydrated,K!==null))return K.data==="$!"?f.lanes=16:f.lanes=536870912,null;Ul(f)}return K=w.children,w=w.fallback,T?(Zc(),T=f.mode,K=rb({mode:"hidden",children:K},T),w=Td(w,T,g,null),K.return=f,w.return=f,K.sibling=w,f.child=K,T=f.child,T.memoizedState=ib(g),T.childLanes=su(u,I,g),f.memoizedState=vw,w):(Jc(f),xw(f,K))}if(ne=u.memoizedState,ne!==null&&(K=ne.dehydrated,K!==null)){if(D)f.flags&256?(Jc(f),f.flags&=-257,f=sb(u,f,g)):f.memoizedState!==null?(Zc(),f.child=u.child,f.flags|=128,f=null):(Zc(),T=w.fallback,K=f.mode,w=rb({mode:"visible",children:w.children},K),T=Td(T,K,g,null),T.flags|=2,w.return=f,T.return=f,w.sibling=T,f.child=w,Pt(f,u.child,null,g),w=f.child,w.memoizedState=ib(g),w.childLanes=su(u,I,g),f.memoizedState=vw,f=T);else if(Jc(f),K.data==="$!"){if(I=K.nextSibling&&K.nextSibling.dataset,I)var he=I.dgst;I=he,w=Error(i(419)),w.stack="",w.digest=I,$l({value:w,source:null,stack:null}),f=sb(u,f,g)}else if(Ji||bh(u,f,g,!1),I=(g&u.childLanes)!==0,Ji||I){if(I=Fn,I!==null){if(w=g&-g,(w&42)!==0)w=1;else switch(w){case 2:w=1;break;case 8:w=4;break;case 32:w=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:w=64;break;case 268435456:w=134217728;break;default:w=0}if(w=(w&(I.suspendedLanes|g))!==0?0:w,w!==0&&w!==ne.retryLane)throw ne.retryLane=w,Xo(u,w),Dr(I,u,w),pw}K.data==="$?"||Vw(),f=sb(u,f,g)}else K.data==="$?"?(f.flags|=128,f.child=u.child,f=nP.bind(null,u),K._reactRetry=f,f=null):(u=ne.treeContext,ln=la(K.nextSibling),Gr=f,Et=!0,Jo=null,Ua=!1,u!==null&&(To[ko++]=_o,To[ko++]=Mo,To[ko++]=gd,_o=u.id,Mo=u.overflow,gd=f),f=xw(f,w.children),f.flags|=4096);return f}return T?(Zc(),T=w.fallback,K=f.mode,ne=u.child,he=ne.sibling,w=du(ne,{mode:"hidden",children:w.children}),w.subtreeFlags=ne.subtreeFlags&31457280,he!==null?T=du(he,T):(T=Td(T,K,g,null),T.flags|=2),T.return=f,w.return=f,w.sibling=T,f.child=w,w=T,T=f.child,K=u.child.memoizedState,K===null?K=ib(g):(ne=K.cachePool,ne!==null?(he=Xi._currentValue,ne=ne.parent!==he?{parent:he,pool:he}:ne):ne=K1(),K={baseLanes:K.baseLanes|g,cachePool:ne}),T.memoizedState=K,T.childLanes=su(u,I,g),f.memoizedState=vw,w):(Jc(f),g=u.child,u=g.sibling,g=du(g,{mode:"visible",children:w.children}),g.return=f,g.sibling=null,u!==null&&(I=f.deletions,I===null?(f.deletions=[u],f.flags|=16):I.push(u)),f.child=g,f.memoizedState=null,g)}function xw(u,f){return f=rb({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function rb(u,f){return Zk(u,f,0,null)}function sb(u,f,g){return Pt(f,u.child,null,g),u=xw(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function Pm(u,f,g){u.lanes|=f;var w=u.alternate;w!==null&&(w.lanes|=f),ia(u.return,f,g)}function ob(u,f,g,w,T){var D=u.memoizedState;D===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:T}:(D.isBackwards=f,D.rendering=null,D.renderingStartTime=0,D.last=w,D.tail=g,D.tailMode=T)}function Om(u,f,g){var w=f.pendingProps,T=w.revealOrder,D=w.tail;if(fr(u,f,w.children,g),w=Yi.current,(w&2)!==0)w=w&1|2,f.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&Pm(u,g,f);else if(u.tag===19)Pm(u,g,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}w&=1}switch(Ge(Yi,w),T){case"forwards":for(g=f.child,T=null;g!==null;)u=g.alternate,u!==null&&q0(u)===null&&(T=g),g=g.sibling;g=T,g===null?(T=f.child,f.child=null):(T=g.sibling,g.sibling=null),ob(f,!1,T,g,D);break;case"backwards":for(g=null,T=f.child,f.child=null;T!==null;){if(u=T.alternate,u!==null&&q0(u)===null){f.child=T;break}u=T.sibling,T.sibling=g,g=T,T=u}ob(f,!0,g,null,D);break;case"together":ob(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function ta(u,f,g){if(u!==null&&(f.dependencies=u.dependencies),fu|=f.lanes,(g&f.childLanes)===0)if(u!==null){if(bh(u,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(i(153));if(f.child!==null){for(u=f.child,g=du(u,u.pendingProps),f.child=g,g.return=f;u.sibling!==null;)u=u.sibling,g=g.sibling=du(u,u.pendingProps),g.return=f;g.sibling=null}return f.child}function gh(u,f){return(u.lanes&f)!==0?!0:(u=u.dependencies,!!(u!==null&&lb(u)))}function GN(u,f,g){switch(f.tag){case 3:Mn(f,f.stateNode.containerInfo),au(f,Xi,u.memoizedState.cache),qa();break;case 27:case 5:Wt(f);break;case 4:Mn(f,f.stateNode.containerInfo);break;case 10:au(f,f.type,f.memoizedProps.value);break;case 13:var w=f.memoizedState;if(w!==null)return w.dehydrated!==null?(Jc(f),f.flags|=128,null):(g&f.child.childLanes)!==0?mh(u,f,g):(Jc(f),u=ta(u,f,g),u!==null?u.sibling:null);Jc(f);break;case 19:var T=(u.flags&128)!==0;if(w=(g&f.childLanes)!==0,w||(bh(u,f,g,!1),w=(g&f.childLanes)!==0),T){if(w)return Om(u,f,g);f.flags|=128}if(T=f.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Ge(Yi,Yi.current),w)break;return null;case 22:case 23:return f.lanes=0,ea(u,f,g);case 24:au(f,Xi,u.memoizedState.cache)}return ta(u,f,g)}function ww(u,f,g){if(u!==null)if(u.memoizedProps!==f.pendingProps)Ji=!0;else{if(!gh(u,g)&&(f.flags&128)===0)return Ji=!1,GN(u,f,g);Ji=(u.flags&131072)!==0}else Ji=!1,Et&&(f.flags&1048576)!==0&&hk(f,md,f.index);switch(f.lanes=0,f.tag){case 16:e:{u=f.pendingProps;var w=f.elementType,T=w._init;if(w=T(w._payload),f.type=w,typeof w=="function")Dw(w)?(u=Kl(w,u),f.tag=1,f=yw(null,f,w,u,g)):(f.tag=0,f=ph(null,f,w,u,g));else{if(w!=null){if(T=w.$$typeof,T===v){f.tag=11,f=mw(null,f,w,u,g);break e}else if(T===E){f.tag=14,f=gw(null,f,w,u,g);break e}}throw f=F(w)||w,Error(i(306,f,""))}}return f;case 0:return ph(u,f,f.type,f.pendingProps,g);case 1:return w=f.type,T=Kl(w,f.pendingProps),yw(u,f,w,T,g);case 3:e:{if(Mn(f,f.stateNode.containerInfo),u===null)throw Error(i(387));var D=f.pendingProps;T=f.memoizedState,w=T.element,jm(u,f),Fm(f,D,null,g);var I=f.memoizedState;if(D=I.cache,au(f,Xi,D),D!==T.cache&&ab(f,[Xi],g,!0),sa(),D=I.element,T.isDehydrated)if(T={element:D,isDehydrated:!1,cache:I.cache},f.updateQueue.baseState=T,f.memoizedState=T,f.flags&256){f=bw(u,f,D,g);break e}else if(D!==w){w=qr(Error(i(424)),f),$l(w),f=bw(u,f,D,g);break e}else for(ln=la(f.stateNode.containerInfo.firstChild),Gr=f,Et=!0,Jo=null,Ua=!0,g=yk(f,null,D,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(qa(),D===w){f=ta(u,f,g);break e}fr(u,f,D,g)}f=f.child}return f;case 26:return Nm(u,f),u===null?(g=uS(f.type,null,f.pendingProps,null))?f.memoizedState=g:Et||(g=f.type,u=f.pendingProps,w=Sb(xt.current).createElement(g),w[kr]=f,w[ds]=u,pr(w,g,u),Mi(w),f.stateNode=w):f.memoizedState=uS(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:return Wt(f),u===null&&Et&&(w=f.stateNode=cS(f.type,f.pendingProps,xt.current),Gr=f,Ua=!0,ln=la(w.firstChild)),w=f.pendingProps.children,u!==null||Et?fr(u,f,w,g):f.child=Pt(f,null,w,g),Nm(u,f),f.child;case 5:return u===null&&Et&&((T=w=ln)&&(w=cP(w,f.type,f.pendingProps,Ua),w!==null?(f.stateNode=w,Gr=f,ln=la(w.firstChild),Ua=!1,T=!0):T=!1),T||yd(f)),Wt(f),T=f.type,D=f.pendingProps,I=u!==null?u.memoizedProps:null,w=D.children,Qm(T,D)?w=null:I!==null&&Qm(T,I)&&(f.flags|=32),f.memoizedState!==null&&(T=W0(u,f,nu,null,null,g),ng._currentValue=T),Nm(u,f),fr(u,f,w,g),f.child;case 6:return u===null&&Et&&((u=g=ln)&&(g=uP(g,f.pendingProps,Ua),g!==null?(f.stateNode=g,Gr=f,ln=null,u=!0):u=!1),u||yd(f)),null;case 13:return mh(u,f,g);case 4:return Mn(f,f.stateNode.containerInfo),w=f.pendingProps,u===null?f.child=Pt(f,null,w,g):fr(u,f,w,g),f.child;case 11:return mw(u,f,f.type,f.pendingProps,g);case 7:return fr(u,f,f.pendingProps,g),f.child;case 8:return fr(u,f,f.pendingProps.children,g),f.child;case 12:return fr(u,f,f.pendingProps.children,g),f.child;case 10:return w=f.pendingProps,au(f,f.type,w.value),fr(u,f,w.children,g),f.child;case 9:return T=f.type._context,w=f.pendingProps.children,lu(f),T=Mr(T),w=w(T),f.flags|=1,fr(u,f,w,g),f.child;case 14:return gw(u,f,f.type,f.pendingProps,g);case 15:return Wr(u,f,f.type,f.pendingProps,g);case 19:return Om(u,f,g);case 22:return ea(u,f,g);case 24:return lu(f),w=Mr(Xi),u===null?(T=W1(),T===null&&(T=Fn,D=G1(),T.pooledCache=D,D.refCount++,D!==null&&(T.pooledCacheLanes|=g),T=D),f.memoizedState={parent:w,cache:T},Lm(f),au(f,Xi,T)):((u.lanes&g)!==0&&(jm(u,f),Fm(f,null,null,g),sa()),T=u.memoizedState,D=f.memoizedState,T.parent!==w?(T={parent:w,cache:w},f.memoizedState=T,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=T),au(f,Xi,w)):(w=D.cache,au(f,Xi,w),w!==T.cache&&ab(f,[Xi],g,!0))),fr(u,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(i(156,f.tag))}var yh=Ue(null),ou=null,na=null;function au(u,f,g){Ge(yh,f._currentValue),f._currentValue=g}function Ya(u){u._currentValue=yh.current,Ye(yh)}function ia(u,f,g){for(;u!==null;){var w=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),u===g)break;u=u.return}}function ab(u,f,g,w){var T=u.child;for(T!==null&&(T.return=u);T!==null;){var D=T.dependencies;if(D!==null){var I=T.child;D=D.firstContext;e:for(;D!==null;){var K=D;D=T;for(var ne=0;ne<f.length;ne++)if(K.context===f[ne]){D.lanes|=g,K=D.alternate,K!==null&&(K.lanes|=g),ia(D.return,g,u),w||(I=null);break e}D=K.next}}else if(T.tag===18){if(I=T.return,I===null)throw Error(i(341));I.lanes|=g,D=I.alternate,D!==null&&(D.lanes|=g),ia(I,g,u),I=null}else I=T.child;if(I!==null)I.return=T;else for(I=T;I!==null;){if(I===u){I=null;break}if(T=I.sibling,T!==null){T.return=I.return,I=T;break}I=I.return}T=I}}function bh(u,f,g,w){u=null;for(var T=f,D=!1;T!==null;){if(!D){if((T.flags&524288)!==0)D=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var I=T.alternate;if(I===null)throw Error(i(387));if(I=I.memoizedProps,I!==null){var K=T.type;Hs(T.pendingProps.value,I.value)||(u!==null?u.push(K):u=[K])}}else if(T===Gt.current){if(I=T.alternate,I===null)throw Error(i(387));I.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(u!==null?u.push(ng):u=[ng])}T=T.return}u!==null&&ab(f,u,g,w),f.flags|=262144}function lb(u){for(u=u.firstContext;u!==null;){if(!Hs(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function lu(u){ou=u,na=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Mr(u){return Xa(ou,u)}function cb(u,f){return ou===null&&lu(u),Xa(u,f)}function Xa(u,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},na===null){if(u===null)throw Error(i(308));na=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else na=na.next=f;return g}var Ja=!1;function Lm(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jm(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function ra(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Ks(u,f,g){var w=u.updateQueue;if(w===null)return null;if(w=w.shared,(yi&2)!==0){var T=w.pending;return T===null?f.next=f:(f.next=T.next,T.next=f),w.pending=f,f=fd(u),B1(u,null,g),f}return dd(u,w,f,g),fd(u)}function ct(u,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194176)!==0)){var w=f.lanes;w&=u.pendingLanes,g|=w,f.lanes=g,y0(u,g)}}function vh(u,f){var g=u.updateQueue,w=u.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var T=null,D=null;if(g=g.firstBaseUpdate,g!==null){do{var I={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};D===null?T=D=I:D=D.next=I,g=g.next}while(g!==null);D===null?T=D=f:D=D.next=f}else T=D=f;g={baseState:w.baseState,firstBaseUpdate:T,lastBaseUpdate:D,shared:w.shared,callbacks:w.callbacks},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=f:u.next=f,g.lastBaseUpdate=f}var Im=!1;function sa(){if(Im){var u=nh;if(u!==null)throw u}}function Fm(u,f,g,w){Im=!1;var T=u.updateQueue;Ja=!1;var D=T.firstBaseUpdate,I=T.lastBaseUpdate,K=T.shared.pending;if(K!==null){T.shared.pending=null;var ne=K,he=ne.next;ne.next=null,I===null?D=he:I.next=he,I=ne;var Me=u.alternate;Me!==null&&(Me=Me.updateQueue,K=Me.lastBaseUpdate,K!==I&&(K===null?Me.firstBaseUpdate=he:K.next=he,Me.lastBaseUpdate=ne))}if(D!==null){var Ie=T.baseState;I=0,Me=he=ne=null,K=D;do{var xe=K.lane&-536870913,_e=xe!==K.lane;if(_e?(hn&xe)===xe:(w&xe)===xe){xe!==0&&xe===th&&(Im=!0),Me!==null&&(Me=Me.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var st=u,Tt=K;xe=f;var vi=g;switch(Tt.tag){case 1:if(st=Tt.payload,typeof st=="function"){Ie=st.call(vi,Ie,xe);break e}Ie=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=Tt.payload,xe=typeof st=="function"?st.call(vi,Ie,xe):st,xe==null)break e;Ie=B({},Ie,xe);break e;case 2:Ja=!0}}xe=K.callback,xe!==null&&(u.flags|=64,_e&&(u.flags|=8192),_e=T.callbacks,_e===null?T.callbacks=[xe]:_e.push(xe))}else _e={lane:xe,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Me===null?(he=Me=_e,ne=Ie):Me=Me.next=_e,I|=xe;if(K=K.next,K===null){if(K=T.shared.pending,K===null)break;_e=K,K=_e.next,_e.next=null,T.lastBaseUpdate=_e,T.shared.pending=null}}while(!0);Me===null&&(ne=Ie),T.baseState=ne,T.firstBaseUpdate=he,T.lastBaseUpdate=Me,D===null&&(T.shared.lanes=0),fu|=I,u.lanes=I,u.memoizedState=Ie}}function ub(u,f){if(typeof u!="function")throw Error(i(191,u));u.call(f)}function Sw(u,f){var g=u.callbacks;if(g!==null)for(u.callbacks=null,u=0;u<g.length;u++)ub(g[u],f)}function Vi(u,f){try{var g=f.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var T=w.next;g=T;do{if((g.tag&u)===u){w=void 0;var D=g.create,I=g.inst;w=D(),I.destroy=w}g=g.next}while(g!==T)}}catch(K){Un(f,f.return,K)}}function cu(u,f,g){try{var w=f.updateQueue,T=w!==null?w.lastEffect:null;if(T!==null){var D=T.next;w=D;do{if((w.tag&u)===u){var I=w.inst,K=I.destroy;if(K!==void 0){I.destroy=void 0,T=f;var ne=g;try{K()}catch(he){Un(T,ne,he)}}}w=w.next}while(w!==D)}}catch(he){Un(f,f.return,he)}}function Ik(u){var f=u.updateQueue;if(f!==null){var g=u.stateNode;try{Sw(f,g)}catch(w){Un(u,u.return,w)}}}function Cw(u,f,g){g.props=Kl(u.type,u.memoizedProps),g.state=u.memoizedState;try{g.componentWillUnmount()}catch(w){Un(u,f,w)}}function Ed(u,f){try{var g=u.ref;if(g!==null){var w=u.stateNode;switch(u.tag){case 26:case 27:case 5:var T=w;break;default:T=w}typeof g=="function"?u.refCleanup=g(T):g.current=T}}catch(D){Un(u,f,D)}}function gs(u,f){var g=u.ref,w=u.refCleanup;if(g!==null)if(typeof w=="function")try{w()}catch(T){Un(u,f,T)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(T){Un(u,f,T)}else g.current=null}function Fk(u){var f=u.type,g=u.memoizedProps,w=u.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&w.focus();break e;case"img":g.src?w.src=g.src:g.srcSet&&(w.srcset=g.srcSet)}}catch(T){Un(u,u.return,T)}}function $k(u,f,g){try{var w=u.stateNode;mu(w,u.type,g,f),w[ds]=f}catch(T){Un(u,u.return,T)}}function zk(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27||u.tag===4}function oa(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||zk(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==27&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function hr(u,f,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,f?g.nodeType===8?g.parentNode.insertBefore(u,f):g.insertBefore(u,f):(g.nodeType===8?(f=g.parentNode,f.insertBefore(u,g)):(f=g,f.appendChild(u)),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=wb));else if(w!==4&&w!==27&&(u=u.child,u!==null))for(hr(u,f,g),u=u.sibling;u!==null;)hr(u,f,g),u=u.sibling}function xh(u,f,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,f?g.insertBefore(u,f):g.appendChild(u);else if(w!==4&&w!==27&&(u=u.child,u!==null))for(xh(u,f,g),u=u.sibling;u!==null;)xh(u,f,g),u=u.sibling}var Jl=!1,ai=!1,Aw=!1,Bk=typeof WeakSet=="function"?WeakSet:Set,Ai=null,Ew=!1;function Vk(u,f){if(u=u.containerInfo,iS=ig,u=uk(u),$1(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var T=w.anchorOffset,D=w.focusNode;w=w.focusOffset;try{g.nodeType,D.nodeType}catch{g=null;break e}var I=0,K=-1,ne=-1,he=0,Me=0,Ie=u,xe=null;t:for(;;){for(var _e;Ie!==g||T!==0&&Ie.nodeType!==3||(K=I+T),Ie!==D||w!==0&&Ie.nodeType!==3||(ne=I+w),Ie.nodeType===3&&(I+=Ie.nodeValue.length),(_e=Ie.firstChild)!==null;)xe=Ie,Ie=_e;for(;;){if(Ie===u)break t;if(xe===g&&++he===T&&(K=I),xe===D&&++Me===w&&(ne=I),(_e=Ie.nextSibling)!==null)break;Ie=xe,xe=Ie.parentNode}Ie=_e}g=K===-1||ne===-1?null:{start:K,end:ne}}else g=null}g=g||{start:0,end:0}}else g=null;for(rS={focusedElem:u,selectionRange:g},ig=!1,Ai=f;Ai!==null;)if(f=Ai,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,Ai=u;else for(;Ai!==null;){switch(f=Ai,D=f.alternate,u=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&D!==null){u=void 0,g=f,T=D.memoizedProps,D=D.memoizedState,w=g.stateNode;try{var st=Kl(g.type,T,g.elementType===g.type);u=w.getSnapshotBeforeUpdate(st,D),w.__reactInternalSnapshotBeforeUpdate=u}catch(Tt){Un(g,g.return,Tt)}}break;case 3:if((u&1024)!==0){if(u=f.stateNode.containerInfo,g=u.nodeType,g===9)lS(u);else if(g===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":lS(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(i(163))}if(u=f.sibling,u!==null){u.return=f.return,Ai=u;break}Ai=f.return}return st=Ew,Ew=!1,st}function Hk(u,f,g){var w=g.flags;switch(g.tag){case 0:case 11:case 15:Qa(u,g),w&4&&Vi(5,g);break;case 1:if(Qa(u,g),w&4)if(u=g.stateNode,f===null)try{u.componentDidMount()}catch(K){Un(g,g.return,K)}else{var T=Kl(g.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(T,f,u.__reactInternalSnapshotBeforeUpdate)}catch(K){Un(g,g.return,K)}}w&64&&Ik(g),w&512&&Ed(g,g.return);break;case 3:if(Qa(u,g),w&64&&(w=g.updateQueue,w!==null)){if(u=null,g.child!==null)switch(g.child.tag){case 27:case 5:u=g.child.stateNode;break;case 1:u=g.child.stateNode}try{Sw(w,u)}catch(K){Un(g,g.return,K)}}break;case 26:Qa(u,g),w&512&&Ed(g,g.return);break;case 27:case 5:Qa(u,g),f===null&&w&4&&Fk(g),w&512&&Ed(g,g.return);break;case 12:Qa(u,g);break;case 13:Qa(u,g),w&4&&qk(u,g);break;case 22:if(T=g.memoizedState!==null||Jl,!T){f=f!==null&&f.memoizedState!==null||ai;var D=Jl,I=ai;Jl=T,(ai=f)&&!I?ys(u,g,(g.subtreeFlags&8772)!==0):Qa(u,g),Jl=D,ai=I}w&512&&(g.memoizedProps.mode==="manual"?Ed(g,g.return):gs(g,g.return));break;default:Qa(u,g)}}function Uk(u){var f=u.alternate;f!==null&&(u.alternate=null,Uk(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&C1(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Hi=null,Ys=!1;function Za(u,f,g){for(g=g.child;g!==null;)Tw(u,f,g),g=g.sibling}function Tw(u,f,g){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(ri,g)}catch{}switch(g.tag){case 26:ai||gs(g,f),Za(u,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:ai||gs(g,f);var w=Hi,T=Ys;for(Hi=g.stateNode,Za(u,f,g),g=g.stateNode,f=g.attributes;f.length;)g.removeAttributeNode(f[0]);C1(g),Hi=w,Ys=T;break;case 5:ai||gs(g,f);case 6:T=Hi;var D=Ys;if(Hi=null,Za(u,f,g),Hi=T,Ys=D,Hi!==null)if(Ys)try{u=Hi,w=g.stateNode,u.nodeType===8?u.parentNode.removeChild(w):u.removeChild(w)}catch(I){Un(g,f,I)}else try{Hi.removeChild(g.stateNode)}catch(I){Un(g,f,I)}break;case 18:Hi!==null&&(Ys?(f=Hi,g=g.stateNode,f.nodeType===8?aS(f.parentNode,g):f.nodeType===1&&aS(f,g),lg(f)):aS(Hi,g.stateNode));break;case 4:w=Hi,T=Ys,Hi=g.stateNode.containerInfo,Ys=!0,Za(u,f,g),Hi=w,Ys=T;break;case 0:case 11:case 14:case 15:ai||cu(2,g,f),ai||cu(4,g,f),Za(u,f,g);break;case 1:ai||(gs(g,f),w=g.stateNode,typeof w.componentWillUnmount=="function"&&Cw(g,f,w)),Za(u,f,g);break;case 21:Za(u,f,g);break;case 22:ai||gs(g,f),ai=(w=ai)||g.memoizedState!==null,Za(u,f,g),ai=w;break;default:Za(u,f,g)}}function qk(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{lg(u)}catch(g){Un(f,f.return,g)}}function kw(u){switch(u.tag){case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new Bk),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new Bk),f;default:throw Error(i(435,u.tag))}}function db(u,f){var g=kw(u);f.forEach(function(w){var T=iP.bind(null,u,w);g.has(w)||(g.add(w),w.then(T,T))})}function Rr(u,f){var g=f.deletions;if(g!==null)for(var w=0;w<g.length;w++){var T=g[w],D=u,I=f,K=I;e:for(;K!==null;){switch(K.tag){case 27:case 5:Hi=K.stateNode,Ys=!1;break e;case 3:Hi=K.stateNode.containerInfo,Ys=!0;break e;case 4:Hi=K.stateNode.containerInfo,Ys=!0;break e}K=K.return}if(Hi===null)throw Error(i(160));Tw(D,I,T),Hi=null,Ys=!1,D=T.alternate,D!==null&&(D.return=null),T.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)_w(f,u),f=f.sibling}var Xs=null;function _w(u,f){var g=u.alternate,w=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Rr(f,u),Js(u),w&4&&(cu(3,u,u.return),Vi(3,u),cu(5,u,u.return));break;case 1:Rr(f,u),Js(u),w&512&&(ai||g===null||gs(g,g.return)),w&64&&Jl&&(u=u.updateQueue,u!==null&&(w=u.callbacks,w!==null&&(g=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=g===null?w:g.concat(w))));break;case 26:var T=Xs;if(Rr(f,u),Js(u),w&512&&(ai||g===null||gs(g,g.return)),w&4){var D=g!==null?g.memoizedState:null;if(w=u.memoizedState,g===null)if(w===null)if(u.stateNode===null){e:{w=u.type,g=u.memoizedProps,T=T.ownerDocument||T;t:switch(w){case"title":D=T.getElementsByTagName("title")[0],(!D||D[sm]||D[kr]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=T.createElement(w),T.head.insertBefore(D,T.querySelector("head > title"))),pr(D,w,g),D[kr]=u,Mi(D),w=D;break e;case"link":var I=k_("link","href",T).get(w+(g.href||""));if(I){for(var K=0;K<I.length;K++)if(D=I[K],D.getAttribute("href")===(g.href==null?null:g.href)&&D.getAttribute("rel")===(g.rel==null?null:g.rel)&&D.getAttribute("title")===(g.title==null?null:g.title)&&D.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){I.splice(K,1);break t}}D=T.createElement(w),pr(D,w,g),T.head.appendChild(D);break;case"meta":if(I=k_("meta","content",T).get(w+(g.content||""))){for(K=0;K<I.length;K++)if(D=I[K],D.getAttribute("content")===(g.content==null?null:""+g.content)&&D.getAttribute("name")===(g.name==null?null:g.name)&&D.getAttribute("property")===(g.property==null?null:g.property)&&D.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&D.getAttribute("charset")===(g.charSet==null?null:g.charSet)){I.splice(K,1);break t}}D=T.createElement(w),pr(D,w,g),T.head.appendChild(D);break;default:throw Error(i(468,w))}D[kr]=u,Mi(D),w=D}u.stateNode=w}else __(T,u.type,u.stateNode);else u.stateNode=eg(T,w,u.memoizedProps);else D!==w?(D===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):D.count--,w===null?__(T,u.type,u.stateNode):eg(T,w,u.memoizedProps)):w===null&&u.stateNode!==null&&$k(u,u.memoizedProps,g.memoizedProps)}break;case 27:if(w&4&&u.alternate===null){T=u.stateNode,D=u.memoizedProps;try{for(var ne=T.firstChild;ne;){var he=ne.nextSibling,Me=ne.nodeName;ne[sm]||Me==="HEAD"||Me==="BODY"||Me==="SCRIPT"||Me==="STYLE"||Me==="LINK"&&ne.rel.toLowerCase()==="stylesheet"||T.removeChild(ne),ne=he}for(var Ie=u.type,xe=T.attributes;xe.length;)T.removeAttributeNode(xe[0]);pr(T,Ie,D),T[kr]=u,T[ds]=D}catch(st){Un(u,u.return,st)}}case 5:if(Rr(f,u),Js(u),w&512&&(ai||g===null||gs(g,g.return)),u.flags&32){T=u.stateNode;try{Ko(T,"")}catch(st){Un(u,u.return,st)}}w&4&&u.stateNode!=null&&(T=u.memoizedProps,$k(u,T,g!==null?g.memoizedProps:T)),w&1024&&(Aw=!0);break;case 6:if(Rr(f,u),Js(u),w&4){if(u.stateNode===null)throw Error(i(162));w=u.memoizedProps,g=u.stateNode;try{g.nodeValue=w}catch(st){Un(u,u.return,st)}}break;case 3:if(_b=null,T=Xs,Xs=Eb(f.containerInfo),Rr(f,u),Xs=T,Js(u),w&4&&g!==null&&g.memoizedState.isDehydrated)try{lg(f.containerInfo)}catch(st){Un(u,u.return,st)}Aw&&(Aw=!1,$m(u));break;case 4:w=Xs,Xs=Eb(u.stateNode.containerInfo),Rr(f,u),Js(u),Xs=w;break;case 12:Rr(f,u),Js(u);break;case 13:Rr(f,u),Js(u),u.child.flags&8192&&u.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Iw=Ee()),w&4&&(w=u.updateQueue,w!==null&&(u.updateQueue=null,db(u,w)));break;case 22:if(w&512&&(ai||g===null||gs(g,g.return)),ne=u.memoizedState!==null,he=g!==null&&g.memoizedState!==null,Me=Jl,Ie=ai,Jl=Me||ne,ai=Ie||he,Rr(f,u),ai=Ie,Jl=Me,Js(u),f=u.stateNode,f._current=u,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,w&8192&&(f._visibility=ne?f._visibility&-2:f._visibility|1,ne&&(f=Jl||ai,g===null||he||f||Kr(u)),u.memoizedProps===null||u.memoizedProps.mode!=="manual"))e:for(g=null,f=u;;){if(f.tag===5||f.tag===26||f.tag===27){if(g===null){he=g=f;try{if(T=he.stateNode,ne)D=T.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{I=he.stateNode,K=he.memoizedProps.style;var _e=K!=null&&K.hasOwnProperty("display")?K.display:null;I.style.display=_e==null||typeof _e=="boolean"?"":(""+_e).trim()}}catch(st){Un(he,he.return,st)}}}else if(f.tag===6){if(g===null){he=f;try{he.stateNode.nodeValue=ne?"":he.memoizedProps}catch(st){Un(he,he.return,st)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}w&4&&(w=u.updateQueue,w!==null&&(g=w.retryQueue,g!==null&&(w.retryQueue=null,db(u,g))));break;case 19:Rr(f,u),Js(u),w&4&&(w=u.updateQueue,w!==null&&(u.updateQueue=null,db(u,w)));break;case 21:break;default:Rr(f,u),Js(u)}}function Js(u){var f=u.flags;if(f&2){try{if(u.tag!==27){e:{for(var g=u.return;g!==null;){if(zk(g)){var w=g;break e}g=g.return}throw Error(i(160))}switch(w.tag){case 27:var T=w.stateNode,D=oa(u);xh(u,D,T);break;case 5:var I=w.stateNode;w.flags&32&&(Ko(I,""),w.flags&=-33);var K=oa(u);xh(u,K,I);break;case 3:case 4:var ne=w.stateNode.containerInfo,he=oa(u);hr(u,he,ne);break;default:throw Error(i(161))}}}catch(Me){Un(u,u.return,Me)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function $m(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;$m(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),u=u.sibling}}function Qa(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Hk(u,f.alternate,f),f=f.sibling}function Kr(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:cu(4,f,f.return),Kr(f);break;case 1:gs(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&Cw(f,f.return,g),Kr(f);break;case 26:case 27:case 5:gs(f,f.return),Kr(f);break;case 22:gs(f,f.return),f.memoizedState===null&&Kr(f);break;default:Kr(f)}u=u.sibling}}function ys(u,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var w=f.alternate,T=u,D=f,I=D.flags;switch(D.tag){case 0:case 11:case 15:ys(T,D,g),Vi(4,D);break;case 1:if(ys(T,D,g),w=D,T=w.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(he){Un(w,w.return,he)}if(w=D,T=w.updateQueue,T!==null){var K=w.stateNode;try{var ne=T.shared.hiddenCallbacks;if(ne!==null)for(T.shared.hiddenCallbacks=null,T=0;T<ne.length;T++)ub(ne[T],K)}catch(he){Un(w,w.return,he)}}g&&I&64&&Ik(D),Ed(D,D.return);break;case 26:case 27:case 5:ys(T,D,g),g&&w===null&&I&4&&Fk(D),Ed(D,D.return);break;case 12:ys(T,D,g);break;case 13:ys(T,D,g),g&&I&4&&qk(T,D);break;case 22:D.memoizedState===null&&ys(T,D,g),Ed(D,D.return);break;default:ys(T,D,g)}f=f.sibling}}function Mw(u,f){var g=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==g&&(u!=null&&u.refCount++,g!=null&&wm(g))}function fb(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&wm(u))}function uu(u,f,g,w){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Gk(u,f,g,w),f=f.sibling}function Gk(u,f,g,w){var T=f.flags;switch(f.tag){case 0:case 11:case 15:uu(u,f,g,w),T&2048&&Vi(9,f);break;case 3:uu(u,f,g,w),T&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&wm(u)));break;case 12:if(T&2048){uu(u,f,g,w),u=f.stateNode;try{var D=f.memoizedProps,I=D.id,K=D.onPostCommit;typeof K=="function"&&K(I,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(ne){Un(f,f.return,ne)}}else uu(u,f,g,w);break;case 23:break;case 22:D=f.stateNode,f.memoizedState!==null?D._visibility&4?uu(u,f,g,w):zm(u,f):D._visibility&4?uu(u,f,g,w):(D._visibility|=4,wh(u,f,g,w,(f.subtreeFlags&10256)!==0)),T&2048&&Mw(f.alternate,f);break;case 24:uu(u,f,g,w),T&2048&&fb(f.alternate,f);break;default:uu(u,f,g,w)}}function wh(u,f,g,w,T){for(T=T&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var D=u,I=f,K=g,ne=w,he=I.flags;switch(I.tag){case 0:case 11:case 15:wh(D,I,K,ne,T),Vi(8,I);break;case 23:break;case 22:var Me=I.stateNode;I.memoizedState!==null?Me._visibility&4?wh(D,I,K,ne,T):zm(D,I):(Me._visibility|=4,wh(D,I,K,ne,T)),T&&he&2048&&Mw(I.alternate,I);break;case 24:wh(D,I,K,ne,T),T&&he&2048&&fb(I.alternate,I);break;default:wh(D,I,K,ne,T)}f=f.sibling}}function zm(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=u,w=f,T=w.flags;switch(w.tag){case 22:zm(g,w),T&2048&&Mw(w.alternate,w);break;case 24:zm(g,w),T&2048&&fb(w.alternate,w);break;default:zm(g,w)}f=f.sibling}}var Bm=8192;function Sh(u){if(u.subtreeFlags&Bm)for(u=u.child;u!==null;)Wk(u),u=u.sibling}function Wk(u){switch(u.tag){case 26:Sh(u),u.flags&Bm&&u.memoizedState!==null&&yP(Xs,u.memoizedState,u.memoizedProps);break;case 5:Sh(u);break;case 3:case 4:var f=Xs;Xs=Eb(u.stateNode.containerInfo),Sh(u),Xs=f;break;case 22:u.memoizedState===null&&(f=u.alternate,f!==null&&f.memoizedState!==null?(f=Bm,Bm=16777216,Sh(u),Bm=f):Sh(u));break;default:Sh(u)}}function Kk(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function Vm(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var w=f[g];Ai=w,Rw(w,u)}Kk(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Yk(u),u=u.sibling}function Yk(u){switch(u.tag){case 0:case 11:case 15:Vm(u),u.flags&2048&&cu(9,u,u.return);break;case 3:Vm(u);break;case 12:Vm(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&4&&(u.return===null||u.return.tag!==13)?(f._visibility&=-5,hb(u)):Vm(u);break;default:Vm(u)}}function hb(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var w=f[g];Ai=w,Rw(w,u)}Kk(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:cu(8,f,f.return),hb(f);break;case 22:g=f.stateNode,g._visibility&4&&(g._visibility&=-5,hb(f));break;default:hb(f)}u=u.sibling}}function Rw(u,f){for(;Ai!==null;){var g=Ai;switch(g.tag){case 0:case 11:case 15:cu(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var w=g.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:wm(g.memoizedState.cache)}if(w=g.child,w!==null)w.return=g,Ai=w;else e:for(g=u;Ai!==null;){w=Ai;var T=w.sibling,D=w.return;if(Uk(w),w===g){Ai=null;break e}if(T!==null){T.return=D,Ai=T;break e}Ai=D}}}function Xk(u,f,g,w){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zs(u,f,g,w){return new Xk(u,f,g,w)}function Dw(u){return u=u.prototype,!(!u||!u.isReactComponent)}function du(u,f){var g=u.alternate;return g===null?(g=Zs(u.tag,f,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=f,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&31457280,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,f=u.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g.refCleanup=u.refCleanup,g}function Jk(u,f){u.flags&=31457282;var g=u.alternate;return g===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=g.childLanes,u.lanes=g.lanes,u.child=g.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=g.memoizedProps,u.memoizedState=g.memoizedState,u.updateQueue=g.updateQueue,u.type=g.type,f=g.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function Hm(u,f,g,w,T,D){var I=0;if(w=u,typeof u=="function")Dw(u)&&(I=1);else if(typeof u=="string")I=mP(u,g,ft.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case l:return Td(g.children,T,D,f);case c:I=8,T|=24;break;case d:return u=Zs(12,g,f,T|2),u.elementType=d,u.lanes=D,u;case S:return u=Zs(13,g,f,T),u.elementType=S,u.lanes=D,u;case A:return u=Zs(19,g,f,T),u.elementType=A,u.lanes=D,u;case R:return Zk(g,T,D,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case h:case m:I=10;break e;case p:I=9;break e;case v:I=11;break e;case E:I=14;break e;case M:I=16,w=null;break e}I=29,g=Error(i(130,u===null?"null":typeof u,"")),w=null}return f=Zs(I,g,f,T),f.elementType=u,f.type=w,f.lanes=D,f}function Td(u,f,g,w){return u=Zs(7,u,w,f),u.lanes=g,u}function Zk(u,f,g,w){u=Zs(22,u,w,f),u.elementType=R,u.lanes=g;var T={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var D=T._current;if(D===null)throw Error(i(456));if((T._pendingVisibility&2)===0){var I=Xo(D,2);I!==null&&(T._pendingVisibility|=2,Dr(I,D,2))}},attach:function(){var D=T._current;if(D===null)throw Error(i(456));if((T._pendingVisibility&2)!==0){var I=Xo(D,2);I!==null&&(T._pendingVisibility&=-3,Dr(I,D,2))}}};return u.stateNode=T,u}function Nw(u,f,g){return u=Zs(6,u,null,f),u.lanes=g,u}function Pw(u,f,g){return f=Zs(4,u.children!==null?u.children:[],u.key,f),f.lanes=g,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function Zl(u){u.flags|=4}function Qk(u,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!M_(f)){if(f=Ro.current,f!==null&&((hn&4194176)===hn?Ga!==null:(hn&62914560)!==hn&&(hn&536870912)===0||f!==Ga))throw bm=Yc,ym;u.flags|=8192}}function Yr(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?_T():536870912,u.lanes|=f,Ah|=f)}function Um(u,f){if(!Et)switch(u.tailMode){case"hidden":f=u.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:w.sibling=null}}function gi(u){var f=u.alternate!==null&&u.alternate.child===u.child,g=0,w=0;if(f)for(var T=u.child;T!==null;)g|=T.lanes|T.childLanes,w|=T.subtreeFlags&31457280,w|=T.flags&31457280,T.return=u,T=T.sibling;else for(T=u.child;T!==null;)g|=T.lanes|T.childLanes,w|=T.subtreeFlags,w|=T.flags,T.return=u,T=T.sibling;return u.subtreeFlags|=w,u.childLanes=g,f}function WN(u,f,g){var w=f.pendingProps;switch(H1(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(f),null;case 1:return gi(f),null;case 3:return g=f.stateNode,w=null,u!==null&&(w=u.memoizedState.cache),f.memoizedState.cache!==w&&(f.flags|=2048),Ya(Xi),Vn(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(u===null||u.child===null)&&(bd(f)?Zl(f):u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Jo!==null&&(Eh(Jo),Jo=null))),gi(f),null;case 26:return g=f.memoizedState,u===null?(Zl(f),g!==null?(gi(f),Qk(f,g)):(gi(f),f.flags&=-16777217)):g?g!==u.memoizedState?(Zl(f),gi(f),Qk(f,g)):(gi(f),f.flags&=-16777217):(u.memoizedProps!==w&&Zl(f),gi(f),f.flags&=-16777217),null;case 27:mi(f),g=xt.current;var T=f.type;if(u!==null&&f.stateNode!=null)u.memoizedProps!==w&&Zl(f);else{if(!w){if(f.stateNode===null)throw Error(i(166));return gi(f),null}u=ft.current,bd(f)?V0(f):(u=cS(T,w,g),f.stateNode=u,Zl(f))}return gi(f),null;case 5:if(mi(f),g=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==w&&Zl(f);else{if(!w){if(f.stateNode===null)throw Error(i(166));return gi(f),null}if(u=ft.current,bd(f))V0(f);else{switch(T=Sb(xt.current),u){case 1:u=T.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:u=T.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":u=T.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":u=T.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":u=T.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof w.is=="string"?T.createElement("select",{is:w.is}):T.createElement("select"),w.multiple?u.multiple=!0:w.size&&(u.size=w.size);break;default:u=typeof w.is=="string"?T.createElement(g,{is:w.is}):T.createElement(g)}}u[kr]=f,u[ds]=w;e:for(T=f.child;T!==null;){if(T.tag===5||T.tag===6)u.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===f)break e;for(;T.sibling===null;){if(T.return===null||T.return===f)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}f.stateNode=u;e:switch(pr(u,g,w),g){case"button":case"input":case"select":case"textarea":u=!!w.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Zl(f)}}return gi(f),f.flags&=-16777217,null;case 6:if(u&&f.stateNode!=null)u.memoizedProps!==w&&Zl(f);else{if(typeof w!="string"&&f.stateNode===null)throw Error(i(166));if(u=xt.current,bd(f)){if(u=f.stateNode,g=f.memoizedProps,w=null,T=Gr,T!==null)switch(T.tag){case 27:case 5:w=T.memoizedProps}u[kr]=f,u=!!(u.nodeValue===g||w!==null&&w.suppressHydrationWarning===!0||_t(u.nodeValue,g)),u||yd(f)}else u=Sb(u).createTextNode(w),u[kr]=f,f.stateNode=u}return gi(f),null;case 13:if(w=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(T=bd(f),w!==null&&w.dehydrated!==null){if(u===null){if(!T)throw Error(i(318));if(T=f.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(i(317));T[kr]=f}else qa(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;gi(f),T=!1}else Jo!==null&&(Eh(Jo),Jo=null),T=!0;if(!T)return f.flags&256?(Ul(f),f):(Ul(f),null)}if(Ul(f),(f.flags&128)!==0)return f.lanes=g,f;if(g=w!==null,u=u!==null&&u.memoizedState!==null,g){w=f.child,T=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(T=w.alternate.memoizedState.cachePool.pool);var D=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(D=w.memoizedState.cachePool.pool),D!==T&&(w.flags|=2048)}return g!==u&&g&&(f.child.flags|=8192),Yr(f,f.updateQueue),gi(f),null;case 4:return Vn(),u===null&&tS(f.stateNode.containerInfo),gi(f),null;case 10:return Ya(f.type),gi(f),null;case 19:if(Ye(Yi),T=f.memoizedState,T===null)return gi(f),null;if(w=(f.flags&128)!==0,D=T.rendering,D===null)if(w)Um(T,!1);else{if(Ei!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(D=q0(u),D!==null){for(f.flags|=128,Um(T,!1),u=D.updateQueue,f.updateQueue=u,Yr(f,u),f.subtreeFlags=0,u=g,g=f.child;g!==null;)Jk(g,u),g=g.sibling;return Ge(Yi,Yi.current&1|2),f.child}u=u.sibling}T.tail!==null&&Ee()>pb&&(f.flags|=128,w=!0,Um(T,!1),f.lanes=4194304)}else{if(!w)if(u=q0(D),u!==null){if(f.flags|=128,w=!0,u=u.updateQueue,f.updateQueue=u,Yr(f,u),Um(T,!0),T.tail===null&&T.tailMode==="hidden"&&!D.alternate&&!Et)return gi(f),null}else 2*Ee()-T.renderingStartTime>pb&&g!==536870912&&(f.flags|=128,w=!0,Um(T,!1),f.lanes=4194304);T.isBackwards?(D.sibling=f.child,f.child=D):(u=T.last,u!==null?u.sibling=D:f.child=D,T.last=D)}return T.tail!==null?(f=T.tail,T.rendering=f,T.tail=f.sibling,T.renderingStartTime=Ee(),f.sibling=null,u=Yi.current,Ge(Yi,w?u&1|2:u&1),f):(gi(f),null);case 22:case 23:return Ul(f),q1(),w=f.memoizedState!==null,u!==null?u.memoizedState!==null!==w&&(f.flags|=8192):w&&(f.flags|=8192),w?(g&536870912)!==0&&(f.flags&128)===0&&(gi(f),f.subtreeFlags&6&&(f.flags|=8192)):gi(f),g=f.updateQueue,g!==null&&Yr(f,g.retryQueue),g=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),w=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==g&&(f.flags|=2048),u!==null&&Ye(vd),null;case 24:return g=null,u!==null&&(g=u.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),Ya(Xi),gi(f),null;case 25:return null}throw Error(i(156,f.tag))}function e_(u,f){switch(H1(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Ya(Xi),Vn(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return mi(f),null;case 13:if(Ul(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(i(340));qa()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Ye(Yi),null;case 4:return Vn(),null;case 10:return Ya(f.type),null;case 22:case 23:return Ul(f),q1(),u!==null&&Ye(vd),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return Ya(Xi),null;case 25:return null;default:return null}}function t_(u,f){switch(H1(f),f.tag){case 3:Ya(Xi),Vn();break;case 26:case 27:case 5:mi(f);break;case 4:Vn();break;case 13:Ul(f);break;case 19:Ye(Yi);break;case 10:Ya(f.type);break;case 22:case 23:Ul(f),q1(),u!==null&&Ye(vd);break;case 24:Ya(Xi)}}var KN={getCacheForType:function(u){var f=Mr(Xi),g=f.data.get(u);return g===void 0&&(g=u(),f.data.set(u,g)),g}},YN=typeof WeakMap=="function"?WeakMap:Map,yi=0,Fn=null,tn=null,hn=0,Kn=0,Qs=null,Ql=!1,Ch=!1,Ow=!1,ec=0,Ei=0,fu=0,kd=0,Lw=0,No=0,Ah=0,qm=null,el=null,jw=!1,Iw=0,pb=1/0,mb=null,tl=null,Gm=!1,_d=null,Wm=0,Fw=0,$w=null,Km=0,zw=null;function eo(){if((yi&2)!==0&&hn!==0)return hn&-hn;if(q.T!==null){var u=th;return u!==0?u:Xw()}return DT()}function n_(){No===0&&(No=(hn&536870912)===0||Et?v1():536870912);var u=Ro.current;return u!==null&&(u.flags|=32),No}function Dr(u,f,g){(u===Fn&&Kn===2||u.cancelPendingCommit!==null)&&(Th(u,0),tc(u,hn,No,!1)),rm(u,g),((yi&2)===0||u!==Fn)&&(u===Fn&&((yi&2)===0&&(kd|=g),Ei===4&&tc(u,hn,No,!1)),aa(u))}function i_(u,f,g){if((yi&6)!==0)throw Error(i(327));var w=!g&&(f&60)===0&&(f&u.expiredLanes)===0||rd(u,f),T=w?ZN(u,f):Hw(u,f,!0),D=w;do{if(T===0){Ch&&!w&&tc(u,f,0,!1);break}else if(T===6)tc(u,f,0,!Ql);else{if(g=u.current.alternate,D&&!XN(g)){T=Hw(u,f,!1),D=!1;continue}if(T===2){if(D=f,u.errorRecoveryDisabledLanes&D)var I=0;else I=u.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){f=I;e:{var K=u;T=qm;var ne=K.current.memoizedState.isDehydrated;if(ne&&(Th(K,I).flags|=256),I=Hw(K,I,!1),I!==2){if(Ow&&!ne){K.errorRecoveryDisabledLanes|=D,kd|=D,T=4;break e}D=el,el=T,D!==null&&Eh(D)}T=I}if(D=!1,T!==2)continue}}if(T===1){Th(u,0),tc(u,f,0,!0);break}e:{switch(w=u,T){case 0:case 1:throw Error(i(345));case 4:if((f&4194176)===f){tc(w,f,No,!Ql);break e}break;case 2:el=null;break;case 3:case 5:break;default:throw Error(i(329))}if(w.finishedWork=g,w.finishedLanes=f,(f&62914560)===f&&(D=Iw+300-Ee(),10<D)){if(tc(w,f,No,!Ql),Ll(w,0)!==0)break e;w.timeoutHandle=oS(r_.bind(null,w,g,el,mb,jw,f,No,kd,Ah,Ql,2,-0,0),D);break e}r_(w,g,el,mb,jw,f,No,kd,Ah,Ql,0,-0,0)}}break}while(!0);aa(u)}function Eh(u){el===null?el=u:el.push.apply(el,u)}function r_(u,f,g,w,T,D,I,K,ne,he,Me,Ie,xe){var _e=f.subtreeFlags;if((_e&8192||(_e&16785408)===16785408)&&(tg={stylesheets:null,count:0,unsuspend:gP},Wk(f),f=bP(),f!==null)){u.cancelPendingCommit=f(d_.bind(null,u,g,w,T,I,K,ne,1,Ie,xe)),tc(u,D,I,!he);return}d_(u,g,w,T,I,K,ne,Me,Ie,xe)}function XN(u){for(var f=u;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var w=0;w<g.length;w++){var T=g[w],D=T.getSnapshot;T=T.value;try{if(!Hs(D(),T))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function tc(u,f,g,w){f&=~Lw,f&=~kd,u.suspendedLanes|=f,u.pingedLanes&=~f,w&&(u.warmLanes|=f),w=u.expirationTimes;for(var T=f;0<T;){var D=31-Dn(T),I=1<<D;w[D]=-1,T&=~I}g!==0&&MT(u,g,f)}function gb(){return(yi&6)===0?(Dd(0),!1):!0}function Bw(){if(tn!==null){if(Kn===0)var u=tn.return;else u=tn,na=ou=null,sh(u),Bl=null,Vl=0,u=tn;for(;u!==null;)t_(u.alternate,u),u=u.return;tn=null}}function Th(u,f){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;g!==-1&&(u.timeoutHandle=-1,Cb(g)),g=u.cancelPendingCommit,g!==null&&(u.cancelPendingCommit=null,g()),Bw(),Fn=u,tn=g=du(u.current,null),hn=f,Kn=0,Qs=null,Ql=!1,Ch=rd(u,f),Ow=!1,Ah=No=Lw=kd=fu=Ei=0,el=qm=null,jw=!1,(f&8)!==0&&(f|=f&32);var w=u.entangledLanes;if(w!==0)for(u=u.entanglements,w&=f;0<w;){var T=31-Dn(w),D=1<<T;f|=u[T],w&=~D}return ec=f,$0(),g}function s_(u,f){Kt=null,q.H=Ci,f===zl?(f=gk(),Kn=3):f===ym?(f=gk(),Kn=4):Kn=f===pw?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Qs=f,tn===null&&(Ei=1,Rm(u,qr(f,u.current)))}function o_(){var u=q.H;return q.H=Ci,u===null?Ci:u}function a_(){var u=q.A;return q.A=KN,u}function Vw(){Ei=4,Ql||(hn&4194176)!==hn&&Ro.current!==null||(Ch=!0),(fu&134217727)===0&&(kd&134217727)===0||Fn===null||tc(Fn,hn,No,!1)}function Hw(u,f,g){var w=yi;yi|=2;var T=o_(),D=a_();(Fn!==u||hn!==f)&&(mb=null,Th(u,f)),f=!1;var I=Ei;e:do try{if(Kn!==0&&tn!==null){var K=tn,ne=Qs;switch(Kn){case 8:Bw(),I=6;break e;case 3:case 2:case 6:Ro.current===null&&(f=!0);var he=Kn;if(Kn=0,Qs=null,Md(u,K,ne,he),g&&Ch){I=0;break e}break;default:he=Kn,Kn=0,Qs=null,Md(u,K,ne,he)}}JN(),I=Ei;break}catch(Me){s_(u,Me)}while(!0);return f&&u.shellSuspendCounter++,na=ou=null,yi=w,q.H=T,q.A=D,tn===null&&(Fn=null,hn=0,$0()),I}function JN(){for(;tn!==null;)l_(tn)}function ZN(u,f){var g=yi;yi|=2;var w=o_(),T=a_();Fn!==u||hn!==f?(mb=null,pb=Ee()+500,Th(u,f)):Ch=rd(u,f);e:do try{if(Kn!==0&&tn!==null){f=tn;var D=Qs;t:switch(Kn){case 1:Kn=0,Qs=null,Md(u,f,D,1);break;case 2:if(pk(D)){Kn=0,Qs=null,c_(f);break}f=function(){Kn===2&&Fn===u&&(Kn=7),aa(u)},D.then(f,f);break e;case 3:Kn=7;break e;case 4:Kn=5;break e;case 7:pk(D)?(Kn=0,Qs=null,c_(f)):(Kn=0,Qs=null,Md(u,f,D,7));break;case 5:var I=null;switch(tn.tag){case 26:I=tn.memoizedState;case 5:case 27:var K=tn;if(!I||M_(I)){Kn=0,Qs=null;var ne=K.sibling;if(ne!==null)tn=ne;else{var he=K.return;he!==null?(tn=he,Ym(he)):tn=null}break t}}Kn=0,Qs=null,Md(u,f,D,5);break;case 6:Kn=0,Qs=null,Md(u,f,D,6);break;case 8:Bw(),Ei=6;break e;default:throw Error(i(462))}}QN();break}catch(Me){s_(u,Me)}while(!0);return na=ou=null,q.H=w,q.A=T,yi=g,tn!==null?0:(Fn=null,hn=0,$0(),Ei)}function QN(){for(;tn!==null&&!ie();)l_(tn)}function l_(u){var f=ww(u.alternate,u,ec);u.memoizedProps=u.pendingProps,f===null?Ym(u):tn=f}function c_(u){var f=u,g=f.alternate;switch(f.tag){case 15:case 0:f=Ad(g,f,f.pendingProps,f.type,void 0,hn);break;case 11:f=Ad(g,f,f.pendingProps,f.type.render,f.ref,hn);break;case 5:sh(f);default:t_(g,f),f=tn=Jk(f,ec),f=ww(g,f,ec)}u.memoizedProps=u.pendingProps,f===null?Ym(u):tn=f}function Md(u,f,g,w){na=ou=null,sh(f),Bl=null,Vl=0;var T=f.return;try{if(qN(u,T,f,g,hn)){Ei=1,Rm(u,qr(g,u.current)),tn=null;return}}catch(D){if(T!==null)throw tn=T,D;Ei=1,Rm(u,qr(g,u.current)),tn=null;return}f.flags&32768?(Et||w===1?u=!0:Ch||(hn&536870912)!==0?u=!1:(Ql=u=!0,(w===2||w===3||w===6)&&(w=Ro.current,w!==null&&w.tag===13&&(w.flags|=16384))),u_(f,u)):Ym(f)}function Ym(u){var f=u;do{if((f.flags&32768)!==0){u_(f,Ql);return}u=f.return;var g=WN(f.alternate,f,ec);if(g!==null){tn=g;return}if(f=f.sibling,f!==null){tn=f;return}tn=f=u}while(f!==null);Ei===0&&(Ei=5)}function u_(u,f){do{var g=e_(u.alternate,u);if(g!==null){g.flags&=32767,tn=g;return}if(g=u.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(u=u.sibling,u!==null)){tn=u;return}tn=u=g}while(u!==null);Ei=6,tn=null}function d_(u,f,g,w,T,D,I,K,ne,he){var Me=q.T,Ie=ve.p;try{ve.p=2,q.T=null,eP(u,f,g,w,Ie,T,D,I,K,ne,he)}finally{q.T=Me,ve.p=Ie}}function eP(u,f,g,w,T,D,I,K){do nc();while(_d!==null);if((yi&6)!==0)throw Error(i(327));var ne=u.finishedWork;if(w=u.finishedLanes,ne===null)return null;if(u.finishedWork=null,u.finishedLanes=0,ne===u.current)throw Error(i(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var he=ne.lanes|ne.childLanes;if(he|=z1,w1(u,w,he,D,I,K),u===Fn&&(tn=Fn=null,hn=0),(ne.subtreeFlags&10256)===0&&(ne.flags&10256)===0||Gm||(Gm=!0,Fw=he,$w=g,rP(de,function(){return nc(),null})),g=(ne.flags&15990)!==0,(ne.subtreeFlags&15990)!==0||g?(g=q.T,q.T=null,D=ve.p,ve.p=2,I=yi,yi|=4,Vk(u,ne),_w(ne,u),LN(rS,u.containerInfo),ig=!!iS,rS=iS=null,u.current=ne,Hk(u,ne.alternate,ne),$e(),yi=I,ve.p=D,q.T=g):u.current=ne,Gm?(Gm=!1,_d=u,Wm=w):f_(u,he),he=u.pendingLanes,he===0&&(tl=null),Tr(ne.stateNode),aa(u),f!==null)for(T=u.onRecoverableError,ne=0;ne<f.length;ne++)he=f[ne],T(he.value,{componentStack:he.stack});return(Wm&3)!==0&&nc(),he=u.pendingLanes,(w&4194218)!==0&&(he&42)!==0?u===zw?Km++:(Km=0,zw=u):Km=0,Dd(0),null}function f_(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,wm(f)))}function nc(){if(_d!==null){var u=_d,f=Fw;Fw=0;var g=RT(Wm),w=q.T,T=ve.p;try{if(ve.p=32>g?32:g,q.T=null,_d===null)var D=!1;else{g=$w,$w=null;var I=_d,K=Wm;if(_d=null,Wm=0,(yi&6)!==0)throw Error(i(331));var ne=yi;if(yi|=4,Yk(I.current),Gk(I,I.current,K,g),yi=ne,Dd(0,!1),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(ri,I)}catch{}D=!0}return D}finally{ve.p=T,q.T=w,f_(u,f)}}return!1}function h_(u,f,g){f=qr(g,f),f=Dm(u.stateNode,f,2),u=Ks(u,f,2),u!==null&&(rm(u,2),aa(u))}function Un(u,f,g){if(u.tag===3)h_(u,u,g);else for(;f!==null;){if(f.tag===3){h_(f,u,g);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(tl===null||!tl.has(w))){u=qr(g,u),g=Ok(2),w=Ks(f,g,2),w!==null&&(Lk(g,w,f,u),rm(w,2),aa(w));break}}f=f.return}}function Uw(u,f,g){var w=u.pingCache;if(w===null){w=u.pingCache=new YN;var T=new Set;w.set(f,T)}else T=w.get(f),T===void 0&&(T=new Set,w.set(f,T));T.has(g)||(Ow=!0,T.add(g),u=tP.bind(null,u,f,g),f.then(u,u))}function tP(u,f,g){var w=u.pingCache;w!==null&&w.delete(f),u.pingedLanes|=u.suspendedLanes&g,u.warmLanes&=~g,Fn===u&&(hn&g)===g&&(Ei===4||Ei===3&&(hn&62914560)===hn&&300>Ee()-Iw?(yi&2)===0&&Th(u,0):Lw|=g,Ah===hn&&(Ah=0)),aa(u)}function p_(u,f){f===0&&(f=_T()),u=Xo(u,f),u!==null&&(rm(u,f),aa(u))}function nP(u){var f=u.memoizedState,g=0;f!==null&&(g=f.retryLane),p_(u,g)}function iP(u,f){var g=0;switch(u.tag){case 13:var w=u.stateNode,T=u.memoizedState;T!==null&&(g=T.retryLane);break;case 19:w=u.stateNode;break;case 22:w=u.stateNode._retryCache;break;default:throw Error(i(314))}w!==null&&w.delete(f),p_(u,g)}function rP(u,f){return Bt(u,f)}var yb=null,kh=null,qw=!1,Rd=!1,Gw=!1,hu=0;function aa(u){u!==kh&&u.next===null&&(kh===null?yb=kh=u:kh=kh.next=u),Rd=!0,qw||(qw=!0,sP(m_))}function Dd(u,f){if(!Gw&&Rd){Gw=!0;do for(var g=!1,w=yb;w!==null;){if(u!==0){var T=w.pendingLanes;if(T===0)var D=0;else{var I=w.suspendedLanes,K=w.pingedLanes;D=(1<<31-Dn(42|u)+1)-1,D&=T&~(I&~K),D=D&201326677?D&201326677|1:D?D|2:0}D!==0&&(g=!0,Yw(w,D))}else D=hn,D=Ll(w,w===Fn?D:0),(D&3)===0||rd(w,D)||(g=!0,Yw(w,D));w=w.next}while(g);Gw=!1}}function m_(){Rd=qw=!1;var u=0;hu!==0&&(ic()&&(u=hu),hu=0);for(var f=Ee(),g=null,w=yb;w!==null;){var T=w.next,D=Ww(w,f);D===0?(w.next=null,g===null?yb=T:g.next=T,T===null&&(kh=g)):(g=w,(u!==0||(D&3)!==0)&&(Rd=!0)),w=T}Dd(u)}function Ww(u,f){for(var g=u.suspendedLanes,w=u.pingedLanes,T=u.expirationTimes,D=u.pendingLanes&-62914561;0<D;){var I=31-Dn(D),K=1<<I,ne=T[I];ne===-1?((K&g)===0||(K&w)!==0)&&(T[I]=bN(K,f)):ne<=f&&(u.expiredLanes|=K),D&=~K}if(f=Fn,g=hn,g=Ll(u,u===f?g:0),w=u.callbackNode,g===0||u===f&&Kn===2||u.cancelPendingCommit!==null)return w!==null&&w!==null&&Hn(w),u.callbackNode=null,u.callbackPriority=0;if((g&3)===0||rd(u,g)){if(f=g&-g,f===u.callbackPriority)return f;switch(w!==null&&Hn(w),RT(g)){case 2:case 8:g=Ne;break;case 32:g=de;break;case 268435456:g=rt;break;default:g=de}return w=Kw.bind(null,u),g=Bt(g,w),u.callbackPriority=f,u.callbackNode=g,f}return w!==null&&w!==null&&Hn(w),u.callbackPriority=2,u.callbackNode=null,2}function Kw(u,f){var g=u.callbackNode;if(nc()&&u.callbackNode!==g)return null;var w=hn;return w=Ll(u,u===Fn?w:0),w===0?null:(i_(u,w,f),Ww(u,Ee()),u.callbackNode!=null&&u.callbackNode===g?Kw.bind(null,u):null)}function Yw(u,f){if(nc())return null;i_(u,f,!0)}function sP(u){Ti(function(){(yi&6)!==0?Bt(be,u):u()})}function Xw(){return hu===0&&(hu=v1()),hu}function g_(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:um(""+u)}function Xm(u,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,u.id&&g.setAttribute("form",u.id),f.parentNode.insertBefore(g,f),u=new FormData(u),g.parentNode.removeChild(g),u}function bb(u,f,g,w,T){if(f==="submit"&&g&&g.stateNode===T){var D=g_((T[ds]||null).action),I=w.submitter;I&&(f=(f=I[ds]||null)?g_(f.formAction):I.getAttribute("formAction"),f!==null&&(D=f,I=null));var K=new T0("action","action",null,w,T);u.push({event:K,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(hu!==0){var ne=I?Xm(T,I):new FormData(T);_m(g,{pending:!0,data:ne,method:T.method,action:D},null,ne)}}else typeof D=="function"&&(K.preventDefault(),ne=I?Xm(T,I):new FormData(T),_m(g,{pending:!0,data:ne,method:T.method,action:D},D,ne))},currentTarget:T}]})}}for(var Jw=0;Jw<fk.length;Jw++){var Zw=fk[Jw],Qw=Zw.toLowerCase(),y_=Zw[0].toUpperCase()+Zw.slice(1);Eo(Qw,"on"+y_)}Eo(dk,"onAnimationEnd"),Eo(Us,"onAnimationIteration"),Eo(mm,"onAnimationStart"),Eo("dblclick","onDoubleClick"),Eo("focusin","onFocus"),Eo("focusout","onBlur"),Eo(IN,"onTransitionRun"),Eo(Jf,"onTransitionStart"),Eo(F0,"onTransitionCancel"),Eo(gm,"onTransitionEnd"),ad("onMouseEnter",["mouseout","mouseover"]),ad("onMouseLeave",["mouseout","mouseover"]),ad("onPointerEnter",["pointerout","pointerover"]),ad("onPointerLeave",["pointerout","pointerover"]),od("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),od("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),od("onBeforeInput",["compositionend","keypress","textInput","paste"]),od("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),od("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),od("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jm));function b_(u,f){f=(f&4)!==0;for(var g=0;g<u.length;g++){var w=u[g],T=w.event;w=w.listeners;e:{var D=void 0;if(f)for(var I=w.length-1;0<=I;I--){var K=w[I],ne=K.instance,he=K.currentTarget;if(K=K.listener,ne!==D&&T.isPropagationStopped())break e;D=K,T.currentTarget=he;try{D(T)}catch(Me){hh(Me)}T.currentTarget=null,D=ne}else for(I=0;I<w.length;I++){if(K=w[I],ne=K.instance,he=K.currentTarget,K=K.listener,ne!==D&&T.isPropagationStopped())break e;D=K,T.currentTarget=he;try{D(T)}catch(Me){hh(Me)}T.currentTarget=null,D=ne}}}}function cn(u,f){var g=f[S1];g===void 0&&(g=f[S1]=new Set);var w=u+"__bubble";g.has(w)||(v_(f,u,2,!1),g.add(w))}function eS(u,f,g){var w=0;f&&(w|=4),v_(g,u,w,f)}var vb="_reactListening"+Math.random().toString(36).slice(2);function tS(u){if(!u[vb]){u[vb]=!0,OT.forEach(function(g){g!=="selectionchange"&&(oP.has(g)||eS(g,!1,u),eS(g,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[vb]||(f[vb]=!0,eS("selectionchange",!1,f))}}function v_(u,f,g,w){switch(P_(f)){case 2:var T=xP;break;case 8:T=wP;break;default:T=gS}g=T.bind(null,f,g,u),T=void 0,!fm||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(T=!0),w?T!==void 0?u.addEventListener(f,g,{capture:!0,passive:T}):u.addEventListener(f,g,!0):T!==void 0?u.addEventListener(f,g,{passive:T}):u.addEventListener(f,g,!1)}function nS(u,f,g,w,T){var D=w;if((f&1)===0&&(f&2)===0&&w!==null)e:for(;;){if(w===null)return;var I=w.tag;if(I===3||I===4){var K=w.stateNode.containerInfo;if(K===T||K.nodeType===8&&K.parentNode===T)break;if(I===4)for(I=w.return;I!==null;){var ne=I.tag;if((ne===3||ne===4)&&(ne=I.stateNode.containerInfo,ne===T||ne.nodeType===8&&ne.parentNode===T))return;I=I.return}for(;K!==null;){if(I=sd(K),I===null)return;if(ne=I.tag,ne===5||ne===6||ne===26||ne===27){w=D=I;continue e}K=K.parentNode}}w=w.return}UT(function(){var he=D,Me=k1(g),Ie=[];e:{var xe=Tn.get(u);if(xe!==void 0){var _e=T0,st=u;switch(u){case"keypress":if(jn(g)===0)break e;case"keydown":case"keyup":_e=N1;break;case"focusin":st="focus",_e=_0;break;case"focusout":st="blur",_e=_0;break;case"beforeblur":case"afterblur":_e=_0;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=D1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=kN;break;case dk:case Us:case mm:_e=YT;break;case gm:_e=_N;break;case"scroll":case"scrollend":_e=AN;break;case"wheel":_e=RN;break;case"copy":case"cut":case"paste":_e=JT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=jl;break;case"toggle":case"beforetoggle":_e=R0}var Tt=(f&4)!==0,vi=!Tt&&(u==="scroll"||u==="scrollend"),ge=Tt?xe!==null?xe+"Capture":null:xe;Tt=[];for(var fe=he,ye;fe!==null;){var Pe=fe;if(ye=Pe.stateNode,Pe=Pe.tag,Pe!==5&&Pe!==26&&Pe!==27||ye===null||ge===null||(Pe=dm(fe,ge),Pe!=null&&Tt.push(Zm(fe,Pe,ye))),vi)break;fe=fe.return}0<Tt.length&&(xe=new _e(xe,st,null,g,Me),Ie.push({event:xe,listeners:Tt}))}}if((f&7)===0){e:{if(xe=u==="mouseover"||u==="pointerover",_e=u==="mouseout"||u==="pointerout",xe&&g!==T1&&(st=g.relatedTarget||g.fromElement)&&(sd(st)||st[Bf]))break e;if((_e||xe)&&(xe=Me.window===Me?Me:(xe=Me.ownerDocument)?xe.defaultView||xe.parentWindow:window,_e?(st=g.relatedTarget||g.toElement,_e=he,st=st?sd(st):null,st!==null&&(vi=Z(st),Tt=st.tag,st!==vi||Tt!==5&&Tt!==27&&Tt!==6)&&(st=null)):(_e=null,st=he),_e!==st)){if(Tt=qc,Pe="onMouseLeave",ge="onMouseEnter",fe="mouse",(u==="pointerout"||u==="pointerover")&&(Tt=jl,Pe="onPointerLeave",ge="onPointerEnter",fe="pointer"),vi=_e==null?xe:Hc(_e),ye=st==null?xe:Hc(st),xe=new Tt(Pe,fe+"leave",_e,g,Me),xe.target=vi,xe.relatedTarget=ye,Pe=null,sd(Me)===he&&(Tt=new Tt(ge,fe+"enter",st,g,Me),Tt.target=ye,Tt.relatedTarget=vi,Pe=Tt),vi=Pe,_e&&st)t:{for(Tt=_e,ge=st,fe=0,ye=Tt;ye;ye=_h(ye))fe++;for(ye=0,Pe=ge;Pe;Pe=_h(Pe))ye++;for(;0<fe-ye;)Tt=_h(Tt),fe--;for(;0<ye-fe;)ge=_h(ge),ye--;for(;fe--;){if(Tt===ge||ge!==null&&Tt===ge.alternate)break t;Tt=_h(Tt),ge=_h(ge)}Tt=null}else Tt=null;_e!==null&&Po(Ie,xe,_e,Tt,!1),st!==null&&vi!==null&&Po(Ie,vi,st,Tt,!0)}}e:{if(xe=he?Hc(he):window,_e=xe.nodeName&&xe.nodeName.toLowerCase(),_e==="select"||_e==="input"&&xe.type==="file")var nt=rk;else if(O0(xe))if(sk)nt=PN;else{nt=Kc;var Zt=lk}else _e=xe.nodeName,!_e||_e.toLowerCase()!=="input"||xe.type!=="checkbox"&&xe.type!=="radio"?he&&A0(he.elementType)&&(nt=rk):nt=I0;if(nt&&(nt=nt(u,he))){Kf(Ie,nt,g,Me);break e}Zt&&Zt(u,xe,he),u==="focusout"&&he&&xe.type==="number"&&he.memoizedProps.value!=null&&A1(xe,"number",xe.value)}switch(Zt=he?Hc(he):window,u){case"focusin":(O0(Zt)||Zt.contentEditable==="true")&&(Yo=Zt,pe=he,Te=null);break;case"focusout":Te=pe=Yo=null;break;case"mousedown":we=!0;break;case"contextmenu":case"mouseup":case"dragend":we=!1,et(Ie,g,Me);break;case"selectionchange":if(jN)break;case"keydown":case"keyup":et(Ie,g,Me)}var at;if(L1)e:{switch(u){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else Gc?nk(u,g)&&(yt="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(yt="onCompositionStart");yt&&(D0&&g.locale!=="ko"&&(Gc||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Gc&&(at=qT()):(Uc=Me,M1="value"in Uc?Uc.value:Uc.textContent,Gc=!0)),Zt=xb(he,yt),0<Zt.length&&(yt=new hs(yt,u,null,g,Me),Ie.push({event:yt,listeners:Zt}),at?yt.data=at:(at=P0(g),at!==null&&(yt.data=at)))),(at=tk?DN(u,g):ik(u,g))&&(yt=xb(he,"onBeforeInput"),0<yt.length&&(Zt=new hs("onBeforeInput","beforeinput",null,g,Me),Ie.push({event:Zt,listeners:yt}),Zt.data=at)),bb(Ie,u,he,g,Me)}b_(Ie,f)})}function Zm(u,f,g){return{instance:u,listener:f,currentTarget:g}}function xb(u,f){for(var g=f+"Capture",w=[];u!==null;){var T=u,D=T.stateNode;T=T.tag,T!==5&&T!==26&&T!==27||D===null||(T=dm(u,g),T!=null&&w.unshift(Zm(u,T,D)),T=dm(u,f),T!=null&&w.push(Zm(u,T,D))),u=u.return}return w}function _h(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function Po(u,f,g,w,T){for(var D=f._reactName,I=[];g!==null&&g!==w;){var K=g,ne=K.alternate,he=K.stateNode;if(K=K.tag,ne!==null&&ne===w)break;K!==5&&K!==26&&K!==27||he===null||(ne=he,T?(he=dm(g,D),he!=null&&I.unshift(Zm(g,he,ne))):T||(he=dm(g,D),he!=null&&I.push(Zm(g,he,ne)))),g=g.return}I.length!==0&&u.push({event:f,listeners:I})}var aP=/\r\n?/g,lP=/\u0000|\uFFFD/g;function pu(u){return(typeof u=="string"?u:""+u).replace(aP,`
`).replace(lP,"")}function _t(u,f){return f=pu(f),pu(u)===f}function wb(){}function jt(u,f,g,w,T,D){switch(g){case"children":typeof w=="string"?f==="body"||f==="textarea"&&w===""||Ko(u,w):(typeof w=="number"||typeof w=="bigint")&&f!=="body"&&Ko(u,""+w);break;case"className":om(u,"class",w);break;case"tabIndex":om(u,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":om(u,g,w);break;case"style":zT(u,w,D);break;case"data":if(f!=="object"){om(u,"data",w);break}case"src":case"href":if(w===""&&(f!=="a"||g!=="href")){u.removeAttribute(g);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){u.removeAttribute(g);break}w=um(""+w),u.setAttribute(g,w);break;case"action":case"formAction":if(typeof w=="function"){u.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(g==="formAction"?(f!=="input"&&jt(u,f,"name",T.name,T,null),jt(u,f,"formEncType",T.formEncType,T,null),jt(u,f,"formMethod",T.formMethod,T,null),jt(u,f,"formTarget",T.formTarget,T,null)):(jt(u,f,"encType",T.encType,T,null),jt(u,f,"method",T.method,T,null),jt(u,f,"target",T.target,T,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){u.removeAttribute(g);break}w=um(""+w),u.setAttribute(g,w);break;case"onClick":w!=null&&(u.onclick=wb);break;case"onScroll":w!=null&&cn("scroll",u);break;case"onScrollEnd":w!=null&&cn("scrollend",u);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(i(61));if(g=w.__html,g!=null){if(T.children!=null)throw Error(i(60));u.innerHTML=g}}break;case"multiple":u.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":u.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){u.removeAttribute("xlink:href");break}g=um(""+w),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?u.setAttribute(g,""+w):u.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?u.setAttribute(g,""):u.removeAttribute(g);break;case"capture":case"download":w===!0?u.setAttribute(g,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?u.setAttribute(g,w):u.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?u.setAttribute(g,w):u.removeAttribute(g);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?u.removeAttribute(g):u.setAttribute(g,w);break;case"popover":cn("beforetoggle",u),cn("toggle",u),b0(u,"popover",w);break;case"xlinkActuate":Fa(u,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":Fa(u,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":Fa(u,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":Fa(u,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":Fa(u,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":Fa(u,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":Fa(u,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":Fa(u,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":Fa(u,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":b0(u,"is",w);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=BT.get(g)||g,b0(u,g,w))}}function bi(u,f,g,w,T,D){switch(g){case"style":zT(u,w,D);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(i(61));if(g=w.__html,g!=null){if(T.children!=null)throw Error(i(60));u.innerHTML=g}}break;case"children":typeof w=="string"?Ko(u,w):(typeof w=="number"||typeof w=="bigint")&&Ko(u,""+w);break;case"onScroll":w!=null&&cn("scroll",u);break;case"onScrollEnd":w!=null&&cn("scrollend",u);break;case"onClick":w!=null&&(u.onclick=wb);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!LT.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(T=g.endsWith("Capture"),f=g.slice(2,T?g.length-7:void 0),D=u[ds]||null,D=D!=null?D[g]:null,typeof D=="function"&&u.removeEventListener(f,D,T),typeof w=="function")){typeof D!="function"&&D!==null&&(g in u?u[g]=null:u.hasAttribute(g)&&u.removeAttribute(g)),u.addEventListener(f,w,T);break e}g in u?u[g]=w:w===!0?u.setAttribute(g,""):b0(u,g,w)}}}function pr(u,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":cn("error",u),cn("load",u);var w=!1,T=!1,D;for(D in g)if(g.hasOwnProperty(D)){var I=g[D];if(I!=null)switch(D){case"src":w=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:jt(u,f,D,I,g,null)}}T&&jt(u,f,"srcSet",g.srcSet,g,null),w&&jt(u,f,"src",g.src,g,null);return;case"input":cn("invalid",u);var K=D=I=T=null,ne=null,he=null;for(w in g)if(g.hasOwnProperty(w)){var Me=g[w];if(Me!=null)switch(w){case"name":T=Me;break;case"type":I=Me;break;case"checked":ne=Me;break;case"defaultChecked":he=Me;break;case"value":D=Me;break;case"defaultValue":K=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(i(137,f));break;default:jt(u,f,w,Me,g,null)}}w0(u,D,K,ne,he,I,T,!1),am(u);return;case"select":cn("invalid",u),w=I=D=null;for(T in g)if(g.hasOwnProperty(T)&&(K=g[T],K!=null))switch(T){case"value":D=K;break;case"defaultValue":I=K;break;case"multiple":w=K;default:jt(u,f,T,K,g,null)}f=D,g=I,u.multiple=!!w,f!=null?ld(u,!!w,f,!1):g!=null&&ld(u,!!w,g,!0);return;case"textarea":cn("invalid",u),D=T=w=null;for(I in g)if(g.hasOwnProperty(I)&&(K=g[I],K!=null))switch(I){case"value":w=K;break;case"defaultValue":T=K;break;case"children":D=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(91));break;default:jt(u,f,I,K,g,null)}C0(u,w,T,D),am(u);return;case"option":for(ne in g)if(g.hasOwnProperty(ne)&&(w=g[ne],w!=null))switch(ne){case"selected":u.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:jt(u,f,ne,w,g,null)}return;case"dialog":cn("cancel",u),cn("close",u);break;case"iframe":case"object":cn("load",u);break;case"video":case"audio":for(w=0;w<Jm.length;w++)cn(Jm[w],u);break;case"image":cn("error",u),cn("load",u);break;case"details":cn("toggle",u);break;case"embed":case"source":case"link":cn("error",u),cn("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in g)if(g.hasOwnProperty(he)&&(w=g[he],w!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:jt(u,f,he,w,g,null)}return;default:if(A0(f)){for(Me in g)g.hasOwnProperty(Me)&&(w=g[Me],w!==void 0&&bi(u,f,Me,w,g,void 0));return}}for(K in g)g.hasOwnProperty(K)&&(w=g[K],w!=null&&jt(u,f,K,w,g,null))}function mu(u,f,g,w){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,D=null,I=null,K=null,ne=null,he=null,Me=null;for(_e in g){var Ie=g[_e];if(g.hasOwnProperty(_e)&&Ie!=null)switch(_e){case"checked":break;case"value":break;case"defaultValue":ne=Ie;default:w.hasOwnProperty(_e)||jt(u,f,_e,null,w,Ie)}}for(var xe in w){var _e=w[xe];if(Ie=g[xe],w.hasOwnProperty(xe)&&(_e!=null||Ie!=null))switch(xe){case"type":D=_e;break;case"name":T=_e;break;case"checked":he=_e;break;case"defaultChecked":Me=_e;break;case"value":I=_e;break;case"defaultValue":K=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(i(137,f));break;default:_e!==Ie&&jt(u,f,xe,_e,w,Ie)}}x0(u,I,K,ne,he,Me,D,T);return;case"select":_e=I=K=xe=null;for(D in g)if(ne=g[D],g.hasOwnProperty(D)&&ne!=null)switch(D){case"value":break;case"multiple":_e=ne;default:w.hasOwnProperty(D)||jt(u,f,D,null,w,ne)}for(T in w)if(D=w[T],ne=g[T],w.hasOwnProperty(T)&&(D!=null||ne!=null))switch(T){case"value":xe=D;break;case"defaultValue":K=D;break;case"multiple":I=D;default:D!==ne&&jt(u,f,T,D,w,ne)}f=K,g=I,w=_e,xe!=null?ld(u,!!g,xe,!1):!!w!=!!g&&(f!=null?ld(u,!!g,f,!0):ld(u,!!g,g?[]:"",!1));return;case"textarea":_e=xe=null;for(K in g)if(T=g[K],g.hasOwnProperty(K)&&T!=null&&!w.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:jt(u,f,K,null,w,T)}for(I in w)if(T=w[I],D=g[I],w.hasOwnProperty(I)&&(T!=null||D!=null))switch(I){case"value":xe=T;break;case"defaultValue":_e=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:T!==D&&jt(u,f,I,T,w,D)}S0(u,xe,_e);return;case"option":for(var st in g)if(xe=g[st],g.hasOwnProperty(st)&&xe!=null&&!w.hasOwnProperty(st))switch(st){case"selected":u.selected=!1;break;default:jt(u,f,st,null,w,xe)}for(ne in w)if(xe=w[ne],_e=g[ne],w.hasOwnProperty(ne)&&xe!==_e&&(xe!=null||_e!=null))switch(ne){case"selected":u.selected=xe&&typeof xe!="function"&&typeof xe!="symbol";break;default:jt(u,f,ne,xe,w,_e)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in g)xe=g[Tt],g.hasOwnProperty(Tt)&&xe!=null&&!w.hasOwnProperty(Tt)&&jt(u,f,Tt,null,w,xe);for(he in w)if(xe=w[he],_e=g[he],w.hasOwnProperty(he)&&xe!==_e&&(xe!=null||_e!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(i(137,f));break;default:jt(u,f,he,xe,w,_e)}return;default:if(A0(f)){for(var vi in g)xe=g[vi],g.hasOwnProperty(vi)&&xe!==void 0&&!w.hasOwnProperty(vi)&&bi(u,f,vi,void 0,w,xe);for(Me in w)xe=w[Me],_e=g[Me],!w.hasOwnProperty(Me)||xe===_e||xe===void 0&&_e===void 0||bi(u,f,Me,xe,w,_e);return}}for(var ge in g)xe=g[ge],g.hasOwnProperty(ge)&&xe!=null&&!w.hasOwnProperty(ge)&&jt(u,f,ge,null,w,xe);for(Ie in w)xe=w[Ie],_e=g[Ie],!w.hasOwnProperty(Ie)||xe===_e||xe==null&&_e==null||jt(u,f,Ie,xe,w,_e)}var iS=null,rS=null;function Sb(u){return u.nodeType===9?u:u.ownerDocument}function x_(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w_(u,f){if(u===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&f==="foreignObject"?0:u}function Qm(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var sS=null;function ic(){var u=window.event;return u&&u.type==="popstate"?u===sS?!1:(sS=u,!0):(sS=null,!1)}var oS=typeof setTimeout=="function"?setTimeout:void 0,Cb=typeof clearTimeout=="function"?clearTimeout:void 0,li=typeof Promise=="function"?Promise:void 0,Ti=typeof queueMicrotask=="function"?queueMicrotask:typeof li<"u"?function(u){return li.resolve(null).then(u).catch(S_)}:oS;function S_(u){setTimeout(function(){throw u})}function aS(u,f){var g=f,w=0;do{var T=g.nextSibling;if(u.removeChild(g),T&&T.nodeType===8)if(g=T.data,g==="/$"){if(w===0){u.removeChild(T),lg(f);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=T}while(g);lg(f)}function lS(u){var f=u.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":lS(g),C1(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}u.removeChild(g)}}function cP(u,f,g,w){for(;u.nodeType===1;){var T=g;if(u.nodeName.toLowerCase()!==f.toLowerCase()){if(!w&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(w){if(!u[sm])switch(f){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(D=u.getAttribute("rel"),D==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(D!==T.rel||u.getAttribute("href")!==(T.href==null?null:T.href)||u.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||u.getAttribute("title")!==(T.title==null?null:T.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(D=u.getAttribute("src"),(D!==(T.src==null?null:T.src)||u.getAttribute("type")!==(T.type==null?null:T.type)||u.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&D&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(f==="input"&&u.type==="hidden"){var D=T.name==null?null:""+T.name;if(T.type==="hidden"&&u.getAttribute("name")===D)return u}else return u;if(u=la(u.nextSibling),u===null)break}return null}function uP(u,f,g){if(f==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!g||(u=la(u.nextSibling),u===null))return null;return u}function la(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return u}function C_(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(f===0)return u;f--}else g==="/$"&&f++}u=u.previousSibling}return null}function cS(u,f,g){switch(f=Sb(g),u){case"html":if(u=f.documentElement,!u)throw Error(i(452));return u;case"head":if(u=f.head,!u)throw Error(i(453));return u;case"body":if(u=f.body,!u)throw Error(i(454));return u;default:throw Error(i(451))}}var Nr=new Map,Ab=new Set;function Eb(u){return typeof u.getRootNode=="function"?u.getRootNode():u.ownerDocument}var nl=ve.d;ve.d={f:Tb,r:to,D:dP,C:fP,L:hP,m:pP,X:rc,S:E_,M:It};function Tb(){var u=nl.f(),f=gb();return u||f}function to(u){var f=Vf(u);f!==null&&f.tag===5&&f.type==="form"?Nk(f):nl.r(u)}var ca=typeof document>"u"?null:document;function A_(u,f,g){var w=ca;if(w&&typeof f=="string"&&f){var T=Bs(f);T='link[rel="'+u+'"][href="'+T+'"]',typeof g=="string"&&(T+='[crossorigin="'+g+'"]'),Ab.has(T)||(Ab.add(T),u={rel:u,crossOrigin:g,href:f},w.querySelector(T)===null&&(f=w.createElement("link"),pr(f,"link",u),Mi(f),w.head.appendChild(f)))}}function dP(u){nl.D(u),A_("dns-prefetch",u,null)}function fP(u,f){nl.C(u,f),A_("preconnect",u,f)}function hP(u,f,g){nl.L(u,f,g);var w=ca;if(w&&u&&f){var T='link[rel="preload"][as="'+Bs(f)+'"]';f==="image"&&g&&g.imageSrcSet?(T+='[imagesrcset="'+Bs(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(T+='[imagesizes="'+Bs(g.imageSizes)+'"]')):T+='[href="'+Bs(u)+'"]';var D=T;switch(f){case"style":D=mr(u);break;case"script":D=Rh(u)}Nr.has(D)||(u=B({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:u,as:f},g),Nr.set(D,u),w.querySelector(T)!==null||f==="style"&&w.querySelector(Mh(D))||f==="script"&&w.querySelector(Dh(D))||(f=w.createElement("link"),pr(f,"link",u),Mi(f),w.head.appendChild(f)))}}function pP(u,f){nl.m(u,f);var g=ca;if(g&&u){var w=f&&typeof f.as=="string"?f.as:"script",T='link[rel="modulepreload"][as="'+Bs(w)+'"][href="'+Bs(u)+'"]',D=T;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=Rh(u)}if(!Nr.has(D)&&(u=B({rel:"modulepreload",href:u},f),Nr.set(D,u),g.querySelector(T)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Dh(D)))return}w=g.createElement("link"),pr(w,"link",u),Mi(w),g.head.appendChild(w)}}}function E_(u,f,g){nl.S(u,f,g);var w=ca;if(w&&u){var T=Hf(w).hoistableStyles,D=mr(u);f=f||"default";var I=T.get(D);if(!I){var K={loading:0,preload:null};if(I=w.querySelector(Mh(D)))K.loading=5;else{u=B({rel:"stylesheet",href:u,"data-precedence":f},g),(g=Nr.get(D))&&dS(u,g);var ne=I=w.createElement("link");Mi(ne),pr(ne,"link",u),ne._p=new Promise(function(he,Me){ne.onload=he,ne.onerror=Me}),ne.addEventListener("load",function(){K.loading|=1}),ne.addEventListener("error",function(){K.loading|=2}),K.loading|=4,kb(I,f,w)}I={type:"stylesheet",instance:I,count:1,state:K},T.set(D,I)}}}function rc(u,f){nl.X(u,f);var g=ca;if(g&&u){var w=Hf(g).hoistableScripts,T=Rh(u),D=w.get(T);D||(D=g.querySelector(Dh(T)),D||(u=B({src:u,async:!0},f),(f=Nr.get(T))&&fS(u,f),D=g.createElement("script"),Mi(D),pr(D,"link",u),g.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},w.set(T,D))}}function It(u,f){nl.M(u,f);var g=ca;if(g&&u){var w=Hf(g).hoistableScripts,T=Rh(u),D=w.get(T);D||(D=g.querySelector(Dh(T)),D||(u=B({src:u,async:!0,type:"module"},f),(f=Nr.get(T))&&fS(u,f),D=g.createElement("script"),Mi(D),pr(D,"link",u),g.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},w.set(T,D))}}function uS(u,f,g,w){var T=(T=xt.current)?Eb(T):null;if(!T)throw Error(i(446));switch(u){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=mr(g.href),g=Hf(T).hoistableStyles,w=g.get(f),w||(w={type:"style",instance:null,count:0,state:null},g.set(f,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){u=mr(g.href);var D=Hf(T).hoistableStyles,I=D.get(u);if(I||(T=T.ownerDocument||T,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(u,I),(D=T.querySelector(Mh(u)))&&!D._p&&(I.instance=D,I.state.loading=5),Nr.has(u)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Nr.set(u,g),D||_n(T,u,g,I.state))),f&&w===null)throw Error(i(528,""));return I}if(f&&w!==null)throw Error(i(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Rh(g),g=Hf(T).hoistableScripts,w=g.get(f),w||(w={type:"script",instance:null,count:0,state:null},g.set(f,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,u))}}function mr(u){return'href="'+Bs(u)+'"'}function Mh(u){return'link[rel="stylesheet"]['+u+"]"}function T_(u){return B({},u,{"data-precedence":u.precedence,precedence:null})}function _n(u,f,g,w){u.querySelector('link[rel="preload"][as="style"]['+f+"]")?w.loading=1:(f=u.createElement("link"),w.preload=f,f.addEventListener("load",function(){return w.loading|=1}),f.addEventListener("error",function(){return w.loading|=2}),pr(f,"link",g),Mi(f),u.head.appendChild(f))}function Rh(u){return'[src="'+Bs(u)+'"]'}function Dh(u){return"script[async]"+u}function eg(u,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var w=u.querySelector('style[data-href~="'+Bs(g.href)+'"]');if(w)return f.instance=w,Mi(w),w;var T=B({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return w=(u.ownerDocument||u).createElement("style"),Mi(w),pr(w,"style",T),kb(w,g.precedence,u),f.instance=w;case"stylesheet":T=mr(g.href);var D=u.querySelector(Mh(T));if(D)return f.state.loading|=4,f.instance=D,Mi(D),D;w=T_(g),(T=Nr.get(T))&&dS(w,T),D=(u.ownerDocument||u).createElement("link"),Mi(D);var I=D;return I._p=new Promise(function(K,ne){I.onload=K,I.onerror=ne}),pr(D,"link",w),f.state.loading|=4,kb(D,g.precedence,u),f.instance=D;case"script":return D=Rh(g.src),(T=u.querySelector(Dh(D)))?(f.instance=T,Mi(T),T):(w=g,(T=Nr.get(D))&&(w=B({},g),fS(w,T)),u=u.ownerDocument||u,T=u.createElement("script"),Mi(T),pr(T,"link",w),u.head.appendChild(T),f.instance=T);case"void":return null;default:throw Error(i(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(w=f.instance,f.state.loading|=4,kb(w,g.precedence,u));return f.instance}function kb(u,f,g){for(var w=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=w.length?w[w.length-1]:null,D=T,I=0;I<w.length;I++){var K=w[I];if(K.dataset.precedence===f)D=K;else if(D!==T)break}D?D.parentNode.insertBefore(u,D.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(u,f.firstChild))}function dS(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.title==null&&(u.title=f.title)}function fS(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.integrity==null&&(u.integrity=f.integrity)}var _b=null;function k_(u,f,g){if(_b===null){var w=new Map,T=_b=new Map;T.set(g,w)}else T=_b,w=T.get(g),w||(w=new Map,T.set(g,w));if(w.has(u))return w;for(w.set(u,null),g=g.getElementsByTagName(u),T=0;T<g.length;T++){var D=g[T];if(!(D[sm]||D[kr]||u==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var I=D.getAttribute(f)||"";I=u+I;var K=w.get(I);K?K.push(D):w.set(I,[D])}}return w}function __(u,f,g){u=u.ownerDocument||u,u.head.insertBefore(g,f==="title"?u.querySelector("head > title"):null)}function mP(u,f,g){if(g===1||f.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return u=f.disabled,typeof f.precedence=="string"&&u==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function M_(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var tg=null;function gP(){}function yP(u,f,g){if(tg===null)throw Error(i(475));var w=tg;if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var T=mr(g.href),D=u.querySelector(Mh(T));if(D){u=D._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(w.count++,w=Mb.bind(w),u.then(w,w)),f.state.loading|=4,f.instance=D,Mi(D);return}D=u.ownerDocument||u,g=T_(g),(T=Nr.get(T))&&dS(g,T),D=D.createElement("link"),Mi(D);var I=D;I._p=new Promise(function(K,ne){I.onload=K,I.onerror=ne}),pr(D,"link",g),f.instance=D}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(f,u),(u=f.state.preload)&&(f.state.loading&3)===0&&(w.count++,f=Mb.bind(w),u.addEventListener("load",f),u.addEventListener("error",f))}}function bP(){if(tg===null)throw Error(i(475));var u=tg;return u.stylesheets&&u.count===0&&hS(u,u.stylesheets),0<u.count?function(f){var g=setTimeout(function(){if(u.stylesheets&&hS(u,u.stylesheets),u.unsuspend){var w=u.unsuspend;u.unsuspend=null,w()}},6e4);return u.unsuspend=f,function(){u.unsuspend=null,clearTimeout(g)}}:null}function Mb(){if(this.count--,this.count===0){if(this.stylesheets)hS(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var Nh=null;function hS(u,f){u.stylesheets=null,u.unsuspend!==null&&(u.count++,Nh=new Map,f.forEach(pS,u),Nh=null,Mb.call(u))}function pS(u,f){if(!(f.state.loading&4)){var g=Nh.get(u);if(g)var w=g.get(null);else{g=new Map,Nh.set(u,g);for(var T=u.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<T.length;D++){var I=T[D];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(g.set(I.dataset.precedence,I),w=I)}w&&g.set(null,w)}T=f.instance,I=T.getAttribute("data-precedence"),D=g.get(I)||w,D===w&&g.set(null,T),g.set(I,T),this.count++,w=Mb.bind(this),T.addEventListener("load",w),T.addEventListener("error",w),D?D.parentNode.insertBefore(T,D.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(T,u.firstChild)),f.state.loading|=4}}var ng={$$typeof:m,Provider:null,Consumer:null,_currentValue:ke,_currentValue2:ke,_threadCount:0};function vP(u,f,g,w,T,D,I,K){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=x1(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=x1(0),this.hiddenUpdates=x1(null),this.identifierPrefix=w,this.onUncaughtError=T,this.onCaughtError=D,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function R_(u,f,g,w,T,D,I,K,ne,he,Me,Ie){return u=new vP(u,f,g,I,K,ne,he,Ie),f=1,D===!0&&(f|=24),D=Zs(3,null,null,f),u.current=D,D.stateNode=u,f=G1(),f.refCount++,u.pooledCache=f,f.refCount++,D.memoizedState={element:w,isDehydrated:g,cache:f},Lm(D),u}function Zi(u){return u?(u=hd,u):hd}function Xr(u,f,g,w,T,D){T=Zi(T),w.context===null?w.context=T:w.pendingContext=T,w=ra(f),w.payload={element:g},D=D===void 0?null:D,D!==null&&(w.callback=D),g=Ks(u,w,f),g!==null&&(Dr(g,u,f),ct(g,u,f))}function D_(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<f?g:f}}function mS(u,f){D_(u,f),(u=u.alternate)&&D_(u,f)}function N_(u){if(u.tag===13){var f=Xo(u,67108864);f!==null&&Dr(f,u,67108864),mS(u,67108864)}}var ig=!0;function xP(u,f,g,w){var T=q.T;q.T=null;var D=ve.p;try{ve.p=2,gS(u,f,g,w)}finally{ve.p=D,q.T=T}}function wP(u,f,g,w){var T=q.T;q.T=null;var D=ve.p;try{ve.p=8,gS(u,f,g,w)}finally{ve.p=D,q.T=T}}function gS(u,f,g,w){if(ig){var T=Rb(w);if(T===null)nS(u,f,w,Db,g),O_(u,w);else if(CP(T,u,f,g,w))w.stopPropagation();else if(O_(u,w),f&4&&-1<SP.indexOf(u)){for(;T!==null;){var D=Vf(T);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var I=Si(D.pendingLanes);if(I!==0){var K=D;for(K.pendingLanes|=2,K.entangledLanes|=2;I;){var ne=1<<31-Dn(I);K.entanglements[1]|=ne,I&=~ne}aa(D),(yi&6)===0&&(pb=Ee()+500,Dd(0))}}break;case 13:K=Xo(D,2),K!==null&&Dr(K,D,2),gb(),mS(D,2)}if(D=Rb(w),D===null&&nS(u,f,w,Db,g),D===T)break;T=D}T!==null&&w.stopPropagation()}else nS(u,f,w,null,g)}}function Rb(u){return u=k1(u),yS(u)}var Db=null;function yS(u){if(Db=null,u=sd(u),u!==null){var f=Z(u);if(f===null)u=null;else{var g=f.tag;if(g===13){if(u=se(f),u!==null)return u;u=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null)}}return Db=u,null}function P_(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xe()){case be:return 2;case Ne:return 8;case de:case Ke:return 32;case rt:return 268435456;default:return 32}default:return 32}}var Nb=!1,sc=null,gu=null,yu=null,rg=new Map,sg=new Map,no=[],SP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(u,f){switch(u){case"focusin":case"focusout":sc=null;break;case"dragenter":case"dragleave":gu=null;break;case"mouseover":case"mouseout":yu=null;break;case"pointerover":case"pointerout":rg.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":sg.delete(f.pointerId)}}function og(u,f,g,w,T,D){return u===null||u.nativeEvent!==D?(u={blockedOn:f,domEventName:g,eventSystemFlags:w,nativeEvent:D,targetContainers:[T]},f!==null&&(f=Vf(f),f!==null&&N_(f)),u):(u.eventSystemFlags|=w,f=u.targetContainers,T!==null&&f.indexOf(T)===-1&&f.push(T),u)}function CP(u,f,g,w,T){switch(f){case"focusin":return sc=og(sc,u,f,g,w,T),!0;case"dragenter":return gu=og(gu,u,f,g,w,T),!0;case"mouseover":return yu=og(yu,u,f,g,w,T),!0;case"pointerover":var D=T.pointerId;return rg.set(D,og(rg.get(D)||null,u,f,g,w,T)),!0;case"gotpointercapture":return D=T.pointerId,sg.set(D,og(sg.get(D)||null,u,f,g,w,T)),!0}return!1}function L_(u){var f=sd(u.target);if(f!==null){var g=Z(f);if(g!==null){if(f=g.tag,f===13){if(f=se(g),f!==null){u.blockedOn=f,vN(u.priority,function(){if(g.tag===13){var w=eo(),T=Xo(g,w);T!==null&&Dr(T,g,w),mS(g,w)}});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function ag(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var g=Rb(u.nativeEvent);if(g===null){g=u.nativeEvent;var w=new g.constructor(g.type,g);T1=w,g.target.dispatchEvent(w),T1=null}else return f=Vf(g),f!==null&&N_(f),u.blockedOn=g,!1;f.shift()}return!0}function bS(u,f,g){ag(u)&&g.delete(f)}function AP(){Nb=!1,sc!==null&&ag(sc)&&(sc=null),gu!==null&&ag(gu)&&(gu=null),yu!==null&&ag(yu)&&(yu=null),rg.forEach(bS),sg.forEach(bS)}function Pb(u,f){u.blockedOn===f&&(u.blockedOn=null,Nb||(Nb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,AP)))}var Ob=null;function j_(u){Ob!==u&&(Ob=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ob===u&&(Ob=null);for(var f=0;f<u.length;f+=3){var g=u[f],w=u[f+1],T=u[f+2];if(typeof w!="function"){if(yS(w||g)===null)continue;break}var D=Vf(g);D!==null&&(u.splice(f,3),f-=3,_m(D,{pending:!0,data:T,method:g.method,action:w},w,T))}}))}function lg(u){function f(ne){return Pb(ne,u)}sc!==null&&Pb(sc,u),gu!==null&&Pb(gu,u),yu!==null&&Pb(yu,u),rg.forEach(f),sg.forEach(f);for(var g=0;g<no.length;g++){var w=no[g];w.blockedOn===u&&(w.blockedOn=null)}for(;0<no.length&&(g=no[0],g.blockedOn===null);)L_(g),g.blockedOn===null&&no.shift();if(g=(u.ownerDocument||u).$$reactFormReplay,g!=null)for(w=0;w<g.length;w+=3){var T=g[w],D=g[w+1],I=T[ds]||null;if(typeof D=="function")I||j_(g);else if(I){var K=null;if(D&&D.hasAttribute("formAction")){if(T=D,I=D[ds]||null)K=I.formAction;else if(yS(T)!==null)continue}else K=I.action;typeof K=="function"?g[w+1]=K:(g.splice(w,3),w-=3),j_(g)}}}function vS(u){this._internalRoot=u}Lb.prototype.render=vS.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(i(409));var g=f.current,w=eo();Xr(g,w,u,f,null,null)},Lb.prototype.unmount=vS.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;u.tag===0&&nc(),Xr(u.current,2,null,u,null,null),gb(),f[Bf]=null}};function Lb(u){this._internalRoot=u}Lb.prototype.unstable_scheduleHydration=function(u){if(u){var f=DT();u={blockedOn:null,target:u,priority:f};for(var g=0;g<no.length&&f!==0&&f<no[g].priority;g++);no.splice(g,0,u),g===0&&L_(u)}};var I_=e.version;if(I_!=="19.0.0")throw Error(i(527,I_,"19.0.0"));ve.findDOMNode=function(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(i(188)):(u=Object.keys(u).join(","),Error(i(268,u)));return u=te(f),u=u!==null?ae(u):null,u=u===null?null:u.stateNode,u};var EP={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:q,findFiberByHostInstance:sd,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jb.isDisabled&&jb.supportsFiber)try{ri=jb.inject(EP),Rn=jb}catch{}}return wS.createRoot=function(u,f){if(!r(u))throw Error(i(299));var g=!1,w="",T=Yl,D=Pk,I=Xl,K=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(T=f.onUncaughtError),f.onCaughtError!==void 0&&(D=f.onCaughtError),f.onRecoverableError!==void 0&&(I=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(K=f.unstable_transitionCallbacks)),f=R_(u,1,!1,null,null,g,w,T,D,I,K,null),u[Bf]=f.current,tS(u.nodeType===8?u.parentNode:u),new vS(f)},wS.hydrateRoot=function(u,f,g){if(!r(u))throw Error(i(299));var w=!1,T="",D=Yl,I=Pk,K=Xl,ne=null,he=null;return g!=null&&(g.unstable_strictMode===!0&&(w=!0),g.identifierPrefix!==void 0&&(T=g.identifierPrefix),g.onUncaughtError!==void 0&&(D=g.onUncaughtError),g.onCaughtError!==void 0&&(I=g.onCaughtError),g.onRecoverableError!==void 0&&(K=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(ne=g.unstable_transitionCallbacks),g.formState!==void 0&&(he=g.formState)),f=R_(u,1,!0,f,g??null,w,T,D,I,K,ne,he),f.context=Zi(null),g=f.current,w=eo(),T=ra(w),T.callback=null,Ks(g,T,w),f.current.lanes=w,rm(f,w),aa(f),u[Bf]=f.current,tS(u),new Lb(f)},wS.version="19.0.0",wS}var J5;function wre(){if(J5)return PP.exports;J5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),PP.exports=xre(),PP.exports}var Sre=wre(),k=q2();const Se=Gx(k),qL=hre({__proto__:null,default:Se},[k]);var SS={},Z5;function Cre(){if(Z5)return SS;Z5=1,Object.defineProperty(SS,"__esModule",{value:!0}),SS.parse=o,SS.serialize=c;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,m){const v=new s,S=p.length;if(S<2)return v;const A=(m==null?void 0:m.decode)||d;let E=0;do{const M=p.indexOf("=",E);if(M===-1)break;const R=p.indexOf(";",E),N=R===-1?S:R;if(M>N){E=p.lastIndexOf(";",M-1)+1;continue}const P=a(p,E,M),O=l(p,M,P),$=p.slice(P,O);if(v[$]===void 0){let F=a(p,M+1,N),q=l(p,N,F);const B=A(p.slice(F,q));v[$]=B}E=N+1}while(E<S);return v}function a(p,m,v){do{const S=p.charCodeAt(m);if(S!==32&&S!==9)return m}while(++m<v);return v}function l(p,m,v){for(;m>v;){const S=p.charCodeAt(--m);if(S!==32&&S!==9)return m+1}return v}function c(p,m,v){const S=(v==null?void 0:v.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const A=S(m);if(!e.test(A))throw new TypeError(`argument val is invalid: ${m}`);let E=p+"="+A;if(!v)return E;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);E+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);E+="; Domain="+v.domain}if(v.path){if(!i.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);E+="; Path="+v.path}if(v.expires){if(!h(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);E+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(E+="; HttpOnly"),v.secure&&(E+="; Secure"),v.partitioned&&(E+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return E}function d(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function h(p){return r.call(p)==="[object Date]"}return SS}Cre();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Q5="popstate";function Are(t={}){function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return GL("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:LC(r)}return Tre(e,n,null,t)}function _i(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ere(){return Math.random().toString(36).substring(2,10)}function e4(t,e){return{usr:t.state,key:t.key,idx:e}}function GL(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wx(e):e,state:n,key:e&&e.key||i||Ere()}}function LC({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wx(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function Tre(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let A=d(),E=A==null?null:A-c;c=A,l&&l({action:a,location:S.location,delta:E})}function p(A,E){a="PUSH";let M=GL(S.location,A,E);c=d()+1;let R=e4(M,c),N=S.createHref(M);try{o.pushState(R,"",N)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;r.location.assign(N)}s&&l&&l({action:a,location:S.location,delta:1})}function m(A,E){a="REPLACE";let M=GL(S.location,A,E);c=d();let R=e4(M,c),N=S.createHref(M);o.replaceState(R,"",N),s&&l&&l({action:a,location:S.location,delta:0})}function v(A){let E=r.location.origin!=="null"?r.location.origin:r.location.href,M=typeof A=="string"?A:LC(A);return M=M.replace(/ $/,"%20"),_i(E,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,E)}let S={get action(){return a},get location(){return t(r,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Q5,h),l=A,()=>{r.removeEventListener(Q5,h),l=null}},createHref(A){return e(r,A)},createURL:v,encodeLocation(A){let E=v(A);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:m,go(A){return o.go(A)}};return S}function I9(t,e,n="/"){return kre(t,e,n,!1)}function kre(t,e,n,i){let r=typeof e=="string"?Wx(e):e,s=Np(r.pathname||"/",n);if(s==null)return null;let o=F9(t);_re(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=$re(s);a=Ire(o[l],c,i)}return a}function F9(t,e=[],n=[],i=""){let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(_i(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let c=mf([i,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(_i(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),F9(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Lre(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of $9(s.path))r(s,o,l)}),e}function $9(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=$9(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function _re(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jre(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Mre=/^:[\w-]+$/,Rre=3,Dre=2,Nre=1,Pre=10,Ore=-2,t4=t=>t==="*";function Lre(t,e){let n=t.split("/"),i=n.length;return n.some(t4)&&(i+=Ore),e&&(i+=Dre),n.filter(r=>!t4(r)).reduce((r,s)=>r+(Mre.test(s)?Rre:s===""?Nre:Pre),i)}function jre(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function Ire(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=wR({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&n&&!i[i.length-1].route.index&&(h=wR({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:mf([s,h.pathname]),pathnameBase:Hre(mf([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=mf([s,h.pathnameBase]))}return o}function wR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Fre(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,{paramName:d,isOptional:h},p)=>{if(d==="*"){let v=a[p]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[p];return h&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Fre(t,e=!1,n=!0){Pc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function $re(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pc(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Np(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function zre(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Wx(t):t;return{pathname:n?n.startsWith("/")?n:Bre(n,e):e,search:Ure(i),hash:qre(r)}}function Bre(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function FP(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vre(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function b$(t){let e=Vre(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function v$(t,e,n,i=!1){let r;typeof t=="string"?r=Wx(t):(r={...t},_i(!r.pathname||!r.pathname.includes("?"),FP("?","pathname","search",r)),_i(!r.pathname||!r.pathname.includes("#"),FP("#","pathname","hash",r)),_i(!r.search||!r.search.includes("#"),FP("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=zre(r,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var mf=t=>t.join("/").replace(/\/\/+/g,"/"),Hre=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ure=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qre=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Gre(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var z9=["POST","PUT","PATCH","DELETE"];new Set(z9);var Wre=["GET",...z9];new Set(Wre);var Kx=k.createContext(null);Kx.displayName="DataRouter";var G2=k.createContext(null);G2.displayName="DataRouterState";var B9=k.createContext({isTransitioning:!1});B9.displayName="ViewTransition";var Kre=k.createContext(new Map);Kre.displayName="Fetchers";var Yre=k.createContext(null);Yre.displayName="Await";var Ic=k.createContext(null);Ic.displayName="Navigation";var BE=k.createContext(null);BE.displayName="Location";var Pl=k.createContext({outlet:null,matches:[],isDataRoute:!1});Pl.displayName="Route";var x$=k.createContext(null);x$.displayName="RouteError";function Xre(t,{relative:e}={}){_i(Yx(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=k.useContext(Ic),{hash:r,pathname:s,search:o}=VE(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:mf([n,s])),i.createHref({pathname:a,search:o,hash:r})}function Yx(){return k.useContext(BE)!=null}function qp(){return _i(Yx(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(BE).location}var V9="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function H9(t){k.useContext(Ic).static||k.useLayoutEffect(t)}function jf(){let{isDataRoute:t}=k.useContext(Pl);return t?dse():Jre()}function Jre(){_i(Yx(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(Kx),{basename:e,navigator:n}=k.useContext(Ic),{matches:i}=k.useContext(Pl),{pathname:r}=qp(),s=JSON.stringify(b$(i)),o=k.useRef(!1);return H9(()=>{o.current=!0}),k.useCallback((l,c={})=>{if(Pc(o.current,V9),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=v$(l,JSON.parse(s),r,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:mf([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,r,t])}var Zre=k.createContext(null);function Qre(t){let e=k.useContext(Pl).outlet;return e&&k.createElement(Zre.Provider,{value:t},e)}function ed(){let{matches:t}=k.useContext(Pl),e=t[t.length-1];return e?e.params:{}}function VE(t,{relative:e}={}){let{matches:n}=k.useContext(Pl),{pathname:i}=qp(),r=JSON.stringify(b$(n));return k.useMemo(()=>v$(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function ese(t,e){return U9(t,e)}function U9(t,e,n,i){var M;_i(Yx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:s}=k.useContext(Ic),{matches:o}=k.useContext(Pl),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let R=h&&h.path||"";q9(c,!h||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let p=qp(),m;if(e){let R=typeof e=="string"?Wx(e):e;_i(d==="/"||((M=R.pathname)==null?void 0:M.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${R.pathname}" was given in the \`location\` prop.`),m=R}else m=p;let v=m.pathname||"/",S=v;if(d!=="/"){let R=d.replace(/^\//,"").split("/");S="/"+v.replace(/^\//,"").split("/").slice(R.length).join("/")}let A=!s&&n&&n.matches&&n.matches.length>0?n.matches:I9(t,{pathname:S});Pc(h||A!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Pc(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=sse(A&&A.map(R=>Object.assign({},R,{params:Object.assign({},l,R.params),pathname:mf([d,r.encodeLocation?r.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?d:mf([d,r.encodeLocation?r.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),o,n,i);return e&&E?k.createElement(BE.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},E):E}function tse(){let t=use(),e=Gre(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:s},"ErrorBoundary")," or"," ",k.createElement("code",{style:s},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:r},n):null,o)}var nse=k.createElement(tse,null),ise=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(Pl.Provider,{value:this.props.routeContext},k.createElement(x$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rse({routeContext:t,match:e,children:n}){let i=k.useContext(Kx);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Pl.Provider,{value:t},n)}function sse(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,s=n==null?void 0:n.errors;if(s!=null){let l=r.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);_i(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<r.length;l++){let c=r[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:h}=n,p=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||p){o=!0,a>=0?r=r.slice(0,a+1):r=[r[0]];break}}}return r.reduceRight((l,c,d)=>{let h,p=!1,m=null,v=null;n&&(h=s&&c.route.id?s[c.route.id]:void 0,m=c.route.errorElement||nse,o&&(a<0&&d===0?(q9("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):a===d&&(p=!0,v=c.route.hydrateFallbackElement||null)));let S=e.concat(r.slice(0,d+1)),A=()=>{let E;return h?E=m:p?E=v:c.route.Component?E=k.createElement(c.route.Component,null):c.route.element?E=c.route.element:E=l,k.createElement(rse,{match:c,routeContext:{outlet:l,matches:S,isDataRoute:n!=null},children:E})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?k.createElement(ise,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:A(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):A()},null)}function w$(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ose(t){let e=k.useContext(Kx);return _i(e,w$(t)),e}function ase(t){let e=k.useContext(G2);return _i(e,w$(t)),e}function lse(t){let e=k.useContext(Pl);return _i(e,w$(t)),e}function S$(t){let e=lse(t),n=e.matches[e.matches.length-1];return _i(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function cse(){return S$("useRouteId")}function use(){var i;let t=k.useContext(x$),e=ase("useRouteError"),n=S$("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function dse(){let{router:t}=ose("useNavigate"),e=S$("useNavigate"),n=k.useRef(!1);return H9(()=>{n.current=!0}),k.useCallback(async(r,s={})=>{Pc(n.current,V9),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var n4={};function q9(t,e,n){!e&&!n4[t]&&(n4[t]=!0,Pc(!1,n))}k.memo(fse);function fse({routes:t,future:e,state:n}){return U9(t,void 0,n,e)}function hse({to:t,replace:e,state:n,relative:i}){_i(Yx(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=k.useContext(Ic);Pc(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=k.useContext(Pl),{pathname:o}=qp(),a=jf(),l=v$(t,b$(s),o,i==="path"),c=JSON.stringify(l);return k.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:i})},[a,c,i,e,n]),null}function C$(t){return Qre(t.context)}function Oh(t){_i(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pse({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){_i(!Yx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=k.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof n=="string"&&(n=Wx(n));let{pathname:l="/",search:c="",hash:d="",state:h=null,key:p="default"}=n,m=k.useMemo(()=>{let v=Np(l,o);return v==null?null:{location:{pathname:v,search:c,hash:d,state:h,key:p},navigationType:i}},[o,l,c,d,h,p,i]);return Pc(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:k.createElement(Ic.Provider,{value:a},k.createElement(BE.Provider,{children:e,value:m}))}function mse({children:t,location:e}){return ese(WL(t),e)}function WL(t,e=[]){let n=[];return k.Children.forEach(t,(i,r)=>{if(!k.isValidElement(i))return;let s=[...e,r];if(i.type===k.Fragment){n.push.apply(n,WL(i.props.children,s));return}_i(i.type===Oh,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_i(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=WL(i.props.children,s)),n.push(o)}),n}var AM="get",EM="application/x-www-form-urlencoded";function W2(t){return t!=null&&typeof t.tagName=="string"}function gse(t){return W2(t)&&t.tagName.toLowerCase()==="button"}function yse(t){return W2(t)&&t.tagName.toLowerCase()==="form"}function bse(t){return W2(t)&&t.tagName.toLowerCase()==="input"}function vse(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xse(t,e){return t.button===0&&(!e||e==="_self")&&!vse(t)}var $_=null;function wse(){if($_===null)try{new FormData(document.createElement("form"),0),$_=!1}catch{$_=!0}return $_}var Sse=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $P(t){return t!=null&&!Sse.has(t)?(Pc(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${EM}"`),null):t}function Cse(t,e){let n,i,r,s,o;if(yse(t)){let a=t.getAttribute("action");i=a?Np(a,e):null,n=t.getAttribute("method")||AM,r=$P(t.getAttribute("enctype"))||EM,s=new FormData(t)}else if(gse(t)||bse(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(i=l?Np(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||AM,r=$P(t.getAttribute("formenctype"))||$P(a.getAttribute("enctype"))||EM,s=new FormData(a,t),!wse()){let{name:c,type:d,value:h}=t;if(d==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,h)}}else{if(W2(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=AM,i=null,r=EM,o=t}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:o}}function A$(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Ase(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ese(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Tse(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await Ase(s,n);return o.links?o.links():[]}return[]}));return Rse(i.flat(1).filter(Ese).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function i4(t,e,n,i,r,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var h;let d=i.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function kse(t,e,{includeHydrateFallback:n}={}){return _se(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function _se(t){return[...new Set(t)]}function Mse(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Rse(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(Mse(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function Dse(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Nse(){let t=k.useContext(Kx);return A$(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Pse(){let t=k.useContext(G2);return A$(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var E$=k.createContext(void 0);E$.displayName="FrameworkContext";function G9(){let t=k.useContext(E$);return A$(t,"You must render this element inside a <HydratedRouter> element"),t}function Ose(t,e){let n=k.useContext(E$),[i,r]=k.useState(!1),[s,o]=k.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=e,p=k.useRef(null);k.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let S=E=>{E.forEach(M=>{o(M.isIntersecting)})},A=new IntersectionObserver(S,{threshold:.5});return p.current&&A.observe(p.current),()=>{A.disconnect()}}},[t]),k.useEffect(()=>{if(i){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[i]);let m=()=>{r(!0)},v=()=>{r(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:CS(a,m),onBlur:CS(l,v),onMouseEnter:CS(c,m),onMouseLeave:CS(d,v),onTouchStart:CS(h,m)}]:[!1,p,{}]}function CS(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Lse({page:t,...e}){let{router:n}=Nse(),i=k.useMemo(()=>I9(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?k.createElement(Ise,{page:t,matches:i,...e}):null}function jse(t){let{manifest:e,routeModules:n}=G9(),[i,r]=k.useState([]);return k.useEffect(()=>{let s=!1;return Tse(t,e,n).then(o=>{s||r(o)}),()=>{s=!0}},[t,e,n]),i}function Ise({page:t,matches:e,...n}){let i=qp(),{manifest:r,routeModules:s}=G9(),{loaderData:o,matches:a}=Pse(),l=k.useMemo(()=>i4(t,e,a,r,i,"data"),[t,e,a,r,i]),c=k.useMemo(()=>i4(t,e,a,r,i,"assets"),[t,e,a,r,i]),d=k.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let m=new Set,v=!1;if(e.forEach(A=>{var M;let E=r.routes[A.route.id];!E||!E.hasLoader||(!l.some(R=>R.route.id===A.route.id)&&A.route.id in o&&((M=s[A.route.id])!=null&&M.shouldRevalidate)||E.hasClientLoader?v=!0:m.add(A.route.id))}),m.size===0)return[];let S=Dse(t);return v&&m.size>0&&S.searchParams.set("_routes",e.filter(A=>m.has(A.route.id)).map(A=>A.route.id).join(",")),[S.pathname+S.search]},[o,i,r,l,e,t,s]),h=k.useMemo(()=>kse(c,r),[c,r]),p=jse(c);return k.createElement(k.Fragment,null,d.map(m=>k.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),h.map(m=>k.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:v})=>k.createElement("link",{key:m,...v})))}function Fse(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var W9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W9&&(window.__reactRouterVersion="7.2.0")}catch{}function $se({basename:t,children:e,window:n}){let i=k.useRef();i.current==null&&(i.current=Are({window:n,v5Compat:!0}));let r=i.current,[s,o]=k.useState({action:r.action,location:r.location}),a=k.useCallback(l=>{k.startTransition(()=>o(l))},[o]);return k.useLayoutEffect(()=>r.listen(a),[r,a]),k.createElement(pse,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:r})}var K9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T$=k.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h,...p},m){let{basename:v}=k.useContext(Ic),S=typeof c=="string"&&K9.test(c),A,E=!1;if(typeof c=="string"&&S&&(A=c,W9))try{let q=new URL(window.location.href),B=c.startsWith("//")?new URL(q.protocol+c):new URL(c),X=Np(B.pathname,v);B.origin===q.origin&&X!=null?c=X+B.search+B.hash:E=!0}catch{Pc(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=Xre(c,{relative:r}),[R,N,P]=Ose(i,p),O=Vse(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:r,viewTransition:h});function $(q){e&&e(q),q.defaultPrevented||O(q)}let F=k.createElement("a",{...p,...P,href:A||M,onClick:E||s?e:$,ref:Fse(m,N),target:l,"data-discover":!S&&n==="render"?"true":void 0});return R&&!S?k.createElement(k.Fragment,null,F,k.createElement(Lse,{page:M})):F});T$.displayName="Link";var Y9=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let h=VE(o,{relative:c.relative}),p=qp(),m=k.useContext(G2),{navigator:v,basename:S}=k.useContext(Ic),A=m!=null&&Wse(h)&&a===!0,E=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,M=p.pathname,R=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(M=M.toLowerCase(),R=R?R.toLowerCase():null,E=E.toLowerCase()),R&&S&&(R=Np(R,S)||R);const N=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let P=M===E||!r&&M.startsWith(E)&&M.charAt(N)==="/",O=R!=null&&(R===E||!r&&R.startsWith(E)&&R.charAt(E.length)==="/"),$={isActive:P,isPending:O,isTransitioning:A},F=P?e:void 0,q;typeof i=="function"?q=i($):q=[i,P?"active":null,O?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let B=typeof s=="function"?s($):s;return k.createElement(T$,{...c,"aria-current":F,className:q,ref:d,style:B,to:o,viewTransition:a},typeof l=="function"?l($):l)});Y9.displayName="NavLink";var zse=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:o=AM,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:h,...p},m)=>{let v=qse(),S=Gse(a,{relative:c}),A=o.toLowerCase()==="get"?"get":"post",E=typeof a=="string"&&K9.test(a),M=R=>{if(l&&l(R),R.defaultPrevented)return;R.preventDefault();let N=R.nativeEvent.submitter,P=(N==null?void 0:N.getAttribute("formmethod"))||o;v(N||R.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:r,state:s,relative:c,preventScrollReset:d,viewTransition:h})};return k.createElement("form",{ref:m,method:A,action:S,onSubmit:i?l:M,...p,"data-discover":!E&&t==="render"?"true":void 0})});zse.displayName="Form";function Bse(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X9(t){let e=k.useContext(Kx);return _i(e,Bse(t)),e}function Vse(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let a=jf(),l=qp(),c=VE(t,{relative:s});return k.useCallback(d=>{if(xse(d,e)){d.preventDefault();let h=n!==void 0?n:LC(l)===LC(c);a(t,{replace:h,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[l,a,c,n,i,e,t,r,s,o])}var Hse=0,Use=()=>`__${String(++Hse)}__`;function qse(){let{router:t}=X9("useSubmit"),{basename:e}=k.useContext(Ic),n=cse();return k.useCallback(async(i,r={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=Cse(i,e);if(r.navigate===!1){let d=r.fetcherKey||Use();await t.fetch(d,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function Gse(t,{relative:e}={}){let{basename:n}=k.useContext(Ic),i=k.useContext(Pl);_i(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...VE(t||".",{relative:e})},o=qp();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:mf([n,s.pathname])),LC(s)}function Wse(t,e={}){let n=k.useContext(B9);_i(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=X9("useViewTransitionState"),r=VE(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Np(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=Np(n.nextLocation.pathname,i)||n.nextLocation.pathname;return wR(r.pathname,o)!=null||wR(r.pathname,s)!=null}new TextEncoder;const Kse=()=>b.jsx(b.Fragment,{children:b.jsx("div",{className:" items-center w-full h-fit min-h-screen ",children:b.jsx(C$,{})})}),Yse=()=>b.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 px-4",children:[b.jsx("h1",{className:"text-9xl font-bold text-gray-800",children:"404"}),b.jsx("p",{className:"text-xl text-gray-600 mt-4",children:"Oops! The page you're looking for doesn't exist."}),b.jsx(T$,{to:"/",className:"mt-6 text-lg text-blue-500 border-2 border-blue-500 rounded-md px-6 py-2 transition duration-300 ease-in-out hover:bg-blue-500 hover:text-white",children:"Go back to Home"})]}),J9=typeof document<"u"?Se.useLayoutEffect:()=>{};function Xse(t){const e=k.useRef(null);return J9(()=>{e.current=t},[t]),k.useCallback((...n)=>{const i=e.current;return i==null?void 0:i(...n)},[])}const Gp=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},kg=t=>t&&"window"in t&&t.window===t?t:Gp(t).defaultView||window;function Jse(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function Zse(t){return Jse(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let Qse=!1;function k$(){return Qse}function Z9(t,e){if(!k$())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:Zse(n)?n=n.host:n=n.parentNode}return!1}const KL=(t=document)=>{var e;if(!k$())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function Q9(t){return k$()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function eq(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=eq(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Ls(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=eq(t))&&(i&&(i+=" "),i+=e);return i}function eoe(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function toe(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function tq(t){let e=null;return()=>(e==null&&(e=t()),e)}const noe=tq(function(){return toe(/^Mac/i)}),ioe=tq(function(){return eoe(/Android/i)});function nq(){let t=k.useRef(new Map),e=k.useCallback((r,s,o,a)=>{let l=a!=null&&a.once?(...c)=>{t.current.delete(o),o(...c)}:o;t.current.set(o,{type:s,eventTarget:r,fn:l,options:a}),r.addEventListener(s,l,a)},[]),n=k.useCallback((r,s,o,a)=>{var l;let c=((l=t.current.get(o))===null||l===void 0?void 0:l.fn)||o;r.removeEventListener(s,c,a),t.current.delete(o)},[]),i=k.useCallback(()=>{t.current.forEach((r,s)=>{n(r.eventTarget,r.type,s,r.options)})},[n]);return k.useEffect(()=>i,[i]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:i}}function roe(t){return t.mozInputSource===0&&t.isTrusted?!0:ioe()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}var Xx=j9();const _$=Gx(Xx);class iq{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=e}}function rq(t){let e=k.useRef({isFocused:!1,observer:null});J9(()=>{const i=e.current;return()=>{i.observer&&(i.observer.disconnect(),i.observer=null)}},[]);let n=Xse(i=>{t==null||t(i)});return k.useCallback(i=>{if(i.target instanceof HTMLButtonElement||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement||i.target instanceof HTMLSelectElement){e.current.isFocused=!0;let r=i.target,s=o=>{e.current.isFocused=!1,r.disabled&&n(new iq("blur",o)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};r.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&r.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let soe=!1,HE=null,YL=new Set,hC=new Map,Uy=!1,XL=!1;const ooe={Tab:!0,Escape:!0};function M$(t,e){for(let n of YL)n(t,e)}function aoe(t){return!(t.metaKey||!noe()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function SR(t){Uy=!0,aoe(t)&&(HE="keyboard",M$("keyboard",t))}function gl(t){HE="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(Uy=!0,M$("pointer",t))}function sq(t){roe(t)&&(Uy=!0,HE="virtual")}function oq(t){t.target===window||t.target===document||soe||!t.isTrusted||(!Uy&&!XL&&(HE="virtual",M$("virtual",t)),Uy=!1,XL=!1)}function aq(){Uy=!1,XL=!0}function JL(t){if(typeof window>"u"||hC.get(kg(t)))return;const e=kg(t),n=Gp(t);let i=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Uy=!0,i.apply(this,arguments)},n.addEventListener("keydown",SR,!0),n.addEventListener("keyup",SR,!0),n.addEventListener("click",sq,!0),e.addEventListener("focus",oq,!0),e.addEventListener("blur",aq,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",gl,!0),n.addEventListener("pointermove",gl,!0),n.addEventListener("pointerup",gl,!0)):(n.addEventListener("mousedown",gl,!0),n.addEventListener("mousemove",gl,!0),n.addEventListener("mouseup",gl,!0)),e.addEventListener("beforeunload",()=>{lq(t)},{once:!0}),hC.set(e,{focus:i})}const lq=(t,e)=>{const n=kg(t),i=Gp(t);e&&i.removeEventListener("DOMContentLoaded",e),hC.has(n)&&(n.HTMLElement.prototype.focus=hC.get(n).focus,i.removeEventListener("keydown",SR,!0),i.removeEventListener("keyup",SR,!0),i.removeEventListener("click",sq,!0),n.removeEventListener("focus",oq,!0),n.removeEventListener("blur",aq,!1),typeof PointerEvent<"u"?(i.removeEventListener("pointerdown",gl,!0),i.removeEventListener("pointermove",gl,!0),i.removeEventListener("pointerup",gl,!0)):(i.removeEventListener("mousedown",gl,!0),i.removeEventListener("mousemove",gl,!0),i.removeEventListener("mouseup",gl,!0)),hC.delete(n))};function loe(t){const e=Gp(t);let n;return e.readyState!=="loading"?JL(t):(n=()=>{JL(t)},e.addEventListener("DOMContentLoaded",n)),()=>lq(t,n)}typeof document<"u"&&loe();function cq(){return HE!=="pointer"}const coe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function uoe(t,e,n){let i=Gp(n==null?void 0:n.target);const r=typeof window<"u"?kg(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?kg(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?kg(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?kg(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||i.activeElement instanceof r&&!coe.has(i.activeElement.type)||i.activeElement instanceof s||i.activeElement instanceof o&&i.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof a&&!ooe[n.key])}function doe(t,e,n){JL(),k.useEffect(()=>{let i=(r,s)=>{uoe(!!(n!=null&&n.isTextInput),r,s)&&t(cq())};return YL.add(i),()=>{YL.delete(i)}},e)}function foe(t){let{isDisabled:e,onFocus:n,onBlur:i,onFocusChange:r}=t;const s=k.useCallback(l=>{if(l.target===l.currentTarget)return i&&i(l),r&&r(!1),!0},[i,r]),o=rq(s),a=k.useCallback(l=>{const c=Gp(l.target),d=c?KL(c):KL();l.target===l.currentTarget&&d===Q9(l.nativeEvent)&&(n&&n(l),r&&r(!0),o(l))},[r,n,o]);return{focusProps:{onFocus:!e&&(n||r||i)?a:void 0,onBlur:!e&&(i||r)?s:void 0}}}function hoe(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:i,onFocusWithinChange:r}=t,s=k.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:a}=nq(),l=k.useCallback(h=>{h.currentTarget.contains(h.target)&&s.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(s.current.isFocusWithin=!1,a(),n&&n(h),r&&r(!1))},[n,r,s,a]),c=rq(l),d=k.useCallback(h=>{if(!h.currentTarget.contains(h.target))return;const p=Gp(h.target),m=KL(p);if(!s.current.isFocusWithin&&m===Q9(h.nativeEvent)){i&&i(h),r&&r(!0),s.current.isFocusWithin=!0,c(h);let v=h.currentTarget;o(p,"focus",S=>{if(s.current.isFocusWithin&&!Z9(v,S.target)){let A=new iq("blur",new p.defaultView.FocusEvent("blur",{relatedTarget:S.target}));A.target=v,A.currentTarget=v,l(A)}},{capture:!0})}},[i,r,c,o,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:l}}}let CR=!1,zP=0;function ZL(){CR=!0,setTimeout(()=>{CR=!1},50)}function r4(t){t.pointerType==="touch"&&ZL()}function poe(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",r4):document.addEventListener("touchend",ZL),zP++,()=>{zP--,!(zP>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",r4):document.removeEventListener("touchend",ZL))}}function K2(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:i,isDisabled:r}=t,[s,o]=k.useState(!1),a=k.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;k.useEffect(poe,[]);let{addGlobalListener:l,removeAllGlobalListeners:c}=nq(),{hoverProps:d,triggerHoverEnd:h}=k.useMemo(()=>{let p=(S,A)=>{if(a.pointerType=A,r||A==="touch"||a.isHovered||!S.currentTarget.contains(S.target))return;a.isHovered=!0;let E=S.currentTarget;a.target=E,l(Gp(S.target),"pointerover",M=>{a.isHovered&&a.target&&!Z9(a.target,M.target)&&m(M,M.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:E,pointerType:A}),n&&n(!0),o(!0)},m=(S,A)=>{let E=a.target;a.pointerType="",a.target=null,!(A==="touch"||!a.isHovered||!E)&&(a.isHovered=!1,c(),i&&i({type:"hoverend",target:E,pointerType:A}),n&&n(!1),o(!1))},v={};return typeof PointerEvent<"u"?(v.onPointerEnter=S=>{CR&&S.pointerType==="mouse"||p(S,S.pointerType)},v.onPointerLeave=S=>{!r&&S.currentTarget.contains(S.target)&&m(S,S.pointerType)}):(v.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},v.onMouseEnter=S=>{!a.ignoreEmulatedMouseEvents&&!CR&&p(S,"mouse"),a.ignoreEmulatedMouseEvents=!1},v.onMouseLeave=S=>{!r&&S.currentTarget.contains(S.target)&&m(S,"mouse")}),{hoverProps:v,triggerHoverEnd:m}},[e,n,i,r,a,l,c]);return k.useEffect(()=>{r&&h({currentTarget:a.target},a.pointerType)},[r]),{hoverProps:d,isHovered:s}}function UE(t={}){let{autoFocus:e=!1,isTextInput:n,within:i}=t,r=k.useRef({isFocused:!1,isFocusVisible:e||cq()}),[s,o]=k.useState(!1),[a,l]=k.useState(()=>r.current.isFocused&&r.current.isFocusVisible),c=k.useCallback(()=>l(r.current.isFocused&&r.current.isFocusVisible),[]),d=k.useCallback(m=>{r.current.isFocused=m,o(m),c()},[c]);doe(m=>{r.current.isFocusVisible=m,c()},[],{isTextInput:n});let{focusProps:h}=foe({isDisabled:i,onFocusChange:d}),{focusWithinProps:p}=hoe({isDisabled:!i,onFocusWithinChange:d});return{isFocused:s,isFocusVisible:a,focusProps:i?p:h}}var moe=Object.defineProperty,goe=(t,e,n)=>e in t?moe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,BP=(t,e,n)=>(goe(t,typeof e!="symbol"?e+"":e,n),n);let yoe=class{constructor(){BP(this,"current",this.detect()),BP(this,"handoffState","pending"),BP(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ly=new yoe;function Jx(t){return Ly.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}function qE(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Wp(){let t=[],e={addEventListener(n,i,r,s){return n.addEventListener(i,r,s),e.add(()=>n.removeEventListener(i,r,s))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(i))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let i=setTimeout(...n);return e.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return qE(()=>{i.current&&n[0]()}),e.add(()=>{i.current=!1})},style(n,i,r){let s=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:r}),this.add(()=>{Object.assign(n.style,{[i]:s})})},group(n){let i=Wp();return n(i),this.add(()=>i.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let i=t.indexOf(n);if(i>=0)for(let r of t.splice(i,1))r()}},dispose(){for(let n of t.splice(0))n()}};return e}function Y2(){let[t]=k.useState(Wp);return k.useEffect(()=>()=>t.dispose(),[t]),t}let ur=(t,e)=>{Ly.isServer?k.useEffect(t,e):k.useLayoutEffect(t,e)};function Tc(t){let e=k.useRef(t);return ur(()=>{e.current=t},[t]),e}let Cn=function(t){let e=Tc(t);return Se.useCallback((...n)=>e.current(...n),[e])};function boe(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function voe(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function uq({disabled:t=!1}={}){let e=k.useRef(null),[n,i]=k.useState(!1),r=Y2(),s=Cn(()=>{e.current=null,i(!1),r.dispose()}),o=Cn(a=>{if(r.dispose(),e.current===null){e.current=a.currentTarget,i(!0);{let l=Jx(a.currentTarget);r.addEventListener(l,"pointerup",s,!1),r.addEventListener(l,"pointermove",c=>{if(e.current){let d=boe(c);i(voe(d,e.current.getBoundingClientRect()))}},!1),r.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}let dq=k.createContext(void 0);function s0(){return k.useContext(dq)}function fq({value:t,children:e}){return Se.createElement(dq.Provider,{value:t},e)}function QL(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function ka(t,e,...n){if(t in e){let r=e[t];return typeof r=="function"?r(...n):r}let i=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,ka),i}var Cx=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Cx||{}),wp=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(wp||{});function zi(){let t=woe();return k.useCallback(e=>xoe({mergeRefs:t,...e}),[t])}function xoe({ourProps:t,theirProps:e,slot:n,defaultTag:i,features:r,visible:s=!0,name:o,mergeRefs:a}){a=a??Soe;let l=hq(e,t);if(s)return z_(l,n,i,o,a);let c=r??0;if(c&2){let{static:d=!1,...h}=l;if(d)return z_(h,n,i,o,a)}if(c&1){let{unmount:d=!0,...h}=l;return ka(d?0:1,{0(){return null},1(){return z_({...h,hidden:!0,style:{display:"none"}},n,i,o,a)}})}return z_(l,n,i,o,a)}function z_(t,e={},n,i,r){let{as:s=n,children:o,refName:a="ref",...l}=VP(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},d=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(e){let p=!1,m=[];for(let[v,S]of Object.entries(e))typeof S=="boolean"&&(p=!0),S===!0&&m.push(v.replace(/([A-Z])/g,A=>`-${A.toLowerCase()}`));if(p){h["data-headlessui-state"]=m.join(" ");for(let v of m)h[`data-${v}`]=""}}if(s===k.Fragment&&(Object.keys(hg(l)).length>0||Object.keys(hg(h)).length>0))if(!k.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(hg(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(hg(l)).concat(Object.keys(hg(h))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=d.props,m=p==null?void 0:p.className,v=typeof m=="function"?(...E)=>QL(m(...E),l.className):QL(m,l.className),S=v?{className:v}:{},A=hq(d.props,hg(VP(l,["ref"])));for(let E in h)E in A&&delete h[E];return k.cloneElement(d,Object.assign({},A,h,c,{ref:r(Coe(d),c.ref)},S))}return k.createElement(s,Object.assign({},VP(l,["ref"]),s!==k.Fragment&&c,s!==k.Fragment&&h),d)}function woe(){let t=k.useRef([]),e=k.useCallback(n=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(n):i.current=n)},[]);return(...n)=>{if(!n.every(i=>i==null))return t.current=n,e}}function Soe(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function hq(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let r in i)r.startsWith("on")&&typeof i[r]=="function"?(n[r]!=null||(n[r]=[]),n[r].push(i[r])):e[r]=i[r];if(e.disabled||e["aria-disabled"])for(let i in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(n[i]=[r=>{var s;return(s=r==null?void 0:r.preventDefault)==null?void 0:s.call(r)}]);for(let i in n)Object.assign(e,{[i](r,...s){let o=n[i];for(let a of o){if((r instanceof Event||(r==null?void 0:r.nativeEvent)instanceof Event)&&r.defaultPrevented)return;a(r,...s)}}});return e}function GE(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let r in i)r.startsWith("on")&&typeof i[r]=="function"?(n[r]!=null||(n[r]=[]),n[r].push(i[r])):e[r]=i[r];for(let i in n)Object.assign(e,{[i](...r){let s=n[i];for(let o of s)o==null||o(...r)}});return e}function hi(t){var e;return Object.assign(k.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function hg(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function VP(t,e=[]){let n=Object.assign({},t);for(let i of e)i in n&&delete n[i];return n}function Coe(t){return Se.version.split(".")[0]>="19"?t.props.ref:t.ref}let Aoe="button";function Eoe(t,e){var n;let i=s0(),{disabled:r=i||!1,autoFocus:s=!1,...o}=t,{isFocusVisible:a,focusProps:l}=UE({autoFocus:s}),{isHovered:c,hoverProps:d}=K2({isDisabled:r}),{pressed:h,pressProps:p}=uq({disabled:r}),m=GE({ref:e,type:(n=o.type)!=null?n:"button",disabled:r||void 0,autoFocus:s},l,d,p),v=k.useMemo(()=>({disabled:r,hover:c,focus:a,active:h,autofocus:s}),[r,c,a,h,s]);return zi()({ourProps:m,theirProps:o,slot:v,defaultTag:Aoe,name:"Button"})}let bl=hi(Eoe),Toe="span";var Ax=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Ax||{});function koe(t,e){var n;let{features:i=1,...r}=t,s={ref:e,"aria-hidden":(i&2)===2?!0:(n=r["aria-hidden"])!=null?n:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return zi()({ourProps:s,theirProps:r,slot:{},defaultTag:Toe,name:"Hidden"})}let Ex=hi(koe),_oe=k.createContext(null);function Moe(t){let[e,n]=k.useState(null);return Se.createElement(_oe.Provider,{value:{target:e}},t.children,Se.createElement(Ex,{features:Ax.Hidden,ref:n}))}let pq=k.createContext(void 0);function R$(){return k.useContext(pq)}function Roe({id:t,children:e}){return Se.createElement(pq.Provider,{value:t},e)}let mq=Symbol();function Doe(t,e=!0){return Object.assign(t,{[mq]:e})}function us(...t){let e=k.useRef(t);k.useEffect(()=>{e.current=t},[t]);let n=Cn(i=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(i):r.current=i)});return t.every(i=>i==null||(i==null?void 0:i[mq]))?void 0:n}let X2=k.createContext(null);X2.displayName="DescriptionContext";function gq(){let t=k.useContext(X2);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,gq),e}return t}function yq(){var t,e;return(e=(t=k.useContext(X2))==null?void 0:t.value)!=null?e:void 0}function bq(){let[t,e]=k.useState([]);return[t.length>0?t.join(" "):void 0,k.useMemo(()=>function(n){let i=Cn(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),r=k.useMemo(()=>({register:i,slot:n.slot,name:n.name,props:n.props,value:n.value}),[i,n.slot,n.name,n.props,n.value]);return Se.createElement(X2.Provider,{value:r},n.children)},[e])]}let Noe="p";function Poe(t,e){let n=k.useId(),i=s0(),{id:r=`headlessui-description-${n}`,...s}=t,o=gq(),a=us(e);ur(()=>o.register(r),[r,o.register]);let l=i||!1,c=k.useMemo(()=>({...o.slot,disabled:l}),[o.slot,l]),d={ref:a,...o.props,id:r};return zi()({ourProps:d,theirProps:s,slot:c,defaultTag:Noe,name:o.name||"Description"})}let Ooe=hi(Poe),Loe=Object.assign(Ooe,{});var al=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(al||{});let J2=k.createContext(null);J2.displayName="LabelContext";function vq(){let t=k.useContext(J2);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,vq),e}return t}function D$(t){var e,n,i;let r=(n=(e=k.useContext(J2))==null?void 0:e.value)!=null?n:void 0;return((i=void 0)!=null?i:0)>0?[r,...t].filter(Boolean).join(" "):r}function xq({inherit:t=!1}={}){let e=D$(),[n,i]=k.useState([]),r=t?[e,...n].filter(Boolean):n;return[r.length>0?r.join(" "):void 0,k.useMemo(()=>function(s){let o=Cn(l=>(i(c=>[...c,l]),()=>i(c=>{let d=c.slice(),h=d.indexOf(l);return h!==-1&&d.splice(h,1),d}))),a=k.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return Se.createElement(J2.Provider,{value:a},s.children)},[i])]}let joe="label";function Ioe(t,e){var n;let i=k.useId(),r=vq(),s=R$(),o=s0(),{id:a=`headlessui-label-${i}`,htmlFor:l=s??((n=r.props)==null?void 0:n.htmlFor),passive:c=!1,...d}=t,h=us(e);ur(()=>r.register(a),[a,r.register]);let p=Cn(A=>{let E=A.currentTarget;if(E instanceof HTMLLabelElement&&A.preventDefault(),r.props&&"onClick"in r.props&&typeof r.props.onClick=="function"&&r.props.onClick(A),E instanceof HTMLLabelElement){let M=document.getElementById(E.htmlFor);if(M){let R=M.getAttribute("disabled");if(R==="true"||R==="")return;let N=M.getAttribute("aria-disabled");if(N==="true"||N==="")return;(M instanceof HTMLInputElement&&(M.type==="radio"||M.type==="checkbox")||M.role==="radio"||M.role==="checkbox"||M.role==="switch")&&M.click(),M.focus({preventScroll:!0})}}}),m=o||!1,v=k.useMemo(()=>({...r.slot,disabled:m}),[r.slot,m]),S={ref:h,...r.props,id:a,htmlFor:l,onClick:p};return c&&("onClick"in S&&(delete S.htmlFor,delete S.onClick),"onClick"in d&&delete d.onClick),zi()({ourProps:S,theirProps:d,slot:v,defaultTag:l?joe:"div",name:r.name||"Label"})}let Foe=hi(Ioe),Le=Object.assign(Foe,{}),$oe=k.createContext(()=>{});function zoe({value:t,children:e}){return Se.createElement($oe.Provider,{value:t},e)}let Boe=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};function wq(t,e){let n=t(),i=new Set;return{getSnapshot(){return n},subscribe(r){return i.add(r),()=>i.delete(r)},dispatch(r,...s){let o=e[r].call(n,...s);o&&(n=o,i.forEach(a=>a()))}}}function Sq(t){return k.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}let Voe=new Boe(()=>wq(()=>[],{ADD(t){return this.includes(t)?this:[...this,t]},REMOVE(t){let e=this.indexOf(t);if(e===-1)return this;let n=this.slice();return n.splice(e,1),n}}));function Zx(t,e){let n=Voe.get(e),i=k.useId(),r=Sq(n);if(ur(()=>{if(t)return n.dispatch("ADD",i),()=>n.dispatch("REMOVE",i)},[n,t]),!t)return!1;let s=r.indexOf(i),o=r.length;return s===-1&&(s=o,o+=1),s===o-1}let ej=new Map,pC=new Map;function s4(t){var e;let n=(e=pC.get(t))!=null?e:0;return pC.set(t,n+1),n!==0?()=>o4(t):(ej.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>o4(t))}function o4(t){var e;let n=(e=pC.get(t))!=null?e:1;if(n===1?pC.delete(t):pC.set(t,n-1),n!==1)return;let i=ej.get(t);i&&(i["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",i["aria-hidden"]),t.inert=i.inert,ej.delete(t))}function Hoe(t,{allowed:e,disallowed:n}={}){let i=Zx(t,"inert-others");ur(()=>{var r,s;if(!i)return;let o=Wp();for(let l of(r=n==null?void 0:n())!=null?r:[])l&&o.add(s4(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let c=Jx(l);if(!c)continue;let d=l.parentElement;for(;d&&d!==c.body;){for(let h of d.children)a.some(p=>h.contains(p))||o.add(s4(h));d=d.parentElement}}return o.dispose},[i,e,n])}function Uoe(t,e,n){let i=Tc(r=>{let s=r.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});k.useEffect(()=>{if(!t)return;let r=e===null?null:e instanceof HTMLElement?e:e.current;if(!r)return;let s=Wp();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>i.current(r));o.observe(r),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>i.current(r));o.observe(r),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,i,t])}let AR=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),qoe=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var wr=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(wr||{}),_g=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(_g||{}),Goe=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Goe||{});function Woe(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(AR)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Koe(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(qoe)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Cq=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Cq||{});function Yoe(t,e=0){var n;return t===((n=Jx(t))==null?void 0:n.body)?!1:ka(e,{0(){return t.matches(AR)},1(){let i=t;for(;i!==null;){if(i.matches(AR))return!0;i=i.parentElement}return!1}})}var Xoe=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(Xoe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function gf(t){t==null||t.focus({preventScroll:!0})}let Joe=["textarea","input"].join(",");function Zoe(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,Joe))!=null?n:!1}function nv(t,e=n=>n){return t.slice().sort((n,i)=>{let r=e(n),s=e(i);if(r===null||s===null)return 0;let o=r.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Ac(t,e,{sorted:n=!0,relativeTo:i=null,skipElements:r=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?nv(t):t:e&64?Koe(t):Woe(t);r.length>0&&o.length>1&&(o=o.filter(m=>!r.some(v=>v!=null&&"current"in v?(v==null?void 0:v.current)===m:v===m))),i=i??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(i))-1;if(e&4)return Math.max(0,o.indexOf(i))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},d=0,h=o.length,p;do{if(d>=h||d+h<=0)return 0;let m=l+d;if(e&16)m=(m+h)%h;else{if(m<0)return 3;if(m>=h)return 1}p=o[m],p==null||p.focus(c),d+=a}while(p!==s.activeElement);return e&6&&Zoe(p)&&p.select(),2}function Aq(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Qoe(){return/Android/gi.test(window.navigator.userAgent)}function eae(){return Aq()||Qoe()}function AS(t,e,n,i){let r=Tc(n);k.useEffect(()=>{if(!t)return;function s(o){r.current(o)}return document.addEventListener(e,s,i),()=>document.removeEventListener(e,s,i)},[t,e,i])}function Eq(t,e,n,i){let r=Tc(n);k.useEffect(()=>{if(!t)return;function s(o){r.current(o)}return window.addEventListener(e,s,i),()=>window.removeEventListener(e,s,i)},[t,e,i])}const a4=30;function tae(t,e,n){let i=Zx(t,"outside-click"),r=Tc(n),s=k.useCallback(function(l,c){if(l.defaultPrevented)return;let d=c(l);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let h=function p(m){return typeof m=="function"?p(m()):Array.isArray(m)||m instanceof Set?m:[m]}(e);for(let p of h)if(p!==null&&(p.contains(d)||l.composed&&l.composedPath().includes(p)))return;return!Yoe(d,Cq.Loose)&&d.tabIndex!==-1&&l.preventDefault(),r.current(l,d)},[r,e]),o=k.useRef(null);AS(i,"pointerdown",l=>{var c,d;o.current=((d=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:d[0])||l.target},!0),AS(i,"mousedown",l=>{var c,d;o.current=((d=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:d[0])||l.target},!0),AS(i,"click",l=>{eae()||o.current&&(s(l,()=>o.current),o.current=null)},!0);let a=k.useRef({x:0,y:0});AS(i,"touchstart",l=>{a.current.x=l.touches[0].clientX,a.current.y=l.touches[0].clientY},!0),AS(i,"touchend",l=>{let c={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(c.x-a.current.x)>=a4||Math.abs(c.y-a.current.y)>=a4))return s(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),Eq(i,"blur",l=>s(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function WE(...t){return k.useMemo(()=>Jx(...t),[...t])}function Tq(t,e,n,i){let r=Tc(n);k.useEffect(()=>{t=t??window;function s(o){r.current(o)}return t.addEventListener(e,s,i),()=>t.removeEventListener(e,s,i)},[t,e,i])}function nae(t,e){return k.useMemo(()=>{var n;if(t.type)return t.type;let i=(n=t.as)!=null?n:"button";if(typeof i=="string"&&i.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function iae(){let t;return{before({doc:e}){var n;let i=e.documentElement,r=(n=e.defaultView)!=null?n:window;t=Math.max(0,r.innerWidth-i.clientWidth)},after({doc:e,d:n}){let i=e.documentElement,r=Math.max(0,i.clientWidth-i.offsetWidth),s=Math.max(0,t-r);n.style(i,"paddingRight",`${s}px`)}}}function rae(){return Aq()?{before({doc:t,d:e,meta:n}){function i(r){return n.containers.flatMap(s=>s()).some(s=>s.contains(r))}e.microTask(()=>{var r;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=Wp();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(r=window.scrollY)!=null?r:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),d=t.querySelector(c);d&&!i(d)&&(o=d)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(i(a.target)){let l=a.target;for(;l.parentElement&&i(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(i(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function sae(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function oae(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Mg=wq(()=>new Map,{PUSH(t,e){var n;let i=(n=this.get(t))!=null?n:{doc:t,count:0,d:Wp(),meta:new Set};return i.count++,i.meta.add(e),this.set(t,i),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let i={doc:t,d:e,meta:oae(n)},r=[rae(),iae(),sae()];r.forEach(({before:s})=>s==null?void 0:s(i)),r.forEach(({after:s})=>s==null?void 0:s(i))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Mg.subscribe(()=>{let t=Mg.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let i=e.get(n.doc)==="hidden",r=n.count!==0;(r&&!i||!r&&i)&&Mg.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Mg.dispatch("TEARDOWN",n)}});function aae(t,e,n=()=>({containers:[]})){let i=Sq(Mg),r=e?i.get(e):void 0,s=r?r.count>0:!1;return ur(()=>{if(!(!e||!t))return Mg.dispatch("PUSH",e,n),()=>Mg.dispatch("POP",e,n)},[t,e]),s}function lae(t,e,n=()=>[document.body]){let i=Zx(t,"scroll-lock");aae(i,e,r=>{var s;return{containers:[...(s=r.containers)!=null?s:[],n]}})}function cae(t=0){let[e,n]=k.useState(t),i=k.useCallback(l=>n(l),[e]),r=k.useCallback(l=>n(c=>c|l),[e]),s=k.useCallback(l=>(e&l)===l,[e]),o=k.useCallback(l=>n(c=>c&~l),[n]),a=k.useCallback(l=>n(c=>c^l),[n]);return{flags:e,setFlag:i,addFlag:r,hasFlag:s,removeFlag:o,toggleFlag:a}}var uae={},l4,c4;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((l4=process==null?void 0:uae)==null?void 0:l4.NODE_ENV)==="test"&&typeof((c4=Element==null?void 0:Element.prototype)==null?void 0:c4.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var dae=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(dae||{});function fae(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function hae(t,e,n,i){let[r,s]=k.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=cae(t&&r?3:0),c=k.useRef(!1),d=k.useRef(!1),h=Y2();return ur(()=>{var p;if(t){if(n&&s(!0),!e){n&&a(3);return}return(p=i==null?void 0:i.start)==null||p.call(i,n),pae(e,{inFlight:c,prepare(){d.current?d.current=!1:d.current=c.current,c.current=!0,!d.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){d.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var m;d.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(c.current=!1,l(7),n||s(!1),(m=i==null?void 0:i.end)==null||m.call(i,n))}})}},[t,n,e,h]),t?[r,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function pae(t,{prepare:e,run:n,done:i,inFlight:r}){let s=Wp();return gae(t,{prepare:e,inFlight:r}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(mae(t,i))})}),s.dispose}function mae(t,e){var n,i;let r=Wp();if(!t)return r.dispose;let s=!1;r.add(()=>{s=!0});let o=(i=(n=t.getAnimations)==null?void 0:n.call(t).filter(a=>a instanceof CSSTransition))!=null?i:[];return o.length===0?(e(),r.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),r.dispose)}function gae(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let i=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=i}function N$(t,e){let n=k.useRef([]),i=Cn(t);k.useEffect(()=>{let r=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let a=i(e,r);return n.current=e,a}},[i,...e])}function Z2(){return typeof window<"u"}function Qx(t){return kq(t)?(t.nodeName||"").toLowerCase():"#document"}function Vo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function td(t){var e;return(e=(kq(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function kq(t){return Z2()?t instanceof Node||t instanceof Vo(t).Node:!1}function xi(t){return Z2()?t instanceof Element||t instanceof Vo(t).Element:!1}function ja(t){return Z2()?t instanceof HTMLElement||t instanceof Vo(t).HTMLElement:!1}function tj(t){return!Z2()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vo(t).ShadowRoot}function KE(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=Rl(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(r)}function yae(t){return["table","td","th"].includes(Qx(t))}function Q2(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function P$(t){const e=eD(),n=xi(t)?Rl(t):t;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function bae(t){let e=kf(t);for(;ja(e)&&!Pp(e);){if(P$(e))return e;if(Q2(e))return null;e=kf(e)}return null}function eD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pp(t){return["html","body","#document"].includes(Qx(t))}function Rl(t){return Vo(t).getComputedStyle(t)}function tD(t){return xi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function kf(t){if(Qx(t)==="html")return t;const e=t.assignedSlot||t.parentNode||tj(t)&&t.host||td(t);return tj(e)?e.host:e}function _q(t){const e=kf(t);return Pp(e)?t.ownerDocument?t.ownerDocument.body:t.body:ja(e)&&KE(e)?e:_q(e)}function yf(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=_q(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),o=Vo(r);if(s){const a=nj(o);return e.concat(o,o.visualViewport||[],KE(r)?r:[],a&&n?yf(a):[])}return e.concat(r,yf(r,[],n))}function nj(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function u4(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function jC(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&tj(n)){let i=e;for(;i;){if(t===i)return!0;i=i.parentNode||i.host}}return!1}function Mq(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function Rq(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:i}=e;return n+"/"+i}).join(" "):navigator.userAgent}function vae(t){return Sae()?!1:!d4()&&t.width===0&&t.height===0||d4()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function xae(){return/apple/i.test(navigator.vendor)}function d4(){const t=/android/i;return t.test(Mq())||t.test(Rq())}function wae(){return Mq().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Sae(){return Rq().includes("jsdom/")}function ij(t,e){const n=["mouse","pen"];return n.push("",void 0),n.includes(t)}function Cae(t){return"nativeEvent"in t}function Aae(t){return t.matches("html,body")}function Rg(t){return(t==null?void 0:t.ownerDocument)||document}function HP(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function Ub(t){return"composedPath"in t?t.composedPath()[0]:t.target}const Eae="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Tae(t){return ja(t)&&t.matches(Eae)}const Oc=Math.min,_s=Math.max,ER=Math.round,B_=Math.floor,Uu=t=>({x:t,y:t}),kae={left:"right",right:"left",bottom:"top",top:"bottom"},_ae={start:"end",end:"start"};function rj(t,e,n){return _s(t,Oc(e,n))}function _f(t,e){return typeof t=="function"?t(e):t}function Lc(t){return t.split("-")[0]}function e1(t){return t.split("-")[1]}function O$(t){return t==="x"?"y":"x"}function L$(t){return t==="y"?"height":"width"}function Mf(t){return["top","bottom"].includes(Lc(t))?"y":"x"}function j$(t){return O$(Mf(t))}function Mae(t,e,n){n===void 0&&(n=!1);const i=e1(t),r=j$(t),s=L$(r);let o=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=TR(o)),[o,TR(o)]}function Rae(t){const e=TR(t);return[sj(t),e,sj(e)]}function sj(t){return t.replace(/start|end/g,e=>_ae[e])}function Dae(t,e,n){const i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:i:e?i:r;case"left":case"right":return e?s:o;default:return[]}}function Nae(t,e,n,i){const r=e1(t);let s=Dae(Lc(t),n==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(sj)))),s}function TR(t){return t.replace(/left|right|bottom|top/g,e=>kae[e])}function Pae(t){return{top:0,right:0,bottom:0,left:0,...t}}function I$(t){return typeof t!="number"?Pae(t):{top:t,right:t,bottom:t,left:t}}function Tx(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function f4(t,e,n){let{reference:i,floating:r}=t;const s=Mf(e),o=j$(e),a=L$(o),l=Lc(e),c=s==="y",d=i.x+i.width/2-r.width/2,h=i.y+i.height/2-r.height/2,p=i[a]/2-r[a]/2;let m;switch(l){case"top":m={x:d,y:i.y-r.height};break;case"bottom":m={x:d,y:i.y+i.height};break;case"right":m={x:i.x+i.width,y:h};break;case"left":m={x:i.x-r.width,y:h};break;default:m={x:i.x,y:i.y}}switch(e1(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const Oae=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:d,y:h}=f4(c,i,l),p=i,m={},v=0;for(let S=0;S<a.length;S++){const{name:A,fn:E}=a[S],{x:M,y:R,data:N,reset:P}=await E({x:d,y:h,initialPlacement:i,placement:p,strategy:r,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=M??d,h=R??h,m={...m,[A]:{...m[A],...N}},P&&v<=50&&(v++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(c=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):P.rects),{x:d,y:h}=f4(c,p,l)),S=-1)}return{x:d,y:h,placement:p,strategy:r,middlewareData:m}};async function F$(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=_f(e,t),v=I$(m),A=a[p?h==="floating"?"reference":"floating":h],E=Tx(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(A)))==null||n?A:A.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),M=h==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),N=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},P=Tx(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:M,offsetParent:R,strategy:l}):M);return{top:(E.top-P.top+v.top)/N.y,bottom:(P.bottom-E.bottom+v.bottom)/N.y,left:(E.left-P.left+v.left)/N.x,right:(P.right-E.right+v.right)/N.x}}const Lae=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=_f(t,e)||{};if(c==null)return{};const h=I$(d),p={x:n,y:i},m=j$(r),v=L$(m),S=await o.getDimensions(c),A=m==="y",E=A?"top":"left",M=A?"bottom":"right",R=A?"clientHeight":"clientWidth",N=s.reference[v]+s.reference[m]-p[m]-s.floating[v],P=p[m]-s.reference[m],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let $=O?O[R]:0;(!$||!await(o.isElement==null?void 0:o.isElement(O)))&&($=a.floating[R]||s.floating[v]);const F=N/2-P/2,q=$/2-S[v]/2-1,B=Oc(h[E],q),X=Oc(h[M],q),Q=B,J=$-S[v]-X,oe=$/2-S[v]/2+F,ce=rj(Q,oe,J),le=!l.arrow&&e1(r)!=null&&oe!==ce&&s.reference[v]/2-(oe<Q?B:X)-S[v]/2<0,ee=le?oe<Q?oe-Q:oe-J:0;return{[m]:p[m]+ee,data:{[m]:ce,centerOffset:oe-ce-ee,...le&&{alignmentOffset:ee}},reset:le}}}),jae=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:S=!0,...A}=_f(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=Lc(r),M=Mf(a),R=Lc(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=p||(R||!S?[TR(a)]:Rae(a)),O=v!=="none";!p&&O&&P.push(...Nae(a,S,v,N));const $=[a,...P],F=await F$(e,A),q=[];let B=((i=s.flip)==null?void 0:i.overflows)||[];if(d&&q.push(F[E]),h){const oe=Mae(r,o,N);q.push(F[oe[0]],F[oe[1]])}if(B=[...B,{placement:r,overflows:q}],!q.every(oe=>oe<=0)){var X,Q;const oe=(((X=s.flip)==null?void 0:X.index)||0)+1,ce=$[oe];if(ce)return{data:{index:oe,overflows:B},reset:{placement:ce}};let le=(Q=B.filter(ee=>ee.overflows[0]<=0).sort((ee,Z)=>ee.overflows[1]-Z.overflows[1])[0])==null?void 0:Q.placement;if(!le)switch(m){case"bestFit":{var J;const ee=(J=B.filter(Z=>{if(O){const se=Mf(Z.placement);return se===M||se==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(se=>se>0).reduce((se,j)=>se+j,0)]).sort((Z,se)=>Z[1]-se[1])[0])==null?void 0:J[0];ee&&(le=ee);break}case"initialPlacement":le=a;break}if(r!==le)return{reset:{placement:le}}}return{}}}};function Dq(t){const e=Oc(...t.map(s=>s.left)),n=Oc(...t.map(s=>s.top)),i=_s(...t.map(s=>s.right)),r=_s(...t.map(s=>s.bottom));return{x:e,y:n,width:i-e,height:r-n}}function Iae(t){const e=t.slice().sort((r,s)=>r.y-s.y),n=[];let i=null;for(let r=0;r<e.length;r++){const s=e[r];!i||s.y-i.y>i.height/2?n.push([s]):n[n.length-1].push(s),i=s}return n.map(r=>Tx(Dq(r)))}const Fae=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:i,rects:r,platform:s,strategy:o}=e,{padding:a=2,x:l,y:c}=_f(t,e),d=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(i.reference))||[]),h=Iae(d),p=Tx(Dq(d)),m=I$(a);function v(){if(h.length===2&&h[0].left>h[1].right&&l!=null&&c!=null)return h.find(A=>l>A.left-m.left&&l<A.right+m.right&&c>A.top-m.top&&c<A.bottom+m.bottom)||p;if(h.length>=2){if(Mf(n)==="y"){const B=h[0],X=h[h.length-1],Q=Lc(n)==="top",J=B.top,oe=X.bottom,ce=Q?B.left:X.left,le=Q?B.right:X.right,ee=le-ce,Z=oe-J;return{top:J,bottom:oe,left:ce,right:le,width:ee,height:Z,x:ce,y:J}}const A=Lc(n)==="left",E=_s(...h.map(B=>B.right)),M=Oc(...h.map(B=>B.left)),R=h.filter(B=>A?B.left===M:B.right===E),N=R[0].top,P=R[R.length-1].bottom,O=M,$=E,F=$-O,q=P-N;return{top:N,bottom:P,left:O,right:$,width:F,height:q,x:O,y:N}}return p}const S=await s.getElementRects({reference:{getBoundingClientRect:v},floating:i.floating,strategy:o});return r.reference.x!==S.reference.x||r.reference.y!==S.reference.y||r.reference.width!==S.reference.width||r.reference.height!==S.reference.height?{reset:{rects:S}}:{}}}};async function $ae(t,e){const{placement:n,platform:i,elements:r}=t,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=Lc(n),a=e1(n),l=Mf(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=_f(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const zae=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await $ae(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},Bae=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:A=>{let{x:E,y:M}=A;return{x:E,y:M}}},...l}=_f(t,e),c={x:n,y:i},d=await F$(e,l),h=Mf(Lc(r)),p=O$(h);let m=c[p],v=c[h];if(s){const A=p==="y"?"top":"left",E=p==="y"?"bottom":"right",M=m+d[A],R=m-d[E];m=rj(M,m,R)}if(o){const A=h==="y"?"top":"left",E=h==="y"?"bottom":"right",M=v+d[A],R=v-d[E];v=rj(M,v,R)}const S=a.fn({...e,[p]:m,[h]:v});return{...S,data:{x:S.x-n,y:S.y-i,enabled:{[p]:s,[h]:o}}}}}},Vae=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=_f(t,e),d={x:n,y:i},h=Mf(r),p=O$(h);let m=d[p],v=d[h];const S=_f(a,e),A=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(l){const R=p==="y"?"height":"width",N=s.reference[p]-s.floating[R]+A.mainAxis,P=s.reference[p]+s.reference[R]-A.mainAxis;m<N?m=N:m>P&&(m=P)}if(c){var E,M;const R=p==="y"?"width":"height",N=["top","left"].includes(Lc(r)),P=s.reference[h]-s.floating[R]+(N&&((E=o.offset)==null?void 0:E[h])||0)+(N?0:A.crossAxis),O=s.reference[h]+s.reference[R]+(N?0:((M=o.offset)==null?void 0:M[h])||0)-(N?A.crossAxis:0);v<P?v=P:v>O&&(v=O)}return{[p]:m,[h]:v}}}},Hae=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=_f(t,e),d=await F$(e,c),h=Lc(r),p=e1(r),m=Mf(r)==="y",{width:v,height:S}=s.floating;let A,E;h==="top"||h==="bottom"?(A=h,E=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=h,A=p==="end"?"top":"bottom");const M=S-d.top-d.bottom,R=v-d.left-d.right,N=Oc(S-d[A],M),P=Oc(v-d[E],R),O=!e.middlewareData.shift;let $=N,F=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(F=R),(i=e.middlewareData.shift)!=null&&i.enabled.y&&($=M),O&&!p){const B=_s(d.left,0),X=_s(d.right,0),Q=_s(d.top,0),J=_s(d.bottom,0);m?F=v-2*(B!==0||X!==0?B+X:_s(d.left,d.right)):$=S-2*(Q!==0||J!==0?Q+J:_s(d.top,d.bottom))}await l({...e,availableWidth:F,availableHeight:$});const q=await o.getDimensions(a.floating);return v!==q.width||S!==q.height?{reset:{rects:!0}}:{}}}};function Nq(t){const e=Rl(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=ja(t),s=r?t.offsetWidth:n,o=r?t.offsetHeight:i,a=ER(n)!==s||ER(i)!==o;return a&&(n=s,i=o),{width:n,height:i,$:a}}function $$(t){return xi(t)?t:t.contextElement}function bv(t){const e=$$(t);if(!ja(e))return Uu(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=Nq(e);let o=(s?ER(n.width):n.width)/i,a=(s?ER(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Uae=Uu(0);function Pq(t){const e=Vo(t);return!eD()||!e.visualViewport?Uae:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function qae(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Vo(t)?!1:e}function qy(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=$$(t);let o=Uu(1);e&&(i?xi(i)&&(o=bv(i)):o=bv(t));const a=qae(s,n,i)?Pq(s):Uu(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,d=r.width/o.x,h=r.height/o.y;if(s){const p=Vo(s),m=i&&xi(i)?Vo(i):i;let v=p,S=nj(v);for(;S&&i&&m!==v;){const A=bv(S),E=S.getBoundingClientRect(),M=Rl(S),R=E.left+(S.clientLeft+parseFloat(M.paddingLeft))*A.x,N=E.top+(S.clientTop+parseFloat(M.paddingTop))*A.y;l*=A.x,c*=A.y,d*=A.x,h*=A.y,l+=R,c+=N,v=Vo(S),S=nj(v)}}return Tx({width:d,height:h,x:l,y:c})}function z$(t,e){const n=tD(t).scrollLeft;return e?e.left+n:qy(td(t)).left+n}function Oq(t,e,n){n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=i.left+e.scrollLeft-(n?0:z$(t,i)),s=i.top+e.scrollTop;return{x:r,y:s}}function Gae(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const s=r==="fixed",o=td(i),a=e?Q2(e.floating):!1;if(i===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Uu(1);const d=Uu(0),h=ja(i);if((h||!h&&!s)&&((Qx(i)!=="body"||KE(o))&&(l=tD(i)),ja(i))){const m=qy(i);c=bv(i),d.x=m.x+i.clientLeft,d.y=m.y+i.clientTop}const p=o&&!h&&!s?Oq(o,l,!0):Uu(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function Wae(t){return Array.from(t.getClientRects())}function Kae(t){const e=td(t),n=tD(t),i=t.ownerDocument.body,r=_s(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=_s(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+z$(t);const a=-n.scrollTop;return Rl(i).direction==="rtl"&&(o+=_s(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function Yae(t,e){const n=Vo(t),i=td(t),r=n.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const c=eD();(!c||c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}function Xae(t,e){const n=qy(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,s=ja(t)?bv(t):Uu(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function h4(t,e,n){let i;if(e==="viewport")i=Yae(t,n);else if(e==="document")i=Kae(td(t));else if(xi(e))i=Xae(e,n);else{const r=Pq(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Tx(i)}function Lq(t,e){const n=kf(t);return n===e||!xi(n)||Pp(n)?!1:Rl(n).position==="fixed"||Lq(n,e)}function Jae(t,e){const n=e.get(t);if(n)return n;let i=yf(t,[],!1).filter(a=>xi(a)&&Qx(a)!=="body"),r=null;const s=Rl(t).position==="fixed";let o=s?kf(t):t;for(;xi(o)&&!Pp(o);){const a=Rl(o),l=P$(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||KE(o)&&!l&&Lq(t,o))?i=i.filter(d=>d!==o):r=a,o=kf(o)}return e.set(t,i),i}function Zae(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const o=[...n==="clippingAncestors"?Q2(e)?[]:Jae(e,this._c):[].concat(n),i],a=o[0],l=o.reduce((c,d)=>{const h=h4(e,d,r);return c.top=_s(h.top,c.top),c.right=Oc(h.right,c.right),c.bottom=Oc(h.bottom,c.bottom),c.left=_s(h.left,c.left),c},h4(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Qae(t){const{width:e,height:n}=Nq(t);return{width:e,height:n}}function ele(t,e,n){const i=ja(e),r=td(e),s=n==="fixed",o=qy(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Uu(0);if(i||!i&&!s)if((Qx(e)!=="body"||KE(r))&&(a=tD(e)),i){const p=qy(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else r&&(l.x=z$(r));const c=r&&!i&&!s?Oq(r,a):Uu(0),d=o.left+a.scrollLeft-l.x-c.x,h=o.top+a.scrollTop-l.y-c.y;return{x:d,y:h,width:o.width,height:o.height}}function UP(t){return Rl(t).position==="static"}function p4(t,e){if(!ja(t)||Rl(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return td(t)===n&&(n=n.ownerDocument.body),n}function jq(t,e){const n=Vo(t);if(Q2(t))return n;if(!ja(t)){let r=kf(t);for(;r&&!Pp(r);){if(xi(r)&&!UP(r))return r;r=kf(r)}return n}let i=p4(t,e);for(;i&&yae(i)&&UP(i);)i=p4(i,e);return i&&Pp(i)&&UP(i)&&!P$(i)?n:i||bae(t)||n}const tle=async function(t){const e=this.getOffsetParent||jq,n=this.getDimensions,i=await n(t.floating);return{reference:ele(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function nle(t){return Rl(t).direction==="rtl"}const ile={convertOffsetParentRelativeRectToViewportRelativeRect:Gae,getDocumentElement:td,getClippingRect:Zae,getOffsetParent:jq,getElementRects:tle,getClientRects:Wae,getDimensions:Qae,getScale:bv,isElement:xi,isRTL:nle};function Iq(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function rle(t,e){let n=null,i;const r=td(t);function s(){var a;clearTimeout(i),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:d,top:h,width:p,height:m}=c;if(a||e(),!p||!m)return;const v=B_(h),S=B_(r.clientWidth-(d+p)),A=B_(r.clientHeight-(h+m)),E=B_(d),R={rootMargin:-v+"px "+-S+"px "+-A+"px "+-E+"px",threshold:_s(0,Oc(1,l))||1};let N=!0;function P(O){const $=O[0].intersectionRatio;if($!==l){if(!N)return o();$?o(!1,$):i=setTimeout(()=>{o(!1,1e-7)},1e3)}$===1&&!Iq(c,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(P,{...R,root:r.ownerDocument})}catch{n=new IntersectionObserver(P,R)}n.observe(t)}return o(!0),s}function sle(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=$$(t),d=r||s?[...c?yf(c):[],...yf(e)]:[];d.forEach(E=>{r&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const h=c&&a?rle(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(E=>{let[M]=E;M&&M.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var R;(R=m)==null||R.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let v,S=l?qy(t):null;l&&A();function A(){const E=qy(t);S&&!Iq(S,E)&&n(),S=E,v=requestAnimationFrame(A)}return n(),()=>{var E;d.forEach(M=>{r&&M.removeEventListener("scroll",n),s&&M.removeEventListener("resize",n)}),h==null||h(),(E=m)==null||E.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const ole=zae,ale=Bae,lle=jae,cle=Hae,m4=Lae,ule=Fae,dle=Vae,fle=(t,e,n)=>{const i=new Map,r={platform:ile,...n},s={...r.platform,_c:i};return Oae(t,e,{...r,platform:s})};var TM=typeof document<"u"?k.useLayoutEffect:k.useEffect;function kR(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!kR(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const s=r[i];if(!(s==="_owner"&&t.$$typeof)&&!kR(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Fq(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function g4(t,e){const n=Fq(t);return Math.round(e*n)/n}function qP(t){const e=k.useRef(t);return TM(()=>{e.current=t}),e}function hle(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=k.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=k.useState(i);kR(p,i)||m(i);const[v,S]=k.useState(null),[A,E]=k.useState(null),M=k.useCallback(Z=>{Z!==O.current&&(O.current=Z,S(Z))},[]),R=k.useCallback(Z=>{Z!==$.current&&($.current=Z,E(Z))},[]),N=s||v,P=o||A,O=k.useRef(null),$=k.useRef(null),F=k.useRef(d),q=l!=null,B=qP(l),X=qP(r),Q=qP(c),J=k.useCallback(()=>{if(!O.current||!$.current)return;const Z={placement:e,strategy:n,middleware:p};X.current&&(Z.platform=X.current),fle(O.current,$.current,Z).then(se=>{const j={...se,isPositioned:Q.current!==!1};oe.current&&!kR(F.current,j)&&(F.current=j,Xx.flushSync(()=>{h(j)}))})},[p,e,n,X,Q]);TM(()=>{c===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,h(Z=>({...Z,isPositioned:!1})))},[c]);const oe=k.useRef(!1);TM(()=>(oe.current=!0,()=>{oe.current=!1}),[]),TM(()=>{if(N&&(O.current=N),P&&($.current=P),N&&P){if(B.current)return B.current(N,P,J);J()}},[N,P,J,B,q]);const ce=k.useMemo(()=>({reference:O,floating:$,setReference:M,setFloating:R}),[M,R]),le=k.useMemo(()=>({reference:N,floating:P}),[N,P]),ee=k.useMemo(()=>{const Z={position:n,left:0,top:0};if(!le.floating)return Z;const se=g4(le.floating,d.x),j=g4(le.floating,d.y);return a?{...Z,transform:"translate("+se+"px, "+j+"px)",...Fq(le.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:se,top:j}},[n,a,le.floating,d.x,d.y]);return k.useMemo(()=>({...d,update:J,refs:ce,elements:le,floatingStyles:ee}),[d,J,ce,le,ee])}const ple=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:r}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?m4({element:i.current,padding:r}).fn(n):{}:i?m4({element:i,padding:r}).fn(n):{}}}},$q=(t,e)=>({...ole(t),options:[t,e]}),B$=(t,e)=>({...ale(t),options:[t,e]}),y4=(t,e)=>({...dle(t),options:[t,e]}),_R=(t,e)=>({...lle(t),options:[t,e]}),mle=(t,e)=>({...cle(t),options:[t,e]}),mC=(t,e)=>({...ule(t),options:[t,e]}),zq=(t,e)=>({...ple(t),options:[t,e]}),Bq={...qL},gle=Bq.useInsertionEffect,yle=gle||(t=>t());function df(t){const e=k.useRef(()=>{});return yle(()=>{e.current=t}),k.useCallback(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.current==null?void 0:e.current(...i)},[])}var qu=typeof document<"u"?k.useLayoutEffect:k.useEffect;let b4=!1,ble=0;const v4=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ble++;function vle(){const[t,e]=k.useState(()=>b4?v4():void 0);return qu(()=>{t==null&&e(v4())},[]),k.useEffect(()=>{b4=!0},[]),t}const xle=Bq.useId,Vq=xle||vle;function wle(){const t=new Map;return{emit(e,n){var i;(i=t.get(e))==null||i.forEach(r=>r(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var i;t.set(e,((i=t.get(e))==null?void 0:i.filter(r=>r!==n))||[])}}}const Sle=k.createContext(null),Cle=k.createContext(null),V$=()=>{var t;return((t=k.useContext(Sle))==null?void 0:t.id)||null},H$=()=>k.useContext(Cle);function U$(t){return"data-floating-ui-"+t}function GP(t){const e=k.useRef(t);return qu(()=>{e.current=t}),e}const x4=U$("safe-polygon");function kM(t,e,n){return n&&!ij(n)?0:typeof t=="number"?t:t==null?void 0:t[e]}function Ale(t,e){e===void 0&&(e={});const{open:n,onOpenChange:i,dataRef:r,events:s,elements:o}=t,{enabled:a=!0,delay:l=0,handleClose:c=null,mouseOnly:d=!1,restMs:h=0,move:p=!0}=e,m=H$(),v=V$(),S=GP(c),A=GP(l),E=GP(n),M=k.useRef(),R=k.useRef(-1),N=k.useRef(),P=k.useRef(-1),O=k.useRef(!0),$=k.useRef(!1),F=k.useRef(()=>{}),q=k.useRef(!1),B=k.useCallback(()=>{var ee;const Z=(ee=r.current.openEvent)==null?void 0:ee.type;return(Z==null?void 0:Z.includes("mouse"))&&Z!=="mousedown"},[r]);k.useEffect(()=>{if(!a)return;function ee(Z){let{open:se}=Z;se||(clearTimeout(R.current),clearTimeout(P.current),O.current=!0,q.current=!1)}return s.on("openchange",ee),()=>{s.off("openchange",ee)}},[a,s]),k.useEffect(()=>{if(!a||!S.current||!n)return;function ee(se){B()&&i(!1,se,"hover")}const Z=Rg(o.floating).documentElement;return Z.addEventListener("mouseleave",ee),()=>{Z.removeEventListener("mouseleave",ee)}},[o.floating,n,i,a,S,B]);const X=k.useCallback(function(ee,Z,se){Z===void 0&&(Z=!0),se===void 0&&(se="hover");const j=kM(A.current,"close",M.current);j&&!N.current?(clearTimeout(R.current),R.current=window.setTimeout(()=>i(!1,ee,se),j)):Z&&(clearTimeout(R.current),i(!1,ee,se))},[A,i]),Q=df(()=>{F.current(),N.current=void 0}),J=df(()=>{if($.current){const ee=Rg(o.floating).body;ee.style.pointerEvents="",ee.removeAttribute(x4),$.current=!1}}),oe=df(()=>r.current.openEvent?["click","mousedown"].includes(r.current.openEvent.type):!1);k.useEffect(()=>{if(!a)return;function ee(te){if(clearTimeout(R.current),O.current=!1,d&&!ij(M.current)||h>0&&!kM(A.current,"open"))return;const ae=kM(A.current,"open",M.current);ae?R.current=window.setTimeout(()=>{E.current||i(!0,te,"hover")},ae):n||i(!0,te,"hover")}function Z(te){if(oe())return;F.current();const ae=Rg(o.floating);if(clearTimeout(P.current),q.current=!1,S.current&&r.current.floatingContext){n||clearTimeout(R.current),N.current=S.current({...r.current.floatingContext,tree:m,x:te.clientX,y:te.clientY,onClose(){J(),Q(),oe()||X(te,!0,"safe-polygon")}});const ve=N.current;ae.addEventListener("mousemove",ve),F.current=()=>{ae.removeEventListener("mousemove",ve)};return}(M.current==="touch"?!jC(o.floating,te.relatedTarget):!0)&&X(te)}function se(te){oe()||r.current.floatingContext&&(S.current==null||S.current({...r.current.floatingContext,tree:m,x:te.clientX,y:te.clientY,onClose(){J(),Q(),oe()||X(te)}})(te))}if(xi(o.domReference)){var j;const te=o.domReference;return n&&te.addEventListener("mouseleave",se),(j=o.floating)==null||j.addEventListener("mouseleave",se),p&&te.addEventListener("mousemove",ee,{once:!0}),te.addEventListener("mouseenter",ee),te.addEventListener("mouseleave",Z),()=>{var ae;n&&te.removeEventListener("mouseleave",se),(ae=o.floating)==null||ae.removeEventListener("mouseleave",se),p&&te.removeEventListener("mousemove",ee),te.removeEventListener("mouseenter",ee),te.removeEventListener("mouseleave",Z)}}},[o,a,t,d,h,p,X,Q,J,i,n,E,m,A,S,r,oe]),qu(()=>{var ee;if(a&&n&&(ee=S.current)!=null&&ee.__options.blockPointerEvents&&B()){$.current=!0;const se=o.floating;if(xi(o.domReference)&&se){var Z;const j=Rg(o.floating).body;j.setAttribute(x4,"");const te=o.domReference,ae=m==null||(Z=m.nodesRef.current.find(U=>U.id===v))==null||(Z=Z.context)==null?void 0:Z.elements.floating;return ae&&(ae.style.pointerEvents=""),j.style.pointerEvents="none",te.style.pointerEvents="auto",se.style.pointerEvents="auto",()=>{j.style.pointerEvents="",te.style.pointerEvents="",se.style.pointerEvents=""}}}},[a,n,v,o,m,S,B]),qu(()=>{n||(M.current=void 0,q.current=!1,Q(),J())},[n,Q,J]),k.useEffect(()=>()=>{Q(),clearTimeout(R.current),clearTimeout(P.current),J()},[a,o.domReference,Q,J]);const ce=k.useMemo(()=>{function ee(Z){M.current=Z.pointerType}return{onPointerDown:ee,onPointerEnter:ee,onMouseMove(Z){const{nativeEvent:se}=Z;function j(){!O.current&&!E.current&&i(!0,se,"hover")}d&&!ij(M.current)||n||h===0||q.current&&Z.movementX**2+Z.movementY**2<2||(clearTimeout(P.current),M.current==="touch"?j():(q.current=!0,P.current=window.setTimeout(j,h)))}}},[d,i,n,E,h]),le=k.useMemo(()=>({onMouseEnter(){clearTimeout(R.current)},onMouseLeave(ee){oe()||X(ee.nativeEvent,!1)}}),[X,oe]);return k.useMemo(()=>a?{reference:ce,floating:le}:{},[a,ce,le])}const oj=()=>{},Hq=k.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:oj,setState:oj,isInstantPhase:!1}),Ele=()=>k.useContext(Hq);function Tle(t){const{children:e,delay:n,timeoutMs:i=0}=t,[r,s]=k.useReducer((l,c)=>({...l,...c}),{delay:n,timeoutMs:i,initialDelay:n,currentId:null,isInstantPhase:!1}),o=k.useRef(null),a=k.useCallback(l=>{s({currentId:l})},[]);return qu(()=>{r.currentId?o.current===null?o.current=r.currentId:r.isInstantPhase||s({isInstantPhase:!0}):(r.isInstantPhase&&s({isInstantPhase:!1}),o.current=null)},[r.currentId,r.isInstantPhase]),k.createElement(Hq.Provider,{value:k.useMemo(()=>({...r,setState:s,setCurrentId:a}),[r,a])},e)}function kle(t,e){e===void 0&&(e={});const{open:n,onOpenChange:i,floatingId:r}=t,{id:s,enabled:o=!0}=e,a=s??r,l=Ele(),{currentId:c,setCurrentId:d,initialDelay:h,setState:p,timeoutMs:m}=l;return qu(()=>{o&&c&&(p({delay:{open:1,close:kM(h,"close")}}),c!==a&&i(!1))},[o,a,i,p,c,h]),qu(()=>{function v(){i(!1),p({delay:h,currentId:null})}if(o&&c&&!n&&c===a){if(m){const S=window.setTimeout(v,m);return()=>{clearTimeout(S)}}v()}},[o,n,p,c,a,i,h,m]),qu(()=>{o&&(d===oj||!n||d(a))},[o,n,d,a]),l}function WP(t,e){let n=t.filter(r=>{var s;return r.parentId===e&&((s=r.context)==null?void 0:s.open)}),i=n;for(;i.length;)i=t.filter(r=>{var s;return(s=i)==null?void 0:s.some(o=>{var a;return r.parentId===o.id&&((a=r.context)==null?void 0:a.open)})}),n=n.concat(i);return n}const _le="data-floating-ui-focusable",Mle={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Rle={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},w4=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}};function Dle(t,e){e===void 0&&(e={});const{open:n,onOpenChange:i,elements:r,dataRef:s}=t,{enabled:o=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:d=!1,referencePressEvent:h="pointerdown",ancestorScroll:p=!1,bubbles:m,capture:v}=e,S=H$(),A=df(typeof l=="function"?l:()=>!1),E=typeof l=="function"?A:l,M=k.useRef(!1),R=k.useRef(!1),{escapeKey:N,outsidePress:P}=w4(m),{escapeKey:O,outsidePress:$}=w4(v),F=k.useRef(!1),q=df(ce=>{var le;if(!n||!o||!a||ce.key!=="Escape"||F.current)return;const ee=(le=s.current.floatingContext)==null?void 0:le.nodeId,Z=S?WP(S.nodesRef.current,ee):[];if(!N&&(ce.stopPropagation(),Z.length>0)){let se=!0;if(Z.forEach(j=>{var te;if((te=j.context)!=null&&te.open&&!j.context.dataRef.current.__escapeKeyBubbles){se=!1;return}}),!se)return}i(!1,Cae(ce)?ce.nativeEvent:ce,"escape-key")}),B=df(ce=>{var le;const ee=()=>{var Z;q(ce),(Z=Ub(ce))==null||Z.removeEventListener("keydown",ee)};(le=Ub(ce))==null||le.addEventListener("keydown",ee)}),X=df(ce=>{var le;const ee=M.current;M.current=!1;const Z=R.current;if(R.current=!1,c==="click"&&Z||ee||typeof E=="function"&&!E(ce))return;const se=Ub(ce),j="["+U$("inert")+"]",te=Rg(r.floating).querySelectorAll(j);let ae=xi(se)?se:null;for(;ae&&!Pp(ae);){const Ce=kf(ae);if(Pp(Ce)||!xi(Ce))break;ae=Ce}if(te.length&&xi(se)&&!Aae(se)&&!jC(se,r.floating)&&Array.from(te).every(Ce=>!jC(ae,Ce)))return;if(ja(se)&&oe){const Ce=se.clientWidth>0&&se.scrollWidth>se.clientWidth,je=se.clientHeight>0&&se.scrollHeight>se.clientHeight;let Ue=je&&ce.offsetX>se.clientWidth;if(je&&Rl(se).direction==="rtl"&&(Ue=ce.offsetX<=se.offsetWidth-se.clientWidth),Ue||Ce&&ce.offsetY>se.clientHeight)return}const U=(le=s.current.floatingContext)==null?void 0:le.nodeId,ve=S&&WP(S.nodesRef.current,U).some(Ce=>{var je;return HP(ce,(je=Ce.context)==null?void 0:je.elements.floating)});if(HP(ce,r.floating)||HP(ce,r.domReference)||ve)return;const ke=S?WP(S.nodesRef.current,U):[];if(ke.length>0){let Ce=!0;if(ke.forEach(je=>{var Ue;if((Ue=je.context)!=null&&Ue.open&&!je.context.dataRef.current.__outsidePressBubbles){Ce=!1;return}}),!Ce)return}i(!1,ce,"outside-press")}),Q=df(ce=>{var le;const ee=()=>{var Z;X(ce),(Z=Ub(ce))==null||Z.removeEventListener(c,ee)};(le=Ub(ce))==null||le.addEventListener(c,ee)});k.useEffect(()=>{if(!n||!o)return;s.current.__escapeKeyBubbles=N,s.current.__outsidePressBubbles=P;let ce=-1;function le(te){i(!1,te,"ancestor-scroll")}function ee(){window.clearTimeout(ce),F.current=!0}function Z(){ce=window.setTimeout(()=>{F.current=!1},eD()?5:0)}const se=Rg(r.floating);a&&(se.addEventListener("keydown",O?B:q,O),se.addEventListener("compositionstart",ee),se.addEventListener("compositionend",Z)),E&&se.addEventListener(c,$?Q:X,$);let j=[];return p&&(xi(r.domReference)&&(j=yf(r.domReference)),xi(r.floating)&&(j=j.concat(yf(r.floating))),!xi(r.reference)&&r.reference&&r.reference.contextElement&&(j=j.concat(yf(r.reference.contextElement)))),j=j.filter(te=>{var ae;return te!==((ae=se.defaultView)==null?void 0:ae.visualViewport)}),j.forEach(te=>{te.addEventListener("scroll",le,{passive:!0})}),()=>{a&&(se.removeEventListener("keydown",O?B:q,O),se.removeEventListener("compositionstart",ee),se.removeEventListener("compositionend",Z)),E&&se.removeEventListener(c,$?Q:X,$),j.forEach(te=>{te.removeEventListener("scroll",le)}),window.clearTimeout(ce)}},[s,r,a,E,c,n,i,p,o,N,P,q,O,B,X,$,Q]),k.useEffect(()=>{M.current=!1},[E,c]);const J=k.useMemo(()=>({onKeyDown:q,[Mle[h]]:ce=>{d&&i(!1,ce.nativeEvent,"reference-press")}}),[q,i,d,h]),oe=k.useMemo(()=>({onKeyDown:q,onMouseDown(){R.current=!0},onMouseUp(){R.current=!0},[Rle[c]]:()=>{M.current=!0}}),[q,c]);return k.useMemo(()=>o?{reference:J,floating:oe}:{},[o,J,oe])}function Nle(t){const{open:e=!1,onOpenChange:n,elements:i}=t,r=Vq(),s=k.useRef({}),[o]=k.useState(()=>wle()),a=V$()!=null,[l,c]=k.useState(i.reference),d=df((m,v,S)=>{s.current.openEvent=m?v:void 0,o.emit("openchange",{open:m,event:v,reason:S,nested:a}),n==null||n(m,v,S)}),h=k.useMemo(()=>({setPositionReference:c}),[]),p=k.useMemo(()=>({reference:l||i.reference||null,floating:i.floating||null,domReference:i.reference}),[l,i.reference,i.floating]);return k.useMemo(()=>({dataRef:s,open:e,onOpenChange:d,elements:p,events:o,floatingId:r,refs:h}),[e,d,p,o,r,h])}function q$(t){t===void 0&&(t={});const{nodeId:e}=t,n=Nle({...t,elements:{reference:null,floating:null,...t.elements}}),i=t.rootContext||n,r=i.elements,[s,o]=k.useState(null),[a,l]=k.useState(null),d=(r==null?void 0:r.domReference)||s,h=k.useRef(null),p=H$();qu(()=>{d&&(h.current=d)},[d]);const m=hle({...t,elements:{...r,...a&&{reference:a}}}),v=k.useCallback(R=>{const N=xi(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),contextElement:R}:R;l(N),m.refs.setReference(N)},[m.refs]),S=k.useCallback(R=>{(xi(R)||R===null)&&(h.current=R,o(R)),(xi(m.refs.reference.current)||m.refs.reference.current===null||R!==null&&!xi(R))&&m.refs.setReference(R)},[m.refs]),A=k.useMemo(()=>({...m.refs,setReference:S,setPositionReference:v,domReference:h}),[m.refs,S,v]),E=k.useMemo(()=>({...m.elements,domReference:d}),[m.elements,d]),M=k.useMemo(()=>({...m,...i,refs:A,elements:E,nodeId:e}),[m,A,E,e,i]);return qu(()=>{i.dataRef.current.floatingContext=M;const R=p==null?void 0:p.nodesRef.current.find(N=>N.id===e);R&&(R.context=M)}),k.useMemo(()=>({...m,context:M,refs:A,elements:E}),[m,A,E,M])}function Ple(t,e){e===void 0&&(e={});const{open:n,onOpenChange:i,events:r,dataRef:s,elements:o}=t,{enabled:a=!0,visibleOnly:l=!0}=e,c=k.useRef(!1),d=k.useRef(),h=k.useRef(!0);k.useEffect(()=>{if(!a)return;const m=Vo(o.domReference);function v(){!n&&ja(o.domReference)&&o.domReference===u4(Rg(o.domReference))&&(c.current=!0)}function S(){h.current=!0}return m.addEventListener("blur",v),m.addEventListener("keydown",S,!0),()=>{m.removeEventListener("blur",v),m.removeEventListener("keydown",S,!0)}},[o.domReference,n,a]),k.useEffect(()=>{if(!a)return;function m(v){let{reason:S}=v;(S==="reference-press"||S==="escape-key")&&(c.current=!0)}return r.on("openchange",m),()=>{r.off("openchange",m)}},[r,a]),k.useEffect(()=>()=>{clearTimeout(d.current)},[]);const p=k.useMemo(()=>({onPointerDown(m){vae(m.nativeEvent)||(h.current=!1)},onMouseLeave(){c.current=!1},onFocus(m){if(c.current)return;const v=Ub(m.nativeEvent);if(l&&xi(v))try{if(xae()&&wae())throw Error();if(!v.matches(":focus-visible"))return}catch{if(!h.current&&!Tae(v))return}i(!0,m.nativeEvent,"focus")},onBlur(m){c.current=!1;const v=m.relatedTarget,S=m.nativeEvent,A=xi(v)&&v.hasAttribute(U$("focus-guard"))&&v.getAttribute("data-type")==="outside";d.current=window.setTimeout(()=>{var E;const M=u4(o.domReference?o.domReference.ownerDocument:document);!v&&M===o.domReference||jC((E=s.current.floatingContext)==null?void 0:E.refs.floating.current,M)||jC(o.domReference,M)||A||i(!1,S,"focus")})}}),[s,o.domReference,i,l]);return k.useMemo(()=>a?{reference:p}:{},[a,p])}const S4="active",C4="selected";function KP(t,e,n){const i=new Map,r=n==="item";let s=t;if(r&&t){const{[S4]:o,[C4]:a,...l}=t;s=l}return{...n==="floating"&&{tabIndex:-1,[_le]:""},...s,...e.map(o=>{const a=o?o[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[c,d]=l;if(!(r&&[S4,C4].includes(c)))if(c.indexOf("on")===0){if(i.has(c)||i.set(c,[]),typeof d=="function"){var h;(h=i.get(c))==null||h.push(d),o[c]=function(){for(var p,m=arguments.length,v=new Array(m),S=0;S<m;S++)v[S]=arguments[S];return(p=i.get(c))==null?void 0:p.map(A=>A(...v)).find(A=>A!==void 0)}}}else o[c]=d}),o),{})}}function Ole(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),i=t.map(a=>a==null?void 0:a.item),r=k.useCallback(a=>KP(a,t,"reference"),e),s=k.useCallback(a=>KP(a,t,"floating"),n),o=k.useCallback(a=>KP(a,t,"item"),i);return k.useMemo(()=>({getReferenceProps:r,getFloatingProps:s,getItemProps:o}),[r,s,o])}const Lle=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function jle(t,e){var n;e===void 0&&(e={});const{open:i,floatingId:r}=t,{enabled:s=!0,role:o="dialog"}=e,a=(n=Lle.get(o))!=null?n:o,l=Vq(),d=V$()!=null,h=k.useMemo(()=>a==="tooltip"||o==="label"?{["aria-"+(o==="label"?"labelledby":"describedby")]:i?r:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":i?r:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:l},...a==="menu"&&d&&{role:"menuitem"},...o==="select"&&{"aria-autocomplete":"none"},...o==="combobox"&&{"aria-autocomplete":"list"}},[a,r,d,i,l,o]),p=k.useMemo(()=>{const v={id:r,...a&&{role:a}};return a==="tooltip"||o==="label"?v:{...v,...a==="menu"&&{"aria-labelledby":l}}},[a,r,l,o]),m=k.useCallback(v=>{let{active:S,selected:A}=v;const E={role:"option",...S&&{id:r+"-option"}};switch(o){case"select":return{...E,"aria-selected":S&&A};case"combobox":return{...E,...S&&{"aria-selected":!0}}}return{}},[r,o]);return k.useMemo(()=>s?{reference:h,floating:p,item:m}:{},[s,h,p,m])}let nD=k.createContext(null);nD.displayName="OpenClosedContext";var kc=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(kc||{});function iD(){return k.useContext(nD)}function Ile({value:t,children:e}){return Se.createElement(nD.Provider,{value:t},e)}function Fle({children:t}){return Se.createElement(nD.Provider,{value:null},t)}function $le(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Uh=[];$le(()=>{function t(e){if(!(e.target instanceof HTMLElement)||e.target===document.body||Uh[0]===e.target)return;let n=e.target;n=n.closest(AR),Uh.unshift(n??e.target),Uh=Uh.filter(i=>i!=null&&i.isConnected),Uh.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Uq(t){let e=Cn(t),n=k.useRef(!1);k.useEffect(()=>(n.current=!1,()=>{n.current=!0,qE(()=>{n.current&&e()})}),[e])}function zle(){let t=typeof document>"u";return"useSyncExternalStore"in qL?(e=>e.useSyncExternalStore)(qL)(()=>()=>{},()=>!1,()=>!t):!1}function YE(){let t=zle(),[e,n]=k.useState(Ly.isHandoffComplete);return e&&Ly.isHandoffComplete===!1&&n(!1),k.useEffect(()=>{e!==!0&&n(!0)},[e]),k.useEffect(()=>Ly.handoff(),[]),t?!1:e}let qq=k.createContext(!1);function Ble(){return k.useContext(qq)}function A4(t){return Se.createElement(qq.Provider,{value:t.force},t.children)}function Vle(t){let e=Ble(),n=k.useContext(Wq),i=WE(t),[r,s]=k.useState(()=>{var o;if(!e&&n!==null)return(o=n.current)!=null?o:null;if(Ly.isServer)return null;let a=i==null?void 0:i.getElementById("headlessui-portal-root");if(a)return a;if(i===null)return null;let l=i.createElement("div");return l.setAttribute("id","headlessui-portal-root"),i.body.appendChild(l)});return k.useEffect(()=>{r!==null&&(i!=null&&i.body.contains(r)||i==null||i.body.appendChild(r))},[r,i]),k.useEffect(()=>{e||n!==null&&s(n.current)},[n,s,e]),r}let Gq=k.Fragment,Hle=hi(function(t,e){let n=t,i=k.useRef(null),r=us(Doe(h=>{i.current=h}),e),s=WE(i),o=Vle(i),[a]=k.useState(()=>{var h;return Ly.isServer?null:(h=s==null?void 0:s.createElement("div"))!=null?h:null}),l=k.useContext(aj),c=YE();ur(()=>{!o||!a||o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a))},[o,a]),ur(()=>{if(a&&l)return l.register(a)},[l,a]),Uq(()=>{var h;!o||!a||(a instanceof Node&&o.contains(a)&&o.removeChild(a),o.childNodes.length<=0&&((h=o.parentElement)==null||h.removeChild(o)))});let d=zi();return c?!o||!a?null:Xx.createPortal(d({ourProps:{ref:r},theirProps:n,slot:{},defaultTag:Gq,name:"Portal"}),a):null});function Ule(t,e){let n=us(e),{enabled:i=!0,...r}=t,s=zi();return i?Se.createElement(Hle,{...r,ref:n}):s({ourProps:{ref:n},theirProps:r,slot:{},defaultTag:Gq,name:"Portal"})}let qle=k.Fragment,Wq=k.createContext(null);function Gle(t,e){let{target:n,...i}=t,r={ref:us(e)},s=zi();return Se.createElement(Wq.Provider,{value:n},s({ourProps:r,theirProps:i,defaultTag:qle,name:"Popover.Group"}))}let aj=k.createContext(null);function Wle(){let t=k.useContext(aj),e=k.useRef([]),n=Cn(s=>(e.current.push(s),t&&t.register(s),()=>i(s))),i=Cn(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),r=k.useMemo(()=>({register:n,unregister:i,portals:e}),[n,i,e]);return[e,k.useMemo(()=>function({children:s}){return Se.createElement(aj.Provider,{value:r},s)},[r])]}let Kle=hi(Ule),Kq=hi(Gle),Yle=Object.assign(Kle,{Group:Kq});function Xle(t,e=typeof document<"u"?document.defaultView:null,n){let i=Zx(t,"escape");Tq(e,"keydown",r=>{i&&(r.defaultPrevented||r.key===al.Escape&&n(r))})}function Jle(){var t;let[e]=k.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,i]=k.useState((t=e==null?void 0:e.matches)!=null?t:!1);return ur(()=>{if(!e)return;function r(s){i(s.matches)}return e.addEventListener("change",r),()=>e.removeEventListener("change",r)},[e]),n}function Zle({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let i=WE(n),r=Cn(()=>{var s,o;let a=[];for(let l of t)l!==null&&(l instanceof HTMLElement?a.push(l):"current"in l&&l.current instanceof HTMLElement&&a.push(l.current));if(e!=null&&e.current)for(let l of e.current)a.push(l);for(let l of(s=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?s:[])l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||a.some(c=>l.contains(c))||a.push(l));return a});return{resolveContainers:r,contains:Cn(s=>r().some(o=>o.contains(s)))}}let Yq=k.createContext(null);function E4({children:t,node:e}){let[n,i]=k.useState(null),r=Xq(e??n);return Se.createElement(Yq.Provider,{value:r},t,r===null&&Se.createElement(Ex,{features:Ax.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=Jx(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l!=null&&l.contains(s)){i(l);break}}}}))}function Xq(t=null){var e;return(e=k.useContext(Yq))!=null?e:t}function rD(){let t=k.useRef(!1);return ur(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var VS=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(VS||{});function Qle(){let t=k.useRef(0);return Eq(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function Jq(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let ece="div";var wg=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(wg||{});function tce(t,e){let n=k.useRef(null),i=us(n,e),{initialFocus:r,initialFocusFallback:s,containers:o,features:a=15,...l}=t;YE()||(a=0);let c=WE(n);sce(a,{ownerDocument:c});let d=oce(a,{ownerDocument:c,container:n,initialFocus:r,initialFocusFallback:s});ace(a,{ownerDocument:c,container:n,containers:o,previousActiveElement:d});let h=Qle(),p=Cn(M=>{let R=n.current;R&&(N=>N())(()=>{ka(h.current,{[VS.Forwards]:()=>{Ac(R,wr.First,{skipElements:[M.relatedTarget,s]})},[VS.Backwards]:()=>{Ac(R,wr.Last,{skipElements:[M.relatedTarget,s]})}})})}),m=Zx(!!(a&2),"focus-trap#tab-lock"),v=Y2(),S=k.useRef(!1),A={ref:i,onKeyDown(M){M.key=="Tab"&&(S.current=!0,v.requestAnimationFrame(()=>{S.current=!1}))},onBlur(M){if(!(a&4))return;let R=Jq(o);n.current instanceof HTMLElement&&R.add(n.current);let N=M.relatedTarget;N instanceof HTMLElement&&N.dataset.headlessuiFocusGuard!=="true"&&(Zq(R,N)||(S.current?Ac(n.current,ka(h.current,{[VS.Forwards]:()=>wr.Next,[VS.Backwards]:()=>wr.Previous})|wr.WrapAround,{relativeTo:M.target}):M.target instanceof HTMLElement&&gf(M.target)))}},E=zi();return Se.createElement(Se.Fragment,null,m&&Se.createElement(Ex,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Ax.Focusable}),E({ourProps:A,theirProps:l,defaultTag:ece,name:"FocusTrap"}),m&&Se.createElement(Ex,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Ax.Focusable}))}let nce=hi(tce),ice=Object.assign(nce,{features:wg});function rce(t=!0){let e=k.useRef(Uh.slice());return N$(([n],[i])=>{i===!0&&n===!1&&qE(()=>{e.current.splice(0)}),i===!1&&n===!0&&(e.current=Uh.slice())},[t,Uh,e]),Cn(()=>{var n;return(n=e.current.find(i=>i!=null&&i.isConnected))!=null?n:null})}function sce(t,{ownerDocument:e}){let n=!!(t&8),i=rce(n);N$(()=>{n||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&gf(i())},[n]),Uq(()=>{n&&gf(i())})}function oce(t,{ownerDocument:e,container:n,initialFocus:i,initialFocusFallback:r}){let s=k.useRef(null),o=Zx(!!(t&1),"focus-trap#initial-focus"),a=rD();return N$(()=>{if(t===0)return;if(!o){r!=null&&r.current&&gf(r.current);return}let l=n.current;l&&qE(()=>{if(!a.current)return;let c=e==null?void 0:e.activeElement;if(i!=null&&i.current){if((i==null?void 0:i.current)===c){s.current=c;return}}else if(l.contains(c)){s.current=c;return}if(i!=null&&i.current)gf(i.current);else{if(t&16){if(Ac(l,wr.First|wr.AutoFocus)!==_g.Error)return}else if(Ac(l,wr.First)!==_g.Error)return;if(r!=null&&r.current&&(gf(r.current),(e==null?void 0:e.activeElement)===r.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e==null?void 0:e.activeElement})},[r,o,t]),s}function ace(t,{ownerDocument:e,container:n,containers:i,previousActiveElement:r}){let s=rD(),o=!!(t&4);Tq(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!s.current)return;let l=Jq(i);n.current instanceof HTMLElement&&l.add(n.current);let c=r.current;if(!c)return;let d=a.target;d&&d instanceof HTMLElement?Zq(l,d)?(r.current=d,gf(d)):(a.preventDefault(),a.stopPropagation(),gf(c)):gf(r.current)},!0)}function Zq(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function Qq(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:tG)!==k.Fragment||Se.Children.count(t.children)===1}let sD=k.createContext(null);sD.displayName="TransitionContext";var lce=(t=>(t.Visible="visible",t.Hidden="hidden",t))(lce||{});function cce(){let t=k.useContext(sD);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function uce(){let t=k.useContext(oD);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let oD=k.createContext(null);oD.displayName="NestingContext";function aD(t){return"children"in t?aD(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function eG(t,e){let n=Tc(t),i=k.useRef([]),r=rD(),s=Y2(),o=Cn((m,v=wp.Hidden)=>{let S=i.current.findIndex(({el:A})=>A===m);S!==-1&&(ka(v,{[wp.Unmount](){i.current.splice(S,1)},[wp.Hidden](){i.current[S].state="hidden"}}),s.microTask(()=>{var A;!aD(i)&&r.current&&((A=n.current)==null||A.call(n))}))}),a=Cn(m=>{let v=i.current.find(({el:S})=>S===m);return v?v.state!=="visible"&&(v.state="visible"):i.current.push({el:m,state:"visible"}),()=>o(m,wp.Unmount)}),l=k.useRef([]),c=k.useRef(Promise.resolve()),d=k.useRef({enter:[],leave:[]}),h=Cn((m,v,S)=>{l.current.splice(0),e&&(e.chains.current[v]=e.chains.current[v].filter(([A])=>A!==m)),e==null||e.chains.current[v].push([m,new Promise(A=>{l.current.push(A)})]),e==null||e.chains.current[v].push([m,new Promise(A=>{Promise.all(d.current[v].map(([E,M])=>M)).then(()=>A())})]),v==="enter"?c.current=c.current.then(()=>e==null?void 0:e.wait.current).then(()=>S(v)):S(v)}),p=Cn((m,v,S)=>{Promise.all(d.current[v].splice(0).map(([A,E])=>E)).then(()=>{var A;(A=l.current.shift())==null||A()}).then(()=>S(v))});return k.useMemo(()=>({children:i,register:a,unregister:o,onStart:h,onStop:p,wait:c,chains:d}),[a,o,i,h,p,d,c])}let tG=k.Fragment,nG=Cx.RenderStrategy;function dce(t,e){var n,i;let{transition:r=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:c,enterFrom:d,enterTo:h,entered:p,leave:m,leaveFrom:v,leaveTo:S,...A}=t,[E,M]=k.useState(null),R=k.useRef(null),N=Qq(t),P=us(...N?[R,e,M]:e===null?[]:[e]),O=(n=A.unmount)==null||n?wp.Unmount:wp.Hidden,{show:$,appear:F,initial:q}=cce(),[B,X]=k.useState($?"visible":"hidden"),Q=uce(),{register:J,unregister:oe}=Q;ur(()=>J(R),[J,R]),ur(()=>{if(O===wp.Hidden&&R.current){if($&&B!=="visible"){X("visible");return}return ka(B,{hidden:()=>oe(R),visible:()=>J(R)})}},[B,R,J,oe,$,O]);let ce=YE();ur(()=>{if(N&&ce&&B==="visible"&&R.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[R,B,ce,N]);let le=q&&!F,ee=F&&$&&q,Z=k.useRef(!1),se=eG(()=>{Z.current||(X("hidden"),oe(R))},Q),j=Cn(je=>{Z.current=!0;let Ue=je?"enter":"leave";se.onStart(R,Ue,Ye=>{Ye==="enter"?s==null||s():Ye==="leave"&&(a==null||a())})}),te=Cn(je=>{let Ue=je?"enter":"leave";Z.current=!1,se.onStop(R,Ue,Ye=>{Ye==="enter"?o==null||o():Ye==="leave"&&(l==null||l())}),Ue==="leave"&&!aD(se)&&(X("hidden"),oe(R))});k.useEffect(()=>{N&&r||(j($),te($))},[$,N,r]);let ae=!(!r||!N||!ce||le),[,U]=hae(ae,E,$,{start:j,end:te}),ve=hg({ref:P,className:((i=QL(A.className,ee&&c,ee&&d,U.enter&&c,U.enter&&U.closed&&d,U.enter&&!U.closed&&h,U.leave&&m,U.leave&&!U.closed&&v,U.leave&&U.closed&&S,!U.transition&&$&&p))==null?void 0:i.trim())||void 0,...fae(U)}),ke=0;B==="visible"&&(ke|=kc.Open),B==="hidden"&&(ke|=kc.Closed),U.enter&&(ke|=kc.Opening),U.leave&&(ke|=kc.Closing);let Ce=zi();return Se.createElement(oD.Provider,{value:se},Se.createElement(Ile,{value:ke},Ce({ourProps:ve,theirProps:A,defaultTag:tG,features:nG,visible:B==="visible",name:"Transition.Child"})))}function fce(t,e){let{show:n,appear:i=!1,unmount:r=!0,...s}=t,o=k.useRef(null),a=Qq(t),l=us(...a?[o,e]:e===null?[]:[e]);YE();let c=iD();if(n===void 0&&c!==null&&(n=(c&kc.Open)===kc.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,h]=k.useState(n?"visible":"hidden"),p=eG(()=>{n||h("hidden")}),[m,v]=k.useState(!0),S=k.useRef([n]);ur(()=>{m!==!1&&S.current[S.current.length-1]!==n&&(S.current.push(n),v(!1))},[S,n]);let A=k.useMemo(()=>({show:n,appear:i,initial:m}),[n,i,m]);ur(()=>{n?h("visible"):!aD(p)&&o.current!==null&&h("hidden")},[n,p]);let E={unmount:r},M=Cn(()=>{var P;m&&v(!1),(P=t.beforeEnter)==null||P.call(t)}),R=Cn(()=>{var P;m&&v(!1),(P=t.beforeLeave)==null||P.call(t)}),N=zi();return Se.createElement(oD.Provider,{value:p},Se.createElement(sD.Provider,{value:A},N({ourProps:{...E,as:k.Fragment,children:Se.createElement(iG,{ref:l,...E,...s,beforeEnter:M,beforeLeave:R})},theirProps:{},defaultTag:k.Fragment,features:nG,visible:d==="visible",name:"Transition"})))}function hce(t,e){let n=k.useContext(sD)!==null,i=iD()!==null;return Se.createElement(Se.Fragment,null,!n&&i?Se.createElement(lj,{ref:e,...t}):Se.createElement(iG,{ref:e,...t}))}let lj=hi(fce),iG=hi(dce),G$=hi(hce),pce=Object.assign(lj,{Child:G$,Root:lj});var mce=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(mce||{}),gce=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(gce||{});let yce={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},W$=k.createContext(null);W$.displayName="DialogContext";function lD(t){let e=k.useContext(W$);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,lD),n}return e}function bce(t,e){return ka(e.type,yce,t,e)}let T4=hi(function(t,e){let n=k.useId(),{id:i=`headlessui-dialog-${n}`,open:r,onClose:s,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:c=!1,unmount:d=!1,...h}=t,p=k.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(p.current||(p.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let m=iD();r===void 0&&m!==null&&(r=(m&kc.Open)===kc.Open);let v=k.useRef(null),S=us(v,e),A=WE(v),E=r?0:1,[M,R]=k.useReducer(bce,{titleId:null,descriptionId:null,panelRef:k.createRef()}),N=Cn(()=>s(!1)),P=Cn(te=>R({type:0,id:te})),O=YE()?E===0:!1,[$,F]=Wle(),q={get current(){var te;return(te=M.panelRef.current)!=null?te:v.current}},B=Xq(),{resolveContainers:X}=Zle({mainTreeNode:B,portals:$,defaultContainers:[q]}),Q=m!==null?(m&kc.Closing)===kc.Closing:!1;Hoe(c||Q?!1:O,{allowed:Cn(()=>{var te,ae;return[(ae=(te=v.current)==null?void 0:te.closest("[data-headlessui-portal]"))!=null?ae:null]}),disallowed:Cn(()=>{var te;return[(te=B==null?void 0:B.closest("body > *:not(#headlessui-portal-root)"))!=null?te:null]})}),tae(O,X,te=>{te.preventDefault(),N()}),Xle(O,A==null?void 0:A.defaultView,te=>{te.preventDefault(),te.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),N()}),lae(c||Q?!1:O,A,X),Uoe(O,v,N);let[J,oe]=bq(),ce=k.useMemo(()=>[{dialogState:E,close:N,setTitleId:P,unmount:d},M],[E,M,N,P,d]),le=k.useMemo(()=>({open:E===0}),[E]),ee={ref:S,id:i,role:a,tabIndex:-1,"aria-modal":c?void 0:E===0?!0:void 0,"aria-labelledby":M.titleId,"aria-describedby":J,unmount:d},Z=!Jle(),se=wg.None;O&&!c&&(se|=wg.RestoreFocus,se|=wg.TabLock,l&&(se|=wg.AutoFocus),Z&&(se|=wg.InitialFocus));let j=zi();return Se.createElement(Fle,null,Se.createElement(A4,{force:!0},Se.createElement(Yle,null,Se.createElement(W$.Provider,{value:ce},Se.createElement(Kq,{target:v},Se.createElement(A4,{force:!1},Se.createElement(oe,{slot:le},Se.createElement(F,null,Se.createElement(ice,{initialFocus:o,initialFocusFallback:v,containers:X,features:se},Se.createElement(zoe,{value:N},j({ourProps:ee,theirProps:h,slot:le,defaultTag:vce,features:xce,visible:E===0,name:"Dialog"})))))))))))}),vce="div",xce=Cx.RenderStrategy|Cx.Static;function wce(t,e){let{transition:n=!1,open:i,...r}=t,s=iD(),o=t.hasOwnProperty("open")||s!==null,a=t.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(i!==void 0||n)&&!r.static?Se.createElement(E4,null,Se.createElement(pce,{show:i,transition:n,unmount:r.unmount},Se.createElement(T4,{ref:e,...r}))):Se.createElement(E4,null,Se.createElement(T4,{ref:e,open:i,...r}))}let Sce="div";function Cce(t,e){let n=k.useId(),{id:i=`headlessui-dialog-panel-${n}`,transition:r=!1,...s}=t,[{dialogState:o,unmount:a},l]=lD("Dialog.Panel"),c=us(e,l.panelRef),d=k.useMemo(()=>({open:o===0}),[o]),h=Cn(A=>{A.stopPropagation()}),p={ref:c,id:i,onClick:h},m=r?G$:k.Fragment,v=r?{unmount:a}:{},S=zi();return Se.createElement(m,{...v},S({ourProps:p,theirProps:s,slot:d,defaultTag:Sce,name:"Dialog.Panel"}))}let Ace="div";function Ece(t,e){let{transition:n=!1,...i}=t,[{dialogState:r,unmount:s}]=lD("Dialog.Backdrop"),o=k.useMemo(()=>({open:r===0}),[r]),a={ref:e,"aria-hidden":!0},l=n?G$:k.Fragment,c=n?{unmount:s}:{},d=zi();return Se.createElement(l,{...c},d({ourProps:a,theirProps:i,slot:o,defaultTag:Ace,name:"Dialog.Backdrop"}))}let Tce="h2";function kce(t,e){let n=k.useId(),{id:i=`headlessui-dialog-title-${n}`,...r}=t,[{dialogState:s,setTitleId:o}]=lD("Dialog.Title"),a=us(e);k.useEffect(()=>(o(i),()=>o(null)),[i,o]);let l=k.useMemo(()=>({open:s===0}),[s]),c={ref:a,id:i};return zi()({ourProps:c,theirProps:r,slot:l,defaultTag:Tce,name:"Dialog.Title"})}let _ce=hi(wce),If=hi(Cce);hi(Ece);let Mce=hi(kce),Kp=Object.assign(_ce,{Panel:If,Title:Mce,Description:Loe}),Rce="div";function Dce(t,e){let n=`headlessui-control-${k.useId()}`,[i,r]=xq(),[s,o]=bq(),a=s0(),{disabled:l=a||!1,...c}=t,d=k.useMemo(()=>({disabled:l}),[l]),h={ref:e,disabled:l||void 0,"aria-disabled":l||void 0},p=zi();return Se.createElement(fq,{value:l},Se.createElement(r,{value:i},Se.createElement(o,{value:s},Se.createElement(Roe,{id:n},p({ourProps:h,theirProps:{...c,children:Se.createElement(Moe,null,typeof c.children=="function"?c.children(d):c.children)},slot:d,defaultTag:Rce,name:"Field"})))))}let Ve=hi(Dce);function Nce(t){let e=typeof t=="string"?t:void 0,[n,i]=k.useState(e);return[e??n,k.useCallback(r=>{e||r instanceof HTMLElement&&i(r.tagName.toLowerCase())},[e])]}let k4="fieldset";function Pce(t,e){var n;let i=s0(),{disabled:r=i||!1,...s}=t,[o,a]=Nce((n=t.as)!=null?n:k4),l=us(e,a),[c,d]=xq(),h=k.useMemo(()=>({disabled:r}),[r]),p=o==="fieldset"?{ref:l,"aria-labelledby":c,disabled:r||void 0}:{ref:l,role:"group","aria-labelledby":c,"aria-disabled":r||void 0},m=zi();return Se.createElement(fq,{value:r},Se.createElement(d,null,m({ourProps:p,theirProps:s,slot:h,defaultTag:k4,name:"Fieldset"})))}let Yn=hi(Pce),Oce="input";function Lce(t,e){let n=k.useId(),i=R$(),r=s0(),{id:s=i||`headlessui-input-${n}`,disabled:o=r||!1,autoFocus:a=!1,invalid:l=!1,...c}=t,d=D$(),h=yq(),{isFocused:p,focusProps:m}=UE({autoFocus:a}),{isHovered:v,hoverProps:S}=K2({isDisabled:o}),A=GE({ref:e,id:s,"aria-labelledby":d,"aria-describedby":h,"aria-invalid":l?"":void 0,disabled:o||void 0,autoFocus:a},m,S),E=k.useMemo(()=>({disabled:o,invalid:l,hover:v,focus:p,autofocus:a}),[o,l,v,p,a]);return zi()({ourProps:A,theirProps:c,slot:E,defaultTag:Oce,name:"Input"})}let Ot=hi(Lce);function jce(t,e){return Se.createElement(Le,{as:"div",ref:e,...t})}let rG=hi(jce);function Ice({onFocus:t}){let[e,n]=k.useState(!0),i=rD();return e?Se.createElement(Ex,{as:"button",type:"button",features:Ax.Focusable,onFocus:r=>{r.preventDefault();let s,o=50;function a(){if(o--<=0){s&&cancelAnimationFrame(s);return}if(t()){if(cancelAnimationFrame(s),!i.current)return;n(!1);return}s=requestAnimationFrame(a)}s=requestAnimationFrame(a)}}):null}const sG=k.createContext(null);function Fce(){return{groups:new Map,get(t,e){var n;let i=this.groups.get(t);i||(i=new Map,this.groups.set(t,i));let r=(n=i.get(e))!=null?n:0;i.set(e,r+1);let s=Array.from(i.keys()).indexOf(e);function o(){let a=i.get(e);a>1?i.set(e,a-1):i.delete(e)}return[s,o]}}}function $ce({children:t}){let e=k.useRef(Fce());return k.createElement(sG.Provider,{value:e},t)}function oG(t){let e=k.useContext(sG);if(!e)throw new Error("You must wrap your component in a <StableCollection>");let n=k.useId(),[i,r]=e.current.get(t,n);return k.useEffect(()=>r,[]),i}var zce=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(zce||{}),Bce=(t=>(t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater",t))(Bce||{}),Vce=(t=>(t[t.SetSelectedIndex=0]="SetSelectedIndex",t[t.RegisterTab=1]="RegisterTab",t[t.UnregisterTab=2]="UnregisterTab",t[t.RegisterPanel=3]="RegisterPanel",t[t.UnregisterPanel=4]="UnregisterPanel",t))(Vce||{});let Hce={0(t,e){var n;let i=nv(t.tabs,d=>d.current),r=nv(t.panels,d=>d.current),s=i.filter(d=>{var h;return!((h=d.current)!=null&&h.hasAttribute("disabled"))}),o={...t,tabs:i,panels:r};if(e.index<0||e.index>i.length-1){let d=ka(Math.sign(e.index-t.selectedIndex),{[-1]:()=>1,0:()=>ka(Math.sign(e.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(s.length===0)return o;let h=ka(d,{0:()=>i.indexOf(s[0]),1:()=>i.indexOf(s[s.length-1])});return{...o,selectedIndex:h===-1?t.selectedIndex:h}}let a=i.slice(0,e.index),l=[...i.slice(e.index),...a].find(d=>s.includes(d));if(!l)return o;let c=(n=i.indexOf(l))!=null?n:t.selectedIndex;return c===-1&&(c=t.selectedIndex),{...o,selectedIndex:c}},1(t,e){if(t.tabs.includes(e.tab))return t;let n=t.tabs[t.selectedIndex],i=nv([...t.tabs,e.tab],s=>s.current),r=t.selectedIndex;return t.info.current.isControlled||(r=i.indexOf(n),r===-1&&(r=t.selectedIndex)),{...t,tabs:i,selectedIndex:r}},2(t,e){return{...t,tabs:t.tabs.filter(n=>n!==e.tab)}},3(t,e){return t.panels.includes(e.panel)?t:{...t,panels:nv([...t.panels,e.panel],n=>n.current)}},4(t,e){return{...t,panels:t.panels.filter(n=>n!==e.panel)}}},K$=k.createContext(null);K$.displayName="TabsDataContext";function kx(t){let e=k.useContext(K$);if(e===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,kx),n}return e}let Y$=k.createContext(null);Y$.displayName="TabsActionsContext";function X$(t){let e=k.useContext(Y$);if(e===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,X$),n}return e}function Uce(t,e){return ka(e.type,Hce,t,e)}let qce="div";function Gce(t,e){let{defaultIndex:n=0,vertical:i=!1,manual:r=!1,onChange:s,selectedIndex:o=null,...a}=t;const l=i?"vertical":"horizontal",c=r?"manual":"auto";let d=o!==null,h=Tc({isControlled:d}),p=us(e),[m,v]=k.useReducer(Uce,{info:h,selectedIndex:o??n,tabs:[],panels:[]}),S=k.useMemo(()=>({selectedIndex:m.selectedIndex}),[m.selectedIndex]),A=Tc(s||(()=>{})),E=Tc(m.tabs),M=k.useMemo(()=>({orientation:l,activation:c,...m}),[l,c,m]),R=Cn(B=>(v({type:1,tab:B}),()=>v({type:2,tab:B}))),N=Cn(B=>(v({type:3,panel:B}),()=>v({type:4,panel:B}))),P=Cn(B=>{O.current!==B&&A.current(B),d||v({type:0,index:B})}),O=Tc(d?t.selectedIndex:m.selectedIndex),$=k.useMemo(()=>({registerTab:R,registerPanel:N,change:P}),[]);ur(()=>{v({type:0,index:o??n})},[o]),ur(()=>{if(O.current===void 0||m.tabs.length<=0)return;let B=nv(m.tabs,X=>X.current);B.some((X,Q)=>m.tabs[Q]!==X)&&P(B.indexOf(m.tabs[O.current]))});let F={ref:p},q=zi();return Se.createElement($ce,null,Se.createElement(Y$.Provider,{value:$},Se.createElement(K$.Provider,{value:M},M.tabs.length<=0&&Se.createElement(Ice,{onFocus:()=>{var B,X;for(let Q of E.current)if(((B=Q.current)==null?void 0:B.tabIndex)===0)return(X=Q.current)==null||X.focus(),!0;return!1}}),q({ourProps:F,theirProps:a,slot:S,defaultTag:qce,name:"Tabs"}))))}let Wce="div";function Kce(t,e){let{orientation:n,selectedIndex:i}=kx("Tab.List"),r=us(e),s=k.useMemo(()=>({selectedIndex:i}),[i]),o=t,a={ref:r,role:"tablist","aria-orientation":n};return zi()({ourProps:a,theirProps:o,slot:s,defaultTag:Wce,name:"Tabs.List"})}let Yce="button";function Xce(t,e){var n,i;let r=k.useId(),{id:s=`headlessui-tabs-tab-${r}`,disabled:o=!1,autoFocus:a=!1,...l}=t,{orientation:c,activation:d,selectedIndex:h,tabs:p,panels:m}=kx("Tab"),v=X$("Tab"),S=kx("Tab"),[A,E]=k.useState(null),M=k.useRef(null),R=us(M,e,E);ur(()=>v.registerTab(M),[v,M]);let N=oG("tabs"),P=p.indexOf(M);P===-1&&(P=N);let O=P===h,$=Cn(j=>{var te;let ae=j();if(ae===_g.Success&&d==="auto"){let U=(te=Jx(M))==null?void 0:te.activeElement,ve=S.tabs.findIndex(ke=>ke.current===U);ve!==-1&&v.change(ve)}return ae}),F=Cn(j=>{let te=p.map(ae=>ae.current).filter(Boolean);if(j.key===al.Space||j.key===al.Enter){j.preventDefault(),j.stopPropagation(),v.change(P);return}switch(j.key){case al.Home:case al.PageUp:return j.preventDefault(),j.stopPropagation(),$(()=>Ac(te,wr.First));case al.End:case al.PageDown:return j.preventDefault(),j.stopPropagation(),$(()=>Ac(te,wr.Last))}if($(()=>ka(c,{vertical(){return j.key===al.ArrowUp?Ac(te,wr.Previous|wr.WrapAround):j.key===al.ArrowDown?Ac(te,wr.Next|wr.WrapAround):_g.Error},horizontal(){return j.key===al.ArrowLeft?Ac(te,wr.Previous|wr.WrapAround):j.key===al.ArrowRight?Ac(te,wr.Next|wr.WrapAround):_g.Error}}))===_g.Success)return j.preventDefault()}),q=k.useRef(!1),B=Cn(()=>{var j;q.current||(q.current=!0,(j=M.current)==null||j.focus({preventScroll:!0}),v.change(P),qE(()=>{q.current=!1}))}),X=Cn(j=>{j.preventDefault()}),{isFocusVisible:Q,focusProps:J}=UE({autoFocus:a}),{isHovered:oe,hoverProps:ce}=K2({isDisabled:o}),{pressed:le,pressProps:ee}=uq({disabled:o}),Z=k.useMemo(()=>({selected:O,hover:oe,active:le,focus:Q,autofocus:a,disabled:o}),[O,oe,Q,le,a,o]),se=GE({ref:R,onKeyDown:F,onMouseDown:X,onClick:B,id:s,role:"tab",type:nae(t,A),"aria-controls":(i=(n=m[P])==null?void 0:n.current)==null?void 0:i.id,"aria-selected":O,tabIndex:O?0:-1,disabled:o||void 0,autoFocus:a},J,ce,ee);return zi()({ourProps:se,theirProps:l,slot:Z,defaultTag:Yce,name:"Tabs.Tab"})}let Jce="div";function Zce(t,e){let{selectedIndex:n}=kx("Tab.Panels"),i=us(e),r=k.useMemo(()=>({selectedIndex:n}),[n]),s=t,o={ref:i};return zi()({ourProps:o,theirProps:s,slot:r,defaultTag:Jce,name:"Tabs.Panels"})}let Qce="div",eue=Cx.RenderStrategy|Cx.Static;function tue(t,e){var n,i,r,s;let o=k.useId(),{id:a=`headlessui-tabs-panel-${o}`,tabIndex:l=0,...c}=t,{selectedIndex:d,tabs:h,panels:p}=kx("Tab.Panel"),m=X$("Tab.Panel"),v=k.useRef(null),S=us(v,e);ur(()=>m.registerPanel(v),[m,v]);let A=oG("panels"),E=p.indexOf(v);E===-1&&(E=A);let M=E===d,{isFocusVisible:R,focusProps:N}=UE(),P=k.useMemo(()=>({selected:M,focus:R}),[M,R]),O=GE({ref:S,id:a,role:"tabpanel","aria-labelledby":(i=(n=h[E])==null?void 0:n.current)==null?void 0:i.id,tabIndex:M?l:-1},N),$=zi();return!M&&((r=c.unmount)==null||r)&&!((s=c.static)!=null&&s)?Se.createElement(Ex,{"aria-hidden":"true",...O}):$({ourProps:O,theirProps:c,slot:P,defaultTag:Qce,features:eue,visible:M,name:"Tabs.Panel"})}let nue=hi(Xce),iue=hi(Gce),rue=hi(Kce),sue=hi(Zce),oue=hi(tue),Mt=Object.assign(nue,{Group:iue,List:rue,Panels:sue,Panel:oue}),aue="textarea";function lue(t,e){let n=k.useId(),i=R$(),r=s0(),{id:s=i||`headlessui-textarea-${n}`,disabled:o=r||!1,autoFocus:a=!1,invalid:l=!1,...c}=t,d=D$(),h=yq(),{isFocused:p,focusProps:m}=UE({autoFocus:a}),{isHovered:v,hoverProps:S}=K2({isDisabled:o}),A=GE({ref:e,id:s,"aria-labelledby":d,"aria-describedby":h,"aria-invalid":l?"":void 0,disabled:o||void 0,autoFocus:a},m,S),E=k.useMemo(()=>({disabled:o,invalid:l,hover:v,focus:p,autofocus:a}),[o,l,v,p,a]);return zi()({ourProps:A,theirProps:c,slot:E,defaultTag:aue,name:"Textarea"})}let Ft=hi(lue);class El{constructor(e,n,i,r,s,o,a,l,c,d,h,p,m,v,S,A){this.id=e,this.title=n,this.description=i,this.book=r,this.createdAt=s,this.updatedAt=o,this.image=a,this.characters=l,this.characters_json=c,this.chapters=d,this.items=h,this.items_json=p,this.locations=m,this.locations_json=v,this.scenes=S,this.scenes_json=A}static from(e){return new El(e.id,e.title,e.description,e.book,e.createdAt,e.updatedAt,e.image,e.characters,e.characters_json,e.chapters,e.items,e.items_json,e.locations,e.locations_json,e.scenes,e.scenes_json)}addCharacter(e){this.characters=[...this.characters,e]}removeCharacterFromJson(e){this.characters_json=this.characters_json.filter(n=>n.name!==e)}addItem(e){this.items=[...this.items,e]}removeItemFromJson(e){this.items_json=this.items_json.filter(n=>n.name!==e)}addLocation(e){this.locations=[...this.locations,e]}removeLocationFromJson(e){this.locations_json=this.locations_json.filter(n=>n.name!==e)}get movieInfo(){return`id:${this.id}; ${this.title}: ${this.description}`}toJSON(){return{id:this.id,title:this.title,description:this.description,book:this.book,createdAt:this.createdAt,updatedAt:this.updatedAt,image:this.image,characters:this.characters,characters_json:this.characters_json,chapters:this.chapters,items:this.items,items_json:this.items_json,locations:this.locations,locations_json:this.locations_json,scenes:this.scenes,scenes_json:this.scenes_json}}}function aG(t,e){return function(){return t.apply(e,arguments)}}const{toString:cue}=Object.prototype,{getPrototypeOf:J$}=Object,cD=(t=>e=>{const n=cue.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Fc=t=>(t=t.toLowerCase(),e=>cD(e)===t),uD=t=>e=>typeof e===t,{isArray:t1}=Array,IC=uD("undefined");function uue(t){return t!==null&&!IC(t)&&t.constructor!==null&&!IC(t.constructor)&&_a(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const lG=Fc("ArrayBuffer");function due(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&lG(t.buffer),e}const fue=uD("string"),_a=uD("function"),cG=uD("number"),dD=t=>t!==null&&typeof t=="object",hue=t=>t===!0||t===!1,_M=t=>{if(cD(t)!=="object")return!1;const e=J$(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},pue=Fc("Date"),mue=Fc("File"),gue=Fc("Blob"),yue=Fc("FileList"),bue=t=>dD(t)&&_a(t.pipe),vue=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||_a(t.append)&&((e=cD(t))==="formdata"||e==="object"&&_a(t.toString)&&t.toString()==="[object FormData]"))},xue=Fc("URLSearchParams"),[wue,Sue,Cue,Aue]=["ReadableStream","Request","Response","Headers"].map(Fc),Eue=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function XE(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),t1(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,t[a],a,t)}}function uG(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const Dg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dG=t=>!IC(t)&&t!==Dg;function cj(){const{caseless:t}=dG(this)&&this||{},e={},n=(i,r)=>{const s=t&&uG(e,r)||r;_M(e[s])&&_M(i)?e[s]=cj(e[s],i):_M(i)?e[s]=cj({},i):t1(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&XE(arguments[i],n);return e}const Tue=(t,e,n,{allOwnKeys:i}={})=>(XE(e,(r,s)=>{n&&_a(r)?t[s]=aG(r,n):t[s]=r},{allOwnKeys:i}),t),kue=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),_ue=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Mue=(t,e,n,i)=>{let r,s,o;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)o=r[s],(!i||i(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&J$(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Rue=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},Due=t=>{if(!t)return null;if(t1(t))return t;let e=t.length;if(!cG(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Nue=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&J$(Uint8Array)),Pue=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},Oue=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},Lue=Fc("HTMLFormElement"),jue=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),_4=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Iue=Fc("RegExp"),fG=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};XE(n,(r,s)=>{let o;(o=e(r,s,t))!==!1&&(i[s]=o||r)}),Object.defineProperties(t,i)},Fue=t=>{fG(t,(e,n)=>{if(_a(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(_a(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},$ue=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return t1(t)?i(t):i(String(t).split(e)),n},zue=()=>{},Bue=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Vue(t){return!!(t&&_a(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Hue=t=>{const e=new Array(10),n=(i,r)=>{if(dD(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=t1(i)?[]:{};return XE(i,(o,a)=>{const l=n(o,r+1);!IC(l)&&(s[a]=l)}),e[r]=void 0,s}}return i};return n(t,0)},Uue=Fc("AsyncFunction"),que=t=>t&&(dD(t)||_a(t))&&_a(t.then)&&_a(t.catch),hG=((t,e)=>t?setImmediate:e?((n,i)=>(Dg.addEventListener("message",({source:r,data:s})=>{r===Dg&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),Dg.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",_a(Dg.postMessage)),Gue=typeof queueMicrotask<"u"?queueMicrotask.bind(Dg):typeof process<"u"&&process.nextTick||hG,Ae={isArray:t1,isArrayBuffer:lG,isBuffer:uue,isFormData:vue,isArrayBufferView:due,isString:fue,isNumber:cG,isBoolean:hue,isObject:dD,isPlainObject:_M,isReadableStream:wue,isRequest:Sue,isResponse:Cue,isHeaders:Aue,isUndefined:IC,isDate:pue,isFile:mue,isBlob:gue,isRegExp:Iue,isFunction:_a,isStream:bue,isURLSearchParams:xue,isTypedArray:Nue,isFileList:yue,forEach:XE,merge:cj,extend:Tue,trim:Eue,stripBOM:kue,inherits:_ue,toFlatObject:Mue,kindOf:cD,kindOfTest:Fc,endsWith:Rue,toArray:Due,forEachEntry:Pue,matchAll:Oue,isHTMLForm:Lue,hasOwnProperty:_4,hasOwnProp:_4,reduceDescriptors:fG,freezeMethods:Fue,toObjectSet:$ue,toCamelCase:jue,noop:zue,toFiniteNumber:Bue,findKey:uG,global:Dg,isContextDefined:dG,isSpecCompliantForm:Vue,toJSONObject:Hue,isAsyncFn:Uue,isThenable:que,setImmediate:hG,asap:Gue};function Ut(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}Ae.inherits(Ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ae.toJSONObject(this.config),code:this.code,status:this.status}}});const pG=Ut.prototype,mG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{mG[t]={value:t}});Object.defineProperties(Ut,mG);Object.defineProperty(pG,"isAxiosError",{value:!0});Ut.from=(t,e,n,i,r,s)=>{const o=Object.create(pG);return Ae.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ut.call(o,t.message,e,n,i,r),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const Wue=null;function uj(t){return Ae.isPlainObject(t)||Ae.isArray(t)}function gG(t){return Ae.endsWith(t,"[]")?t.slice(0,-2):t}function M4(t,e,n){return t?t.concat(e).map(function(r,s){return r=gG(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function Kue(t){return Ae.isArray(t)&&!t.some(uj)}const Yue=Ae.toFlatObject(Ae,{},null,function(e){return/^is[A-Z]/.test(e)});function fD(t,e,n){if(!Ae.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ae.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,A){return!Ae.isUndefined(A[S])});const i=n.metaTokens,r=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Ae.isSpecCompliantForm(e);if(!Ae.isFunction(r))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(Ae.isDate(v))return v.toISOString();if(!l&&Ae.isBlob(v))throw new Ut("Blob is not supported. Use a Buffer instead.");return Ae.isArrayBuffer(v)||Ae.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,S,A){let E=v;if(v&&!A&&typeof v=="object"){if(Ae.endsWith(S,"{}"))S=i?S:S.slice(0,-2),v=JSON.stringify(v);else if(Ae.isArray(v)&&Kue(v)||(Ae.isFileList(v)||Ae.endsWith(S,"[]"))&&(E=Ae.toArray(v)))return S=gG(S),E.forEach(function(R,N){!(Ae.isUndefined(R)||R===null)&&e.append(o===!0?M4([S],N,s):o===null?S:S+"[]",c(R))}),!1}return uj(v)?!0:(e.append(M4(A,S,s),c(v)),!1)}const h=[],p=Object.assign(Yue,{defaultVisitor:d,convertValue:c,isVisitable:uj});function m(v,S){if(!Ae.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+S.join("."));h.push(v),Ae.forEach(v,function(E,M){(!(Ae.isUndefined(E)||E===null)&&r.call(e,E,Ae.isString(M)?M.trim():M,S,p))===!0&&m(E,S?S.concat(M):[M])}),h.pop()}}if(!Ae.isObject(t))throw new TypeError("data must be an object");return m(t),e}function R4(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Z$(t,e){this._pairs=[],t&&fD(t,this,e)}const yG=Z$.prototype;yG.append=function(e,n){this._pairs.push([e,n])};yG.toString=function(e){const n=e?function(i){return e.call(this,i,R4)}:R4;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Xue(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bG(t,e,n){if(!e)return t;const i=n&&n.encode||Xue;Ae.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(r?s=r(e,n):s=Ae.isURLSearchParams(e)?e.toString():new Z$(e,n).toString(i),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class D4{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ae.forEach(this.handlers,function(i){i!==null&&e(i)})}}const vG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jue=typeof URLSearchParams<"u"?URLSearchParams:Z$,Zue=typeof FormData<"u"?FormData:null,Que=typeof Blob<"u"?Blob:null,ede={isBrowser:!0,classes:{URLSearchParams:Jue,FormData:Zue,Blob:Que},protocols:["http","https","file","blob","url","data"]},Q$=typeof window<"u"&&typeof document<"u",dj=typeof navigator=="object"&&navigator||void 0,tde=Q$&&(!dj||["ReactNative","NativeScript","NS"].indexOf(dj.product)<0),nde=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ide=Q$&&window.location.href||"http://localhost",rde=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Q$,hasStandardBrowserEnv:tde,hasStandardBrowserWebWorkerEnv:nde,navigator:dj,origin:ide},Symbol.toStringTag,{value:"Module"})),Ms={...rde,...ede};function sde(t,e){return fD(t,new Ms.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,s){return Ms.isNode&&Ae.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function ode(t){return Ae.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ade(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function xG(t){function e(n,i,r,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&Ae.isArray(r)?r.length:o,l?(Ae.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!Ae.isObject(r[o]))&&(r[o]=[]),e(n,i,r[o],s)&&Ae.isArray(r[o])&&(r[o]=ade(r[o])),!a)}if(Ae.isFormData(t)&&Ae.isFunction(t.entries)){const n={};return Ae.forEachEntry(t,(i,r)=>{e(ode(i),r,n,0)}),n}return null}function lde(t,e,n){if(Ae.isString(t))try{return(e||JSON.parse)(t),Ae.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const JE={transitional:vG,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=Ae.isObject(e);if(s&&Ae.isHTMLForm(e)&&(e=new FormData(e)),Ae.isFormData(e))return r?JSON.stringify(xG(e)):e;if(Ae.isArrayBuffer(e)||Ae.isBuffer(e)||Ae.isStream(e)||Ae.isFile(e)||Ae.isBlob(e)||Ae.isReadableStream(e))return e;if(Ae.isArrayBufferView(e))return e.buffer;if(Ae.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return sde(e,this.formSerializer).toString();if((a=Ae.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return fD(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),lde(e)):e}],transformResponse:[function(e){const n=this.transitional||JE.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(Ae.isResponse(e)||Ae.isReadableStream(e))return e;if(e&&Ae.isString(e)&&(i&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ut.from(a,Ut.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ms.classes.FormData,Blob:Ms.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ae.forEach(["delete","get","head","post","put","patch"],t=>{JE.headers[t]={}});const cde=Ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ude=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!n||e[n]&&cde[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},N4=Symbol("internals");function ES(t){return t&&String(t).trim().toLowerCase()}function MM(t){return t===!1||t==null?t:Ae.isArray(t)?t.map(MM):String(t)}function dde(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const fde=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function YP(t,e,n,i,r){if(Ae.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!Ae.isString(e)){if(Ae.isString(i))return e.indexOf(i)!==-1;if(Ae.isRegExp(i))return i.test(e)}}function hde(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function pde(t,e){const n=Ae.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}let Ho=class{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(a,l,c){const d=ES(l);if(!d)throw new Error("header name must be a non-empty string");const h=Ae.findKey(r,d);(!h||r[h]===void 0||c===!0||c===void 0&&r[h]!==!1)&&(r[h||l]=MM(a))}const o=(a,l)=>Ae.forEach(a,(c,d)=>s(c,d,l));if(Ae.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Ae.isString(e)&&(e=e.trim())&&!fde(e))o(ude(e),n);else if(Ae.isHeaders(e))for(const[a,l]of e.entries())s(l,a,i);else e!=null&&s(n,e,i);return this}get(e,n){if(e=ES(e),e){const i=Ae.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return dde(r);if(Ae.isFunction(n))return n.call(this,r,i);if(Ae.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ES(e),e){const i=Ae.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||YP(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(o){if(o=ES(o),o){const a=Ae.findKey(i,o);a&&(!n||YP(i,i[a],a,n))&&(delete i[a],r=!0)}}return Ae.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||YP(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return Ae.forEach(this,(r,s)=>{const o=Ae.findKey(i,s);if(o){n[o]=MM(r),delete n[s];return}const a=e?hde(s):String(s).trim();a!==s&&delete n[s],n[a]=MM(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ae.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&Ae.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[N4]=this[N4]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=ES(o);i[a]||(pde(r,o),i[a]=!0)}return Ae.isArray(e)?e.forEach(s):s(e),this}};Ho.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ae.reduceDescriptors(Ho.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});Ae.freezeMethods(Ho);function XP(t,e){const n=this||JE,i=e||n,r=Ho.from(i.headers);let s=i.data;return Ae.forEach(t,function(a){s=a.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function wG(t){return!!(t&&t.__CANCEL__)}function n1(t,e,n){Ut.call(this,t??"canceled",Ut.ERR_CANCELED,e,n),this.name="CanceledError"}Ae.inherits(n1,Ut,{__CANCEL__:!0});function SG(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Ut("Request failed with status code "+n.status,[Ut.ERR_BAD_REQUEST,Ut.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function mde(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function gde(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=i[s];o||(o=c),n[r]=l,i[r]=c;let h=s,p=0;for(;h!==r;)p+=n[h++],h=h%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),c-o<e)return;const m=d&&c-d;return m?Math.round(p*1e3/m):void 0}}function yde(t,e){let n=0,i=1e3/e,r,s;const o=(c,d=Date.now())=>{n=d,r=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),h=d-n;h>=i?o(c,d):(r=c,s||(s=setTimeout(()=>{s=null,o(r)},i-h)))},()=>r&&o(r)]}const MR=(t,e,n=3)=>{let i=0;const r=gde(50,250);return yde(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,c=r(l),d=o<=a;i=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},P4=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},O4=t=>(...e)=>Ae.asap(()=>t(...e)),bde=Ms.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ms.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ms.origin),Ms.navigator&&/(msie|trident)/i.test(Ms.navigator.userAgent)):()=>!0,vde=Ms.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const o=[t+"="+encodeURIComponent(e)];Ae.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ae.isString(i)&&o.push("path="+i),Ae.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function xde(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function wde(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function CG(t,e,n){let i=!xde(e);return t&&i||n==!1?wde(t,e):e}const L4=t=>t instanceof Ho?{...t}:t;function Gy(t,e){e=e||{};const n={};function i(c,d,h,p){return Ae.isPlainObject(c)&&Ae.isPlainObject(d)?Ae.merge.call({caseless:p},c,d):Ae.isPlainObject(d)?Ae.merge({},d):Ae.isArray(d)?d.slice():d}function r(c,d,h,p){if(Ae.isUndefined(d)){if(!Ae.isUndefined(c))return i(void 0,c,h,p)}else return i(c,d,h,p)}function s(c,d){if(!Ae.isUndefined(d))return i(void 0,d)}function o(c,d){if(Ae.isUndefined(d)){if(!Ae.isUndefined(c))return i(void 0,c)}else return i(void 0,d)}function a(c,d,h){if(h in e)return i(c,d);if(h in t)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,h)=>r(L4(c),L4(d),h,!0)};return Ae.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=l[d]||r,p=h(t[d],e[d],d);Ae.isUndefined(p)&&h!==a||(n[d]=p)}),n}const AG=t=>{const e=Gy({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Ho.from(o),e.url=bG(CG(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Ae.isFormData(n)){if(Ms.hasStandardBrowserEnv||Ms.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(Ms.hasStandardBrowserEnv&&(i&&Ae.isFunction(i)&&(i=i(e)),i||i!==!1&&bde(e.url))){const c=r&&s&&vde.read(s);c&&o.set(r,c)}return e},Sde=typeof XMLHttpRequest<"u",Cde=Sde&&function(t){return new Promise(function(n,i){const r=AG(t);let s=r.data;const o=Ho.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,d,h,p,m,v;function S(){m&&m(),v&&v(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let A=new XMLHttpRequest;A.open(r.method.toUpperCase(),r.url,!0),A.timeout=r.timeout;function E(){if(!A)return;const R=Ho.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),P={data:!a||a==="text"||a==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:R,config:t,request:A};SG(function($){n($),S()},function($){i($),S()},P),A=null}"onloadend"in A?A.onloadend=E:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(E)},A.onabort=function(){A&&(i(new Ut("Request aborted",Ut.ECONNABORTED,t,A)),A=null)},A.onerror=function(){i(new Ut("Network Error",Ut.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let N=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const P=r.transitional||vG;r.timeoutErrorMessage&&(N=r.timeoutErrorMessage),i(new Ut(N,P.clarifyTimeoutError?Ut.ETIMEDOUT:Ut.ECONNABORTED,t,A)),A=null},s===void 0&&o.setContentType(null),"setRequestHeader"in A&&Ae.forEach(o.toJSON(),function(N,P){A.setRequestHeader(P,N)}),Ae.isUndefined(r.withCredentials)||(A.withCredentials=!!r.withCredentials),a&&a!=="json"&&(A.responseType=r.responseType),c&&([p,v]=MR(c,!0),A.addEventListener("progress",p)),l&&A.upload&&([h,m]=MR(l),A.upload.addEventListener("progress",h),A.upload.addEventListener("loadend",m)),(r.cancelToken||r.signal)&&(d=R=>{A&&(i(!R||R.type?new n1(null,t,A):R),A.abort(),A=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const M=mde(r.url);if(M&&Ms.protocols.indexOf(M)===-1){i(new Ut("Unsupported protocol "+M+":",Ut.ERR_BAD_REQUEST,t));return}A.send(s||null)})},Ade=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,r;const s=function(c){if(!r){r=!0,a();const d=c instanceof Error?c:this.reason;i.abort(d instanceof Ut?d:new n1(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new Ut(`timeout ${e} of ms exceeded`,Ut.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>Ae.asap(a),l}},Ede=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},Tde=async function*(t,e){for await(const n of kde(t))yield*Ede(n,e)},kde=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},j4=(t,e,n,i)=>{const r=Tde(t,e);let s=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await r.next();if(c){a(),l.close();return}let h=d.byteLength;if(n){let p=s+=h;n(p)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},hD=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",EG=hD&&typeof ReadableStream=="function",_de=hD&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),TG=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Mde=EG&&TG(()=>{let t=!1;const e=new Request(Ms.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),I4=64*1024,fj=EG&&TG(()=>Ae.isReadableStream(new Response("").body)),RR={stream:fj&&(t=>t.body)};hD&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!RR[e]&&(RR[e]=Ae.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new Ut(`Response type '${e}' is not supported`,Ut.ERR_NOT_SUPPORT,i)})})})(new Response);const Rde=async t=>{if(t==null)return 0;if(Ae.isBlob(t))return t.size;if(Ae.isSpecCompliantForm(t))return(await new Request(Ms.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ae.isArrayBufferView(t)||Ae.isArrayBuffer(t))return t.byteLength;if(Ae.isURLSearchParams(t)&&(t=t+""),Ae.isString(t))return(await _de(t)).byteLength},Dde=async(t,e)=>{const n=Ae.toFiniteNumber(t.getContentLength());return n??Rde(e)},Nde=hD&&(async t=>{let{url:e,method:n,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:h="same-origin",fetchOptions:p}=AG(t);c=c?(c+"").toLowerCase():"text";let m=Ade([r,s&&s.toAbortSignal()],o),v;const S=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let A;try{if(l&&Mde&&n!=="get"&&n!=="head"&&(A=await Dde(d,i))!==0){let P=new Request(e,{method:"POST",body:i,duplex:"half"}),O;if(Ae.isFormData(i)&&(O=P.headers.get("content-type"))&&d.setContentType(O),P.body){const[$,F]=P4(A,MR(O4(l)));i=j4(P.body,I4,$,F)}}Ae.isString(h)||(h=h?"include":"omit");const E="credentials"in Request.prototype;v=new Request(e,{...p,signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:E?h:void 0});let M=await fetch(v);const R=fj&&(c==="stream"||c==="response");if(fj&&(a||R&&S)){const P={};["status","statusText","headers"].forEach(q=>{P[q]=M[q]});const O=Ae.toFiniteNumber(M.headers.get("content-length")),[$,F]=a&&P4(O,MR(O4(a),!0))||[];M=new Response(j4(M.body,I4,$,()=>{F&&F(),S&&S()}),P)}c=c||"text";let N=await RR[Ae.findKey(RR,c)||"text"](M,t);return!R&&S&&S(),await new Promise((P,O)=>{SG(P,O,{data:N,headers:Ho.from(M.headers),status:M.status,statusText:M.statusText,config:t,request:v})})}catch(E){throw S&&S(),E&&E.name==="TypeError"&&/fetch/i.test(E.message)?Object.assign(new Ut("Network Error",Ut.ERR_NETWORK,t,v),{cause:E.cause||E}):Ut.from(E,E&&E.code,t,v)}}),hj={http:Wue,xhr:Cde,fetch:Nde};Ae.forEach(hj,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const F4=t=>`- ${t}`,Pde=t=>Ae.isFunction(t)||t===null||t===!1,kG={getAdapter:t=>{t=Ae.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let s=0;s<e;s++){n=t[s];let o;if(i=n,!Pde(n)&&(i=hj[(o=String(n)).toLowerCase()],i===void 0))throw new Ut(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(F4).join(`
`):" "+F4(s[0]):"as no adapter specified";throw new Ut("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:hj};function JP(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new n1(null,t)}function $4(t){return JP(t),t.headers=Ho.from(t.headers),t.data=XP.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),kG.getAdapter(t.adapter||JE.adapter)(t).then(function(i){return JP(t),i.data=XP.call(t,t.transformResponse,i),i.headers=Ho.from(i.headers),i},function(i){return wG(i)||(JP(t),i&&i.response&&(i.response.data=XP.call(t,t.transformResponse,i.response),i.response.headers=Ho.from(i.response.headers))),Promise.reject(i)})}const _G="1.8.2",pD={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{pD[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const z4={};pD.transitional=function(e,n,i){function r(s,o){return"[Axios v"+_G+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new Ut(r(o," has been removed"+(n?" in "+n:"")),Ut.ERR_DEPRECATED);return n&&!z4[o]&&(z4[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};pD.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function Ode(t,e,n){if(typeof t!="object")throw new Ut("options must be an object",Ut.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Ut("option "+s+" must be "+l,Ut.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ut("Unknown option "+s,Ut.ERR_BAD_OPTION)}}const RM={assertOptions:Ode,validators:pD},vu=RM.validators;let jy=class{constructor(e){this.defaults=e,this.interceptors={request:new D4,response:new D4}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Gy(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&RM.assertOptions(i,{silentJSONParsing:vu.transitional(vu.boolean),forcedJSONParsing:vu.transitional(vu.boolean),clarifyTimeoutError:vu.transitional(vu.boolean)},!1),r!=null&&(Ae.isFunction(r)?n.paramsSerializer={serialize:r}:RM.assertOptions(r,{encode:vu.function,serialize:vu.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),RM.assertOptions(n,{baseUrl:vu.spelling("baseURL"),withXsrfToken:vu.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Ae.merge(s.common,s[n.method]);s&&Ae.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),n.headers=Ho.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(l=l&&S.synchronous,a.unshift(S.fulfilled,S.rejected))});const c=[];this.interceptors.response.forEach(function(S){c.push(S.fulfilled,S.rejected)});let d,h=0,p;if(!l){const v=[$4.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,c),p=v.length,d=Promise.resolve(n);h<p;)d=d.then(v[h++],v[h++]);return d}p=a.length;let m=n;for(h=0;h<p;){const v=a[h++],S=a[h++];try{m=v(m)}catch(A){S.call(this,A);break}}try{d=$4.call(this,m)}catch(v){return Promise.reject(v)}for(h=0,p=c.length;h<p;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=Gy(this.defaults,e);const n=CG(e.baseURL,e.url,e.allowAbsoluteUrls);return bG(n,e.params,e.paramsSerializer)}};Ae.forEach(["delete","get","head","options"],function(e){jy.prototype[e]=function(n,i){return this.request(Gy(i||{},{method:e,url:n,data:(i||{}).data}))}});Ae.forEach(["post","put","patch"],function(e){function n(i){return function(s,o,a){return this.request(Gy(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}jy.prototype[e]=n(),jy.prototype[e+"Form"]=n(!0)});let Lde=class MG{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new n1(s,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new MG(function(r){e=r}),cancel:e}}};function jde(t){return function(n){return t.apply(null,n)}}function Ide(t){return Ae.isObject(t)&&t.isAxiosError===!0}const pj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pj).forEach(([t,e])=>{pj[e]=t});function RG(t){const e=new jy(t),n=aG(jy.prototype.request,e);return Ae.extend(n,jy.prototype,e,{allOwnKeys:!0}),Ae.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return RG(Gy(t,r))},n}const Ki=RG(JE);Ki.Axios=jy;Ki.CanceledError=n1;Ki.CancelToken=Lde;Ki.isCancel=wG;Ki.VERSION=_G;Ki.toFormData=fD;Ki.AxiosError=Ut;Ki.Cancel=Ki.CanceledError;Ki.all=function(e){return Promise.all(e)};Ki.spread=jde;Ki.isAxiosError=Ide;Ki.mergeConfig=Gy;Ki.AxiosHeaders=Ho;Ki.formToJSON=t=>xG(Ae.isHTMLForm(t)?new FormData(t):t);Ki.getAdapter=kG.getAdapter;Ki.HttpStatusCode=pj;Ki.default=Ki;const{Axios:OVe,AxiosError:LVe,CanceledError:jVe,isCancel:IVe,CancelToken:FVe,VERSION:$Ve,all:zVe,Cancel:BVe,isAxiosError:VVe,spread:HVe,toFormData:UVe,AxiosHeaders:qVe,HttpStatusCode:GVe,formToJSON:WVe,getAdapter:KVe,mergeConfig:YVe}=Ki,Fde=window.location.hostname==="localhost"?"http://localhost:8000/backend/api":"https://loreflow.app/backend/api",gn=Ki.create({baseURL:Fde}),DG=async(t,e)=>await gn.post("/projects/",e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}}),$de=async(t,e)=>await gn.get(`/projects/${e}`,{headers:{Authorization:`Bearer ${t}`}}),ZE=async(t,e,n)=>await gn.patch(`/projects/${e}/`,n,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}}),zde=async(t,e)=>await gn.delete(`/projects/${e}/`,{headers:{Authorization:`Bearer ${t}`}}),Bde=async t=>await gn.get("/projects/",{headers:{Authorization:`Bearer ${t}`}});var NG={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},B4=Se.createContext&&Se.createContext(NG),Vde=["attr","size","title"];function Hde(t,e){if(t==null)return{};var n=Ude(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Ude(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function DR(){return DR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},DR.apply(this,arguments)}function V4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function NR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V4(Object(n),!0).forEach(function(i){qde(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function qde(t,e,n){return e=Gde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gde(t){var e=Wde(t,"string");return typeof e=="symbol"?e:e+""}function Wde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PG(t){return t&&t.map((e,n)=>Se.createElement(e.tag,NR({key:n},e.attr),PG(e.child)))}function pi(t){return e=>Se.createElement(Kde,DR({attr:NR({},t.attr)},e),PG(t.child))}function Kde(t){var e=n=>{var{attr:i,size:r,title:s}=t,o=Hde(t,Vde),a=r||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Se.createElement("svg",DR({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,o,{className:l,style:NR(NR({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Se.createElement("title",null,s),t.children)};return B4!==void 0?Se.createElement(B4.Consumer,null,n=>e(n)):e(NG)}function QE(t){return pi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function Xn(t){return pi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(t)}const H4=t=>{let e;const n=new Set,i=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const p=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(m=>m(e,p))}},r=()=>e,a={setState:i,getState:r,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(i,r,a);return a},Yde=t=>t?H4(t):H4,Xde=t=>t;function Jde(t,e=Xde){const n=Se.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return Se.useDebugValue(n),n}const U4=t=>{const e=Yde(t),n=i=>Jde(e,i);return Object.assign(n,e),n},eT=t=>t?U4(t):U4;var HS={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Zde=HS.exports,q4;function Qde(){return q4||(q4=1,function(t,e){(function(){var n,i="4.17.21",r=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,d="__lodash_placeholder__",h=1,p=2,m=4,v=1,S=2,A=1,E=2,M=4,R=8,N=16,P=32,O=64,$=128,F=256,q=512,B=30,X="...",Q=800,J=16,oe=1,ce=2,le=3,ee=1/0,Z=9007199254740991,se=17976931348623157e292,j=NaN,te=4294967295,ae=te-1,U=te>>>1,ve=[["ary",$],["bind",A],["bindKey",E],["curry",R],["curryRight",N],["flip",q],["partial",P],["partialRight",O],["rearg",F]],ke="[object Arguments]",Ce="[object Array]",je="[object AsyncFunction]",Ue="[object Boolean]",Ye="[object Date]",Ge="[object DOMException]",ft="[object Error]",mt="[object Function]",xt="[object GeneratorFunction]",Gt="[object Map]",Mn="[object Number]",Vn="[object Null]",Wt="[object Object]",mi="[object Promise]",ii="[object Proxy]",Bt="[object RegExp]",Hn="[object Set]",ie="[object String]",$e="[object Symbol]",Ee="[object Undefined]",Xe="[object WeakMap]",be="[object WeakSet]",Ne="[object ArrayBuffer]",de="[object DataView]",Ke="[object Float32Array]",rt="[object Float64Array]",sn="[object Int8Array]",rr="[object Int16Array]",ri="[object Int32Array]",Rn="[object Uint8Array]",Tr="[object Uint8ClampedArray]",An="[object Uint16Array]",Dn="[object Uint32Array]",sr=/\b__p \+= '';/g,zf=/\b(__p \+=) '' \+/g,g0=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ze=/&(?:amp|lt|gt|quot|#39);/g,fn=/[&<>"']/g,Si=RegExp(ze.source),Ll=RegExp(fn.source),rd=/<%-([\s\S]+?)%>/g,bN=/<%([\s\S]+?)%>/g,v1=/<%=([\s\S]+?)%>/g,_T=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x1=/^\w*$/,rm=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,w1=/[\\^$.*+?()[\]{}|]/g,MT=RegExp(w1.source),y0=/^\s+/,RT=/\s/,DT=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,vN=/\{\n\/\* \[wrapped with (.+)\] \*/,Vc=/,? & /,kr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ds=/[()=,{}\[\]\/\s]/,Bf=/\\(\\)?/g,S1=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,NT=/\w*$/,xN=/^[-+]0x[0-9a-f]+$/i,PT=/^0b[01]+$/i,sm=/^\[object .+?Constructor\]$/,C1=/^0o[0-7]+$/i,sd=/^(?:0|[1-9]\d*)$/,Vf=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Hc=/($^)/,Hf=/['\n\r\u2028\u2029\\]/g,Mi="\\ud800-\\udfff",OT="\\u0300-\\u036f",LT="\\ufe20-\\ufe2f",od="\\u20d0-\\u20ff",ad=OT+LT+od,Ia="\\u2700-\\u27bf",jT="a-z\\xdf-\\xf6\\xf8-\\xff",IT="\\xac\\xb1\\xd7\\xf7",FT="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",wN="\\u2000-\\u206f",b0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",om="A-Z\\xc0-\\xd6\\xd8-\\xde",Fa="\\ufe0e\\ufe0f",zs=IT+FT+wN+b0,v0="[']",SN="["+Mi+"]",am="["+zs+"]",lm="["+ad+"]",cm="\\d+",CN="["+Ia+"]",Bs="["+jT+"]",x0="[^"+Mi+zs+cm+Ia+jT+om+"]",w0="\\ud83c[\\udffb-\\udfff]",A1="(?:"+lm+"|"+w0+")",ld="[^"+Mi+"]",S0="(?:\\ud83c[\\udde6-\\uddff]){2}",C0="[\\ud800-\\udbff][\\udc00-\\udfff]",Ko="["+om+"]",$T="\\u200d",E1="(?:"+Bs+"|"+x0+")",zT="(?:"+Ko+"|"+x0+")",A0="(?:"+v0+"(?:d|ll|m|re|s|t|ve))?",BT="(?:"+v0+"(?:D|LL|M|RE|S|T|VE))?",VT=A1+"?",um="["+Fa+"]?",T1="(?:"+$T+"(?:"+[ld,S0,C0].join("|")+")"+um+VT+")*",k1="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Uf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",cd=um+VT+T1,HT="(?:"+[CN,S0,C0].join("|")+")"+cd,_1="(?:"+[ld+lm+"?",lm,S0,C0,SN].join("|")+")",UT=RegExp(v0,"g"),dm=RegExp(lm,"g"),fm=RegExp(w0+"(?="+w0+")|"+_1+cd,"g"),hm=RegExp([Ko+"?"+Bs+"+"+A0+"(?="+[am,Ko,"$"].join("|")+")",zT+"+"+BT+"(?="+[am,Ko+E1,"$"].join("|")+")",Ko+"?"+E1+"+"+A0,Ko+"+"+BT,Uf,k1,cm,HT].join("|"),"g"),Uc=RegExp("["+$T+Mi+ad+Fa+"]"),M1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,E0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qT=-1,jn={};jn[Ke]=jn[rt]=jn[sn]=jn[rr]=jn[ri]=jn[Rn]=jn[Tr]=jn[An]=jn[Dn]=!0,jn[ke]=jn[Ce]=jn[Ne]=jn[Ue]=jn[de]=jn[Ye]=jn[ft]=jn[mt]=jn[Gt]=jn[Mn]=jn[Wt]=jn[Bt]=jn[Hn]=jn[ie]=jn[Xe]=!1;var Nn={};Nn[ke]=Nn[Ce]=Nn[Ne]=Nn[de]=Nn[Ue]=Nn[Ye]=Nn[Ke]=Nn[rt]=Nn[sn]=Nn[rr]=Nn[ri]=Nn[Gt]=Nn[Mn]=Nn[Wt]=Nn[Bt]=Nn[Hn]=Nn[ie]=Nn[$e]=Nn[Rn]=Nn[Tr]=Nn[An]=Nn[Dn]=!0,Nn[ft]=Nn[mt]=Nn[Xe]=!1;var GT={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},fs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ud={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},T0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pm=parseFloat,AN=parseInt,k0=typeof F_=="object"&&F_&&F_.Object===Object&&F_,R1=typeof self=="object"&&self&&self.Object===Object&&self,Ri=k0||R1||Function("return this")(),qf=e&&!e.nodeType&&e,qc=qf&&!0&&t&&!t.nodeType&&t,WT=qc&&qc.exports===qf,D1=WT&&k0.process,So=function(){try{var pe=qc&&qc.require&&qc.require("util").types;return pe||D1&&D1.binding&&D1.binding("util")}catch{}}(),_0=So&&So.isArrayBuffer,KT=So&&So.isDate,YT=So&&So.isMap,XT=So&&So.isRegExp,JT=So&&So.isSet,ZT=So&&So.isTypedArray;function hs(pe,Te,we){switch(we.length){case 0:return pe.call(Te);case 1:return pe.call(Te,we[0]);case 2:return pe.call(Te,we[0],we[1]);case 3:return pe.call(Te,we[0],we[1],we[2])}return pe.apply(Te,we)}function EN(pe,Te,we,et){for(var gt=-1,on=pe==null?0:pe.length;++gt<on;){var Di=pe[gt];Te(et,Di,we(Di),pe)}return et}function Co(pe,Te){for(var we=-1,et=pe==null?0:pe.length;++we<et&&Te(pe[we],we,pe)!==!1;);return pe}function TN(pe,Te){for(var we=pe==null?0:pe.length;we--&&Te(pe[we],we,pe)!==!1;);return pe}function QT(pe,Te){for(var we=-1,et=pe==null?0:pe.length;++we<et;)if(!Te(pe[we],we,pe))return!1;return!0}function $a(pe,Te){for(var we=-1,et=pe==null?0:pe.length,gt=0,on=[];++we<et;){var Di=pe[we];Te(Di,we,pe)&&(on[gt++]=Di)}return on}function M0(pe,Te){var we=pe==null?0:pe.length;return!!we&&Gf(pe,Te,0)>-1}function N1(pe,Te,we){for(var et=-1,gt=pe==null?0:pe.length;++et<gt;)if(we(Te,pe[et]))return!0;return!1}function si(pe,Te){for(var we=-1,et=pe==null?0:pe.length,gt=Array(et);++we<et;)gt[we]=Te(pe[we],we,pe);return gt}function jl(pe,Te){for(var we=-1,et=Te.length,gt=pe.length;++we<et;)pe[gt+we]=Te[we];return pe}function P1(pe,Te,we,et){var gt=-1,on=pe==null?0:pe.length;for(et&&on&&(we=pe[++gt]);++gt<on;)we=Te(we,pe[gt],gt,pe);return we}function kN(pe,Te,we,et){var gt=pe==null?0:pe.length;for(et&&gt&&(we=pe[--gt]);gt--;)we=Te(we,pe[gt],gt,pe);return we}function O1(pe,Te){for(var we=-1,et=pe==null?0:pe.length;++we<et;)if(Te(pe[we],we,pe))return!0;return!1}var _N=D0("length");function MN(pe){return pe.split("")}function RN(pe){return pe.match(kr)||[]}function ek(pe,Te,we){var et;return we(pe,function(gt,on,Di){if(Te(gt,on,Di))return et=on,!1}),et}function R0(pe,Te,we,et){for(var gt=pe.length,on=we+(et?1:-1);et?on--:++on<gt;)if(Te(pe[on],on,pe))return on;return-1}function Gf(pe,Te,we){return Te===Te?ON(pe,Te,we):R0(pe,Wf,we)}function L1(pe,Te,we,et){for(var gt=we-1,on=pe.length;++gt<on;)if(et(pe[gt],Te))return gt;return-1}function Wf(pe){return pe!==pe}function tk(pe,Te){var we=pe==null?0:pe.length;return we?P0(pe,Te)/we:j}function D0(pe){return function(Te){return Te==null?n:Te[pe]}}function N0(pe){return function(Te){return pe==null?n:pe[Te]}}function j1(pe,Te,we,et,gt){return gt(pe,function(on,Di,In){we=et?(et=!1,on):Te(we,on,Di,In)}),we}function nk(pe,Te){var we=pe.length;for(pe.sort(Te);we--;)pe[we]=pe[we].value;return pe}function P0(pe,Te){for(var we,et=-1,gt=pe.length;++et<gt;){var on=Te(pe[et]);on!==n&&(we=we===n?on:we+on)}return we}function Gc(pe,Te){for(var we=-1,et=Array(pe);++we<pe;)et[we]=Te(we);return et}function DN(pe,Te){return si(Te,function(we){return[we,pe[we]]})}function ik(pe){return pe&&pe.slice(0,F1(pe)+1).replace(y0,"")}function Vs(pe){return function(Te){return pe(Te)}}function O0(pe,Te){return si(Te,function(we){return pe[we]})}function Kf(pe,Te){return pe.has(Te)}function Yf(pe,Te){for(var we=-1,et=pe.length;++we<et&&Gf(Te,pe[we],0)>-1;);return we}function Xf(pe,Te){for(var we=pe.length;we--&&Gf(Te,pe[we],0)>-1;);return we}function NN(pe,Te){for(var we=pe.length,et=0;we--;)pe[we]===Te&&++et;return et}var L0=N0(GT),rk=N0(fs);function sk(pe){return"\\"+T0[pe]}function I1(pe,Te){return pe==null?n:pe[Te]}function Wc(pe){return Uc.test(pe)}function ok(pe){return M1.test(pe)}function ak(pe){for(var Te,we=[];!(Te=pe.next()).done;)we.push(Te.value);return we}function j0(pe){var Te=-1,we=Array(pe.size);return pe.forEach(function(et,gt){we[++Te]=[gt,et]}),we}function lk(pe,Te){return function(we){return pe(Te(we))}}function Kc(pe,Te){for(var we=-1,et=pe.length,gt=0,on=[];++we<et;){var Di=pe[we];(Di===Te||Di===d)&&(pe[we]=d,on[gt++]=we)}return on}function I0(pe){var Te=-1,we=Array(pe.size);return pe.forEach(function(et){we[++Te]=et}),we}function PN(pe){var Te=-1,we=Array(pe.size);return pe.forEach(function(et){we[++Te]=[et,et]}),we}function ON(pe,Te,we){for(var et=we-1,gt=pe.length;++et<gt;)if(pe[et]===Te)return et;return-1}function Hs(pe,Te,we){for(var et=we+1;et--;)if(pe[et]===Te)return et;return et}function za(pe){return Wc(pe)?uk(pe):_N(pe)}function Ao(pe){return Wc(pe)?$1(pe):MN(pe)}function F1(pe){for(var Te=pe.length;Te--&&RT.test(pe.charAt(Te)););return Te}var ck=N0(ud);function uk(pe){for(var Te=fm.lastIndex=0;fm.test(pe);)++Te;return Te}function $1(pe){return pe.match(fm)||[]}function LN(pe){return pe.match(hm)||[]}var jN=function pe(Te){Te=Te==null?Ri:Yo.defaults(Ri.Object(),Te,Yo.pick(Ri,E0));var we=Te.Array,et=Te.Date,gt=Te.Error,on=Te.Function,Di=Te.Math,In=Te.Object,Il=Te.RegExp,dk=Te.String,Us=Te.TypeError,mm=we.prototype,IN=on.prototype,Jf=In.prototype,F0=Te["__core-js_shared__"],gm=IN.toString,Tn=Jf.hasOwnProperty,fk=0,Eo=function(){var y=/[^.]+$/.exec(F0&&F0.keys&&F0.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),Ur=Jf.toString,Zf=gm.call(In),z1=Ri._,$0=Il("^"+gm.call(Tn).replace(w1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dd=WT?Te.Buffer:n,Ba=Te.Symbol,Xo=Te.Uint8Array,B1=dd?dd.allocUnsafe:n,fd=lk(In.getPrototypeOf,In),hd=In.create,V1=Jf.propertyIsEnumerable,qr=mm.splice,pd=Ba?Ba.isConcatSpreadable:n,Va=Ba?Ba.iterator:n,Ha=Ba?Ba.toStringTag:n,md=function(){try{var y=sa(In,"defineProperty");return y({},"",{}),y}catch{}}(),To=Te.clearTimeout!==Ri.clearTimeout&&Te.clearTimeout,ko=et&&et.now!==Ri.Date.now&&et.now,gd=Te.setTimeout!==Ri.setTimeout&&Te.setTimeout,_o=Di.ceil,Mo=Di.floor,Fl=In.getOwnPropertySymbols,hk=dd?dd.isBuffer:n,z0=Te.isFinite,H1=mm.join,Gr=lk(In.keys,In),ln=Di.max,Et=Di.min,Jo=et.now,Ua=Te.parseInt,B0=Di.random,yd=mm.reverse,V0=sa(Te,"DataView"),Qf=sa(Te,"Map"),bd=sa(Te,"Promise"),qa=sa(Te,"Set"),$l=sa(Te,"WeakMap"),zl=sa(In,"create"),ym=$l&&new $l,Yc={},pk=ys(V0),H0=ys(Qf),mk=ys(bd),bm=ys(qa),gk=ys($l),Bl=Ba?Ba.prototype:n,Vl=Bl?Bl.valueOf:n,vm=Bl?Bl.toString:n;function G(y){if(Ti(y)&&!_t(y)&&!(y instanceof Pt)){if(y instanceof qs)return y;if(Tn.call(y,"__wrapped__"))return fb(y)}return new qs(y)}var Hl=function(){function y(){}return function(x){if(!li(x))return{};if(hd)return hd(x);y.prototype=x;var _=new y;return y.prototype=n,_}}();function xm(){}function qs(y,x){this.__wrapped__=y,this.__actions__=[],this.__chain__=!!x,this.__index__=0,this.__values__=n}G.templateSettings={escape:rd,evaluate:bN,interpolate:v1,variable:"",imports:{_:G}},G.prototype=xm.prototype,G.prototype.constructor=G,qs.prototype=Hl(xm.prototype),qs.prototype.constructor=qs;function Pt(y){this.__wrapped__=y,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=te,this.__views__=[]}function yk(){var y=new Pt(this.__wrapped__);return y.__actions__=Wr(this.__actions__),y.__dir__=this.__dir__,y.__filtered__=this.__filtered__,y.__iteratees__=Wr(this.__iteratees__),y.__takeCount__=this.__takeCount__,y.__views__=Wr(this.__views__),y}function eh(){if(this.__filtered__){var y=new Pt(this);y.__dir__=-1,y.__filtered__=!0}else y=this.clone(),y.__dir__*=-1;return y}function U0(){var y=this.__wrapped__.value(),x=this.__dir__,_=_t(y),L=x<0,z=_?y.length:0,Y=cu(0,z,this.__views__),re=Y.start,ue=Y.end,me=ue-re,De=L?ue:re-1,Oe=this.__iteratees__,Fe=Oe.length,Ze=0,ot=Et(me,this.__takeCount__);if(!_||!L&&z==me&&ot==me)return tb(y,this.__actions__);var wt=[];e:for(;me--&&Ze<ot;){De+=x;for(var Qt=-1,St=y[De];++Qt<Fe;){var un=Oe[Qt],bn=un.iteratee,ua=un.type,io=bn(St);if(ua==ce)St=io;else if(!io){if(ua==oe)continue e;break e}}wt[Ze++]=St}return wt}Pt.prototype=Hl(xm.prototype),Pt.prototype.constructor=Pt;function Xc(y){var x=-1,_=y==null?0:y.length;for(this.clear();++x<_;){var L=y[x];this.set(L[0],L[1])}}function U1(){this.__data__=zl?zl(null):{},this.size=0}function q1(y){var x=this.has(y)&&delete this.__data__[y];return this.size-=x?1:0,x}function Ro(y){var x=this.__data__;if(zl){var _=x[y];return _===l?n:_}return Tn.call(x,y)?x[y]:n}function Ga(y){var x=this.__data__;return zl?x[y]!==n:Tn.call(x,y)}function Jc(y,x){var _=this.__data__;return this.size+=this.has(y)?0:1,_[y]=zl&&x===n?l:x,this}Xc.prototype.clear=U1,Xc.prototype.delete=q1,Xc.prototype.get=Ro,Xc.prototype.has=Ga,Xc.prototype.set=Jc;function Wa(y){var x=-1,_=y==null?0:y.length;for(this.clear();++x<_;){var L=y[x];this.set(L[0],L[1])}}function Zc(){this.__data__=[],this.size=0}function Ul(y){var x=this.__data__,_=xd(x,y);if(_<0)return!1;var L=x.length-1;return _==L?x.pop():qr.call(x,_,1),--this.size,!0}function Yi(y){var x=this.__data__,_=xd(x,y);return _<0?n:x[_][1]}function q0(y){return xd(this.__data__,y)>-1}function FN(y,x){var _=this.__data__,L=xd(_,y);return L<0?(++this.size,_.push([y,x])):_[L][1]=x,this}Wa.prototype.clear=Zc,Wa.prototype.delete=Ul,Wa.prototype.get=Yi,Wa.prototype.has=q0,Wa.prototype.set=FN;function ql(y){var x=-1,_=y==null?0:y.length;for(this.clear();++x<_;){var L=y[x];this.set(L[0],L[1])}}function $N(){this.size=0,this.__data__={hash:new Xc,map:new(Qf||Wa),string:new Xc}}function Xi(y){var x=vh(this,y).delete(y);return this.size-=x?1:0,x}function G1(y){return vh(this,y).get(y)}function wm(y){return vh(this,y).has(y)}function Sm(y,x){var _=vh(this,y),L=_.size;return _.set(y,x),this.size+=_.size==L?0:1,this}ql.prototype.clear=$N,ql.prototype.delete=Xi,ql.prototype.get=G1,ql.prototype.has=wm,ql.prototype.set=Sm;function Gl(y){var x=-1,_=y==null?0:y.length;for(this.__data__=new ql;++x<_;)this.add(y[x])}function th(y){return this.__data__.set(y,l),this}function nh(y){return this.__data__.has(y)}Gl.prototype.add=Gl.prototype.push=th,Gl.prototype.has=nh;function Zo(y){var x=this.__data__=new Wa(y);this.size=x.size}function bk(){this.__data__=new Wa,this.size=0}function zN(y){var x=this.__data__,_=x.delete(y);return this.size=x.size,_}function vk(y){return this.__data__.get(y)}function vd(y){return this.__data__.has(y)}function W1(y,x){var _=this.__data__;if(_ instanceof Wa){var L=_.__data__;if(!Qf||L.length<r-1)return L.push([y,x]),this.size=++_.size,this;_=this.__data__=new ql(L)}return _.set(y,x),this.size=_.size,this}Zo.prototype.clear=bk,Zo.prototype.delete=zN,Zo.prototype.get=vk,Zo.prototype.has=vd,Zo.prototype.set=W1;function Cm(y,x){var _=_t(y),L=!_&&pu(y),z=!_&&!L&&mu(y),Y=!_&&!L&&!z&&ca(y),re=_||L||z||Y,ue=re?Gc(y.length,dk):[],me=ue.length;for(var De in y)(x||Tn.call(y,De))&&!(re&&(De=="length"||z&&(De=="offset"||De=="parent")||Y&&(De=="buffer"||De=="byteLength"||De=="byteOffset")||oa(De,me)))&&ue.push(De);return ue}function K1(y){var x=y.length;return x?y[eb(0,x-1)]:n}function Qc(y,x){return $m(Wr(y),wd(x,0,y.length))}function Kt(y){return $m(Wr(y))}function kn(y,x,_){(_!==n&&!Po(y[x],_)||_===n&&!(x in y))&&Gs(y,x,_)}function oi(y,x,_){var L=y[x];(!(Tn.call(y,x)&&Po(L,_))||_===n&&!(x in y))&&Gs(y,x,_)}function xd(y,x){for(var _=y.length;_--;)if(Po(y[_][0],x))return _;return-1}function ih(y,x,_,L){return nu(y,function(z,Y,re){x(L,z,_(z),re)}),L}function eu(y,x){return y&&ea(x,Zi(x),y)}function G0(y,x){return y&&ea(x,Xr(x),y)}function Gs(y,x,_){x=="__proto__"&&md?md(y,x,{configurable:!0,enumerable:!0,value:_,writable:!0}):y[x]=_}function tu(y,x){for(var _=-1,L=x.length,z=we(L),Y=y==null;++_<L;)z[_]=Y?n:Nh(y,x[_]);return z}function wd(y,x,_){return y===y&&(_!==n&&(y=y<=_?y:_),x!==n&&(y=y>=x?y:x)),y}function xn(y,x,_,L,z,Y){var re,ue=x&h,me=x&p,De=x&m;if(_&&(re=z?_(y,L,z,Y):_(y)),re!==n)return re;if(!li(y))return y;var Oe=_t(y);if(Oe){if(re=Ed(y),!ue)return Wr(y,re)}else{var Fe=Vi(y),Ze=Fe==mt||Fe==xt;if(mu(y))return hw(y,ue);if(Fe==Wt||Fe==ke||Ze&&!z){if(re=me||Ze?{}:gs(y),!ue)return me?Nm(y,G0(re,y)):jk(y,eu(re,y))}else{if(!Nn[Fe])return z?y:{};re=Fk(y,Fe,ue)}}Y||(Y=new Zo);var ot=Y.get(y);if(ot)return ot;Y.set(y,re),nl(y)?y.forEach(function(St){re.add(xn(St,x,_,St,y,Y))}):S_(y)&&y.forEach(function(St,un){re.set(un,xn(St,x,_,un,y,Y))});var wt=De?me?Lm:Ja:me?Xr:Zi,Qt=Oe?n:wt(y);return Co(Qt||y,function(St,un){Qt&&(un=St,St=y[un]),oi(re,un,xn(St,x,_,un,y,Y))}),re}function Y1(y){var x=Zi(y);return function(_){return W0(_,y,x)}}function W0(y,x,_){var L=_.length;if(y==null)return!L;for(y=In(y);L--;){var z=_[L],Y=x[z],re=y[z];if(re===n&&!(z in y)||!Y(re))return!1}return!0}function X1(y,x,_){if(typeof y!="function")throw new Us(o);return Rr(function(){y.apply(n,_)},x)}function rh(y,x,_,L){var z=-1,Y=M0,re=!0,ue=y.length,me=[],De=x.length;if(!ue)return me;_&&(x=si(x,Vs(_))),L?(Y=N1,re=!1):x.length>=r&&(Y=Kf,re=!1,x=new Gl(x));e:for(;++z<ue;){var Oe=y[z],Fe=_==null?Oe:_(Oe);if(Oe=L||Oe!==0?Oe:0,re&&Fe===Fe){for(var Ze=De;Ze--;)if(x[Ze]===Fe)continue e;me.push(Oe)}else Y(x,Fe,L)||me.push(Oe)}return me}var nu=yw(Do),K0=yw(Qo,!0);function J1(y,x){var _=!0;return nu(y,function(L,z,Y){return _=!!x(L,z,Y),_}),_}function sh(y,x,_){for(var L=-1,z=y.length;++L<z;){var Y=y[L],re=x(Y);if(re!=null&&(ue===n?re===re&&!to(re):_(re,ue)))var ue=re,me=Y}return me}function ps(y,x,_,L){var z=y.length;for(_=It(_),_<0&&(_=-_>z?0:z+_),L=L===n||L>z?z:It(L),L<0&&(L+=z),L=_>L?0:uS(L);_<L;)y[_++]=x;return y}function Ni(y,x){var _=[];return nu(y,function(L,z,Y){x(L,z,Y)&&_.push(L)}),_}function Bi(y,x,_,L,z){var Y=-1,re=y.length;for(_||(_=zk),z||(z=[]);++Y<re;){var ue=y[Y];x>0&&_(ue)?x>1?Bi(ue,x-1,_,L,z):jl(z,ue):L||(z[z.length]=ue)}return z}var Sd=bw(),Am=bw(!0);function Do(y,x){return y&&Sd(y,x,Zi)}function Qo(y,x){return y&&Am(y,x,Zi)}function Cd(y,x){return $a(x,function(_){return ic(y[_])})}function Wl(y,x){x=Yl(x,y);for(var _=0,L=x.length;y!=null&&_<L;)y=y[Kr(x[_++])];return _&&_==L?y:n}function Y0(y,x,_){var L=x(y);return _t(y)?L:jl(L,_(y))}function _r(y){return y==null?y===n?Ee:Vn:Ha&&Ha in In(y)?Fm(y):Ys(y)}function X0(y,x){return y>x}function xk(y,x){return y!=null&&Tn.call(y,x)}function wk(y,x){return y!=null&&x in In(y)}function Sk(y,x,_){return y>=Et(x,_)&&y<ln(x,_)}function J0(y,x,_){for(var L=_?N1:M0,z=y[0].length,Y=y.length,re=Y,ue=we(Y),me=1/0,De=[];re--;){var Oe=y[re];re&&x&&(Oe=si(Oe,Vs(x))),me=Et(Oe.length,me),ue[re]=!_&&(x||z>=120&&Oe.length>=120)?new Gl(re&&Oe):n}Oe=y[0];var Fe=-1,Ze=ue[0];e:for(;++Fe<z&&De.length<me;){var ot=Oe[Fe],wt=x?x(ot):ot;if(ot=_||ot!==0?ot:0,!(Ze?Kf(Ze,wt):L(De,wt,_))){for(re=Y;--re;){var Qt=ue[re];if(!(Qt?Kf(Qt,wt):L(y[re],wt,_)))continue e}Ze&&Ze.push(wt),De.push(ot)}}return De}function Z1(y,x,_,L){return Do(y,function(z,Y,re){x(L,_(z),Y,re)}),L}function oh(y,x,_){x=Yl(x,y),y=Tw(y,x);var L=y==null?y:y[Kr(Yr(x))];return L==null?n:hs(L,y,_)}function Ck(y){return Ti(y)&&_r(y)==ke}function Ak(y){return Ti(y)&&_r(y)==Ne}function Ek(y){return Ti(y)&&_r(y)==Ye}function ah(y,x,_,L,z){return y===x?!0:y==null||x==null||!Ti(y)&&!Ti(x)?y!==y&&x!==x:Q1(y,x,_,L,ah,z)}function Q1(y,x,_,L,z,Y){var re=_t(y),ue=_t(x),me=re?Ce:Vi(y),De=ue?Ce:Vi(x);me=me==ke?Wt:me,De=De==ke?Wt:De;var Oe=me==Wt,Fe=De==Wt,Ze=me==De;if(Ze&&mu(y)){if(!mu(x))return!1;re=!0,Oe=!1}if(Ze&&!Oe)return Y||(Y=new Zo),re||ca(y)?lu(y,x,_,L,z,Y):Mr(y,x,me,_,L,z,Y);if(!(_&v)){var ot=Oe&&Tn.call(y,"__wrapped__"),wt=Fe&&Tn.call(x,"__wrapped__");if(ot||wt){var Qt=ot?y.value():y,St=wt?x.value():x;return Y||(Y=new Zo),z(Qt,St,_,L,Y)}}return Ze?(Y||(Y=new Zo),cb(y,x,_,L,z,Y)):!1}function Tk(y){return Ti(y)&&Vi(y)==Gt}function Z0(y,x,_,L){var z=_.length,Y=z,re=!L;if(y==null)return!Y;for(y=In(y);z--;){var ue=_[z];if(re&&ue[2]?ue[1]!==y[ue[0]]:!(ue[0]in y))return!1}for(;++z<Y;){ue=_[z];var me=ue[0],De=y[me],Oe=ue[1];if(re&&ue[2]){if(De===n&&!(me in y))return!1}else{var Fe=new Zo;if(L)var Ze=L(De,Oe,me,y,x,Fe);if(!(Ze===n?ah(Oe,De,v|S,L,Fe):Ze))return!1}}return!0}function ew(y){if(!li(y)||Aw(y))return!1;var x=ic(y)?$0:sm;return x.test(ys(y))}function kk(y){return Ti(y)&&_r(y)==Bt}function _k(y){return Ti(y)&&Vi(y)==Hn}function BN(y){return Ti(y)&&Cb(y.length)&&!!jn[_r(y)]}function tw(y){return typeof y=="function"?y:y==null?En:typeof y=="object"?_t(y)?Q0(y[0],y[1]):nw(y):$5(y)}function iu(y){if(!Ai(y))return Gr(y);var x=[];for(var _ in In(y))Tn.call(y,_)&&_!="constructor"&&x.push(_);return x}function Mk(y){if(!li(y))return Hi(y);var x=Ai(y),_=[];for(var L in y)L=="constructor"&&(x||!Tn.call(y,L))||_.push(L);return _}function lh(y,x){return y<x}function Em(y,x){var _=-1,L=jt(y)?we(y.length):[];return nu(y,function(z,Y,re){L[++_]=x(z,Y,re)}),L}function nw(y){var x=Im(y);return x.length==1&&x[0][2]?Vk(x[0][0],x[0][1]):function(_){return _===y||Z0(_,y,x)}}function Q0(y,x){return xh(y)&&Ew(x)?Vk(Kr(y),x):function(_){var L=Nh(_,y);return L===n&&L===x?pS(_,y):ah(x,L,v|S)}}function Tm(y,x,_,L,z){y!==x&&Sd(x,function(Y,re){if(z||(z=new Zo),li(Y))Rk(y,x,re,_,Tm,L,z);else{var ue=L?L(kw(y,re),Y,re+"",y,x,z):n;ue===n&&(ue=Y),kn(y,re,ue)}},Xr)}function Rk(y,x,_,L,z,Y,re){var ue=kw(y,_),me=kw(x,_),De=re.get(me);if(De){kn(y,_,De);return}var Oe=Y?Y(ue,me,_+"",y,x,re):n,Fe=Oe===n;if(Fe){var Ze=_t(me),ot=!Ze&&mu(me),wt=!Ze&&!ot&&ca(me);Oe=me,Ze||ot||wt?_t(ue)?Oe=ue:bi(ue)?Oe=Wr(ue):ot?(Fe=!1,Oe=hw(me,!0)):wt?(Fe=!1,Oe=pw(me,!0)):Oe=[]:Nr(me)||pu(me)?(Oe=ue,pu(ue)?Oe=Mh(ue):(!li(ue)||ic(ue))&&(Oe=gs(me))):Fe=!1}Fe&&(re.set(me,Oe),z(Oe,me,L,Y,re),re.delete(me)),kn(y,_,Oe)}function iw(y,x){var _=y.length;if(_)return x+=x<0?_:0,oa(x,_)?y[x]:n}function rw(y,x,_){x.length?x=si(x,function(Y){return _t(Y)?function(re){return Wl(re,Y.length===1?Y[0]:Y)}:Y}):x=[En];var L=-1;x=si(x,Vs(ct()));var z=Em(y,function(Y,re,ue){var me=si(x,function(De){return De(Y)});return{criteria:me,index:++L,value:Y}});return nk(z,function(Y,re){return fr(Y,re,_)})}function sw(y,x){return ow(y,x,function(_,L){return pS(y,L)})}function ow(y,x,_){for(var L=-1,z=x.length,Y={};++L<z;){var re=x[L],ue=Wl(y,re);_(ue,re)&&ch(Y,Yl(re,y),ue)}return Y}function Dk(y){return function(x){return Wl(x,y)}}function km(y,x,_,L){var z=L?L1:Gf,Y=-1,re=x.length,ue=y;for(y===x&&(x=Wr(x)),_&&(ue=si(y,Vs(_)));++Y<re;)for(var me=0,De=x[Y],Oe=_?_(De):De;(me=z(ue,Oe,me,L))>-1;)ue!==y&&qr.call(ue,me,1),qr.call(y,me,1);return y}function aw(y,x){for(var _=y?x.length:0,L=_-1;_--;){var z=x[_];if(_==L||z!==Y){var Y=z;oa(z)?qr.call(y,z,1):Ka(y,z)}}return y}function eb(y,x){return y+Mo(B0()*(x-y+1))}function VN(y,x,_,L){for(var z=-1,Y=ln(_o((x-y)/(_||1)),0),re=we(Y);Y--;)re[L?Y:++z]=y,y+=_;return re}function _m(y,x){var _="";if(!y||x<1||x>Z)return _;do x%2&&(_+=y),x=Mo(x/2),x&&(y+=y);while(x);return _}function Vt(y,x){return Xs(Za(y,x,En),y+"")}function Nk(y){return K1(no(y))}function lw(y,x){var _=no(y);return $m(_,wd(x,0,_.length))}function ch(y,x,_,L){if(!li(y))return y;x=Yl(x,y);for(var z=-1,Y=x.length,re=Y-1,ue=y;ue!=null&&++z<Y;){var me=Kr(x[z]),De=_;if(me==="__proto__"||me==="constructor"||me==="prototype")return y;if(z!=re){var Oe=ue[me];De=L?L(Oe,me,ue):n,De===n&&(De=li(Oe)?Oe:oa(x[z+1])?[]:{})}oi(ue,me,De),ue=ue[me]}return y}var cw=ym?function(y,x){return ym.set(y,x),y}:En,HN=md?function(y,x){return md(y,"toString",{configurable:!0,enumerable:!1,value:nt(x),writable:!0})}:En;function UN(y){return $m(no(y))}function Ws(y,x,_){var L=-1,z=y.length;x<0&&(x=-x>z?0:z+x),_=_>z?z:_,_<0&&(_+=z),z=x>_?0:_-x>>>0,x>>>=0;for(var Y=we(z);++L<z;)Y[L]=y[L+x];return Y}function Mm(y,x){var _;return nu(y,function(L,z,Y){return _=x(L,z,Y),!_}),!!_}function uh(y,x,_){var L=0,z=y==null?L:y.length;if(typeof x=="number"&&x===x&&z<=U){for(;L<z;){var Y=L+z>>>1,re=y[Y];re!==null&&!to(re)&&(_?re<=x:re<x)?L=Y+1:z=Y}return z}return dh(y,x,En,_)}function dh(y,x,_,L){var z=0,Y=y==null?0:y.length;if(Y===0)return 0;x=_(x);for(var re=x!==x,ue=x===null,me=to(x),De=x===n;z<Y;){var Oe=Mo((z+Y)/2),Fe=_(y[Oe]),Ze=Fe!==n,ot=Fe===null,wt=Fe===Fe,Qt=to(Fe);if(re)var St=L||wt;else De?St=wt&&(L||Ze):ue?St=wt&&Ze&&(L||!ot):me?St=wt&&Ze&&!ot&&(L||!Qt):ot||Qt?St=!1:St=L?Fe<=x:Fe<x;St?z=Oe+1:Y=Oe}return Et(Y,ae)}function uw(y,x){for(var _=-1,L=y.length,z=0,Y=[];++_<L;){var re=y[_],ue=x?x(re):re;if(!_||!Po(ue,me)){var me=ue;Y[z++]=re===0?0:re}}return Y}function dw(y){return typeof y=="number"?y:to(y)?j:+y}function Ci(y){if(typeof y=="string")return y;if(_t(y))return si(y,Ci)+"";if(to(y))return vm?vm.call(y):"";var x=y+"";return x=="0"&&1/y==-1/0?"-0":x}function ms(y,x,_){var L=-1,z=M0,Y=y.length,re=!0,ue=[],me=ue;if(_)re=!1,z=N1;else if(Y>=r){var De=x?null:au(y);if(De)return I0(De);re=!1,z=Kf,me=new Gl}else me=x?[]:ue;e:for(;++L<Y;){var Oe=y[L],Fe=x?x(Oe):Oe;if(Oe=_||Oe!==0?Oe:0,re&&Fe===Fe){for(var Ze=me.length;Ze--;)if(me[Ze]===Fe)continue e;x&&me.push(Fe),ue.push(Oe)}else z(me,Fe,_)||(me!==ue&&me.push(Fe),ue.push(Oe))}return ue}function Ka(y,x){return x=Yl(x,y),y=Tw(y,x),y==null||delete y[Kr(Yr(x))]}function ru(y,x,_,L){return ch(y,x,_(Wl(y,x)),L)}function fh(y,x,_,L){for(var z=y.length,Y=L?z:-1;(L?Y--:++Y<z)&&x(y[Y],Y,y););return _?Ws(y,L?0:Y,L?Y+1:z):Ws(y,L?Y+1:0,L?z:Y)}function tb(y,x){var _=y;return _ instanceof Pt&&(_=_.value()),P1(x,function(L,z){return z.func.apply(z.thisArg,jl([L],z.args))},_)}function nb(y,x,_){var L=y.length;if(L<2)return L?ms(y[0]):[];for(var z=-1,Y=we(L);++z<L;)for(var re=y[z],ue=-1;++ue<L;)ue!=z&&(Y[z]=rh(Y[z]||re,y[ue],x,_));return ms(Bi(Y,1),x,_)}function fw(y,x,_){for(var L=-1,z=y.length,Y=x.length,re={};++L<z;){var ue=L<Y?x[L]:n;_(re,y[L],ue)}return re}function Kl(y){return bi(y)?y:[]}function hh(y){return typeof y=="function"?y:En}function Yl(y,x){return _t(y)?y:xh(y,x)?[y]:Qa(_n(y))}var Pk=Vt;function Xl(y,x,_){var L=y.length;return _=_===n?L:_,!x&&_>=L?y:Ws(y,x,_)}var Rm=To||function(y){return Ri.clearTimeout(y)};function hw(y,x){if(x)return y.slice();var _=y.length,L=B1?B1(_):new y.constructor(_);return y.copy(L),L}function Dm(y){var x=new y.constructor(y.byteLength);return new Xo(x).set(new Xo(y)),x}function Ok(y,x){var _=x?Dm(y.buffer):y.buffer;return new y.constructor(_,y.byteOffset,y.byteLength)}function Lk(y){var x=new y.constructor(y.source,NT.exec(y));return x.lastIndex=y.lastIndex,x}function qN(y){return Vl?In(Vl.call(y)):{}}function pw(y,x){var _=x?Dm(y.buffer):y.buffer;return new y.constructor(_,y.byteOffset,y.length)}function Ji(y,x){if(y!==x){var _=y!==n,L=y===null,z=y===y,Y=to(y),re=x!==n,ue=x===null,me=x===x,De=to(x);if(!ue&&!De&&!Y&&y>x||Y&&re&&me&&!ue&&!De||L&&re&&me||!_&&me||!z)return 1;if(!L&&!Y&&!De&&y<x||De&&_&&z&&!L&&!Y||ue&&_&&z||!re&&z||!me)return-1}return 0}function fr(y,x,_){for(var L=-1,z=y.criteria,Y=x.criteria,re=z.length,ue=_.length;++L<re;){var me=Ji(z[L],Y[L]);if(me){if(L>=ue)return me;var De=_[L];return me*(De=="desc"?-1:1)}}return y.index-x.index}function mw(y,x,_,L){for(var z=-1,Y=y.length,re=_.length,ue=-1,me=x.length,De=ln(Y-re,0),Oe=we(me+De),Fe=!L;++ue<me;)Oe[ue]=x[ue];for(;++z<re;)(Fe||z<Y)&&(Oe[_[z]]=y[z]);for(;De--;)Oe[ue++]=y[z++];return Oe}function gw(y,x,_,L){for(var z=-1,Y=y.length,re=-1,ue=_.length,me=-1,De=x.length,Oe=ln(Y-ue,0),Fe=we(Oe+De),Ze=!L;++z<Oe;)Fe[z]=y[z];for(var ot=z;++me<De;)Fe[ot+me]=x[me];for(;++re<ue;)(Ze||z<Y)&&(Fe[ot+_[re]]=y[z++]);return Fe}function Wr(y,x){var _=-1,L=y.length;for(x||(x=we(L));++_<L;)x[_]=y[_];return x}function ea(y,x,_,L){var z=!_;_||(_={});for(var Y=-1,re=x.length;++Y<re;){var ue=x[Y],me=L?L(_[ue],y[ue],ue,_,y):n;me===n&&(me=y[ue]),z?Gs(_,ue,me):oi(_,ue,me)}return _}function jk(y,x){return ea(y,ub(y),x)}function Nm(y,x){return ea(y,Sw(y),x)}function ph(y,x){return function(_,L){var z=_t(_)?EN:ih,Y=x?x():{};return z(_,y,ct(L,2),Y)}}function Ad(y){return Vt(function(x,_){var L=-1,z=_.length,Y=z>1?_[z-1]:n,re=z>2?_[2]:n;for(Y=y.length>3&&typeof Y=="function"?(z--,Y):n,re&&hr(_[0],_[1],re)&&(Y=z<3?n:Y,z=1),x=In(x);++L<z;){var ue=_[L];ue&&y(x,ue,L,Y)}return x})}function yw(y,x){return function(_,L){if(_==null)return _;if(!jt(_))return y(_,L);for(var z=_.length,Y=x?z:-1,re=In(_);(x?Y--:++Y<z)&&L(re[Y],Y,re)!==!1;);return _}}function bw(y){return function(x,_,L){for(var z=-1,Y=In(x),re=L(x),ue=re.length;ue--;){var me=re[y?ue:++z];if(_(Y[me],me,Y)===!1)break}return x}}function vw(y,x,_){var L=x&A,z=mh(y);function Y(){var re=this&&this!==Ri&&this instanceof Y?z:y;return re.apply(L?_:this,arguments)}return Y}function ib(y){return function(x){x=_n(x);var _=Wc(x)?Ao(x):n,L=_?_[0]:x.charAt(0),z=_?Xl(_,1).join(""):x.slice(1);return L[y]()+z}}function su(y){return function(x){return P1(vi(bS(x).replace(UT,"")),y,"")}}function mh(y){return function(){var x=arguments;switch(x.length){case 0:return new y;case 1:return new y(x[0]);case 2:return new y(x[0],x[1]);case 3:return new y(x[0],x[1],x[2]);case 4:return new y(x[0],x[1],x[2],x[3]);case 5:return new y(x[0],x[1],x[2],x[3],x[4]);case 6:return new y(x[0],x[1],x[2],x[3],x[4],x[5]);case 7:return new y(x[0],x[1],x[2],x[3],x[4],x[5],x[6])}var _=Hl(y.prototype),L=y.apply(_,x);return li(L)?L:_}}function xw(y,x,_){var L=mh(y);function z(){for(var Y=arguments.length,re=we(Y),ue=Y,me=Ks(z);ue--;)re[ue]=arguments[ue];var De=Y<3&&re[0]!==me&&re[Y-1]!==me?[]:Kc(re,me);if(Y-=De.length,Y<_)return ou(y,x,Pm,z.placeholder,n,re,De,n,n,_-Y);var Oe=this&&this!==Ri&&this instanceof z?L:y;return hs(Oe,this,re)}return z}function rb(y){return function(x,_,L){var z=In(x);if(!jt(x)){var Y=ct(_,3);x=Zi(x),_=function(ue){return Y(z[ue],ue,z)}}var re=y(x,_,L);return re>-1?z[Y?x[re]:re]:n}}function sb(y){return Xa(function(x){var _=x.length,L=_,z=qs.prototype.thru;for(y&&x.reverse();L--;){var Y=x[L];if(typeof Y!="function")throw new Us(o);if(z&&!re&&ra(Y)=="wrapper")var re=new qs([],!0)}for(L=re?L:_;++L<_;){Y=x[L];var ue=ra(Y),me=ue=="wrapper"?jm(Y):n;me&&ai(me[0])&&me[1]==($|R|P|F)&&!me[4].length&&me[9]==1?re=re[ra(me[0])].apply(re,me[3]):re=Y.length==1&&ai(Y)?re[ue]():re.thru(Y)}return function(){var De=arguments,Oe=De[0];if(re&&De.length==1&&_t(Oe))return re.plant(Oe).value();for(var Fe=0,Ze=_?x[Fe].apply(this,De):Oe;++Fe<_;)Ze=x[Fe].call(this,Ze);return Ze}})}function Pm(y,x,_,L,z,Y,re,ue,me,De){var Oe=x&$,Fe=x&A,Ze=x&E,ot=x&(R|N),wt=x&q,Qt=Ze?n:mh(y);function St(){for(var un=arguments.length,bn=we(un),ua=un;ua--;)bn[ua]=arguments[ua];if(ot)var io=Ks(St),da=NN(bn,io);if(L&&(bn=mw(bn,L,z,ot)),Y&&(bn=gw(bn,Y,re,ot)),un-=da,ot&&un<De){var Qi=Kc(bn,io);return ou(y,x,Pm,St.placeholder,_,bn,Qi,ue,me,De-un)}var oc=Fe?_:this,Nd=Ze?oc[y]:y;return un=bn.length,ue?bn=qk(bn,ue):wt&&un>1&&bn.reverse(),Oe&&me<un&&(bn.length=me),this&&this!==Ri&&this instanceof St&&(Nd=Qt||mh(Nd)),Nd.apply(oc,bn)}return St}function ob(y,x){return function(_,L){return Z1(_,y,x(L),{})}}function Om(y,x){return function(_,L){var z;if(_===n&&L===n)return x;if(_!==n&&(z=_),L!==n){if(z===n)return L;typeof _=="string"||typeof L=="string"?(_=Ci(_),L=Ci(L)):(_=dw(_),L=dw(L)),z=y(_,L)}return z}}function ta(y){return Xa(function(x){return x=si(x,Vs(ct())),Vt(function(_){var L=this;return y(x,function(z){return hs(z,L,_)})})})}function gh(y,x){x=x===n?" ":Ci(x);var _=x.length;if(_<2)return _?_m(x,y):x;var L=_m(x,_o(y/za(x)));return Wc(x)?Xl(Ao(L),0,y).join(""):L.slice(0,y)}function GN(y,x,_,L){var z=x&A,Y=mh(y);function re(){for(var ue=-1,me=arguments.length,De=-1,Oe=L.length,Fe=we(Oe+me),Ze=this&&this!==Ri&&this instanceof re?Y:y;++De<Oe;)Fe[De]=L[De];for(;me--;)Fe[De++]=arguments[++ue];return hs(Ze,z?_:this,Fe)}return re}function ww(y){return function(x,_,L){return L&&typeof L!="number"&&hr(x,_,L)&&(_=L=n),x=rc(x),_===n?(_=x,x=0):_=rc(_),L=L===n?x<_?1:-1:rc(L),VN(x,_,L,y)}}function yh(y){return function(x,_){return typeof x=="string"&&typeof _=="string"||(x=mr(x),_=mr(_)),y(x,_)}}function ou(y,x,_,L,z,Y,re,ue,me,De){var Oe=x&R,Fe=Oe?re:n,Ze=Oe?n:re,ot=Oe?Y:n,wt=Oe?n:Y;x|=Oe?P:O,x&=~(Oe?O:P),x&M||(x&=-4);var Qt=[y,x,z,ot,Fe,wt,Ze,ue,me,De],St=_.apply(n,Qt);return ai(y)&&db(St,Qt),St.placeholder=L,_w(St,y,x)}function na(y){var x=Di[y];return function(_,L){if(_=mr(_),L=L==null?0:Et(It(L),292),L&&z0(_)){var z=(_n(_)+"e").split("e"),Y=x(z[0]+"e"+(+z[1]+L));return z=(_n(Y)+"e").split("e"),+(z[0]+"e"+(+z[1]-L))}return x(_)}}var au=qa&&1/I0(new qa([,-0]))[1]==ee?function(y){return new qa(y)}:_P;function Ya(y){return function(x){var _=Vi(x);return _==Gt?j0(x):_==Hn?PN(x):DN(x,y(x))}}function ia(y,x,_,L,z,Y,re,ue){var me=x&E;if(!me&&typeof y!="function")throw new Us(o);var De=L?L.length:0;if(De||(x&=-97,L=z=n),re=re===n?re:ln(It(re),0),ue=ue===n?ue:It(ue),De-=z?z.length:0,x&O){var Oe=L,Fe=z;L=z=n}var Ze=me?n:jm(y),ot=[y,x,_,L,z,Oe,Fe,Y,re,ue];if(Ze&&Uk(ot,Ze),y=ot[0],x=ot[1],_=ot[2],L=ot[3],z=ot[4],ue=ot[9]=ot[9]===n?me?0:y.length:ln(ot[9]-De,0),!ue&&x&(R|N)&&(x&=-25),!x||x==A)var wt=vw(y,x,_);else x==R||x==N?wt=xw(y,x,ue):(x==P||x==(A|P))&&!z.length?wt=GN(y,x,_,L):wt=Pm.apply(n,ot);var Qt=Ze?cw:db;return _w(Qt(wt,ot),y,x)}function ab(y,x,_,L){return y===n||Po(y,Jf[_])&&!Tn.call(L,_)?x:y}function bh(y,x,_,L,z,Y){return li(y)&&li(x)&&(Y.set(x,y),Tm(y,x,n,bh,Y),Y.delete(x)),y}function lb(y){return Nr(y)?n:y}function lu(y,x,_,L,z,Y){var re=_&v,ue=y.length,me=x.length;if(ue!=me&&!(re&&me>ue))return!1;var De=Y.get(y),Oe=Y.get(x);if(De&&Oe)return De==x&&Oe==y;var Fe=-1,Ze=!0,ot=_&S?new Gl:n;for(Y.set(y,x),Y.set(x,y);++Fe<ue;){var wt=y[Fe],Qt=x[Fe];if(L)var St=re?L(Qt,wt,Fe,x,y,Y):L(wt,Qt,Fe,y,x,Y);if(St!==n){if(St)continue;Ze=!1;break}if(ot){if(!O1(x,function(un,bn){if(!Kf(ot,bn)&&(wt===un||z(wt,un,_,L,Y)))return ot.push(bn)})){Ze=!1;break}}else if(!(wt===Qt||z(wt,Qt,_,L,Y))){Ze=!1;break}}return Y.delete(y),Y.delete(x),Ze}function Mr(y,x,_,L,z,Y,re){switch(_){case de:if(y.byteLength!=x.byteLength||y.byteOffset!=x.byteOffset)return!1;y=y.buffer,x=x.buffer;case Ne:return!(y.byteLength!=x.byteLength||!Y(new Xo(y),new Xo(x)));case Ue:case Ye:case Mn:return Po(+y,+x);case ft:return y.name==x.name&&y.message==x.message;case Bt:case ie:return y==x+"";case Gt:var ue=j0;case Hn:var me=L&v;if(ue||(ue=I0),y.size!=x.size&&!me)return!1;var De=re.get(y);if(De)return De==x;L|=S,re.set(y,x);var Oe=lu(ue(y),ue(x),L,z,Y,re);return re.delete(y),Oe;case $e:if(Vl)return Vl.call(y)==Vl.call(x)}return!1}function cb(y,x,_,L,z,Y){var re=_&v,ue=Ja(y),me=ue.length,De=Ja(x),Oe=De.length;if(me!=Oe&&!re)return!1;for(var Fe=me;Fe--;){var Ze=ue[Fe];if(!(re?Ze in x:Tn.call(x,Ze)))return!1}var ot=Y.get(y),wt=Y.get(x);if(ot&&wt)return ot==x&&wt==y;var Qt=!0;Y.set(y,x),Y.set(x,y);for(var St=re;++Fe<me;){Ze=ue[Fe];var un=y[Ze],bn=x[Ze];if(L)var ua=re?L(bn,un,Ze,x,y,Y):L(un,bn,Ze,y,x,Y);if(!(ua===n?un===bn||z(un,bn,_,L,Y):ua)){Qt=!1;break}St||(St=Ze=="constructor")}if(Qt&&!St){var io=y.constructor,da=x.constructor;io!=da&&"constructor"in y&&"constructor"in x&&!(typeof io=="function"&&io instanceof io&&typeof da=="function"&&da instanceof da)&&(Qt=!1)}return Y.delete(y),Y.delete(x),Qt}function Xa(y){return Xs(Za(y,n,Zs),y+"")}function Ja(y){return Y0(y,Zi,ub)}function Lm(y){return Y0(y,Xr,Sw)}var jm=ym?function(y){return ym.get(y)}:_P;function ra(y){for(var x=y.name+"",_=Yc[x],L=Tn.call(Yc,x)?_.length:0;L--;){var z=_[L],Y=z.func;if(Y==null||Y==y)return z.name}return x}function Ks(y){var x=Tn.call(G,"placeholder")?G:y;return x.placeholder}function ct(){var y=G.iteratee||pn;return y=y===pn?tw:y,arguments.length?y(arguments[0],arguments[1]):y}function vh(y,x){var _=y.__data__;return Jl(x)?_[typeof x=="string"?"string":"hash"]:_.map}function Im(y){for(var x=Zi(y),_=x.length;_--;){var L=x[_],z=y[L];x[_]=[L,z,Ew(z)]}return x}function sa(y,x){var _=I1(y,x);return ew(_)?_:n}function Fm(y){var x=Tn.call(y,Ha),_=y[Ha];try{y[Ha]=n;var L=!0}catch{}var z=Ur.call(y);return L&&(x?y[Ha]=_:delete y[Ha]),z}var ub=Fl?function(y){return y==null?[]:(y=In(y),$a(Fl(y),function(x){return V1.call(y,x)}))}:MP,Sw=Fl?function(y){for(var x=[];y;)jl(x,ub(y)),y=fd(y);return x}:MP,Vi=_r;(V0&&Vi(new V0(new ArrayBuffer(1)))!=de||Qf&&Vi(new Qf)!=Gt||bd&&Vi(bd.resolve())!=mi||qa&&Vi(new qa)!=Hn||$l&&Vi(new $l)!=Xe)&&(Vi=function(y){var x=_r(y),_=x==Wt?y.constructor:n,L=_?ys(_):"";if(L)switch(L){case pk:return de;case H0:return Gt;case mk:return mi;case bm:return Hn;case gk:return Xe}return x});function cu(y,x,_){for(var L=-1,z=_.length;++L<z;){var Y=_[L],re=Y.size;switch(Y.type){case"drop":y+=re;break;case"dropRight":x-=re;break;case"take":x=Et(x,y+re);break;case"takeRight":y=ln(y,x-re);break}}return{start:y,end:x}}function Ik(y){var x=y.match(vN);return x?x[1].split(Vc):[]}function Cw(y,x,_){x=Yl(x,y);for(var L=-1,z=x.length,Y=!1;++L<z;){var re=Kr(x[L]);if(!(Y=y!=null&&_(y,re)))break;y=y[re]}return Y||++L!=z?Y:(z=y==null?0:y.length,!!z&&Cb(z)&&oa(re,z)&&(_t(y)||pu(y)))}function Ed(y){var x=y.length,_=new y.constructor(x);return x&&typeof y[0]=="string"&&Tn.call(y,"index")&&(_.index=y.index,_.input=y.input),_}function gs(y){return typeof y.constructor=="function"&&!Ai(y)?Hl(fd(y)):{}}function Fk(y,x,_){var L=y.constructor;switch(x){case Ne:return Dm(y);case Ue:case Ye:return new L(+y);case de:return Ok(y,_);case Ke:case rt:case sn:case rr:case ri:case Rn:case Tr:case An:case Dn:return pw(y,_);case Gt:return new L;case Mn:case ie:return new L(y);case Bt:return Lk(y);case Hn:return new L;case $e:return qN(y)}}function $k(y,x){var _=x.length;if(!_)return y;var L=_-1;return x[L]=(_>1?"& ":"")+x[L],x=x.join(_>2?", ":" "),y.replace(DT,`{
/* [wrapped with `+x+`] */
`)}function zk(y){return _t(y)||pu(y)||!!(pd&&y&&y[pd])}function oa(y,x){var _=typeof y;return x=x??Z,!!x&&(_=="number"||_!="symbol"&&sd.test(y))&&y>-1&&y%1==0&&y<x}function hr(y,x,_){if(!li(_))return!1;var L=typeof x;return(L=="number"?jt(_)&&oa(x,_.length):L=="string"&&x in _)?Po(_[x],y):!1}function xh(y,x){if(_t(y))return!1;var _=typeof y;return _=="number"||_=="symbol"||_=="boolean"||y==null||to(y)?!0:x1.test(y)||!_T.test(y)||x!=null&&y in In(x)}function Jl(y){var x=typeof y;return x=="string"||x=="number"||x=="symbol"||x=="boolean"?y!=="__proto__":y===null}function ai(y){var x=ra(y),_=G[x];if(typeof _!="function"||!(x in Pt.prototype))return!1;if(y===_)return!0;var L=jm(_);return!!L&&y===L[0]}function Aw(y){return!!Eo&&Eo in y}var Bk=F0?ic:RP;function Ai(y){var x=y&&y.constructor,_=typeof x=="function"&&x.prototype||Jf;return y===_}function Ew(y){return y===y&&!li(y)}function Vk(y,x){return function(_){return _==null?!1:_[y]===x&&(x!==n||y in In(_))}}function Hk(y){var x=Xm(y,function(L){return _.size===c&&_.clear(),L}),_=x.cache;return x}function Uk(y,x){var _=y[1],L=x[1],z=_|L,Y=z<(A|E|$),re=L==$&&_==R||L==$&&_==F&&y[7].length<=x[8]||L==($|F)&&x[7].length<=x[8]&&_==R;if(!(Y||re))return y;L&A&&(y[2]=x[2],z|=_&A?0:M);var ue=x[3];if(ue){var me=y[3];y[3]=me?mw(me,ue,x[4]):ue,y[4]=me?Kc(y[3],d):x[4]}return ue=x[5],ue&&(me=y[5],y[5]=me?gw(me,ue,x[6]):ue,y[6]=me?Kc(y[5],d):x[6]),ue=x[7],ue&&(y[7]=ue),L&$&&(y[8]=y[8]==null?x[8]:Et(y[8],x[8])),y[9]==null&&(y[9]=x[9]),y[0]=x[0],y[1]=z,y}function Hi(y){var x=[];if(y!=null)for(var _ in In(y))x.push(_);return x}function Ys(y){return Ur.call(y)}function Za(y,x,_){return x=ln(x===n?y.length-1:x,0),function(){for(var L=arguments,z=-1,Y=ln(L.length-x,0),re=we(Y);++z<Y;)re[z]=L[x+z];z=-1;for(var ue=we(x+1);++z<x;)ue[z]=L[z];return ue[x]=_(re),hs(y,this,ue)}}function Tw(y,x){return x.length<2?y:Wl(y,Ws(x,0,-1))}function qk(y,x){for(var _=y.length,L=Et(x.length,_),z=Wr(y);L--;){var Y=x[L];y[L]=oa(Y,_)?z[Y]:n}return y}function kw(y,x){if(!(x==="constructor"&&typeof y[x]=="function")&&x!="__proto__")return y[x]}var db=Js(cw),Rr=gd||function(y,x){return Ri.setTimeout(y,x)},Xs=Js(HN);function _w(y,x,_){var L=x+"";return Xs(y,$k(L,Mw(Ik(L),_)))}function Js(y){var x=0,_=0;return function(){var L=Jo(),z=J-(L-_);if(_=L,z>0){if(++x>=Q)return arguments[0]}else x=0;return y.apply(n,arguments)}}function $m(y,x){var _=-1,L=y.length,z=L-1;for(x=x===n?L:x;++_<x;){var Y=eb(_,z),re=y[Y];y[Y]=y[_],y[_]=re}return y.length=x,y}var Qa=Hk(function(y){var x=[];return y.charCodeAt(0)===46&&x.push(""),y.replace(rm,function(_,L,z,Y){x.push(z?Y.replace(Bf,"$1"):L||_)}),x});function Kr(y){if(typeof y=="string"||to(y))return y;var x=y+"";return x=="0"&&1/y==-1/0?"-0":x}function ys(y){if(y!=null){try{return gm.call(y)}catch{}try{return y+""}catch{}}return""}function Mw(y,x){return Co(ve,function(_){var L="_."+_[0];x&_[1]&&!M0(y,L)&&y.push(L)}),y.sort()}function fb(y){if(y instanceof Pt)return y.clone();var x=new qs(y.__wrapped__,y.__chain__);return x.__actions__=Wr(y.__actions__),x.__index__=y.__index__,x.__values__=y.__values__,x}function uu(y,x,_){(_?hr(y,x,_):x===n)?x=1:x=ln(It(x),0);var L=y==null?0:y.length;if(!L||x<1)return[];for(var z=0,Y=0,re=we(_o(L/x));z<L;)re[Y++]=Ws(y,z,z+=x);return re}function Gk(y){for(var x=-1,_=y==null?0:y.length,L=0,z=[];++x<_;){var Y=y[x];Y&&(z[L++]=Y)}return z}function wh(){var y=arguments.length;if(!y)return[];for(var x=we(y-1),_=arguments[0],L=y;L--;)x[L-1]=arguments[L];return jl(_t(_)?Wr(_):[_],Bi(x,1))}var zm=Vt(function(y,x){return bi(y)?rh(y,Bi(x,1,bi,!0)):[]}),Bm=Vt(function(y,x){var _=Yr(x);return bi(_)&&(_=n),bi(y)?rh(y,Bi(x,1,bi,!0),ct(_,2)):[]}),Sh=Vt(function(y,x){var _=Yr(x);return bi(_)&&(_=n),bi(y)?rh(y,Bi(x,1,bi,!0),n,_):[]});function Wk(y,x,_){var L=y==null?0:y.length;return L?(x=_||x===n?1:It(x),Ws(y,x<0?0:x,L)):[]}function Kk(y,x,_){var L=y==null?0:y.length;return L?(x=_||x===n?1:It(x),x=L-x,Ws(y,0,x<0?0:x)):[]}function Vm(y,x){return y&&y.length?fh(y,ct(x,3),!0,!0):[]}function Yk(y,x){return y&&y.length?fh(y,ct(x,3),!0):[]}function hb(y,x,_,L){var z=y==null?0:y.length;return z?(_&&typeof _!="number"&&hr(y,x,_)&&(_=0,L=z),ps(y,x,_,L)):[]}function Rw(y,x,_){var L=y==null?0:y.length;if(!L)return-1;var z=_==null?0:It(_);return z<0&&(z=ln(L+z,0)),R0(y,ct(x,3),z)}function Xk(y,x,_){var L=y==null?0:y.length;if(!L)return-1;var z=L-1;return _!==n&&(z=It(_),z=_<0?ln(L+z,0):Et(z,L-1)),R0(y,ct(x,3),z,!0)}function Zs(y){var x=y==null?0:y.length;return x?Bi(y,1):[]}function Dw(y){var x=y==null?0:y.length;return x?Bi(y,ee):[]}function du(y,x){var _=y==null?0:y.length;return _?(x=x===n?1:It(x),Bi(y,x)):[]}function Jk(y){for(var x=-1,_=y==null?0:y.length,L={};++x<_;){var z=y[x];L[z[0]]=z[1]}return L}function Hm(y){return y&&y.length?y[0]:n}function Td(y,x,_){var L=y==null?0:y.length;if(!L)return-1;var z=_==null?0:It(_);return z<0&&(z=ln(L+z,0)),Gf(y,x,z)}function Zk(y){var x=y==null?0:y.length;return x?Ws(y,0,-1):[]}var Nw=Vt(function(y){var x=si(y,Kl);return x.length&&x[0]===y[0]?J0(x):[]}),Pw=Vt(function(y){var x=Yr(y),_=si(y,Kl);return x===Yr(_)?x=n:_.pop(),_.length&&_[0]===y[0]?J0(_,ct(x,2)):[]}),Zl=Vt(function(y){var x=Yr(y),_=si(y,Kl);return x=typeof x=="function"?x:n,x&&_.pop(),_.length&&_[0]===y[0]?J0(_,n,x):[]});function Qk(y,x){return y==null?"":H1.call(y,x)}function Yr(y){var x=y==null?0:y.length;return x?y[x-1]:n}function Um(y,x,_){var L=y==null?0:y.length;if(!L)return-1;var z=L;return _!==n&&(z=It(_),z=z<0?ln(L+z,0):Et(z,L-1)),x===x?Hs(y,x,z):R0(y,Wf,z,!0)}function gi(y,x){return y&&y.length?iw(y,It(x)):n}var WN=Vt(e_);function e_(y,x){return y&&y.length&&x&&x.length?km(y,x):y}function t_(y,x,_){return y&&y.length&&x&&x.length?km(y,x,ct(_,2)):y}function KN(y,x,_){return y&&y.length&&x&&x.length?km(y,x,n,_):y}var YN=Xa(function(y,x){var _=y==null?0:y.length,L=tu(y,x);return aw(y,si(x,function(z){return oa(z,_)?+z:z}).sort(Ji)),L});function yi(y,x){var _=[];if(!(y&&y.length))return _;var L=-1,z=[],Y=y.length;for(x=ct(x,3);++L<Y;){var re=y[L];x(re,L,y)&&(_.push(re),z.push(L))}return aw(y,z),_}function Fn(y){return y==null?y:yd.call(y)}function tn(y,x,_){var L=y==null?0:y.length;return L?(_&&typeof _!="number"&&hr(y,x,_)?(x=0,_=L):(x=x==null?0:It(x),_=_===n?L:It(_)),Ws(y,x,_)):[]}function hn(y,x){return uh(y,x)}function Kn(y,x,_){return dh(y,x,ct(_,2))}function Qs(y,x){var _=y==null?0:y.length;if(_){var L=uh(y,x);if(L<_&&Po(y[L],x))return L}return-1}function Ql(y,x){return uh(y,x,!0)}function Ch(y,x,_){return dh(y,x,ct(_,2),!0)}function Ow(y,x){var _=y==null?0:y.length;if(_){var L=uh(y,x,!0)-1;if(Po(y[L],x))return L}return-1}function ec(y){return y&&y.length?uw(y):[]}function Ei(y,x){return y&&y.length?uw(y,ct(x,2)):[]}function fu(y){var x=y==null?0:y.length;return x?Ws(y,1,x):[]}function kd(y,x,_){return y&&y.length?(x=_||x===n?1:It(x),Ws(y,0,x<0?0:x)):[]}function Lw(y,x,_){var L=y==null?0:y.length;return L?(x=_||x===n?1:It(x),x=L-x,Ws(y,x<0?0:x,L)):[]}function No(y,x){return y&&y.length?fh(y,ct(x,3),!1,!0):[]}function Ah(y,x){return y&&y.length?fh(y,ct(x,3)):[]}var qm=Vt(function(y){return ms(Bi(y,1,bi,!0))}),el=Vt(function(y){var x=Yr(y);return bi(x)&&(x=n),ms(Bi(y,1,bi,!0),ct(x,2))}),jw=Vt(function(y){var x=Yr(y);return x=typeof x=="function"?x:n,ms(Bi(y,1,bi,!0),n,x)});function Iw(y){return y&&y.length?ms(y):[]}function pb(y,x){return y&&y.length?ms(y,ct(x,2)):[]}function mb(y,x){return x=typeof x=="function"?x:n,y&&y.length?ms(y,n,x):[]}function tl(y){if(!(y&&y.length))return[];var x=0;return y=$a(y,function(_){if(bi(_))return x=ln(_.length,x),!0}),Gc(x,function(_){return si(y,D0(_))})}function Gm(y,x){if(!(y&&y.length))return[];var _=tl(y);return x==null?_:si(_,function(L){return hs(x,n,L)})}var _d=Vt(function(y,x){return bi(y)?rh(y,x):[]}),Wm=Vt(function(y){return nb($a(y,bi))}),Fw=Vt(function(y){var x=Yr(y);return bi(x)&&(x=n),nb($a(y,bi),ct(x,2))}),$w=Vt(function(y){var x=Yr(y);return x=typeof x=="function"?x:n,nb($a(y,bi),n,x)}),Km=Vt(tl);function zw(y,x){return fw(y||[],x||[],oi)}function eo(y,x){return fw(y||[],x||[],ch)}var n_=Vt(function(y){var x=y.length,_=x>1?y[x-1]:n;return _=typeof _=="function"?(y.pop(),_):n,Gm(y,_)});function Dr(y){var x=G(y);return x.__chain__=!0,x}function i_(y,x){return x(y),y}function Eh(y,x){return x(y)}var r_=Xa(function(y){var x=y.length,_=x?y[0]:0,L=this.__wrapped__,z=function(Y){return tu(Y,y)};return x>1||this.__actions__.length||!(L instanceof Pt)||!oa(_)?this.thru(z):(L=L.slice(_,+_+(x?1:0)),L.__actions__.push({func:Eh,args:[z],thisArg:n}),new qs(L,this.__chain__).thru(function(Y){return x&&!Y.length&&Y.push(n),Y}))});function XN(){return Dr(this)}function tc(){return new qs(this.value(),this.__chain__)}function gb(){this.__values__===n&&(this.__values__=E_(this.value()));var y=this.__index__>=this.__values__.length,x=y?n:this.__values__[this.__index__++];return{done:y,value:x}}function Bw(){return this}function Th(y){for(var x,_=this;_ instanceof xm;){var L=fb(_);L.__index__=0,L.__values__=n,x?z.__wrapped__=L:x=L;var z=L;_=_.__wrapped__}return z.__wrapped__=y,x}function s_(){var y=this.__wrapped__;if(y instanceof Pt){var x=y;return this.__actions__.length&&(x=new Pt(this)),x=x.reverse(),x.__actions__.push({func:Eh,args:[Fn],thisArg:n}),new qs(x,this.__chain__)}return this.thru(Fn)}function o_(){return tb(this.__wrapped__,this.__actions__)}var a_=ph(function(y,x,_){Tn.call(y,_)?++y[_]:Gs(y,_,1)});function Vw(y,x,_){var L=_t(y)?QT:J1;return _&&hr(y,x,_)&&(x=n),L(y,ct(x,3))}function Hw(y,x){var _=_t(y)?$a:Ni;return _(y,ct(x,3))}var JN=rb(Rw),ZN=rb(Xk);function QN(y,x){return Bi(nc(y,x),1)}function l_(y,x){return Bi(nc(y,x),ee)}function c_(y,x,_){return _=_===n?1:It(_),Bi(nc(y,x),_)}function Md(y,x){var _=_t(y)?Co:nu;return _(y,ct(x,3))}function Ym(y,x){var _=_t(y)?TN:K0;return _(y,ct(x,3))}var u_=ph(function(y,x,_){Tn.call(y,_)?y[_].push(x):Gs(y,_,[x])});function d_(y,x,_,L){y=jt(y)?y:no(y),_=_&&!L?It(_):0;var z=y.length;return _<0&&(_=ln(z+_,0)),Tb(y)?_<=z&&y.indexOf(x,_)>-1:!!z&&Gf(y,x,_)>-1}var eP=Vt(function(y,x,_){var L=-1,z=typeof x=="function",Y=jt(y)?we(y.length):[];return nu(y,function(re){Y[++L]=z?hs(x,re,_):oh(re,x,_)}),Y}),f_=ph(function(y,x,_){Gs(y,_,x)});function nc(y,x){var _=_t(y)?si:Em;return _(y,ct(x,3))}function h_(y,x,_,L){return y==null?[]:(_t(x)||(x=x==null?[]:[x]),_=L?n:_,_t(_)||(_=_==null?[]:[_]),rw(y,x,_))}var Un=ph(function(y,x,_){y[_?0:1].push(x)},function(){return[[],[]]});function Uw(y,x,_){var L=_t(y)?P1:j1,z=arguments.length<3;return L(y,ct(x,4),_,z,nu)}function tP(y,x,_){var L=_t(y)?kN:j1,z=arguments.length<3;return L(y,ct(x,4),_,z,K0)}function p_(y,x){var _=_t(y)?$a:Ni;return _(y,bb(ct(x,3)))}function nP(y){var x=_t(y)?K1:Nk;return x(y)}function iP(y,x,_){(_?hr(y,x,_):x===n)?x=1:x=It(x);var L=_t(y)?Qc:lw;return L(y,x)}function rP(y){var x=_t(y)?Kt:UN;return x(y)}function yb(y){if(y==null)return 0;if(jt(y))return Tb(y)?za(y):y.length;var x=Vi(y);return x==Gt||x==Hn?y.size:iu(y).length}function kh(y,x,_){var L=_t(y)?O1:Mm;return _&&hr(y,x,_)&&(x=n),L(y,ct(x,3))}var qw=Vt(function(y,x){if(y==null)return[];var _=x.length;return _>1&&hr(y,x[0],x[1])?x=[]:_>2&&hr(x[0],x[1],x[2])&&(x=[x[0]]),rw(y,Bi(x,1),[])}),Rd=ko||function(){return Ri.Date.now()};function Gw(y,x){if(typeof x!="function")throw new Us(o);return y=It(y),function(){if(--y<1)return x.apply(this,arguments)}}function hu(y,x,_){return x=_?n:x,x=y&&x==null?y.length:x,ia(y,$,n,n,n,n,x)}function aa(y,x){var _;if(typeof x!="function")throw new Us(o);return y=It(y),function(){return--y>0&&(_=x.apply(this,arguments)),y<=1&&(x=n),_}}var Dd=Vt(function(y,x,_){var L=A;if(_.length){var z=Kc(_,Ks(Dd));L|=P}return ia(y,L,x,_,z)}),m_=Vt(function(y,x,_){var L=A|E;if(_.length){var z=Kc(_,Ks(m_));L|=P}return ia(x,L,y,_,z)});function Ww(y,x,_){x=_?n:x;var L=ia(y,R,n,n,n,n,n,x);return L.placeholder=Ww.placeholder,L}function Kw(y,x,_){x=_?n:x;var L=ia(y,N,n,n,n,n,n,x);return L.placeholder=Kw.placeholder,L}function Yw(y,x,_){var L,z,Y,re,ue,me,De=0,Oe=!1,Fe=!1,Ze=!0;if(typeof y!="function")throw new Us(o);x=mr(x)||0,li(_)&&(Oe=!!_.leading,Fe="maxWait"in _,Y=Fe?ln(mr(_.maxWait)||0,x):Y,Ze="trailing"in _?!!_.trailing:Ze);function ot(Qi){var oc=L,Nd=z;return L=z=n,De=Qi,re=y.apply(Nd,oc),re}function wt(Qi){return De=Qi,ue=Rr(un,x),Oe?ot(Qi):re}function Qt(Qi){var oc=Qi-me,Nd=Qi-De,z5=x-oc;return Fe?Et(z5,Y-Nd):z5}function St(Qi){var oc=Qi-me,Nd=Qi-De;return me===n||oc>=x||oc<0||Fe&&Nd>=Y}function un(){var Qi=Rd();if(St(Qi))return bn(Qi);ue=Rr(un,Qt(Qi))}function bn(Qi){return ue=n,Ze&&L?ot(Qi):(L=z=n,re)}function ua(){ue!==n&&Rm(ue),De=0,L=me=z=ue=n}function io(){return ue===n?re:bn(Rd())}function da(){var Qi=Rd(),oc=St(Qi);if(L=arguments,z=this,me=Qi,oc){if(ue===n)return wt(me);if(Fe)return Rm(ue),ue=Rr(un,x),ot(me)}return ue===n&&(ue=Rr(un,x)),re}return da.cancel=ua,da.flush=io,da}var sP=Vt(function(y,x){return X1(y,1,x)}),Xw=Vt(function(y,x,_){return X1(y,mr(x)||0,_)});function g_(y){return ia(y,q)}function Xm(y,x){if(typeof y!="function"||x!=null&&typeof x!="function")throw new Us(o);var _=function(){var L=arguments,z=x?x.apply(this,L):L[0],Y=_.cache;if(Y.has(z))return Y.get(z);var re=y.apply(this,L);return _.cache=Y.set(z,re)||Y,re};return _.cache=new(Xm.Cache||ql),_}Xm.Cache=ql;function bb(y){if(typeof y!="function")throw new Us(o);return function(){var x=arguments;switch(x.length){case 0:return!y.call(this);case 1:return!y.call(this,x[0]);case 2:return!y.call(this,x[0],x[1]);case 3:return!y.call(this,x[0],x[1],x[2])}return!y.apply(this,x)}}function Jw(y){return aa(2,y)}var Zw=Pk(function(y,x){x=x.length==1&&_t(x[0])?si(x[0],Vs(ct())):si(Bi(x,1),Vs(ct()));var _=x.length;return Vt(function(L){for(var z=-1,Y=Et(L.length,_);++z<Y;)L[z]=x[z].call(this,L[z]);return hs(y,this,L)})}),Qw=Vt(function(y,x){var _=Kc(x,Ks(Qw));return ia(y,P,n,x,_)}),y_=Vt(function(y,x){var _=Kc(x,Ks(y_));return ia(y,O,n,x,_)}),Jm=Xa(function(y,x){return ia(y,F,n,n,n,x)});function oP(y,x){if(typeof y!="function")throw new Us(o);return x=x===n?x:It(x),Vt(y,x)}function b_(y,x){if(typeof y!="function")throw new Us(o);return x=x==null?0:ln(It(x),0),Vt(function(_){var L=_[x],z=Xl(_,0,x);return L&&jl(z,L),hs(y,this,z)})}function cn(y,x,_){var L=!0,z=!0;if(typeof y!="function")throw new Us(o);return li(_)&&(L="leading"in _?!!_.leading:L,z="trailing"in _?!!_.trailing:z),Yw(y,x,{leading:L,maxWait:x,trailing:z})}function eS(y){return hu(y,1)}function vb(y,x){return Qw(hh(x),y)}function tS(){if(!arguments.length)return[];var y=arguments[0];return _t(y)?y:[y]}function v_(y){return xn(y,m)}function nS(y,x){return x=typeof x=="function"?x:n,xn(y,m,x)}function Zm(y){return xn(y,h|m)}function xb(y,x){return x=typeof x=="function"?x:n,xn(y,h|m,x)}function _h(y,x){return x==null||W0(y,x,Zi(x))}function Po(y,x){return y===x||y!==y&&x!==x}var aP=yh(X0),lP=yh(function(y,x){return y>=x}),pu=Ck(function(){return arguments}())?Ck:function(y){return Ti(y)&&Tn.call(y,"callee")&&!V1.call(y,"callee")},_t=we.isArray,wb=_0?Vs(_0):Ak;function jt(y){return y!=null&&Cb(y.length)&&!ic(y)}function bi(y){return Ti(y)&&jt(y)}function pr(y){return y===!0||y===!1||Ti(y)&&_r(y)==Ue}var mu=hk||RP,iS=KT?Vs(KT):Ek;function rS(y){return Ti(y)&&y.nodeType===1&&!Nr(y)}function Sb(y){if(y==null)return!0;if(jt(y)&&(_t(y)||typeof y=="string"||typeof y.splice=="function"||mu(y)||ca(y)||pu(y)))return!y.length;var x=Vi(y);if(x==Gt||x==Hn)return!y.size;if(Ai(y))return!iu(y).length;for(var _ in y)if(Tn.call(y,_))return!1;return!0}function x_(y,x){return ah(y,x)}function w_(y,x,_){_=typeof _=="function"?_:n;var L=_?_(y,x):n;return L===n?ah(y,x,n,_):!!L}function Qm(y){if(!Ti(y))return!1;var x=_r(y);return x==ft||x==Ge||typeof y.message=="string"&&typeof y.name=="string"&&!Nr(y)}function sS(y){return typeof y=="number"&&z0(y)}function ic(y){if(!li(y))return!1;var x=_r(y);return x==mt||x==xt||x==je||x==ii}function oS(y){return typeof y=="number"&&y==It(y)}function Cb(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=Z}function li(y){var x=typeof y;return y!=null&&(x=="object"||x=="function")}function Ti(y){return y!=null&&typeof y=="object"}var S_=YT?Vs(YT):Tk;function aS(y,x){return y===x||Z0(y,x,Im(x))}function lS(y,x,_){return _=typeof _=="function"?_:n,Z0(y,x,Im(x),_)}function cP(y){return cS(y)&&y!=+y}function uP(y){if(Bk(y))throw new gt(s);return ew(y)}function la(y){return y===null}function C_(y){return y==null}function cS(y){return typeof y=="number"||Ti(y)&&_r(y)==Mn}function Nr(y){if(!Ti(y)||_r(y)!=Wt)return!1;var x=fd(y);if(x===null)return!0;var _=Tn.call(x,"constructor")&&x.constructor;return typeof _=="function"&&_ instanceof _&&gm.call(_)==Zf}var Ab=XT?Vs(XT):kk;function Eb(y){return oS(y)&&y>=-9007199254740991&&y<=Z}var nl=JT?Vs(JT):_k;function Tb(y){return typeof y=="string"||!_t(y)&&Ti(y)&&_r(y)==ie}function to(y){return typeof y=="symbol"||Ti(y)&&_r(y)==$e}var ca=ZT?Vs(ZT):BN;function A_(y){return y===n}function dP(y){return Ti(y)&&Vi(y)==Xe}function fP(y){return Ti(y)&&_r(y)==be}var hP=yh(lh),pP=yh(function(y,x){return y<=x});function E_(y){if(!y)return[];if(jt(y))return Tb(y)?Ao(y):Wr(y);if(Va&&y[Va])return ak(y[Va]());var x=Vi(y),_=x==Gt?j0:x==Hn?I0:no;return _(y)}function rc(y){if(!y)return y===0?y:0;if(y=mr(y),y===ee||y===-1/0){var x=y<0?-1:1;return x*se}return y===y?y:0}function It(y){var x=rc(y),_=x%1;return x===x?_?x-_:x:0}function uS(y){return y?wd(It(y),0,te):0}function mr(y){if(typeof y=="number")return y;if(to(y))return j;if(li(y)){var x=typeof y.valueOf=="function"?y.valueOf():y;y=li(x)?x+"":x}if(typeof y!="string")return y===0?y:+y;y=ik(y);var _=PT.test(y);return _||C1.test(y)?AN(y.slice(2),_?2:8):xN.test(y)?j:+y}function Mh(y){return ea(y,Xr(y))}function T_(y){return y?wd(It(y),-9007199254740991,Z):y===0?y:0}function _n(y){return y==null?"":Ci(y)}var Rh=Ad(function(y,x){if(Ai(x)||jt(x)){ea(x,Zi(x),y);return}for(var _ in x)Tn.call(x,_)&&oi(y,_,x[_])}),Dh=Ad(function(y,x){ea(x,Xr(x),y)}),eg=Ad(function(y,x,_,L){ea(x,Xr(x),y,L)}),kb=Ad(function(y,x,_,L){ea(x,Zi(x),y,L)}),dS=Xa(tu);function fS(y,x){var _=Hl(y);return x==null?_:eu(_,x)}var _b=Vt(function(y,x){y=In(y);var _=-1,L=x.length,z=L>2?x[2]:n;for(z&&hr(x[0],x[1],z)&&(L=1);++_<L;)for(var Y=x[_],re=Xr(Y),ue=-1,me=re.length;++ue<me;){var De=re[ue],Oe=y[De];(Oe===n||Po(Oe,Jf[De])&&!Tn.call(y,De))&&(y[De]=Y[De])}return y}),k_=Vt(function(y){return y.push(n,bh),hs(ig,n,y)});function __(y,x){return ek(y,ct(x,3),Do)}function mP(y,x){return ek(y,ct(x,3),Qo)}function M_(y,x){return y==null?y:Sd(y,ct(x,3),Xr)}function tg(y,x){return y==null?y:Am(y,ct(x,3),Xr)}function gP(y,x){return y&&Do(y,ct(x,3))}function yP(y,x){return y&&Qo(y,ct(x,3))}function bP(y){return y==null?[]:Cd(y,Zi(y))}function Mb(y){return y==null?[]:Cd(y,Xr(y))}function Nh(y,x,_){var L=y==null?n:Wl(y,x);return L===n?_:L}function hS(y,x){return y!=null&&Cw(y,x,xk)}function pS(y,x){return y!=null&&Cw(y,x,wk)}var ng=ob(function(y,x,_){x!=null&&typeof x.toString!="function"&&(x=Ur.call(x)),y[x]=_},nt(En)),vP=ob(function(y,x,_){x!=null&&typeof x.toString!="function"&&(x=Ur.call(x)),Tn.call(y,x)?y[x].push(_):y[x]=[_]},ct),R_=Vt(oh);function Zi(y){return jt(y)?Cm(y):iu(y)}function Xr(y){return jt(y)?Cm(y,!0):Mk(y)}function D_(y,x){var _={};return x=ct(x,3),Do(y,function(L,z,Y){Gs(_,x(L,z,Y),L)}),_}function mS(y,x){var _={};return x=ct(x,3),Do(y,function(L,z,Y){Gs(_,z,x(L,z,Y))}),_}var N_=Ad(function(y,x,_){Tm(y,x,_)}),ig=Ad(function(y,x,_,L){Tm(y,x,_,L)}),xP=Xa(function(y,x){var _={};if(y==null)return _;var L=!1;x=si(x,function(Y){return Y=Yl(Y,y),L||(L=Y.length>1),Y}),ea(y,Lm(y),_),L&&(_=xn(_,h|p|m,lb));for(var z=x.length;z--;)Ka(_,x[z]);return _});function wP(y,x){return Rb(y,bb(ct(x)))}var gS=Xa(function(y,x){return y==null?{}:sw(y,x)});function Rb(y,x){if(y==null)return{};var _=si(Lm(y),function(L){return[L]});return x=ct(x),ow(y,_,function(L,z){return x(L,z[0])})}function Db(y,x,_){x=Yl(x,y);var L=-1,z=x.length;for(z||(z=1,y=n);++L<z;){var Y=y==null?n:y[Kr(x[L])];Y===n&&(L=z,Y=_),y=ic(Y)?Y.call(y):Y}return y}function yS(y,x,_){return y==null?y:ch(y,x,_)}function P_(y,x,_,L){return L=typeof L=="function"?L:n,y==null?y:ch(y,x,_,L)}var Nb=Ya(Zi),sc=Ya(Xr);function gu(y,x,_){var L=_t(y),z=L||mu(y)||ca(y);if(x=ct(x,4),_==null){var Y=y&&y.constructor;z?_=L?new Y:[]:li(y)?_=ic(Y)?Hl(fd(y)):{}:_={}}return(z?Co:Do)(y,function(re,ue,me){return x(_,re,ue,me)}),_}function yu(y,x){return y==null?!0:Ka(y,x)}function rg(y,x,_){return y==null?y:ru(y,x,hh(_))}function sg(y,x,_,L){return L=typeof L=="function"?L:n,y==null?y:ru(y,x,hh(_),L)}function no(y){return y==null?[]:O0(y,Zi(y))}function SP(y){return y==null?[]:O0(y,Xr(y))}function O_(y,x,_){return _===n&&(_=x,x=n),_!==n&&(_=mr(_),_=_===_?_:0),x!==n&&(x=mr(x),x=x===x?x:0),wd(mr(y),x,_)}function og(y,x,_){return x=rc(x),_===n?(_=x,x=0):_=rc(_),y=mr(y),Sk(y,x,_)}function CP(y,x,_){if(_&&typeof _!="boolean"&&hr(y,x,_)&&(x=_=n),_===n&&(typeof x=="boolean"?(_=x,x=n):typeof y=="boolean"&&(_=y,y=n)),y===n&&x===n?(y=0,x=1):(y=rc(y),x===n?(x=y,y=0):x=rc(x)),y>x){var L=y;y=x,x=L}if(_||y%1||x%1){var z=B0();return Et(y+z*(x-y+pm("1e-"+((z+"").length-1))),x)}return eb(y,x)}var L_=su(function(y,x,_){return x=x.toLowerCase(),y+(_?ag(x):x)});function ag(y){return Tt(_n(y).toLowerCase())}function bS(y){return y=_n(y),y&&y.replace(Vf,L0).replace(dm,"")}function AP(y,x,_){y=_n(y),x=Ci(x);var L=y.length;_=_===n?L:wd(It(_),0,L);var z=_;return _-=x.length,_>=0&&y.slice(_,z)==x}function Pb(y){return y=_n(y),y&&Ll.test(y)?y.replace(fn,rk):y}function Ob(y){return y=_n(y),y&&MT.test(y)?y.replace(w1,"\\$&"):y}var j_=su(function(y,x,_){return y+(_?"-":"")+x.toLowerCase()}),lg=su(function(y,x,_){return y+(_?" ":"")+x.toLowerCase()}),vS=ib("toLowerCase");function Lb(y,x,_){y=_n(y),x=It(x);var L=x?za(y):0;if(!x||L>=x)return y;var z=(x-L)/2;return gh(Mo(z),_)+y+gh(_o(z),_)}function I_(y,x,_){y=_n(y),x=It(x);var L=x?za(y):0;return x&&L<x?y+gh(x-L,_):y}function EP(y,x,_){y=_n(y),x=It(x);var L=x?za(y):0;return x&&L<x?gh(x-L,_)+y:y}function jb(y,x,_){return _||x==null?x=0:x&&(x=+x),Ua(_n(y).replace(y0,""),x||0)}function u(y,x,_){return(_?hr(y,x,_):x===n)?x=1:x=It(x),_m(_n(y),x)}function f(){var y=arguments,x=_n(y[0]);return y.length<3?x:x.replace(y[1],y[2])}var g=su(function(y,x,_){return y+(_?"_":"")+x.toLowerCase()});function w(y,x,_){return _&&typeof _!="number"&&hr(y,x,_)&&(x=_=n),_=_===n?te:_>>>0,_?(y=_n(y),y&&(typeof x=="string"||x!=null&&!Ab(x))&&(x=Ci(x),!x&&Wc(y))?Xl(Ao(y),0,_):y.split(x,_)):[]}var T=su(function(y,x,_){return y+(_?" ":"")+Tt(x)});function D(y,x,_){return y=_n(y),_=_==null?0:wd(It(_),0,y.length),x=Ci(x),y.slice(_,_+x.length)==x}function I(y,x,_){var L=G.templateSettings;_&&hr(y,x,_)&&(x=n),y=_n(y),x=eg({},x,L,ab);var z=eg({},x.imports,L.imports,ab),Y=Zi(z),re=O0(z,Y),ue,me,De=0,Oe=x.interpolate||Hc,Fe="__p += '",Ze=Il((x.escape||Hc).source+"|"+Oe.source+"|"+(Oe===v1?S1:Hc).source+"|"+(x.evaluate||Hc).source+"|$","g"),ot="//# sourceURL="+(Tn.call(x,"sourceURL")?(x.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qT+"]")+`
`;y.replace(Ze,function(St,un,bn,ua,io,da){return bn||(bn=ua),Fe+=y.slice(De,da).replace(Hf,sk),un&&(ue=!0,Fe+=`' +
__e(`+un+`) +
'`),io&&(me=!0,Fe+=`';
`+io+`;
__p += '`),bn&&(Fe+=`' +
((__t = (`+bn+`)) == null ? '' : __t) +
'`),De=da+St.length,St}),Fe+=`';
`;var wt=Tn.call(x,"variable")&&x.variable;if(!wt)Fe=`with (obj) {
`+Fe+`
}
`;else if(ds.test(wt))throw new gt(a);Fe=(me?Fe.replace(sr,""):Fe).replace(zf,"$1").replace(g0,"$1;"),Fe="function("+(wt||"obj")+`) {
`+(wt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ue?", __e = _.escape":"")+(me?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Fe+`return __p
}`;var Qt=ge(function(){return on(Y,ot+"return "+Fe).apply(n,re)});if(Qt.source=Fe,Qm(Qt))throw Qt;return Qt}function K(y){return _n(y).toLowerCase()}function ne(y){return _n(y).toUpperCase()}function he(y,x,_){if(y=_n(y),y&&(_||x===n))return ik(y);if(!y||!(x=Ci(x)))return y;var L=Ao(y),z=Ao(x),Y=Yf(L,z),re=Xf(L,z)+1;return Xl(L,Y,re).join("")}function Me(y,x,_){if(y=_n(y),y&&(_||x===n))return y.slice(0,F1(y)+1);if(!y||!(x=Ci(x)))return y;var L=Ao(y),z=Xf(L,Ao(x))+1;return Xl(L,0,z).join("")}function Ie(y,x,_){if(y=_n(y),y&&(_||x===n))return y.replace(y0,"");if(!y||!(x=Ci(x)))return y;var L=Ao(y),z=Yf(L,Ao(x));return Xl(L,z).join("")}function xe(y,x){var _=B,L=X;if(li(x)){var z="separator"in x?x.separator:z;_="length"in x?It(x.length):_,L="omission"in x?Ci(x.omission):L}y=_n(y);var Y=y.length;if(Wc(y)){var re=Ao(y);Y=re.length}if(_>=Y)return y;var ue=_-za(L);if(ue<1)return L;var me=re?Xl(re,0,ue).join(""):y.slice(0,ue);if(z===n)return me+L;if(re&&(ue+=me.length-ue),Ab(z)){if(y.slice(ue).search(z)){var De,Oe=me;for(z.global||(z=Il(z.source,_n(NT.exec(z))+"g")),z.lastIndex=0;De=z.exec(Oe);)var Fe=De.index;me=me.slice(0,Fe===n?ue:Fe)}}else if(y.indexOf(Ci(z),ue)!=ue){var Ze=me.lastIndexOf(z);Ze>-1&&(me=me.slice(0,Ze))}return me+L}function _e(y){return y=_n(y),y&&Si.test(y)?y.replace(ze,ck):y}var st=su(function(y,x,_){return y+(_?" ":"")+x.toUpperCase()}),Tt=ib("toUpperCase");function vi(y,x,_){return y=_n(y),x=_?n:x,x===n?ok(y)?LN(y):RN(y):y.match(x)||[]}var ge=Vt(function(y,x){try{return hs(y,n,x)}catch(_){return Qm(_)?_:new gt(_)}}),fe=Xa(function(y,x){return Co(x,function(_){_=Kr(_),Gs(y,_,Dd(y[_],y))}),y});function ye(y){var x=y==null?0:y.length,_=ct();return y=x?si(y,function(L){if(typeof L[1]!="function")throw new Us(o);return[_(L[0]),L[1]]}):[],Vt(function(L){for(var z=-1;++z<x;){var Y=y[z];if(hs(Y[0],this,L))return hs(Y[1],this,L)}})}function Pe(y){return Y1(xn(y,h))}function nt(y){return function(){return y}}function Zt(y,x){return y==null||y!==y?x:y}var at=sb(),yt=sb(!0);function En(y){return y}function pn(y){return tw(typeof y=="function"?y:xn(y,h))}function bu(y){return nw(xn(y,h))}function TP(y,x){return Q0(y,xn(x,h))}var Oie=Vt(function(y,x){return function(_){return oh(_,y,x)}}),Lie=Vt(function(y,x){return function(_){return oh(y,_,x)}});function kP(y,x,_){var L=Zi(x),z=Cd(x,L);_==null&&!(li(x)&&(z.length||!L.length))&&(_=x,x=y,y=this,z=Cd(x,Zi(x)));var Y=!(li(_)&&"chain"in _)||!!_.chain,re=ic(y);return Co(z,function(ue){var me=x[ue];y[ue]=me,re&&(y.prototype[ue]=function(){var De=this.__chain__;if(Y||De){var Oe=y(this.__wrapped__),Fe=Oe.__actions__=Wr(this.__actions__);return Fe.push({func:me,args:arguments,thisArg:y}),Oe.__chain__=De,Oe}return me.apply(y,jl([this.value()],arguments))})}),y}function jie(){return Ri._===this&&(Ri._=z1),this}function _P(){}function Iie(y){return y=It(y),Vt(function(x){return iw(x,y)})}var Fie=ta(si),$ie=ta(QT),zie=ta(O1);function $5(y){return xh(y)?D0(Kr(y)):Dk(y)}function Bie(y){return function(x){return y==null?n:Wl(y,x)}}var Vie=ww(),Hie=ww(!0);function MP(){return[]}function RP(){return!1}function Uie(){return{}}function qie(){return""}function Gie(){return!0}function Wie(y,x){if(y=It(y),y<1||y>Z)return[];var _=te,L=Et(y,te);x=ct(x),y-=te;for(var z=Gc(L,x);++_<y;)x(_);return z}function Kie(y){return _t(y)?si(y,Kr):to(y)?[y]:Wr(Qa(_n(y)))}function Yie(y){var x=++fk;return _n(y)+x}var Xie=Om(function(y,x){return y+x},0),Jie=na("ceil"),Zie=Om(function(y,x){return y/x},1),Qie=na("floor");function ere(y){return y&&y.length?sh(y,En,X0):n}function tre(y,x){return y&&y.length?sh(y,ct(x,2),X0):n}function nre(y){return tk(y,En)}function ire(y,x){return tk(y,ct(x,2))}function rre(y){return y&&y.length?sh(y,En,lh):n}function sre(y,x){return y&&y.length?sh(y,ct(x,2),lh):n}var ore=Om(function(y,x){return y*x},1),are=na("round"),lre=Om(function(y,x){return y-x},0);function cre(y){return y&&y.length?P0(y,En):0}function ure(y,x){return y&&y.length?P0(y,ct(x,2)):0}return G.after=Gw,G.ary=hu,G.assign=Rh,G.assignIn=Dh,G.assignInWith=eg,G.assignWith=kb,G.at=dS,G.before=aa,G.bind=Dd,G.bindAll=fe,G.bindKey=m_,G.castArray=tS,G.chain=Dr,G.chunk=uu,G.compact=Gk,G.concat=wh,G.cond=ye,G.conforms=Pe,G.constant=nt,G.countBy=a_,G.create=fS,G.curry=Ww,G.curryRight=Kw,G.debounce=Yw,G.defaults=_b,G.defaultsDeep=k_,G.defer=sP,G.delay=Xw,G.difference=zm,G.differenceBy=Bm,G.differenceWith=Sh,G.drop=Wk,G.dropRight=Kk,G.dropRightWhile=Vm,G.dropWhile=Yk,G.fill=hb,G.filter=Hw,G.flatMap=QN,G.flatMapDeep=l_,G.flatMapDepth=c_,G.flatten=Zs,G.flattenDeep=Dw,G.flattenDepth=du,G.flip=g_,G.flow=at,G.flowRight=yt,G.fromPairs=Jk,G.functions=bP,G.functionsIn=Mb,G.groupBy=u_,G.initial=Zk,G.intersection=Nw,G.intersectionBy=Pw,G.intersectionWith=Zl,G.invert=ng,G.invertBy=vP,G.invokeMap=eP,G.iteratee=pn,G.keyBy=f_,G.keys=Zi,G.keysIn=Xr,G.map=nc,G.mapKeys=D_,G.mapValues=mS,G.matches=bu,G.matchesProperty=TP,G.memoize=Xm,G.merge=N_,G.mergeWith=ig,G.method=Oie,G.methodOf=Lie,G.mixin=kP,G.negate=bb,G.nthArg=Iie,G.omit=xP,G.omitBy=wP,G.once=Jw,G.orderBy=h_,G.over=Fie,G.overArgs=Zw,G.overEvery=$ie,G.overSome=zie,G.partial=Qw,G.partialRight=y_,G.partition=Un,G.pick=gS,G.pickBy=Rb,G.property=$5,G.propertyOf=Bie,G.pull=WN,G.pullAll=e_,G.pullAllBy=t_,G.pullAllWith=KN,G.pullAt=YN,G.range=Vie,G.rangeRight=Hie,G.rearg=Jm,G.reject=p_,G.remove=yi,G.rest=oP,G.reverse=Fn,G.sampleSize=iP,G.set=yS,G.setWith=P_,G.shuffle=rP,G.slice=tn,G.sortBy=qw,G.sortedUniq=ec,G.sortedUniqBy=Ei,G.split=w,G.spread=b_,G.tail=fu,G.take=kd,G.takeRight=Lw,G.takeRightWhile=No,G.takeWhile=Ah,G.tap=i_,G.throttle=cn,G.thru=Eh,G.toArray=E_,G.toPairs=Nb,G.toPairsIn=sc,G.toPath=Kie,G.toPlainObject=Mh,G.transform=gu,G.unary=eS,G.union=qm,G.unionBy=el,G.unionWith=jw,G.uniq=Iw,G.uniqBy=pb,G.uniqWith=mb,G.unset=yu,G.unzip=tl,G.unzipWith=Gm,G.update=rg,G.updateWith=sg,G.values=no,G.valuesIn=SP,G.without=_d,G.words=vi,G.wrap=vb,G.xor=Wm,G.xorBy=Fw,G.xorWith=$w,G.zip=Km,G.zipObject=zw,G.zipObjectDeep=eo,G.zipWith=n_,G.entries=Nb,G.entriesIn=sc,G.extend=Dh,G.extendWith=eg,kP(G,G),G.add=Xie,G.attempt=ge,G.camelCase=L_,G.capitalize=ag,G.ceil=Jie,G.clamp=O_,G.clone=v_,G.cloneDeep=Zm,G.cloneDeepWith=xb,G.cloneWith=nS,G.conformsTo=_h,G.deburr=bS,G.defaultTo=Zt,G.divide=Zie,G.endsWith=AP,G.eq=Po,G.escape=Pb,G.escapeRegExp=Ob,G.every=Vw,G.find=JN,G.findIndex=Rw,G.findKey=__,G.findLast=ZN,G.findLastIndex=Xk,G.findLastKey=mP,G.floor=Qie,G.forEach=Md,G.forEachRight=Ym,G.forIn=M_,G.forInRight=tg,G.forOwn=gP,G.forOwnRight=yP,G.get=Nh,G.gt=aP,G.gte=lP,G.has=hS,G.hasIn=pS,G.head=Hm,G.identity=En,G.includes=d_,G.indexOf=Td,G.inRange=og,G.invoke=R_,G.isArguments=pu,G.isArray=_t,G.isArrayBuffer=wb,G.isArrayLike=jt,G.isArrayLikeObject=bi,G.isBoolean=pr,G.isBuffer=mu,G.isDate=iS,G.isElement=rS,G.isEmpty=Sb,G.isEqual=x_,G.isEqualWith=w_,G.isError=Qm,G.isFinite=sS,G.isFunction=ic,G.isInteger=oS,G.isLength=Cb,G.isMap=S_,G.isMatch=aS,G.isMatchWith=lS,G.isNaN=cP,G.isNative=uP,G.isNil=C_,G.isNull=la,G.isNumber=cS,G.isObject=li,G.isObjectLike=Ti,G.isPlainObject=Nr,G.isRegExp=Ab,G.isSafeInteger=Eb,G.isSet=nl,G.isString=Tb,G.isSymbol=to,G.isTypedArray=ca,G.isUndefined=A_,G.isWeakMap=dP,G.isWeakSet=fP,G.join=Qk,G.kebabCase=j_,G.last=Yr,G.lastIndexOf=Um,G.lowerCase=lg,G.lowerFirst=vS,G.lt=hP,G.lte=pP,G.max=ere,G.maxBy=tre,G.mean=nre,G.meanBy=ire,G.min=rre,G.minBy=sre,G.stubArray=MP,G.stubFalse=RP,G.stubObject=Uie,G.stubString=qie,G.stubTrue=Gie,G.multiply=ore,G.nth=gi,G.noConflict=jie,G.noop=_P,G.now=Rd,G.pad=Lb,G.padEnd=I_,G.padStart=EP,G.parseInt=jb,G.random=CP,G.reduce=Uw,G.reduceRight=tP,G.repeat=u,G.replace=f,G.result=Db,G.round=are,G.runInContext=pe,G.sample=nP,G.size=yb,G.snakeCase=g,G.some=kh,G.sortedIndex=hn,G.sortedIndexBy=Kn,G.sortedIndexOf=Qs,G.sortedLastIndex=Ql,G.sortedLastIndexBy=Ch,G.sortedLastIndexOf=Ow,G.startCase=T,G.startsWith=D,G.subtract=lre,G.sum=cre,G.sumBy=ure,G.template=I,G.times=Wie,G.toFinite=rc,G.toInteger=It,G.toLength=uS,G.toLower=K,G.toNumber=mr,G.toSafeInteger=T_,G.toString=_n,G.toUpper=ne,G.trim=he,G.trimEnd=Me,G.trimStart=Ie,G.truncate=xe,G.unescape=_e,G.uniqueId=Yie,G.upperCase=st,G.upperFirst=Tt,G.each=Md,G.eachRight=Ym,G.first=Hm,kP(G,function(){var y={};return Do(G,function(x,_){Tn.call(G.prototype,_)||(y[_]=x)}),y}(),{chain:!1}),G.VERSION=i,Co(["bind","bindKey","curry","curryRight","partial","partialRight"],function(y){G[y].placeholder=G}),Co(["drop","take"],function(y,x){Pt.prototype[y]=function(_){_=_===n?1:ln(It(_),0);var L=this.__filtered__&&!x?new Pt(this):this.clone();return L.__filtered__?L.__takeCount__=Et(_,L.__takeCount__):L.__views__.push({size:Et(_,te),type:y+(L.__dir__<0?"Right":"")}),L},Pt.prototype[y+"Right"]=function(_){return this.reverse()[y](_).reverse()}}),Co(["filter","map","takeWhile"],function(y,x){var _=x+1,L=_==oe||_==le;Pt.prototype[y]=function(z){var Y=this.clone();return Y.__iteratees__.push({iteratee:ct(z,3),type:_}),Y.__filtered__=Y.__filtered__||L,Y}}),Co(["head","last"],function(y,x){var _="take"+(x?"Right":"");Pt.prototype[y]=function(){return this[_](1).value()[0]}}),Co(["initial","tail"],function(y,x){var _="drop"+(x?"":"Right");Pt.prototype[y]=function(){return this.__filtered__?new Pt(this):this[_](1)}}),Pt.prototype.compact=function(){return this.filter(En)},Pt.prototype.find=function(y){return this.filter(y).head()},Pt.prototype.findLast=function(y){return this.reverse().find(y)},Pt.prototype.invokeMap=Vt(function(y,x){return typeof y=="function"?new Pt(this):this.map(function(_){return oh(_,y,x)})}),Pt.prototype.reject=function(y){return this.filter(bb(ct(y)))},Pt.prototype.slice=function(y,x){y=It(y);var _=this;return _.__filtered__&&(y>0||x<0)?new Pt(_):(y<0?_=_.takeRight(-y):y&&(_=_.drop(y)),x!==n&&(x=It(x),_=x<0?_.dropRight(-x):_.take(x-y)),_)},Pt.prototype.takeRightWhile=function(y){return this.reverse().takeWhile(y).reverse()},Pt.prototype.toArray=function(){return this.take(te)},Do(Pt.prototype,function(y,x){var _=/^(?:filter|find|map|reject)|While$/.test(x),L=/^(?:head|last)$/.test(x),z=G[L?"take"+(x=="last"?"Right":""):x],Y=L||/^find/.test(x);z&&(G.prototype[x]=function(){var re=this.__wrapped__,ue=L?[1]:arguments,me=re instanceof Pt,De=ue[0],Oe=me||_t(re),Fe=function(un){var bn=z.apply(G,jl([un],ue));return L&&Ze?bn[0]:bn};Oe&&_&&typeof De=="function"&&De.length!=1&&(me=Oe=!1);var Ze=this.__chain__,ot=!!this.__actions__.length,wt=Y&&!Ze,Qt=me&&!ot;if(!Y&&Oe){re=Qt?re:new Pt(this);var St=y.apply(re,ue);return St.__actions__.push({func:Eh,args:[Fe],thisArg:n}),new qs(St,Ze)}return wt&&Qt?y.apply(this,ue):(St=this.thru(Fe),wt?L?St.value()[0]:St.value():St)})}),Co(["pop","push","shift","sort","splice","unshift"],function(y){var x=mm[y],_=/^(?:push|sort|unshift)$/.test(y)?"tap":"thru",L=/^(?:pop|shift)$/.test(y);G.prototype[y]=function(){var z=arguments;if(L&&!this.__chain__){var Y=this.value();return x.apply(_t(Y)?Y:[],z)}return this[_](function(re){return x.apply(_t(re)?re:[],z)})}}),Do(Pt.prototype,function(y,x){var _=G[x];if(_){var L=_.name+"";Tn.call(Yc,L)||(Yc[L]=[]),Yc[L].push({name:x,func:_})}}),Yc[Pm(n,E).name]=[{name:"wrapper",func:n}],Pt.prototype.clone=yk,Pt.prototype.reverse=eh,Pt.prototype.value=U0,G.prototype.at=r_,G.prototype.chain=XN,G.prototype.commit=tc,G.prototype.next=gb,G.prototype.plant=Th,G.prototype.reverse=s_,G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=o_,G.prototype.first=G.prototype.head,Va&&(G.prototype[Va]=Bw),G},Yo=jN();qc?((qc.exports=Yo)._=Yo,qf._=Yo):Ri._=Yo}).call(Zde)}(HS,HS.exports)),HS.exports}var V_=Qde();const $t=eT(t=>({projectsList:[],currentRequestId:"",saveProjectsList:e=>t({projectsList:e}),addProject:e=>t(n=>({projectsList:[...n.projectsList,e]})),updateProjectInList:e=>t(n=>({projectsList:n.projectsList.map(i=>i.id===e.id?{...i,...e}:i)})),updateCharacterInProject:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>s.id.toString()===e.toString()?{...s,characters:s.characters.map(o=>o.id===n.id?{...o,...n}:o)}:s)})),addCharacterToProject:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>s.id.toString()===e.toString()?{...s,characters:[...s.characters,n]}:s)})),deleteCharacterFromProject:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>s.id.toString()===e.toString()?{...s,characters:s.characters.filter(o=>o.id!==n.id)}:s)})),deleteCharacterFromProjectJson:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>s.id.toString()===e.toString()?{...s,characters_json:s.characters_json.filter(o=>o.name.toLowerCase()!==n.name.toLowerCase())}:s)})),addMergeExtractedCharacter:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>{if(s.id.toString()===e.toString()){const o=s.characters_json.findIndex(l=>l.name.toLowerCase()===n.name.toLowerCase());let a=[...s.characters_json];if(o!==-1){const l=V_.merge({},s.characters_json[o],n);a=[...s.characters_json.filter(c=>c.name.toLowerCase()!==n.name.toLowerCase()),l]}else a.push(n);return{...s,characters_json:a}}return s})})),updateItemInProject:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>s.id.toString()===e.toString()?{...s,items:s.items.map(o=>o.id===n.id?{...o,...n}:o)}:s)})),addItemToProject:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>s.id.toString()===e.toString()?{...s,items:[...s.items,n]}:s)})),deleteItemFromProject:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>s.id.toString()===e.toString()?{...s,items:s.items.filter(o=>o.id!==n.id)}:s)})),deleteItemFromProjectJson:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>s.id.toString()===e.toString()?{...s,items_json:s.items_json.filter(o=>o.name.toLowerCase()!==n.name.toLowerCase())}:s)})),addMergeExtractedItem:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>{if(s.id.toString()===e.toString()){const o=s.items_json.findIndex(l=>l.name.toLowerCase()===n.name.toLowerCase());let a=[...s.items_json];if(o!==-1){const l=V_.merge({},s.items_json[o],n);a=[...s.items_json.filter(c=>c.name.toLowerCase()!==n.name.toLowerCase()),l]}else a.push(n);return{...s,items_json:a}}return s})})),updateLocationInProject:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>s.id.toString()===e.toString()?{...s,locations:s.locations.map(o=>o.id===n.id?{...o,...n}:o)}:s)})),addLocationToProject:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>s.id.toString()===e.toString()?{...s,locations:[...s.locations,n]}:s)})),deleteLocationFromProject:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>s.id.toString()===e.toString()?{...s,locations:s.locations.filter(o=>o.id!==n.id)}:s)})),deleteLocationFromProjectJson:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>s.id.toString()===e.toString()?{...s,locations_json:s.locations_json.filter(o=>o.name.toLowerCase()!==n.name.toLowerCase())}:s)})),addMergeExtractedLocation:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>{if(s.id.toString()===e.toString()){const o=s.locations_json.findIndex(l=>l.name.toLowerCase()===n.name.toLowerCase());let a=[...s.locations_json];if(o!==-1){const l=V_.merge({},s.locations_json[o],n);a=[...s.locations_json.filter(c=>c.name.toLowerCase()!==n.name.toLowerCase()),l]}else a.push(n);return{...s,locations_json:a}}return s})})),updateSceneInChapter:(e,n,i)=>t(r=>{const s=r.projectsList.map(o=>{if(o.id===e){const a=o.chapters.map(l=>{if(l.id===n){const c=l.scenes.map(d=>d.id===i.id?i:d);return console.log("updatedScenes",c),{...l,scenes:c}}return l});return{...o,chapters:a}}return o});return console.log("updatedList",s),{projectsList:s}}),streamToExistingScene:(e,n,i,r,s)=>t(o=>({projectsList:o.projectsList.map(l=>{if(l.id===e){const c=l.chapters.map(d=>{if(d.id===n){const h=d.scenes.map(p=>p.id===i?o.currentRequestId!==s?(o.currentRequestId=s,{...p,updated_content:""+r}):{...p,updated_content:p.updated_content+r}:p);return{...d,scenes:h}}return d});return{...l,chapters:c}}return l})})),streamToNewScene:(e,n,i,r)=>t(s=>({projectsList:s.projectsList.map(a=>{if(a.id===e){const l=a.chapters.map(c=>{if(c.id===n){const d=c.scenes.map(h=>h.id===i?{...h,content:h.content+r}:h);return{...c,scenes:d}}return c});return{...a,chapters:l}}return a})})),addSceneToChapter:(e,n,i)=>t(r=>({projectsList:r.projectsList.map(o=>{if(o.id===e){const a=o.chapters.map(l=>l.id===n?{...l,scenes:[...l.scenes,i]}:l);return{...o,chapters:a}}return o})})),deleteSceneFromProject:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>s.id.toString()===e.toString()?{...s,scenes:s.scenes.filter(o=>o.id!==n.id)}:s)})),deleteSceneFromProjectJson:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>s.id.toString()===e.toString()?{...s,scenes_json:s.scenes_json.filter(o=>o.title.toLowerCase()!==n.title.toLowerCase())}:s)})),addMergeExtractedScene:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>{if(s.id.toString()===e.toString()){const o=s.scenes_json.findIndex(l=>l.title.toLowerCase()===n.title.toLowerCase());let a=[...s.scenes_json];if(o!==-1){const l=V_.merge({},s.scenes_json[o],n);a=[...s.scenes_json.filter(c=>c.title.toLowerCase()!==n.title.toLowerCase()),l]}else a.push(n);return{...s,scenes_json:a}}return s})})),updateChapterInProject:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>s.id.toString()===e.toString()?{...s,chapters:s.chapters.map(o=>o.id===n.id?{...o,...n}:o)}:s)})),addChapterToProject:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>s.id.toString()===e.toString()?{...s,chapters:[...s.chapters,n]}:s)})),deleteChapterFromProject:(e,n)=>t(i=>({projectsList:i.projectsList.map(s=>s.id.toString()===e.toString()?{...s,chapters:s.chapters.filter(o=>o.id.toString()!==n.id.toString())}:s)}))})),kt=eT(t=>({isLoggedIn:!1,authData:{accessToken:"",id:"",email:"",username:"",ws_chanel_code:"",open_router_api_key:"",selected_model:""},saveAccessToken:e=>t(n=>({authData:{...n.authData,accessToken:e}})),saveAuthData:e=>t(n=>({authData:{...n.authData,id:e.id,email:e.email,username:e.username,ws_chanel_code:e.ws_chanel_code,open_router_api_key:e.open_router_api_key}})),saveSelectedModel:e=>t(n=>({authData:{...n.authData,selected_model:e}})),setLoggedIn:e=>t(()=>({isLoggedIn:e}))})),OG=({isCreateProjectOpen:t,setIsCreateProjectOpen:e})=>{const[n,i]=k.useState(""),[r,s]=k.useState(""),[o,a]=k.useState(null),[l,c]=k.useState(""),d=kt(S=>S.authData.accessToken),h=jf(),p=$t(S=>S.addProject),m=S=>{if(S.target.files){const A=S.target.files[0];if(a(A),A){const E=new FileReader;E.onloadend=()=>{c(E.result)},E.readAsDataURL(A)}}},v=async()=>{const S=new FormData;S.append("title",n),S.append("description",r),o&&S.append("image",o);try{const A=await DG(d,S),E=El.from(A.data);return p(E.toJSON()),e(!1),h("/dashboard/project/"+A.data.id.toString())}catch(A){console.log(A)}};return b.jsx(Kp,{open:t,onClose:()=>e(!1),transition:!0,className:"fixed inset-0 flex w-screen items-center justify-center bg-black/30 p-4 transition duration-300 ease-out data-[closed]:opacity-0",children:b.jsx("div",{className:"fixed inset-0 flex w-screen items-center justify-center p-4",children:b.jsx(If,{transition:!0,children:b.jsx(Yn,{className:"space-y-8 bg-linear-to-t from-sky-400 to-indigo-400 p-1 rounded-xl shadow-2xl",children:b.jsxs("div",{className:"space-y-8 bg-linear-to-t from-zinc-100 to-zinc-300 p-10 rounded-lg shadow-2xl",children:[b.jsx("div",{className:"mt-1 flex items-center",children:o?b.jsxs("div",{className:"relative w-32 h-32 overflow-hidden rounded-md border-2 border-indigo-200 shadow-sm",children:[b.jsx("img",{src:l,alt:o.name,className:"object-cover w-full h-full"}),b.jsx("button",{onClick:()=>{c(""),a(null)},className:"absolute top-1 right-1 text-red-500 bg-white rounded-full hover:text-red-600 transition",children:b.jsx(Xn,{})})]}):b.jsx("div",{className:"w-32 h-32 bg-indigo-50 rounded-md flex items-center justify-center border-2 border-dashed border-indigo-200",children:b.jsxs("label",{className:"cursor-pointer text-center p-2",children:[b.jsx("span",{className:"block text-sm text-indigo-600",children:"Upload Image"}),b.jsx("input",{type:"file",className:"hidden",onChange:m,accept:"image/*"})]})})}),b.jsx(rG,{className:"text-lg font-bold ",children:"Create new project"}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block",children:"Project name"}),b.jsx(Ot,{onChange:S=>i(S.target.value),className:"mt-3 w-80 xl:w-100 resize-none rounded-lg border-none bg-white py-1.5 px-3 text-sm/6 text-zinc-700 focus:outline-none",name:"title"})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block",children:"Project description"}),b.jsx(Ft,{onChange:S=>s(S.target.value),className:"mt-3 block w-full resize-none rounded-lg border-none bg-white py-1.5 px-3 text-sm/6 text-zinc-700 focus:outline-none",rows:3})]}),b.jsx("div",{className:"w-full flex justify-end text-center",children:b.jsx(bl,{onClick:()=>{v()},className:"rounded-md bg-zinc-700/60 py-2 px-4 text-sm font-medium text-white focus:outline-none data-[hover]:bg-zinc-700/90 active:bg-zinc-800",children:"Save project"})})]})})})})})};function efe(t){return pi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM200 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"},child:[]}]})(t)}function tT(t){return pi({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7 4V2H17V4H22V6H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V6H2V4H7ZM6 6V20H18V6H6ZM9 9H11V17H9V9ZM13 9H15V17H13V9Z"},child:[]}]})(t)}function tfe(t){return pi({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 3.5V13.5L16 8.49955L21 3.5ZM21 19.9995V17.9995H3V19.9995H21ZM12 12.9995V10.9995H3V12.9995H12ZM12 5.99951V3.99951H3V5.99951H12Z"},child:[]}]})(t)}function nfe(t,e){return e.filter(n=>n.id.toString()!==t.toString())}const ife=({selectProject:t,project:e})=>{const[n,i]=k.useState(!1),r=$t(c=>c.projectsList),s=$t(c=>c.saveProjectsList),o=kt(c=>c.authData.accessToken),a=jf(),l=async c=>{try{await zde(o,c);const d=nfe(c,r);d&&s(d),a("/dashboard")}catch(d){console.log(d)}};return b.jsxs(b.Fragment,{children:[b.jsx("div",{onClick:()=>{t(e)},className:"flex gap-2 w-full",children:b.jsx("div",{className:"text-sm text-zinc-700",children:e.title})}),b.jsx("div",{className:"flex items-center justify-center w-10",children:n?b.jsxs("div",{className:"flex justify-end w-full gap-1",children:[b.jsx("div",{onClick:()=>{i(!1)},className:"text-zinc-400 duration-300 hover:text-zinc-700 text-sm opacity-40 hover:opacity-60",children:b.jsx(Xn,{})}),b.jsx("div",{onClick:()=>{l(e.id)},className:"text-zinc-400 duration-300 hover:text-zinc-700 text-sm opacity-40 hover:opacity-60 pr-2",children:b.jsx(QE,{})})]}):b.jsx("div",{className:"flex justify-end w-full",children:b.jsx("div",{onClick:()=>{i(!0)},className:"text-zinc-400 duration-300 hover:text-zinc-700 text-sm opacity-40 hover:opacity-60 pr-2",children:b.jsx(tT,{})})})})]})},rfe=async t=>await gn.post("/user/",t,{}),G4=async t=>await gn.post("/token/",t,{}),LG=async t=>await gn.post("/token/verify/",t,{}),jG=async t=>await gn.post("/token/refresh/",t,{}),iv=async t=>await gn.get("/user/me",{headers:{Authorization:`Bearer ${t}`}}),IG=async(t,e,n)=>await gn.patch(`/user/${e}/`,n,{headers:{Authorization:`Bearer ${t}`}}),FC=({isUserProfileOpen:t,setIsUserProfileOpen:e,userData:n})=>{const[i,r]=k.useState(n.open_router_api_key),s=kt(l=>l.authData.accessToken),o=kt(l=>l.saveAuthData),a=async()=>{try{const l=await IG(s,n.id,{open_router_api_key:i}),c=l.data.id,d=l.data.email,h=l.data.username,p=l.data.ws_chanel_code,m=l.data.open_router_api_key;o({id:c,email:d,username:h,ws_chanel_code:p,open_router_api_key:m}),e(!1)}catch(l){console.log(l)}};return b.jsx(Kp,{open:t,onClose:()=>e(!1),transition:!0,className:"fixed inset-0 flex w-screen items-center justify-center bg-black/30 p-4 transition duration-300 ease-out data-[closed]:opacity-0 z-50",children:b.jsx("div",{className:"fixed inset-0 flex w-screen items-center justify-center p-4",children:b.jsx(If,{transition:!0,children:b.jsx(Yn,{className:"space-y-8 bg-linear-to-t from-sky-400 to-indigo-400 p-1 rounded-xl shadow-2xl",children:b.jsxs("div",{className:"space-y-8 bg-linear-to-t from-zinc-100 to-zinc-300 p-10 rounded-lg shadow-2xl",children:[b.jsxs(rG,{className:"text-lg font-bold ",children:[n.username," profile"]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block",children:"OpenRouter API Key"}),b.jsx(Ot,{onChange:l=>r(l.target.value),value:i,className:"mt-3 w-80 xl:w-100 resize-none rounded-lg border-none bg-white py-1.5 px-3 text-sm/6 text-zinc-700 focus:outline-none",name:"title"})]}),b.jsx("div",{className:"w-full flex justify-end text-center",children:b.jsx(bl,{onClick:()=>{a()},className:"rounded-md bg-zinc-700/60 py-2 px-4 text-sm font-medium text-white focus:outline-none data-[hover]:bg-zinc-700/90 active:bg-zinc-800",children:"Save"})})]})})})})})};function FG(t){return pi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 8v-2a2 2 0 0 1 2 -2h7a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-7a2 2 0 0 1 -2 -2v-2"},child:[]},{tag:"path",attr:{d:"M15 12h-12l3 -3"},child:[]},{tag:"path",attr:{d:"M6 15l-3 -3"},child:[]}]})(t)}const sfe=()=>{const[t,e]=k.useState(!1),[n,i]=k.useState(!1),{id:r}=ed(),s=jf(),o=$t(m=>m.projectsList),a=kt(m=>m.authData),l=kt(m=>m.saveAuthData),c=kt(m=>m.setLoggedIn),d=kt(m=>m.saveAccessToken),h=m=>{if(r){if(m.id.toString()!==r.toString())return s("/dashboard/project/"+m.id.toString())}else return s("/dashboard/project/"+m.id.toString())},p=()=>{l({id:"",email:"",username:"",ws_chanel_code:"",open_router_api_key:""}),d(""),c(!1),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),s("/")};return b.jsx(b.Fragment,{children:b.jsxs("section",{className:"flex duration-300 w-70 transform bg-white flex-col flex-shrink-0 top-16 left-0 bottom-0  border-r-1 border-zinc-200 p-4 gap-3 fixed  hidden md:hidden lg:block",children:[b.jsxs("div",{className:"flex items-center gap-2 w-full mb-5 px-2  justify-between",children:[b.jsx("p",{onClick:()=>{i(!0)},className:"text-sm font-semibold cursor-pointer",children:a.username}),b.jsx("div",{onClick:()=>{p()},className:"text-lg",children:b.jsx(FG,{})})]}),b.jsx(FC,{isUserProfileOpen:n,setIsUserProfileOpen:i,userData:a}),b.jsxs("div",{onClick:()=>{e(!0)},className:"flex items-center w-full rounded-xl px-2 py-1 gap-2 cursor-default hover:bg-zinc-100 active:bg-zinc-200 mb-2",children:[b.jsx("div",{className:"flex size-5 rounded-md items-center justify-center",children:b.jsx("div",{className:"text-indigo-400 text-lg",children:b.jsx(efe,{})})}),b.jsx("div",{className:"text-sm text-zinc-700",children:"New project"})]}),o.length!==0&&b.jsx(b.Fragment,{children:o.map(m=>b.jsx("div",{className:`flex items-center w-full rounded-md pl-2 justify-between gap-4 hover:bg-zinc-100 cursor-default p-1 ${r===m.id.toString()?"bg-zinc-100":""}`,children:b.jsx(ife,{selectProject:h,project:m})},m.id))}),b.jsx(OG,{setIsCreateProjectOpen:e,isCreateProjectOpen:t})]})})},ofe=()=>{const[t,e]=k.useState(!1);return b.jsxs("main",{className:"characters-section flex w-full h-screen justify-center items-center ",children:[b.jsx(sfe,{}),b.jsx("section",{className:"w-60 shrink-0 h-full p-3 gap-3 hidden md:hidden lg:block"}),b.jsx(OG,{setIsCreateProjectOpen:e,isCreateProjectOpen:t})]})},afe=()=>b.jsx(b.Fragment,{children:b.jsx(ofe,{})}),$G=Ki.create({baseURL:"https://openrouter.ai/api/v1"}),lfe=async()=>await $G.get("/models",{headers:{}}),cfe=async t=>await $G.get("/credits",{headers:{Authorization:`Bearer ${t}`}}),zG="/assets/logo-B4M_jlfi.png",ufe=()=>{const[t,e]=k.useState(0),[n,i]=k.useState(!1),[r,s]=k.useState(!1),[o,a]=k.useState(!1),l=kt(d=>d.authData.open_router_api_key),c=kt(d=>d.authData);return k.useEffect(()=>{l&&(async()=>{i(!0);try{const h=await cfe(l),p=h.data.data.total_credits-h.data.data.total_usage;e(p),a(!1)}catch(h){console.log(h),a(!0)}finally{i(!1)}})()},[l]),b.jsx(b.Fragment,{children:b.jsxs("div",{className:"w-full bg-white rounded-xs border-b border-gray-300 py-2 px-4 min-h-16  flex gap-2 justify-between fixed z-20 left-0 top-0 right-0",children:[b.jsx("div",{className:"flex flex-row w-fit items-start",children:b.jsx("div",{className:"flex gap-1 flex-col items-start justify-start",children:b.jsx(Y9,{to:"/dashboard",children:b.jsxs("div",{className:"flex items-center mt-2",children:[b.jsx("img",{className:"size-8",src:zG,alt:"dddd"}),b.jsx("span",{className:"font-semibold text-xl",children:"LoreFlow"})]})})})}),l?b.jsx(b.Fragment,{children:n?b.jsx(b.Fragment,{children:"Loading..."}):b.jsx(b.Fragment,{children:o?b.jsxs("div",{children:[b.jsx(FC,{isUserProfileOpen:r,setIsUserProfileOpen:s,userData:c}),b.jsx("p",{onClick:()=>{s(!0)},className:"text-sm hover:underline cursor-pointer",children:"Wrong API Key entered"})]}):b.jsx("div",{className:"flex flex-col w-fit gap-1 pr-2",children:b.jsxs("div",{className:"flex flex-col w-fit  items-end",children:[b.jsx("p",{className:"text-xs text-zinc-500",children:"OpenRouter credits:"}),b.jsx("p",{className:"text-2xl text-zinc-800 font-semibold",children:t.toFixed(2)})]})})})}):b.jsxs("div",{children:[b.jsx(FC,{isUserProfileOpen:r,setIsUserProfileOpen:s,userData:c}),b.jsx("p",{onClick:()=>{s(!0)},className:"text-sm hover:underline cursor-pointer mt-3 font-semibold",children:"Add OpenRouter API Key"})]})]})})},dfe=()=>{const t=$t(o=>o.saveProjectsList),e=jf(),n=kt(o=>o.saveAccessToken),i=kt(o=>o.saveAuthData),r=kt(o=>o.setLoggedIn),s=kt(o=>o.saveSelectedModel);return k.useEffect(()=>{const o=async c=>{try{await LG({token:c});const d=await iv(c);n(c),i(d.data),s(d.data.selected_model),r(!0),await a(c),e("dashboard")}catch{try{const h=await jG({refresh:localStorage.getItem("refreshToken")});localStorage.setItem("accessToken",h.data.access);const p=await iv(c);n(c),i(p.data),s(p.data.selected_model),r(!0),await a(c),e("dashboard")}catch(h){console.error(h)}}},a=async c=>{try{const d=await Bde(c);t(d.data)}catch(d){console.log(d)}},l=localStorage.getItem("accessToken");l&&o(l)},[]),b.jsx(b.Fragment,{children:b.jsxs("div",{className:"flex w-full h-fit min-h-screen absolute inset-0 bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] [background-size:12px_12px]",children:[b.jsx(ufe,{}),b.jsx(C$,{})]})})};function H_(t){return pi({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(t)}function ffe(t){return pi({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m14.06 9.02.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83a.996.996 0 0 0 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"},child:[]}]})(t)}class e3{constructor(e,n,i,r,s="",o="",a,l,c,d,h,p,m,v){this.id=e,this.project=n,this.name=i,this.image=r,this.symbolism=s,this.character_arc=o,this.aliases=a,this.role=l,this.demographics=c,this.appearance=d,this.personality=h,this.backstory=p,this.relationships=m,this.additional_information=v}static from(e){return new e3(e.id,e.project,e.name,e.image,e.symbolism,e.character_arc,e.aliases,e.role,e.demographics,e.appearance,e.personality,e.backstory,e.relationships,[])}get basicInfo(){return`${this.name} (${this.demographics.nationality} ${this.role})`}addRelationship(e){this.relationships=[...this.relationships,e]}addAlias(e){this.aliases=[...this.aliases,e]}toJSON(){return{id:this.id,project:this.project,name:this.name,image:this.image,symbolism:this.symbolism,character_arc:this.character_arc,aliases:this.aliases,role:this.role,demographics:this.demographics,appearance:this.appearance,personality:this.personality,backstory:this.backstory,relationships:this.relationships,additional_information:this.additional_information}}}const BG=()=>e3.from({id:"",project:0,name:"",image:null,symbolism:"",character_arc:"",aliases:[],role:{type:"",importance:"",dynamic_static:""},demographics:{age:"",gender:"",ethnicity:"",nationality:""},appearance:{physical:"",attire:""},personality:{traits:[],motivations:[],flaws:[],moral_alignment:""},backstory:{key_events:[],cultural_context:""},relationships:[{name:"",relation:"",dynamic:""}],additional_information:[]}),hfe=async(t,e)=>await gn.post("/character/",e,{headers:{Authorization:`Bearer ${t}`}}),pfe=async(t,e)=>await gn.post("/character/new/",e,{headers:{Authorization:`Bearer ${t}`,"content-type":"multipart/form-data"}}),mfe=async(t,e)=>await gn.delete(`character/delete-image/${e}`,{headers:{Authorization:`Bearer ${t}`}}),gfe=async(t,e)=>await gn.delete(`character/${e}`,{headers:{Authorization:`Bearer ${t}`}}),yfe=async(t,e,n)=>await gn.patch(`/character/${n}`,e,{headers:{Authorization:`Bearer ${t}`,"content-type":"multipart/form-data"}});function Aa(t){return pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 176v160m80-80H176"},child:[]}]})(t)}function t3(t){return pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M320 320 192 192m0 128 128-128"},child:[]}]})(t)}function bfe(t){return pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 48c-79.5 0-144 61.39-144 137 0 87 96 224.87 131.25 272.49a15.77 15.77 0 0 0 25.5 0C304 409.89 400 272.07 400 185c0-75.61-64.5-137-144-137z"},child:[]},{tag:"circle",attr:{cx:"256",cy:"192",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]}]})(t)}const n3=({isCreateCharacterOpen:t,setIsCreateCharacterOpen:e,character:n=BG(),project:i})=>{const[r,s]=k.useState(n.name),[o,a]=k.useState(n.image?n.image:null),[l,c]=k.useState(n.image),[d,h]=k.useState(n.symbolism),[p,m]=k.useState(n.character_arc),[v,S]=k.useState(n.aliases||[]),[A,E]=k.useState(""),[M,R]=k.useState(n.role),[N,P]=k.useState(n.demographics),[O,$]=k.useState(n.appearance),[F,q]=k.useState(n.personality),[B,X]=k.useState(""),[Q,J]=k.useState(""),[oe,ce]=k.useState(""),[le,ee]=k.useState(n.backstory),[Z,se]=k.useState(""),[j,te]=k.useState(n.relationships||[]),[ae,U]=k.useState(""),[ve,ke]=k.useState(""),[Ce,je]=k.useState(""),Ue=kt(ie=>ie.authData.accessToken),Ye=$t(ie=>ie.updateCharacterInProject),Ge=$t(ie=>ie.addCharacterToProject),{id:ft}=ed(),mt=ie=>{const $e=i.characters.find(Ee=>Ee.name.toLowerCase()===ie.toLowerCase());if($e)return $e.image?$e.image:void 0},xt=(ie,$e,Ee,Xe)=>{ie([...$e,Ee]),Xe("")},Gt=(ie,$e,Ee)=>{ie($e.filter((Xe,be)=>be!==Ee))},Mn=()=>{te([...j,{name:ae,relation:ve,dynamic:Ce}]),U(""),ke(""),je("")},Vn=ie=>{te(j.filter(($e,Ee)=>Ee!==ie))},Wt=ie=>{if(ie.target.files){const $e=ie.target.files[0];if(a($e),$e){const Ee=new FileReader;Ee.onloadend=()=>{c(Ee.result)},Ee.readAsDataURL($e)}}},mi=async(ie,$e)=>{if($e.id){o===null&&await mfe(Ue,$e.id);const Ee=await yfe(Ue,ie,$e.id);ft&&Ye(ft,Ee.data)}},ii=async ie=>{const $e=await pfe(Ue,ie);Bt(),ft&&Ge(ft,$e.data)},Bt=()=>{s(""),a(null),c(null),h(""),m(""),S([""]),R(n.role),P(n.demographics),$(n.appearance),q(n.personality),ee(n.backstory),te([])},Hn=async()=>{try{const ie=new FormData;ie.append("name",r),ie.append("symbolism",d),ie.append("character_arc",p),ie.append("aliases",JSON.stringify(v)),ie.append("role",JSON.stringify(M)),ie.append("demographics",JSON.stringify(N)),ie.append("appearance",JSON.stringify(O)),ie.append("personality",JSON.stringify(F)),ie.append("backstory",JSON.stringify(le)),ie.append("relationships",JSON.stringify(j)),ie.append("project",ft||""),o!==null&&typeof o!="string"&&ie.append("image",o),n.id?mi(ie,n):ii(ie),e(!1)}catch(ie){console.log(ie)}};return b.jsx(Kp,{open:t,onClose:()=>e(!1),transition:!0,className:"z-50 fixed inset-0 flex w-screen items-center justify-center bg-black/30 transition duration-300 ease-out data-[closed]:opacity-0",children:b.jsx("div",{className:"fixed inset-0 flex w-screen items-start mt-10 justify-center p-4",children:b.jsx(If,{transition:!0,className:"w-fit max-w-3xl",children:b.jsx("div",{className:"shadow-2xl",children:b.jsxs("div",{className:"bg-white rounded-sm border border-zinc-300 shadow-inner overflow-hidden w-fit",children:[b.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-6 py-4 border-b border-indigo-100",children:b.jsx("h2",{className:"text-2xl font-bold text-center bg-clip-text text-transparent bg-gradient-to-r from-indigo-700 to-purple-700",children:n.name?`${n.name}`:"Create New Character"})}),b.jsx("div",{className:"max-h-[75vh] overflow-y-auto ",children:b.jsxs(Mt.Group,{children:[b.jsxs(Mt.List,{className:"flex space-x-1 border-b border-zinc-200 px-4 py-2",children:[b.jsx(Mt,{className:({selected:ie})=>`px-2 py-2 text-sm font-medium rounded-md transition-all outline-none
                                            ${ie?"bg-zinc-100 text-zinc-900":"text-zinc-500 hover:text-zinc-700 hover:bg-white/[0.5]"}`,children:b.jsx("p",{className:"",children:"Basic Information"})}),b.jsx(Mt,{className:({selected:ie})=>`px-2 py-2 text-sm font-medium rounded-md transition-all outline-none
                                            ${ie?"bg-zinc-100 text-zinc-900":"text-zinc-500 hover:text-zinc-700 hover:bg-white/[0.5]"}`,children:"Role & Demographics"}),b.jsx(Mt,{className:({selected:ie})=>`px-2 py-2 text-sm font-medium rounded-lg transition-all outline-none
                                            ${ie?"bg-zinc-100 text-zinc-900":"text-zinc-500 hover:text-zinc-700 hover:bg-white/[0.5]"}`,children:"Appearance & Personality"}),b.jsx(Mt,{className:({selected:ie})=>`px-2 py-2 text-sm font-medium rounded-lg transition-all outline-none
                                            ${ie?"bg-zinc-100 text-zinc-900 ":"text-zinc-500 hover:text-zinc-700 hover:bg-white/[0.5]"}`,children:"Backstory & Relationships"})]}),b.jsxs(Mt.Panels,{className:"p-6 scrollbar-thin scrollbar-thumb-indigo-200 scrollbar-track-gray-100",children:[b.jsx(Mt.Panel,{children:b.jsx("section",{className:"rounded-lg",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Character Name"}),b.jsx(Ot,{value:r,onChange:ie=>s(ie.target.value),className:"mb-2 text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter character name"})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Character Arc"}),b.jsx(Ft,{value:p,onChange:ie=>m(ie.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe character's arc",rows:3})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Symbolism"}),b.jsx(Ft,{value:d,onChange:ie=>h(ie.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"What does this character symbolize?",rows:3})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Character Image"}),b.jsx("div",{className:"flex items-center",children:l?b.jsxs("div",{className:"relative w-32 h-32 overflow-hidden rounded-md border-2 border-indigo-200 shadow-sm",children:[b.jsx("img",{src:l,alt:r,className:"object-cover w-full h-full"}),b.jsx("button",{onClick:()=>{c(null),a(null)},className:"absolute top-1 right-1 text-red-500 bg-white rounded-full hover:text-red-600 transition",children:b.jsx(Xn,{})})]}):b.jsx("div",{className:"w-32 h-32 bg-indigo-50 rounded-md flex items-center justify-center border-2 border-dashed border-indigo-200",children:b.jsxs("label",{className:"cursor-pointer text-center p-2",children:[b.jsx("span",{className:"block text-sm text-indigo-600",children:"Upload Image"}),b.jsx("input",{type:"file",className:"hidden",onChange:Wt,accept:"image/*"})]})})})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Aliases"}),b.jsx("div",{className:"flex flex-wrap overflow-y-auto mb-2 gap-1",children:v.map((ie,$e)=>b.jsxs("div",{className:"flex items-center gap-1 px-1 py-1 bg-gradient-to-r from-indigo-100 to-purple-100 border border-indigo-100 rounded-lg",children:[b.jsx(b.Fragment,{children:mt(ie)&&b.jsx("img",{src:mt(ie),alt:"Relationship",className:"size-5 object-cover rounded-full ml-1"})}),b.jsx("div",{className:"px-1 text-sm",children:ie}),b.jsx("button",{onClick:()=>Gt(S,v,$e),className:" text-zinc-400 hover:text-zinc-700 text-lg rounded-full  transition mr-1",children:b.jsx(Xn,{})})]},$e))}),b.jsxs("div",{className:"flex relative",children:[b.jsx(Ot,{value:A,onSubmit:()=>xt(S,v,A,E),onChange:ie=>E(ie.target.value),className:"bg-white flex-1 rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Alias or nickname"}),b.jsx("button",{onClick:()=>xt(S,v,A,E),className:"bg-zinc-500 text-white rounded-full hover:bg-green-600 transition absolute right-2 top-3",children:b.jsx(Aa,{className:"text-lg"})})]})]})]})]})})}),b.jsx(Mt.Panel,{children:b.jsx("section",{className:"",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsx(Yn,{className:"",children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Role type"}),b.jsx(Ot,{value:M.type,onChange:ie=>R({...M,type:ie.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Protagonist, Antagonist, Sidekick, etc."})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Role importance"}),b.jsxs("select",{value:M.importance,onChange:ie=>R({...M,importance:ie.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[b.jsx("option",{value:"",children:"Select importance"}),b.jsx("option",{value:"primary",children:"Primary (Central to the main plot)"}),b.jsx("option",{value:"secondary",children:"Secondary (Supporting character)"}),b.jsx("option",{value:"minor",children:"Minor (Limited impact)"}),b.jsx("option",{value:"background",children:"Background (Minimal influence)"})]})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Character Type"}),b.jsxs("select",{value:M.dynamic_static,onChange:ie=>R({...M,dynamic_static:ie.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[b.jsx("option",{value:"",children:"Select character type"}),b.jsx("option",{value:"dynamic",children:"Dynamic (Changes throughout story)"}),b.jsx("option",{value:"static",children:"Static (Remains the same)"}),b.jsx("option",{value:"round",children:"Round (Complex, well-developed)"}),b.jsx("option",{value:"flat",children:"Flat (One-dimensional)"}),b.jsx("option",{value:"stock",children:"Stock (Archetypal)"}),b.jsx("option",{value:"symbolic",children:"Symbolic (Represents concepts)"})]})]})]})}),b.jsx(Yn,{className:"",children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Age"}),b.jsx(Ot,{value:N.age,onChange:ie=>P({...N,age:ie.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Character's age"})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Gender"}),b.jsx(Ot,{value:N.gender,onChange:ie=>P({...N,gender:ie.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Character's gender"})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Ethnicity"}),b.jsx(Ot,{value:N.ethnicity,onChange:ie=>P({...N,ethnicity:ie.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Character's ethnicity"})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Nationality"}),b.jsx(Ot,{value:N.nationality,onChange:ie=>P({...N,nationality:ie.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Character's nationality"})]})]})})]})})}),b.jsx(Mt.Panel,{children:b.jsx("section",{className:"",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsx(Yn,{className:"",children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Physical Appearance"}),b.jsx(Ft,{value:O.physical,onChange:ie=>$({...O,physical:ie.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe physical features",rows:4})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Attire & Style"}),b.jsx(Ft,{value:O.attire,onChange:ie=>$({...O,attire:ie.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe clothing and style",rows:4})]})]})}),b.jsx(Yn,{className:"",children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Personality Traits"}),b.jsx("div",{className:"flex flex-wrap mb-2 gap-1 max-h-[120px] overflow-y-auto",children:F.traits&&F.traits.length>0&&b.jsx(b.Fragment,{children:F.traits.map((ie,$e)=>b.jsxs("div",{className:"flex items-center gap-2  py-1 bg-gradient-to-r from-indigo-100 to-purple-100 border border-indigo-100 rounded-lg",children:[b.jsx("div",{className:"px-2 text-sm",children:ie}),b.jsx("button",{onClick:()=>Gt(Ee=>q({...F,traits:Ee}),F.traits,$e),className:" text-zinc-400 hover:text-zinc-700 text-lg rounded-full  transition mr-2",children:b.jsx(Xn,{})})]},$e))})}),b.jsxs("div",{className:"flex relative",children:[b.jsx(Ot,{value:B,onChange:ie=>X(ie.target.value),className:"bg-white flex-1 rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Trait"}),b.jsx("button",{onClick:()=>xt(ie=>q({...F,traits:ie}),F.traits,B,X),className:"bg-zinc-500 text-white rounded-full hover:bg-green-600 transition absolute right-2 top-3",children:b.jsx(Aa,{className:"text-lg"})})]})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Motivations"}),b.jsx("div",{className:"mb-2 flex-col max-h-[120px] overflow-y-auto",children:F.motivations&&F.motivations.length>0&&b.jsx(b.Fragment,{children:F.motivations.map((ie,$e)=>b.jsxs("div",{className:"flex items-center justify-between mb-1  py-1 bg-gradient-to-r from-indigo-100 to-purple-100 border border-indigo-100 rounded-lg",children:[b.jsx("div",{className:"px-2 text-sm",children:ie}),b.jsx("button",{onClick:()=>Gt(Ee=>q({...F,motivations:Ee}),F.motivations,$e),className:" text-zinc-400 hover:text-zinc-700 text-lg rounded-full  transition mr-2",children:b.jsx(Xn,{})})]},$e))})}),b.jsxs("div",{className:"flex relative",children:[b.jsx(Ot,{value:Q,onChange:ie=>J(ie.target.value),className:"bg-white flex-1 rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Motivation"}),b.jsx("button",{onClick:()=>xt(ie=>q({...F,motivations:ie}),F.motivations,Q,J),className:"bg-zinc-500 text-white rounded-full hover:bg-green-600 transition absolute right-2 top-3",children:b.jsx(Aa,{className:"text-lg"})})]})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Flaws"}),b.jsx("div",{className:"flex gap-1 flex-wrap mb-2 max-h-[120px] overflow-y-auto",children:F.flaws&&F.flaws.length>0&&b.jsx(b.Fragment,{children:F.flaws.map((ie,$e)=>b.jsxs("div",{className:"flex items-center justify-between mb-1  py-1 bg-gradient-to-r from-indigo-100 to-purple-100 border border-indigo-100 rounded-lg",children:[b.jsx("div",{className:"px-2 text-sm",children:ie}),b.jsx("button",{onClick:()=>Gt(Ee=>q({...F,flaws:Ee}),F.flaws,$e),className:" text-zinc-400 hover:text-zinc-700 text-lg rounded-full  transition mr-2",children:b.jsx(Xn,{})})]},$e))})}),b.jsxs("div",{className:"flex relative",children:[b.jsx(Ot,{value:oe,onChange:ie=>ce(ie.target.value),className:"bg-white flex-1 rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Flaw"}),b.jsx("button",{onClick:()=>xt(ie=>q({...F,flaws:ie}),F.flaws,oe,ce),className:"bg-zinc-500 text-white rounded-full hover:bg-green-600 transition absolute right-2 top-3",children:b.jsx(Aa,{className:"text-lg"})})]})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Moral Alignment"}),b.jsxs("select",{value:F.moral_alignment,onChange:ie=>q({...F,moral_alignment:ie.target.value}),className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[b.jsx("option",{value:"",children:"Select alignment"}),b.jsx("option",{value:"Lawful Good",children:"Lawful Good"}),b.jsx("option",{value:"Neutral Good",children:"Neutral Good"}),b.jsx("option",{value:"Chaotic Good",children:"Chaotic Good"}),b.jsx("option",{value:"Lawful Neutral",children:"Lawful Neutral"}),b.jsx("option",{value:"True Neutral",children:"True Neutral"}),b.jsx("option",{value:"Chaotic Neutral",children:"Chaotic Neutral"}),b.jsx("option",{value:"Lawful Evil",children:"Lawful Evil"}),b.jsx("option",{value:"Neutral Evil",children:"Neutral Evil"}),b.jsx("option",{value:"Chaotic Evil",children:"Chaotic Evil"})]})]})]})})]})})}),b.jsx(Mt.Panel,{children:b.jsx("section",{className:"",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsx(Yn,{className:"",children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1  text-gray-700",children:"Key Events"}),b.jsx("div",{className:"mb-2 max-h-[160px] overflow-y-auto",children:le.key_events&&le.key_events.length>0&&b.jsxs(b.Fragment,{children:[b.jsx("p",{className:"block text-xs font-medium font-semibold pb-1 text-gray-700",children:"Events"}),le.key_events.map((ie,$e)=>b.jsxs("div",{className:"flex items-center justify-between mb-1  py-1 bg-gradient-to-r from-indigo-100 to-purple-100 border border-indigo-100 rounded-lg",children:[b.jsx("div",{className:"px-2 text-sm",children:ie}),b.jsx("button",{onClick:()=>Gt(Ee=>ee({...le,key_events:Ee}),le.key_events,$e),className:" text-zinc-400 hover:text-zinc-700 text-lg rounded-full  transition mr-2",children:b.jsx(Xn,{})})]},$e))]})}),b.jsxs("div",{className:"flex relative",children:[b.jsx(Ot,{value:Z,onChange:ie=>se(ie.target.value),className:"bg-white flex-1 rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Event"}),b.jsx("button",{onClick:()=>xt(ie=>ee({...le,key_events:ie}),le.key_events,Z,se),className:"bg-zinc-500 text-white rounded-full hover:bg-green-600 transition absolute right-2 top-3",children:b.jsx(Aa,{className:"text-lg"})})]})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1  text-gray-700",children:"Cultural Context"}),b.jsx(Ft,{value:le.cultural_context,onChange:ie=>ee({...le,cultural_context:ie.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe the cultural context/background",rows:4})]})]})}),b.jsxs(Yn,{className:"",children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1  text-gray-700",children:"Relationships"}),b.jsx("div",{className:"space-y-2 max-h-[320px] overflow-y-auto pr-1 mb-",children:j&&j.length>0&&b.jsx(b.Fragment,{children:j.map((ie,$e)=>b.jsxs("div",{className:"flex items-start justify-between p-2 bg-white rounded-md border border-indigo-100 mb-2",children:[b.jsxs("div",{className:"flex gap-1",children:[b.jsx("div",{children:b.jsx(b.Fragment,{children:mt(ie.name)?b.jsx("img",{src:mt(ie.name),alt:"Relationship",className:"size-14 object-cover rounded-sm"}):b.jsx("div",{className:"size-14 bg-zinc-100 rounded-md"})})}),b.jsxs("div",{className:"",children:[b.jsx("p",{className:"text-sm text-zinc-700",children:ie.name}),b.jsx("p",{className:"text-xs text-zinc-500",children:ie.relation}),b.jsx("p",{className:"text-xs text-zinc-500",children:ie.dynamic})]})]}),b.jsx("button",{onClick:()=>Vn($e),className:" text-zinc-400 hover:text-zinc-700 text-lg rounded-full  transition",children:b.jsx(Xn,{})})]},$e))})}),b.jsxs("div",{children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-xs font-medium font-semibold pb-1 text-gray-700",children:"Name"}),b.jsx(Ot,{value:ae,onChange:ie=>U(ie.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Character name"})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-xs font-medium font-semibold pb-1 pt-2 text-gray-700",children:"Relation"}),b.jsx(Ot,{value:ve,onChange:ie=>ke(ie.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Friend, Enemy, Parent, etc."})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-xs font-medium font-semibold pb-1 pt-2 text-gray-700",children:"Dynamic"}),b.jsx(Ft,{value:Ce,onChange:ie=>je(ie.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe the relationship dynamic",rows:2})]})]}),b.jsxs("button",{onClick:Mn,className:"w-full mt-3 py-2 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 transition-colors flex items-center justify-center",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Relationship"]})]})]})})})]})]})}),b.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-6 py-4 border-t border-indigo-100 flex justify-end space-x-3",children:[b.jsx("button",{onClick:()=>e(!1),className:"py-2 px-4 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:Hn,className:"py-2 px-6 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-md hover:from-indigo-700 hover:to-purple-700 shadow-md transition-all transform hover:scale-[1.02]",children:"Save Character"})]})]})})})})})},vfe=async(t,e)=>await gn.post("/add-book/",e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}});function VG(t){return pi({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M22,3 L2,11 L20.5,19 L22,3 Z M10,20.5 L13,16 M15.5,9.5 L9,14 L9.85884537,20.0119176 C9.93680292,20.5576204 10.0751625,20.5490248 10.1651297,20.009222 L11,15 L15.5,9.5 Z"},child:[]}]})(t)}const xfe=({isGenerateCharacterOpen:t,setIsGenerateCharacterOpen:e})=>{const[n]=k.useState(""),[i,r]=k.useState(""),s=kt(l=>l.authData.accessToken),o=jf(),a=async()=>{const l=new FormData;l.append("title",n),l.append("description",i);try{const c=await DG(s,l);return e(!1),o("/dashboard/project/"+c.data.id.toString())}catch(c){console.log(c)}};return b.jsx(Kp,{open:t,onClose:()=>e(!1),transition:!0,className:"fixed inset-0 flex w-screen items-center justify-end bg-black/30 p-4 transition duration-300 ease-out data-[closed]:opacity-0",children:b.jsx("div",{className:"fixed inset-0 flex w-screen items-end justify-center p-4",children:b.jsx(If,{transition:!0,children:b.jsx(Yn,{children:b.jsxs("div",{className:"relative",children:[b.jsx(Ve,{className:"relative bg-linear-to-t from-sky-400 to-indigo-400 p-1 rounded-xl",children:b.jsxs("div",{className:" block w-160 rounded-lg border-none bg-white",children:[b.jsx(Ft,{onChange:l=>r(l.target.value),className:" block w-160 resize-none rounded-lg border-none bg-white py-1.5 px-3 text-base/6 text-zinc-700 focus:outline-none",rows:3}),b.jsx(Le,{className:"block pl-2 pb-1 text-sm text-zinc-500",children:"Write some instructions to generate character - optional"})]})}),b.jsx("div",{className:"w-full flex justify-end text-center absolute bottom-3 right-3",children:b.jsx(bl,{onClick:()=>{a()},className:"rounded-full bg-zinc-700/60 p-2 text-sm font-medium text-white focus:outline-none data-[hover]:bg-zinc-700/90 active:bg-zinc-800",children:b.jsx(VG,{})})})]})})})})})},wfe=async(t,e)=>await gn.post("/items/",e,{headers:{Authorization:`Bearer ${t}`}}),Sfe=async(t,e)=>await gn.post("/items/new/",e,{headers:{Authorization:`Bearer ${t}`,"content-type":"multipart/form-data"}}),Cfe=async(t,e)=>await gn.delete(`items/delete-image/${e}`,{headers:{Authorization:`Bearer ${t}`}}),Afe=async(t,e)=>await gn.delete(`items/${e}`,{headers:{Authorization:`Bearer ${t}`}}),Efe=async(t,e,n)=>await gn.patch(`/items/${n}/`,e,{headers:{Authorization:`Bearer ${t}`,"content-type":"multipart/form-data"}}),HG=()=>({id:"",project:0,name:"",image:null,category:"",description:"",symbolism:"",properties:{},history:{},abilities:[],ownership:[],significance:{}}),i3=({isCreateItemOpen:t,setIsCreateItemOpen:e,item:n=HG(),project:i})=>{var rt,sn,rr,ri,Rn,Tr,An,Dn,sr,zf,g0;const[r,s]=k.useState(n.name),[o,a]=k.useState(n.image?n.image:null),[l,c]=k.useState(n.image),[d,h]=k.useState(n.category||""),[p,m]=k.useState(n.description||""),[v,S]=k.useState(n.symbolism||""),[A,E]=k.useState(((rt=n.properties)==null?void 0:rt.material)||""),[M,R]=k.useState(((sn=n.properties)==null?void 0:sn.size)||""),[N,P]=k.useState(((rr=n.properties)==null?void 0:rr.appearance)||""),[O,$]=k.useState(((ri=n.properties)==null?void 0:ri.unique_traits)||""),[F,q]=k.useState(((Rn=n.history)==null?void 0:Rn.origin)||""),[B,X]=k.useState(((Tr=n.history)==null?void 0:Tr.age)||""),[Q,J]=k.useState(((An=n.history)==null?void 0:An.creator)||""),[oe,ce]=k.useState(((Dn=n.history)==null?void 0:Dn.previous_events)||[]),[le,ee]=k.useState(""),[Z,se]=k.useState(n.abilities||[]),[j,te]=k.useState(""),[ae,U]=k.useState(n.ownership||[]),[ve,ke]=k.useState(""),[Ce,je]=k.useState(""),[Ue,Ye]=k.useState(""),[Ge,ft]=k.useState(((sr=n.significance)==null?void 0:sr.plot_relevance)||""),[mt,xt]=k.useState(((zf=n.significance)==null?void 0:zf.story_function)||""),[Gt,Mn]=k.useState(((g0=n.significance)==null?void 0:g0.symbolic_meaning)||""),Vn=kt(ze=>ze.authData.accessToken),{id:Wt}=ed(),mi=$t(ze=>ze.updateItemInProject),ii=$t(ze=>ze.addItemToProject),Bt=ze=>{if(ze.target.files){const fn=ze.target.files[0];if(a(fn),fn){const Si=new FileReader;Si.onloadend=()=>{c(Si.result)},Si.readAsDataURL(fn)}}},Hn=(ze,fn,Si,Ll)=>{Si.trim()&&(ze([...fn,Si]),Ll(""))},ie=(ze,fn,Si)=>{ze(fn.filter((Ll,rd)=>rd!==Si))},$e=()=>{j.trim()&&(se([...Z,{ability:j}]),te(""))},Ee=()=>{ve.trim()&&(U([...ae,{character:ve,acquisition:Ce,significance:Ue}]),ke(""),je(""),Ye(""))},Xe=ze=>{const fn=i.characters.find(Si=>Si.name.toLowerCase()===ze.toLowerCase());if(fn&&fn.image)return fn.image},be=async(ze,fn)=>{if(fn.id){o===null&&await Cfe(Vn,fn.id);const Si=await Efe(Vn,ze,fn.id);Wt&&mi(Wt,Si.data)}},Ne=async ze=>{const fn=await Sfe(Vn,ze);de(),Wt&&ii(Wt,fn.data)},de=()=>{s(""),a(null),c(null),h(""),m(""),S(""),E(""),R(""),P(""),$(""),q(""),X(""),J(""),ce([]),se([]),U([]),ft(""),xt(""),Mn("")},Ke=async()=>{try{const ze=new FormData;ze.append("name",r),ze.append("category",d||""),ze.append("description",p||""),ze.append("symbolism",v||"");const fn={material:A,size:M,appearance:N,unique_traits:O};ze.append("properties",JSON.stringify(fn));const Si={origin:F,age:B,creator:Q,previous_events:oe};ze.append("history",JSON.stringify(Si)),ze.append("abilities",JSON.stringify(Z)),ze.append("ownership",JSON.stringify(ae));const Ll={plot_relevance:Ge,story_function:mt,symbolic_meaning:Gt};ze.append("significance",JSON.stringify(Ll)),ze.append("project",Wt||""),o!==null&&typeof o!="string"&&ze.append("image",o),n.id?await be(ze,n):await Ne(ze),e(!1)}catch(ze){console.log(ze)}};return b.jsx(Kp,{open:t,onClose:()=>e(!1),transition:!0,className:"fixed inset-0 flex w-screen items-center justify-center bg-black/30 p-4 transition duration-300 ease-out data-[closed]:opacity-0 z-50",children:b.jsx("div",{className:"fixed inset-0 flex w-screen items-start mt-10 justify-center p-4",children:b.jsx(If,{transition:!0,className:"w-fit max-w-3xl",children:b.jsx("div",{className:"bg-white rounded-sm border border-zinc-300 shadow-2xl",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-inner overflow-hidden w-fit",children:[b.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-6 py-4 border-b border-indigo-100",children:b.jsx("h2",{className:"text-2xl font-bold text-center bg-clip-text text-transparent bg-gradient-to-r from-indigo-700 to-purple-700",children:n.name?`${n.name}`:"Create New Item"})}),b.jsx("div",{className:"max-h-[75vh] overflow-y-auto",children:b.jsxs(Mt.Group,{children:[b.jsxs(Mt.List,{className:"flex space-x-1 border-b border-zinc-200 px-4 py-2",children:[b.jsx(Mt,{className:({selected:ze})=>`px-2 py-2 text-sm font-medium rounded-md transition-all outline-none
                                            ${ze?"bg-zinc-100 text-zinc-900":"text-zinc-500 hover:text-zinc-700 hover:bg-white/[0.5]"}`,children:b.jsx("p",{children:"Basic Information"})}),b.jsx(Mt,{className:({selected:ze})=>`px-2 py-2 text-sm font-medium rounded-md transition-all outline-none
                                            ${ze?"bg-zinc-100 text-zinc-900":"text-zinc-500 hover:text-zinc-700 hover:bg-white/[0.5]"}`,children:"Properties"}),b.jsx(Mt,{className:({selected:ze})=>`px-2 py-2 text-sm font-medium rounded-lg transition-all outline-none
                                            ${ze?"bg-zinc-100 text-zinc-900":"text-zinc-500 hover:text-zinc-700 hover:bg-white/[0.5]"}`,children:"History"}),b.jsx(Mt,{className:({selected:ze})=>`px-2 py-2 text-sm font-medium rounded-lg transition-all outline-none
                                            ${ze?"bg-zinc-100 text-zinc-900":"text-zinc-500 hover:text-zinc-700 hover:bg-white/[0.5]"}`,children:"Abilities & Ownership"}),b.jsx(Mt,{className:({selected:ze})=>`px-2 py-2 text-sm font-medium rounded-lg transition-all outline-none
                                            ${ze?"bg-zinc-100 text-zinc-900":"text-zinc-500 hover:text-zinc-700 hover:bg-white/[0.5]"}`,children:"Significance"})]}),b.jsxs(Mt.Panels,{className:"p-6 scrollbar-thin scrollbar-thumb-indigo-200 scrollbar-track-gray-100",children:[b.jsx(Mt.Panel,{children:b.jsx("section",{className:"rounded-lg",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Item Name"}),b.jsx(Ot,{value:r,onChange:ze=>s(ze.target.value),className:"mb-2 text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter item name"})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Category"}),b.jsx(Ot,{value:d,onChange:ze=>h(ze.target.value),className:"mb-2 text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter item category"})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Description"}),b.jsx(Ft,{value:p,onChange:ze=>m(ze.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe the item",rows:4})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Item Image"}),b.jsx("div",{className:"flex items-center",children:l?b.jsxs("div",{className:"relative w-32 h-32 overflow-hidden rounded-md border-2 border-indigo-200 shadow-sm",children:[b.jsx("img",{src:l,alt:r,className:"object-cover w-full h-full"}),b.jsx("button",{onClick:()=>{c(null),a(null)},className:"absolute top-1 right-1 text-red-500 bg-white rounded-full hover:text-red-600 transition",children:b.jsx(Xn,{})})]}):b.jsx("div",{className:"w-32 h-32 bg-indigo-50 rounded-md flex items-center justify-center border-2 border-dashed border-indigo-200",children:b.jsxs("label",{className:"cursor-pointer text-center p-2",children:[b.jsx("span",{className:"block text-sm text-indigo-600",children:"Upload Image"}),b.jsx("input",{type:"file",className:"hidden",onChange:Bt,accept:"image/*"})]})})})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Symbolism"}),b.jsx(Ft,{value:v,onChange:ze=>S(ze.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"What does this item symbolize?",rows:4})]})]})]})})}),b.jsx(Mt.Panel,{children:b.jsx("section",{className:"rounded-lg",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Material"}),b.jsx(Ot,{value:A,onChange:ze=>E(ze.target.value),className:"mb-2 text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"What is it made of?"})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Size"}),b.jsx(Ot,{value:M,onChange:ze=>R(ze.target.value),className:"mb-2 text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"How big is it?"})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Appearance"}),b.jsx(Ft,{value:N,onChange:ze=>P(ze.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe how it looks",rows:4})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Unique Traits"}),b.jsx(Ft,{value:O,onChange:ze=>$(ze.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"What makes this item special?",rows:4})]})]})]})})}),b.jsx(Mt.Panel,{children:b.jsx("section",{className:"rounded-lg",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Origin"}),b.jsx(Ft,{value:F,onChange:ze=>q(ze.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Where did it come from?",rows:4})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Age"}),b.jsx(Ot,{value:B,onChange:ze=>X(ze.target.value),className:"mb-2 text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"How old is it?"})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Creator"}),b.jsx(Ot,{value:Q,onChange:ze=>J(ze.target.value),className:"mb-2 text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Who made it?"})]})]}),b.jsx("div",{className:"space-y-2",children:b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Previous Events"}),b.jsx("div",{className:"mb-2 max-h-[160px] overflow-y-auto",children:oe.map((ze,fn)=>b.jsxs("div",{className:"flex items-center justify-between mb-1 py-1 bg-gradient-to-r from-indigo-100 to-purple-100 border border-indigo-100 rounded-lg",children:[b.jsx("div",{className:"px-2 text-sm",children:ze}),b.jsx("button",{onClick:()=>ie(ce,oe,fn),className:"text-zinc-400 hover:text-zinc-700 text-lg rounded-full transition mr-2",children:b.jsx(Xn,{})})]},fn))}),b.jsxs("div",{className:"flex relative",children:[b.jsx(Ot,{value:le,onChange:ze=>ee(ze.target.value),className:"bg-white flex-1 rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Add significant event"}),b.jsx("button",{onClick:()=>Hn(ce,oe,le,ee),className:"bg-zinc-500 text-white rounded-full hover:bg-green-600 transition absolute right-2 top-3",children:b.jsx(Aa,{className:"text-lg"})})]})]})})]})})}),b.jsx(Mt.Panel,{children:b.jsx("section",{className:"rounded-lg",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs(Yn,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Abilities"}),b.jsx("div",{className:"mb-2 max-h-[160px] overflow-y-auto",children:Z.map((ze,fn)=>b.jsxs("div",{className:"flex items-center justify-between mb-1 py-1 bg-gradient-to-r from-indigo-100 to-purple-100 border border-indigo-100 rounded-lg",children:[b.jsx("div",{className:"px-2 text-sm",children:ze.ability}),b.jsx("button",{onClick:()=>ie(se,Z,fn),className:"text-zinc-400 hover:text-zinc-700 text-lg rounded-full transition mr-2",children:b.jsx(Xn,{})})]},fn))}),b.jsxs("div",{className:"flex relative",children:[b.jsx(Ot,{value:j,onChange:ze=>te(ze.target.value),className:"bg-white flex-1 rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"What can this item do?"}),b.jsx("button",{onClick:$e,className:"bg-zinc-500 text-white rounded-full hover:bg-green-600 transition absolute right-2 top-3",children:b.jsx(Aa,{className:"text-lg"})})]})]}),b.jsxs(Yn,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Ownership"}),b.jsx("div",{className:"space-y-2 max-h-[320px] overflow-y-auto pr-1 mb-3",children:ae.map((ze,fn)=>b.jsxs("div",{className:"flex items-start justify-between p-2 bg-white rounded-md border border-indigo-100",children:[b.jsxs("div",{className:"flex gap-1",children:[b.jsx("div",{children:Xe(ze.character)?b.jsx("img",{src:Xe(ze.character),alt:"Owner",className:"size-14 object-cover rounded-sm"}):b.jsx("div",{className:"size-14 bg-zinc-100 rounded-md"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-zinc-700",children:ze.character}),b.jsx("p",{className:"text-xs text-zinc-500",children:ze.acquisition}),b.jsx("p",{className:"text-xs text-zinc-500",children:ze.significance})]})]}),b.jsx("button",{onClick:()=>ie(U,ae,fn),className:"text-zinc-400 hover:text-zinc-700 text-lg rounded-full transition",children:b.jsx(Xn,{})})]},fn))}),b.jsxs("div",{children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-xs font-medium font-semibold pb-1 pt-2 text-gray-700",children:"Character"}),b.jsx(Ot,{value:ve,onChange:ze=>ke(ze.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Who owns it?"})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-xs font-medium font-semibold pb-1 pt-2 text-gray-700",children:"Acquisition"}),b.jsx(Ot,{value:Ce,onChange:ze=>je(ze.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"How was it acquired?"})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-xs font-medium font-semibold pb-1 pt-2 text-gray-700",children:"Significance"}),b.jsx(Ft,{value:Ue,onChange:ze=>Ye(ze.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Why is it important to this character?",rows:2})]})]}),b.jsxs("button",{onClick:Ee,className:"w-full mt-3 py-2 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 transition-colors flex items-center justify-center",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Owner"]})]})]})})}),b.jsx(Mt.Panel,{children:b.jsx("section",{className:"rounded-lg",children:b.jsx("div",{className:"grid grid-cols-1 gap-6",children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Plot Relevance"}),b.jsx(Ft,{value:Ge,onChange:ze=>ft(ze.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"How does this item affect the plot?",rows:4})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Story Function"}),b.jsx(Ft,{value:mt,onChange:ze=>xt(ze.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"What role does this item play in the story?",rows:4})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Symbolic Meaning"}),b.jsx(Ft,{value:Gt,onChange:ze=>Mn(ze.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"What deeper meaning does this item represent?",rows:4})]})]})})})})]})]})}),b.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-6 py-4 border-t border-indigo-100 flex justify-end space-x-3",children:[b.jsx("button",{onClick:()=>e(!1),className:"py-2 px-4 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:Ke,className:"py-2 px-6 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-md hover:from-indigo-700 hover:to-purple-700 shadow-md transition-all transform hover:scale-[1.02]",children:"Save Item"})]})]})})})})})},$C=()=>({id:"",name:"",description:"",pages:[],scenes:[],project:""}),Tfe=async(t,e)=>await gn.post("/chapters/",e,{headers:{Authorization:`Bearer ${t}`}}),kfe=async(t,e)=>await gn.delete(`/chapters/${e}/`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}}),_fe=async(t,e,n)=>await gn.patch(`/chapters/${n}/`,e,{headers:{Authorization:`Bearer ${t}`}}),UG=({isCreateChapterOpen:t,setIsCreateChapterOpen:e,project:n,chapter:i=$C()})=>{const[r,s]=k.useState(i.name),[o,a]=k.useState(i.description),[l,c]=k.useState(!1),d=kt(M=>M.authData.accessToken),h=$t(M=>M.deleteChapterFromProject),p=$t(M=>M.addChapterToProject),m=$t(M=>M.updateChapterInProject),v=async M=>{try{const R=await Tfe(d,M);p(n.id,R.data),e(!1)}catch(R){console.log(R)}},S=async M=>{try{const R=await _fe(d,M,i.id);m(n.id,R.data),e(!1)}catch(R){console.log(R)}},A=async()=>{const M={id:i.id,project:n.id,name:r,description:o,pages:[],scenes:[]};try{i.id===""?await v(M):await S(M)}catch(R){console.log(R)}},E=async()=>{try{await kfe(d,i.id);const M=n!=null&&n.id?n==null?void 0:n.id:"";h(M,i),c(!1),e(!1)}catch(M){console.log(M)}};return b.jsx(Kp,{open:t,onClose:()=>e(!1),transition:!0,className:"z-50 fixed inset-0 flex w-screen items-center justify-center bg-black/30 transition duration-300 ease-out data-[closed]:opacity-0",children:b.jsx("div",{className:"fixed inset-0 flex w-screen items-start mt-10 justify-center p-4",children:b.jsx(If,{transition:!0,className:"w-fit max-w-lg",children:b.jsx(Yn,{className:"bg-white rounded-sm border border-zinc-300 shadow-inner overflow-hidden w-fit",children:b.jsx("div",{className:" bg-white rounded-lg shadow-2xl",children:l?b.jsxs("div",{className:"",children:[b.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-6 py-4 border-b border-indigo-100",children:b.jsx("h2",{className:"text-2xl font-bold text-center bg-clip-text text-transparent bg-gradient-to-r from-indigo-700 to-purple-700",children:i.name?`Chapter: ${i.name}`:"Create new chapter"})}),b.jsxs("div",{className:"p-6",children:[b.jsx("p",{className:"text-center text-wrap mb-10",children:"Do you really want to delete this chapter? All content within this chapter will be deleted too!"}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("div",{className:"w-full flex text-center",children:b.jsx(bl,{onClick:()=>{E()},className:"rounded-md bg-zinc-700/60 py-2 px-4 text-sm font-medium text-white focus:outline-none data-[hover]:bg-zinc-700/90 active:bg-zinc-800",children:"Delete chapter"})}),b.jsx("div",{className:"w-full flex justify-end text-center",children:b.jsx(bl,{onClick:()=>{c(!1)},className:"rounded-md bg-zinc-700/60 py-2 px-4 text-sm font-medium text-white focus:outline-none data-[hover]:bg-zinc-700/90 active:bg-zinc-800",children:"Cancel"})})]})]})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-6 py-4 border-b border-indigo-100",children:b.jsx("h2",{className:"text-2xl font-bold text-center bg-clip-text text-transparent bg-gradient-to-r from-indigo-700 to-purple-700",children:i.name?`Chapter: ${i.name}`:"Create new chapter"})}),b.jsxs("div",{className:"p-6",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block mt-3",children:"Chapter name"}),b.jsx(Ot,{onChange:M=>s(M.target.value),value:r,className:"mt-1 w-80 xl:w-100 resize-none rounded-lg border border-zinc-300 bg-white py-1.5 px-3 text-sm/6 text-zinc-700 focus:outline-none",name:"title"})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block mt-3",children:"Chapter description"}),b.jsx(Ft,{onChange:M=>a(M.target.value),value:o,className:"mt-1 block w-full resize-none rounded-lg border border-zinc-300 bg-white py-1.5 px-3 text-sm/6 text-zinc-700 focus:outline-none",rows:4})]}),b.jsxs("div",{className:"flex mt-6",children:[i.id&&b.jsx("div",{className:"w-full flex  text-center",children:b.jsx(bl,{onClick:()=>{c(!0)},className:"rounded-md bg-zinc-700/60 py-2 px-4 text-sm font-medium text-white focus:outline-none data-[hover]:bg-zinc-700/90 active:bg-zinc-800",children:"Delete chapter"})}),b.jsx("div",{className:"w-full flex justify-end text-center",children:b.jsx(bl,{onClick:()=>{A()},className:"rounded-md bg-zinc-700/60 py-2 px-4 text-sm font-medium text-white focus:outline-none data-[hover]:bg-zinc-700/90 active:bg-zinc-800",children:"Save chapter"})})]})]})]})})})})})})},qG=()=>({id:"",project:0,name:"",image:null,description:"",symbolism:"",type:"",geography_details:{},culture_details:{},historical_events:[],points_of_interest:[],inhabitants_list:[],atmosphere_details:{}}),Mfe=async(t,e)=>await gn.post("/locations/",e,{headers:{Authorization:`Bearer ${t}`}}),Rfe=async(t,e)=>await gn.post("/locations/new/",e,{headers:{Authorization:`Bearer ${t}`,"content-type":"multipart/form-data"}}),Dfe=async(t,e)=>await gn.delete(`locations/delete-image/${e}`,{headers:{Authorization:`Bearer ${t}`}}),Nfe=async(t,e)=>await gn.delete(`locations/${e}`,{headers:{Authorization:`Bearer ${t}`}}),Pfe=async(t,e,n)=>await gn.patch(`/locations/${n}/`,e,{headers:{Authorization:`Bearer ${t}`,"content-type":"multipart/form-data"}}),r3=({isCreateLocationOpen:t,setIsCreateLocationOpen:e,location:n=qG(),project:i})=>{const[r,s]=k.useState(n.name),[o,a]=k.useState(n.image?n.image:null),[l,c]=k.useState(n.image),[d,h]=k.useState(n.description||""),[p,m]=k.useState(n.symbolism||""),[v,S]=k.useState(n.type||""),[A,E]=k.useState(n.geography_details),[M,R]=k.useState(n.culture_details),[N,P]=k.useState(n.historical_events),[O,$]=k.useState(""),[F,q]=k.useState(""),[B,X]=k.useState(""),[Q,J]=k.useState(""),[oe,ce]=k.useState(n.points_of_interest),[le,ee]=k.useState(""),[Z,se]=k.useState(""),[j,te]=k.useState(""),[ae,U]=k.useState(n.inhabitants_list),[ve,ke]=k.useState(""),[Ce,je]=k.useState(""),[Ue,Ye]=k.useState(""),[Ge,ft]=k.useState(n.atmosphere_details),mt=kt(de=>de.authData.accessToken),{id:xt}=ed(),Gt=$t(de=>de.updateLocationInProject),Mn=$t(de=>de.addLocationToProject),Vn=de=>{if(de.target.files){const Ke=de.target.files[0];if(a(Ke),Ke){const rt=new FileReader;rt.onloadend=()=>{c(rt.result)},rt.readAsDataURL(Ke)}}},Wt=de=>{const Ke=i.characters.find(rt=>rt.name.toLowerCase()===de.toLowerCase());if(Ke)return Ke.image?Ke.image:void 0},mi=()=>{if(O){const de={title:O,date:F,description:B,significance:Q};P([...N,de]),$(""),q(""),X(""),J("")}},ii=de=>{P(N.filter((Ke,rt)=>rt!==de))},Bt=()=>{if(le){const de={name:le,description:Z,significance:j};ce([...oe,de]),ee(""),se(""),te("")}},Hn=de=>{ce(oe.filter((Ke,rt)=>rt!==de))},ie=()=>{if(ve){const de={name:ve,role:Ce,description:Ue};U([...ae,de]),ke(""),je(""),Ye("")}},$e=de=>{U(ae.filter((Ke,rt)=>rt!==de))},Ee=async(de,Ke)=>{if(Ke.id){o===null&&await Dfe(mt,Ke.id);const rt=await Pfe(mt,de,Ke.id);xt&&Gt(xt,rt.data)}},Xe=async de=>{const Ke=await Rfe(mt,de);be(),xt&&Mn(xt,Ke.data)},be=()=>{s(""),a(null),c(null),h(""),m(""),S(""),E({}),R({}),P([]),ce([]),U([]),ft({})},Ne=async()=>{try{const de=new FormData;de.append("name",r),de.append("description",d),de.append("symbolism",p),de.append("type",v),de.append("geography_details",JSON.stringify(A)),de.append("culture_details",JSON.stringify(M)),de.append("historical_events",JSON.stringify(N)),de.append("points_of_interest",JSON.stringify(oe)),de.append("inhabitants_list",JSON.stringify(ae)),de.append("atmosphere_details",JSON.stringify(Ge)),de.append("project",xt||""),o!==null&&typeof o!="string"&&de.append("image",o),n.id?await Ee(de,n):await Xe(de),e(!1)}catch(de){console.log(de)}};return b.jsx(Kp,{open:t,onClose:()=>e(!1),transition:!0,className:"fixed inset-0 flex w-screen items-center justify-center bg-black/30 p-4 transition duration-300 ease-out data-[closed]:opacity-0 z-50",children:b.jsx("div",{className:"fixed inset-0 flex w-screen items-start mt-10 justify-center p-4",children:b.jsx(If,{transition:!0,className:"w-fit max-w-3xl",children:b.jsx("div",{className:"bg-white rounded-sm border border-zinc-300  shadow-2xl",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-inner overflow-hidden w-fit",children:[b.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-6 py-4 border-b border-indigo-100",children:b.jsx("h2",{className:"text-2xl font-bold text-center bg-clip-text text-transparent bg-gradient-to-r from-indigo-700 to-purple-700",children:n.name?`${n.name}`:"Create New Location"})}),b.jsx("div",{className:"max-h-[75vh] overflow-y-auto",children:b.jsxs(Mt.Group,{children:[b.jsxs(Mt.List,{className:"flex space-x-1 border-b border-zinc-200 px-4 py-2",children:[b.jsx(Mt,{className:({selected:de})=>`px-2 py-2 text-sm font-medium rounded-md transition-all outline-none
                                            ${de?"bg-zinc-100 text-zinc-900":"text-zinc-500 hover:text-zinc-700 hover:bg-white/[0.5]"}`,children:b.jsx("p",{className:"",children:"Basic Information"})}),b.jsx(Mt,{className:({selected:de})=>`px-2 py-2 text-sm font-medium rounded-md transition-all outline-none
                                            ${de?"bg-zinc-100 text-zinc-900":"text-zinc-500 hover:text-zinc-700 hover:bg-white/[0.5]"}`,children:"Geography & Culture"}),b.jsx(Mt,{className:({selected:de})=>`px-2 py-2 text-sm font-medium rounded-lg transition-all outline-none
                                            ${de?"bg-zinc-100 text-zinc-900":"text-zinc-500 hover:text-zinc-700 hover:bg-white/[0.5]"}`,children:"Historical Events & POIs"}),b.jsx(Mt,{className:({selected:de})=>`px-2 py-2 text-sm font-medium rounded-lg transition-all outline-none
                                            ${de?"bg-zinc-100 text-zinc-900 ":"text-zinc-500 hover:text-zinc-700 hover:bg-white/[0.5]"}`,children:"Inhabitants & Atmosphere"})]}),b.jsxs(Mt.Panels,{className:"p-6 scrollbar-thin scrollbar-thumb-indigo-200 scrollbar-track-gray-100",children:[b.jsx(Mt.Panel,{children:b.jsx("section",{className:"rounded-lg",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Location Name"}),b.jsx(Ot,{value:r,onChange:de=>s(de.target.value),className:"mb-2 text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter location name"})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Description"}),b.jsx(Ft,{value:d,onChange:de=>h(de.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe this location",rows:3})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Symbolism"}),b.jsx(Ft,{value:p,onChange:de=>m(de.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"What does this location symbolize?",rows:3})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Location Type"}),b.jsx(Ot,{value:v,onChange:de=>S(de.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"City, Forest, Castle, etc."})]})]}),b.jsx("div",{className:"space-y-4",children:b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Location Image"}),b.jsx("div",{className:"flex items-center",children:l?b.jsxs("div",{className:"relative w-32 h-32 overflow-hidden rounded-md border-2 border-indigo-200 shadow-sm",children:[b.jsx("img",{src:l,alt:r,className:"object-cover w-full h-full"}),b.jsx("button",{onClick:()=>{c(null),a(null)},className:"absolute top-1 right-1 text-red-500 bg-white rounded-full hover:text-red-600 transition",children:b.jsx(Xn,{})})]}):b.jsx("div",{className:"w-32 h-32 bg-indigo-50 rounded-md flex items-center justify-center border-2 border-dashed border-indigo-200",children:b.jsxs("label",{className:"cursor-pointer text-center p-2",children:[b.jsx("span",{className:"block text-sm text-indigo-600",children:"Upload Image"}),b.jsx("input",{type:"file",className:"hidden",onChange:Vn,accept:"image/*"})]})})})]})})]})})}),b.jsx(Mt.Panel,{children:b.jsx("section",{className:"",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs(Yn,{className:"",children:[b.jsx(Le,{className:"block text-lg font-medium font-semibold pb-2 text-gray-700",children:"Geography"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Terrain"}),b.jsx(Ot,{value:A.terrain||"",onChange:de=>E({...A,terrain:de.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Mountains, plains, coastal, etc."})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Climate"}),b.jsx(Ot,{value:A.climate||"",onChange:de=>E({...A,climate:de.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Tropical, arid, temperate, etc."})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Flora"}),b.jsx(Ft,{value:A.flora||"",onChange:de=>E({...A,flora:de.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe plant life",rows:3})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Fauna"}),b.jsx(Ft,{value:A.fauna||"",onChange:de=>E({...A,fauna:de.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe animal life",rows:3})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Natural Resources"}),b.jsx(Ft,{value:A.natural_resources||"",onChange:de=>E({...A,natural_resources:de.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe available resources",rows:3})]})]})]}),b.jsxs(Yn,{className:"",children:[b.jsx(Le,{className:"block text-lg font-medium font-semibold pb-2 text-gray-700",children:"Culture"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Language"}),b.jsx(Ot,{value:M.language||"",onChange:de=>R({...M,language:de.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Languages spoken here"})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Customs"}),b.jsx(Ft,{value:M.customs||"",onChange:de=>R({...M,customs:de.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe local customs",rows:3})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Religion"}),b.jsx(Ft,{value:M.religion||"",onChange:de=>R({...M,religion:de.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe religious practices",rows:3})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Social Structure"}),b.jsx(Ft,{value:M.social_structure||"",onChange:de=>R({...M,social_structure:de.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe societal organization",rows:3})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Arts"}),b.jsx(Ft,{value:M.arts||"",onChange:de=>R({...M,arts:de.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe artistic traditions",rows:3})]})]})]})]})})}),b.jsx(Mt.Panel,{children:b.jsx("section",{className:"",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs(Yn,{className:"",children:[b.jsx(Le,{className:"block text-lg font-medium font-semibold pb-2 text-gray-700",children:"Historical Events"}),b.jsx("div",{className:"space-y-4 max-h-[320px] overflow-y-auto pr-1 mb-3",children:N.map((de,Ke)=>b.jsxs("div",{className:"flex items-start justify-between p-2 bg-white rounded-md border border-indigo-100",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm font-semibold text-zinc-700",children:de.title}),b.jsx("p",{className:"text-xs text-zinc-500",children:de.date}),b.jsx("p",{className:"text-xs text-zinc-700",children:de.description}),b.jsx("p",{className:"text-xs italic text-zinc-600",children:de.significance})]}),b.jsx("button",{onClick:()=>ii(Ke),className:"text-zinc-400 hover:text-zinc-700 text-lg rounded-full transition",children:b.jsx(Xn,{})})]},Ke))}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-xs font-medium font-semibold pb-1 text-gray-700",children:"Title"}),b.jsx(Ot,{value:O,onChange:de=>$(de.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Event title"})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-xs font-medium font-semibold pb-1 text-gray-700",children:"Date"}),b.jsx(Ot,{value:F,onChange:de=>q(de.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"When it occurred"})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-xs font-medium font-semibold pb-1 text-gray-700",children:"Description"}),b.jsx(Ft,{value:B,onChange:de=>X(de.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"What happened",rows:2})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-xs font-medium font-semibold pb-1 text-gray-700",children:"Significance"}),b.jsx(Ft,{value:Q,onChange:de=>J(de.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Why it matters",rows:2})]})]}),b.jsxs("button",{onClick:mi,className:"w-full mt-3 py-2 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 transition-colors flex items-center justify-center",children:[b.jsx(Aa,{className:"mr-1"}),"Add Historical Event"]})]}),b.jsxs(Yn,{className:"",children:[b.jsx(Le,{className:"block text-lg font-medium font-semibold pb-2 text-gray-700",children:"Points of Interest"}),b.jsx("div",{className:"space-y-4 max-h-[320px] overflow-y-auto pr-1 mb-3",children:oe.map((de,Ke)=>b.jsxs("div",{className:"flex items-start justify-between p-2 bg-white rounded-md border border-indigo-100",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm font-semibold text-zinc-700",children:de.name}),b.jsx("p",{className:"text-xs text-zinc-700",children:de.description}),b.jsx("p",{className:"text-xs italic text-zinc-600",children:de.significance})]}),b.jsx("button",{onClick:()=>Hn(Ke),className:"text-zinc-400 hover:text-zinc-700 text-lg rounded-full transition",children:b.jsx(Xn,{})})]},Ke))}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-xs font-medium font-semibold pb-1 text-gray-700",children:"Name"}),b.jsx(Ot,{value:le,onChange:de=>ee(de.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Point of interest name"})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-xs font-medium font-semibold pb-1 text-gray-700",children:"Description"}),b.jsx(Ft,{value:Z,onChange:de=>se(de.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe this location",rows:2})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-xs font-medium font-semibold pb-1 text-gray-700",children:"Significance"}),b.jsx(Ft,{value:j,onChange:de=>te(de.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Why it matters",rows:2})]})]}),b.jsxs("button",{onClick:Bt,className:"w-full mt-3 py-2 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 transition-colors flex items-center justify-center",children:[b.jsx(Aa,{className:"mr-1"}),"Add Point of Interest"]})]})]})})}),b.jsx(Mt.Panel,{children:b.jsx("section",{className:"",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs(Yn,{className:"",children:[b.jsx(Le,{className:"block text-lg font-medium font-semibold pb-2 text-gray-700",children:"Inhabitants"}),b.jsx("div",{className:"space-y-4 max-h-[320px] overflow-y-auto pr-1 mb-3",children:ae.map((de,Ke)=>b.jsxs("div",{className:"flex gap-2 items-start justify-between p-2 bg-white rounded-md border border-indigo-100",children:[b.jsx("div",{children:b.jsx(b.Fragment,{children:Wt(de.name)?b.jsx("img",{src:Wt(de.name),alt:"Relationship",className:"size-14 object-cover rounded-sm"}):b.jsx("div",{className:"size-14 bg-zinc-100 rounded-md"})})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm font-semibold text-zinc-700",children:de.name}),b.jsx("p",{className:"text-xs text-zinc-500",children:de.role}),b.jsx("p",{className:"text-xs text-zinc-700",children:de.description})]}),b.jsx("button",{onClick:()=>$e(Ke),className:"text-zinc-400 hover:text-zinc-700 text-lg rounded-full transition",children:b.jsx(Xn,{})})]},Ke))}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-xs font-medium font-semibold pb-1 text-gray-700",children:"Name"}),b.jsx(Ot,{value:ve,onChange:de=>ke(de.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Inhabitant name"})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-xs font-medium font-semibold pb-1 text-gray-700",children:"Role"}),b.jsx(Ot,{value:Ce,onChange:de=>je(de.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Leader, Merchant, etc."})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-xs font-medium font-semibold pb-1 text-gray-700",children:"Description"}),b.jsx(Ft,{value:Ue,onChange:de=>Ye(de.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Brief description",rows:2})]})]}),b.jsxs("button",{onClick:ie,className:"w-full mt-3 py-2 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 transition-colors flex items-center justify-center",children:[b.jsx(Aa,{className:"mr-1"}),"Add Inhabitant"]})]}),b.jsxs(Yn,{className:"",children:[b.jsx(Le,{className:"block text-lg font-medium font-semibold pb-2 text-gray-700",children:"Atmosphere"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Mood"}),b.jsx(Ot,{value:Ge.mood||"",onChange:de=>ft({...Ge,mood:de.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Serene, ominous, festive, etc."})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Lighting"}),b.jsx(Ot,{value:Ge.lighting||"",onChange:de=>ft({...Ge,lighting:de.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Bright, dim, filtered, etc."})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Sounds"}),b.jsx(Ft,{value:Ge.sounds||"",onChange:de=>ft({...Ge,sounds:de.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe what can be heard here",rows:3})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Smells"}),b.jsx(Ft,{value:Ge.smells||"",onChange:de=>ft({...Ge,smells:de.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe scents and odors",rows:3})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"General Feel"}),b.jsx(Ft,{value:Ge.general_feel||"",onChange:de=>ft({...Ge,general_feel:de.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Overall atmosphere and emotional impact",rows:3})]})]})]})]})})})]})]})}),b.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-6 py-4 border-t border-indigo-100 flex justify-end space-x-3",children:[b.jsx("button",{onClick:()=>e(!1),className:"py-2 px-4 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:Ne,className:"py-2 px-6 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-md hover:from-indigo-700 hover:to-purple-700 shadow-md transition-all transform hover:scale-[1.02]",children:"Save Location"})]})]})})})})})},Ofe=({project:t})=>{const[e,n]=k.useState(!1),[i,r]=k.useState(!1),[s,o]=k.useState(!1),[a,l]=k.useState(!1),[c,d]=k.useState(!1),[h,p]=k.useState(null),m=kt(E=>E.authData.accessToken),v=$t(E=>E.updateProjectInList),S=BG();k.useEffect(()=>{h&&(A(h),p(null))},[h]);const A=async E=>{const M=new FormData;M.append("file",E),M.append("name",E.name),M.append("size",JSON.stringify(E.size)),M.append("project_id",t.id);try{const N=[(await vfe(m,M)).data];t={...t,book:N},v(t)}catch(R){console.log(R)}};return b.jsx("section",{className:"flex shrink-0 flex-row w-22 duration-300 fixed right-0 top-16 bottom-0",children:b.jsxs("div",{className:"flex shrink-0 flex-col items-center pt-3 px-2 gap-3",children:[b.jsx(UG,{chapter:$C(),isCreateChapterOpen:i,setIsCreateChapterOpen:r,project:t}),b.jsx("p",{className:"text-[11px] text-zinc-700 font-semibold uppercase",children:"Chapter"}),b.jsx("div",{onClick:()=>r(!0),className:"h-8 w-8 bg-zinc-50 rounded-lg flex flex-col justify-center items-center border-zinc-200 border border cursor-pointer hover:bg-white",children:b.jsx("span",{className:"text-zinc-800 text-xl",children:b.jsx(H_,{})})}),b.jsx(n3,{isCreateCharacterOpen:e,setIsCreateCharacterOpen:n,character:S,project:t}),b.jsx("p",{className:"text-[11px] text-zinc-700 font-semibold uppercase",children:"Character"}),b.jsx("div",{onClick:()=>n(!0),className:"h-8 w-8 bg-zinc-50 rounded-lg flex flex-col justify-center items-center border-zinc-200 border border cursor-pointer hover:bg-white",children:b.jsx("span",{className:"text-zinc-800 text-xl",children:b.jsx(H_,{})})}),b.jsx(xfe,{isGenerateCharacterOpen:c,setIsGenerateCharacterOpen:d}),b.jsx(i3,{isCreateItemOpen:s,setIsCreateItemOpen:o,project:t,item:HG()}),b.jsx("p",{className:"text-[11px] text-zinc-700 font-semibold uppercase",children:"Item"}),b.jsx("div",{onClick:()=>o(!0),className:"h-8 w-8 bg-zinc-50 rounded-lg flex flex-col justify-center items-center border-zinc-200 border border cursor-pointer hover:bg-white",children:b.jsx("span",{className:"text-zinc-800 text-xl",children:b.jsx(H_,{})})}),b.jsx(r3,{isCreateLocationOpen:a,setIsCreateLocationOpen:l,project:t,location:qG()}),b.jsx("p",{className:"text-[11px] text-zinc-700 font-semibold uppercase",children:"Location"}),b.jsx("div",{onClick:()=>l(!0),className:"h-8 w-8 bg-zinc-50 rounded-lg flex flex-col justify-center items-center border-zinc-200 border border cursor-pointer hover:bg-white",children:b.jsx("span",{className:"text-zinc-800 text-xl",children:b.jsx(H_,{})})})]})})};function GG(t){return pi({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 5.21875 6.6875 L 3.78125 8.09375 L 16 20.3125 L 28.21875 8.09375 L 26.78125 6.6875 L 16 17.46875 Z M 5.21875 13.6875 L 3.78125 15.09375 L 16 27.3125 L 28.21875 15.09375 L 26.78125 13.6875 L 16 24.46875 Z"},child:[]}]})(t)}function WG(t){return pi({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 16 4.6875 L 3.78125 16.90625 L 5.21875 18.3125 L 16 7.53125 L 26.78125 18.3125 L 28.21875 16.90625 Z M 16 11.6875 L 3.78125 23.90625 L 5.21875 25.3125 L 16 14.53125 L 26.78125 25.3125 L 28.21875 23.90625 Z"},child:[]}]})(t)}function Lfe(t){return pi({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Menu_Kebab"},child:[{tag:"path",attr:{d:"M14.5,12c0,1.38 -1.12,2.5 -2.5,2.5c-1.38,-0 -2.5,-1.12 -2.5,-2.5c0,-1.38 1.12,-2.5 2.5,-2.5c1.38,-0 2.5,1.12 2.5,2.5Zm-1,-0c0,-0.828 -0.672,-1.5 -1.5,-1.5c-0.828,-0 -1.5,0.672 -1.5,1.5c0,0.828 0.672,1.5 1.5,1.5c0.828,-0 1.5,-0.672 1.5,-1.5Z"},child:[]},{tag:"path",attr:{d:"M14.5,4.563c0,1.38 -1.12,2.5 -2.5,2.5c-1.38,-0 -2.5,-1.12 -2.5,-2.5c0,-1.38 1.12,-2.5 2.5,-2.5c1.38,-0 2.5,1.12 2.5,2.5Zm-1,-0c0,-0.828 -0.672,-1.5 -1.5,-1.5c-0.828,-0 -1.5,0.672 -1.5,1.5c0,0.828 0.672,1.5 1.5,1.5c0.828,-0 1.5,-0.672 1.5,-1.5Z"},child:[]},{tag:"path",attr:{d:"M14.5,19.437c0,1.38 -1.12,2.5 -2.5,2.5c-1.38,0 -2.5,-1.12 -2.5,-2.5c0,-1.38 1.12,-2.5 2.5,-2.5c1.38,0 2.5,1.12 2.5,2.5Zm-1,0c0,-0.828 -0.672,-1.5 -1.5,-1.5c-0.828,0 -1.5,0.672 -1.5,1.5c0,0.828 0.672,1.5 1.5,1.5c0.828,0 1.5,-0.672 1.5,-1.5Z"},child:[]}]}]})(t)}const jfe=({children:t,label:e,chapter:n,project:i})=>{const[r,s]=k.useState(!1),[o,a]=k.useState(!0);return b.jsxs("div",{className:"flex w-full flex-col items-center mt-2",children:[b.jsxs("div",{onClick:()=>{a(!o)},className:`max-w-260 flex w-full mb-4 flex h-12 justify-start justify-center ${o?"block opacity-100 h-full":"h-12 bg-zinc-50 rounded-lg border border-zinc-300"}`,children:[o?b.jsx("div",{onClick:()=>a(!o),className:"text-sm duration-300 transition w-10 h-8 flex items-center justify-center text-zinc-500 cursor-pointer",children:b.jsx(WG,{})}):b.jsx("div",{onClick:()=>a(!o),className:"text-sm duration-300 transition w-10 h-12 flex items-center justify-center text-zinc-500 cursor-pointer",children:b.jsx(GG,{})}),b.jsx("div",{className:` ${o?"w-full h-8 text-zinc-700":"h-12"} w-full transition-discrete duration-100 
                                    items-center flex cursor-pointer text-zinc-700 text-lg font-semibold`,children:e.toUpperCase()}),b.jsx("div",{className:`items-center justify-center transition-all duration-300 ${!o&&"pr-2"} flex w-10`,children:b.jsxs("div",{className:"flex justify-end w-full cursor-pointer",children:[b.jsx("div",{onClick:()=>{s(!0)},className:"text-zinc-500 duration-100 hover:text-zinc-900",children:b.jsx(Lfe,{})}),b.jsx(UG,{chapter:n,project:i,isCreateChapterOpen:r,setIsCreateChapterOpen:s})]})})]}),b.jsx("div",{className:"w-full  duration-300",children:o&&b.jsx("div",{className:"characters-section flex flex-col w-full h-full justify-start items-start",children:t})})]})};function lo(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Ife=typeof Symbol=="function"&&Symbol.observable||"@@observable",W4=Ife,K4=()=>Math.random().toString(36).substring(7).split("").join("."),Ffe={INIT:`@@redux/INIT${K4()}`,REPLACE:`@@redux/REPLACE${K4()}`},Y4=Ffe;function $fe(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function KG(t,e,n){if(typeof t!="function")throw new Error(lo(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(lo(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(lo(1));return n(KG)(t,e)}let i=t,r=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((A,E)=>{o.set(E,A)}))}function d(){if(l)throw new Error(lo(3));return r}function h(A){if(typeof A!="function")throw new Error(lo(4));if(l)throw new Error(lo(5));let E=!0;c();const M=a++;return o.set(M,A),function(){if(E){if(l)throw new Error(lo(6));E=!1,c(),o.delete(M),s=null}}}function p(A){if(!$fe(A))throw new Error(lo(7));if(typeof A.type>"u")throw new Error(lo(8));if(typeof A.type!="string")throw new Error(lo(17));if(l)throw new Error(lo(9));try{l=!0,r=i(r,A)}finally{l=!1}return(s=o).forEach(M=>{M()}),A}function m(A){if(typeof A!="function")throw new Error(lo(10));i=A,p({type:Y4.REPLACE})}function v(){const A=h;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(lo(11));function M(){const N=E;N.next&&N.next(d())}return M(),{unsubscribe:A(M)}},[W4](){return this}}}return p({type:Y4.INIT}),{dispatch:p,subscribe:h,getState:d,replaceReducer:m,[W4]:v}}function X4(t,e){return function(...n){return e(t.apply(this,n))}}function J4(t,e){if(typeof t=="function")return X4(t,e);if(typeof t!="object"||t===null)throw new Error(lo(16));const n={};for(const i in t){const r=t[i];typeof r=="function"&&(n[i]=X4(r,e))}return n}function YG(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function zfe(...t){return e=>(n,i)=>{const r=e(n,i);let s=()=>{throw new Error(lo(15))};const o={getState:r.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=YG(...a)(r.dispatch),{...r,dispatch:s}}}var ZP={exports:{}},QP={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z4;function Bfe(){if(Z4)return QP;Z4=1;var t=q2();function e(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,r=t.useRef,s=t.useEffect,o=t.useMemo,a=t.useDebugValue;return QP.useSyncExternalStoreWithSelector=function(l,c,d,h,p){var m=r(null);if(m.current===null){var v={hasValue:!1,value:null};m.current=v}else v=m.current;m=o(function(){function A(P){if(!E){if(E=!0,M=P,P=h(P),p!==void 0&&v.hasValue){var O=v.value;if(p(O,P))return R=O}return R=P}if(O=R,n(M,P))return O;var $=h(P);return p!==void 0&&p(O,$)?(M=P,O):(M=P,R=$)}var E=!1,M,R,N=d===void 0?null:d;return[function(){return A(c())},N===null?void 0:function(){return A(N())}]},[c,d,h,p]);var S=i(l,m[0],m[1]);return s(function(){v.hasValue=!0,v.value=S},[S]),a(S),S},QP}var Q4;function Vfe(){return Q4||(Q4=1,ZP.exports=Bfe()),ZP.exports}Vfe();var Hfe=k.version.startsWith("19"),Ufe=Symbol.for(Hfe?"react.transitional.element":"react.element"),qfe=Symbol.for("react.portal"),Gfe=Symbol.for("react.fragment"),Wfe=Symbol.for("react.strict_mode"),Kfe=Symbol.for("react.profiler"),Yfe=Symbol.for("react.consumer"),Xfe=Symbol.for("react.context"),XG=Symbol.for("react.forward_ref"),Jfe=Symbol.for("react.suspense"),Zfe=Symbol.for("react.suspense_list"),s3=Symbol.for("react.memo"),Qfe=Symbol.for("react.lazy"),ehe=XG,the=s3;function nhe(t){if(typeof t=="object"&&t!==null){const{$$typeof:e}=t;switch(e){case Ufe:switch(t=t.type,t){case Gfe:case Kfe:case Wfe:case Jfe:case Zfe:return t;default:switch(t=t&&t.$$typeof,t){case Xfe:case XG:case Qfe:case s3:return t;case Yfe:return t;default:return e}}case qfe:return e}}}function ihe(t){return nhe(t)===s3}function rhe(t,e,n,i,{areStatesEqual:r,areOwnPropsEqual:s,areStatePropsEqual:o}){let a=!1,l,c,d,h,p;function m(M,R){return l=M,c=R,d=t(l,c),h=e(i,c),p=n(d,h,c),a=!0,p}function v(){return d=t(l,c),e.dependsOnOwnProps&&(h=e(i,c)),p=n(d,h,c),p}function S(){return t.dependsOnOwnProps&&(d=t(l,c)),e.dependsOnOwnProps&&(h=e(i,c)),p=n(d,h,c),p}function A(){const M=t(l,c),R=!o(M,d);return d=M,R&&(p=n(d,h,c)),p}function E(M,R){const N=!s(R,c),P=!r(M,l,R,c);return l=M,c=R,N&&P?v():N?S():P?A():p}return function(R,N){return a?E(R,N):m(R,N)}}function she(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:i,...r}){const s=e(t,r),o=n(t,r),a=i(t,r);return rhe(s,o,a,t,r)}function ohe(t,e){const n={};for(const i in t){const r=t[i];typeof r=="function"&&(n[i]=(...s)=>e(r(...s)))}return n}function mj(t){return function(n){const i=t(n);function r(){return i}return r.dependsOnOwnProps=!1,r}}function e6(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function JG(t,e){return function(i,{displayName:r}){const s=function(a,l){return s.dependsOnOwnProps?s.mapToProps(a,l):s.mapToProps(a,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,l){s.mapToProps=t,s.dependsOnOwnProps=e6(t);let c=s(a,l);return typeof c=="function"&&(s.mapToProps=c,s.dependsOnOwnProps=e6(c),c=s(a,l)),c},s}}function o3(t,e){return(n,i)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${i.wrappedComponentName}.`)}}function ahe(t){return t&&typeof t=="object"?mj(e=>ohe(t,e)):t?typeof t=="function"?JG(t):o3(t,"mapDispatchToProps"):mj(e=>({dispatch:e}))}function lhe(t){return t?typeof t=="function"?JG(t):o3(t,"mapStateToProps"):mj(()=>({}))}function che(t,e,n){return{...n,...t,...e}}function uhe(t){return function(n,{displayName:i,areMergedPropsEqual:r}){let s=!1,o;return function(l,c,d){const h=t(l,c,d);return s?r(h,o)||(o=h):(s=!0,o=h),o}}}function dhe(t){return t?typeof t=="function"?uhe(t):o3(t,"mergeProps"):()=>che}function fhe(t){t()}function hhe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){fhe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const r=e={callback:n,next:null,prev:e};return r.prev?r.prev.next=r:t=r,function(){!i||t===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var t6={notify(){},get:()=>[]};function ZG(t,e){let n,i=t6,r=0,s=!1;function o(S){d();const A=i.subscribe(S);let E=!1;return()=>{E||(E=!0,A(),h())}}function a(){i.notify()}function l(){v.onStateChange&&v.onStateChange()}function c(){return s}function d(){r++,n||(n=e?e.addNestedSub(l):t.subscribe(l),i=hhe())}function h(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=t6)}function p(){s||(s=!0,d())}function m(){s&&(s=!1,h())}const v={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>i};return v}var phe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mhe=phe(),ghe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",yhe=ghe(),bhe=()=>mhe||yhe?k.useLayoutEffect:k.useEffect,PR=bhe();function n6(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function eO(t,e){if(n6(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!n6(t[n[r]],e[n[r]]))return!1;return!0}var vhe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},xhe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},whe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},QG={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},She={[ehe]:whe,[the]:QG};function i6(t){return ihe(t)?QG:She[t.$$typeof]||vhe}var Che=Object.defineProperty,Ahe=Object.getOwnPropertyNames,r6=Object.getOwnPropertySymbols,Ehe=Object.getOwnPropertyDescriptor,The=Object.getPrototypeOf,s6=Object.prototype;function gj(t,e){if(typeof e!="string"){if(s6){const s=The(e);s&&s!==s6&&gj(t,s)}let n=Ahe(e);r6&&(n=n.concat(r6(e)));const i=i6(t),r=i6(e);for(let s=0;s<n.length;++s){const o=n[s];if(!xhe[o]&&!(r&&r[o])&&!(i&&i[o])){const a=Ehe(e,o);try{Che(t,o,a)}catch{}}}}return t}var tO=Symbol.for("react-redux-context"),nO=typeof globalThis<"u"?globalThis:{};function khe(){if(!k.createContext)return{};const t=nO[tO]??(nO[tO]=new Map);let e=t.get(k.createContext);return e||(e=k.createContext(null),t.set(k.createContext,e)),e}var eW=khe(),_he=[null,null];function Mhe(t,e,n){PR(()=>t(...e),n)}function Rhe(t,e,n,i,r,s){t.current=i,n.current=!1,r.current&&(r.current=null,s())}function Dhe(t,e,n,i,r,s,o,a,l,c,d){if(!t)return()=>{};let h=!1,p=null;const m=()=>{if(h||!a.current)return;const S=e.getState();let A,E;try{A=i(S,r.current)}catch(M){E=M,p=M}E||(p=null),A===s.current?o.current||c():(s.current=A,l.current=A,o.current=!0,d())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}function Nhe(t,e){return t===e}function Phe(t,e,n,{pure:i,areStatesEqual:r=Nhe,areOwnPropsEqual:s=eO,areStatePropsEqual:o=eO,areMergedPropsEqual:a=eO,forwardRef:l=!1,context:c=eW}={}){const d=c,h=lhe(t),p=ahe(e),m=dhe(n),v=!!t;return A=>{const E=A.displayName||A.name||"Component",M=`Connect(${E})`,R={shouldHandleStateChanges:v,displayName:M,wrappedComponentName:E,WrappedComponent:A,initMapStateToProps:h,initMapDispatchToProps:p,initMergeProps:m,areStatesEqual:r,areStatePropsEqual:o,areOwnPropsEqual:s,areMergedPropsEqual:a};function N($){const[F,q,B]=k.useMemo(()=>{const{reactReduxForwardedRef:mt,...xt}=$;return[$.context,mt,xt]},[$]),X=k.useMemo(()=>{let mt=d;return F!=null&&F.Consumer,mt},[F,d]),Q=k.useContext(X),J=!!$.store&&!!$.store.getState&&!!$.store.dispatch,oe=!!Q&&!!Q.store,ce=J?$.store:Q.store,le=oe?Q.getServerState:ce.getState,ee=k.useMemo(()=>she(ce.dispatch,R),[ce]),[Z,se]=k.useMemo(()=>{if(!v)return _he;const mt=ZG(ce,J?void 0:Q.subscription),xt=mt.notifyNestedSubs.bind(mt);return[mt,xt]},[ce,J,Q]),j=k.useMemo(()=>J?Q:{...Q,subscription:Z},[J,Q,Z]),te=k.useRef(void 0),ae=k.useRef(B),U=k.useRef(void 0),ve=k.useRef(!1),ke=k.useRef(!1),Ce=k.useRef(void 0);PR(()=>(ke.current=!0,()=>{ke.current=!1}),[]);const je=k.useMemo(()=>()=>U.current&&B===ae.current?U.current:ee(ce.getState(),B),[ce,B]),Ue=k.useMemo(()=>xt=>Z?Dhe(v,ce,Z,ee,ae,te,ve,ke,U,se,xt):()=>{},[Z]);Mhe(Rhe,[ae,te,ve,B,U,se]);let Ye;try{Ye=k.useSyncExternalStore(Ue,je,le?()=>ee(le(),B):je)}catch(mt){throw Ce.current&&(mt.message+=`
The error may be correlated with this previous error:
${Ce.current.stack}

`),mt}PR(()=>{Ce.current=void 0,U.current=void 0,te.current=Ye});const Ge=k.useMemo(()=>k.createElement(A,{...Ye,ref:q}),[q,A,Ye]);return k.useMemo(()=>v?k.createElement(X.Provider,{value:j},Ge):Ge,[X,Ge,j])}const O=k.memo(N);if(O.WrappedComponent=A,O.displayName=N.displayName=M,l){const F=k.forwardRef(function(B,X){return k.createElement(O,{...B,reactReduxForwardedRef:X})});return F.displayName=M,F.WrappedComponent=A,gj(F,A)}return gj(O,A)}}var tW=Phe;function Ohe(t){const{children:e,context:n,serverState:i,store:r}=t,s=k.useMemo(()=>{const l=ZG(r);return{store:r,subscription:l,getServerState:i?()=>i:void 0}},[r,i]),o=k.useMemo(()=>r.getState(),[r]);PR(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==r.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||eW;return k.createElement(a.Provider,{value:s},e)}var Lhe=Ohe,jhe="Invariant failed";function Ihe(t,e){throw new Error(jhe)}var _c=function(e){var n=e.top,i=e.right,r=e.bottom,s=e.left,o=i-s,a=r-n,l={top:n,right:i,bottom:r,left:s,width:o,height:a,x:s,y:n,center:{x:(i+s)/2,y:(r+n)/2}};return l},a3=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},o6=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},Fhe=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},iO={top:0,right:0,bottom:0,left:0},l3=function(e){var n=e.borderBox,i=e.margin,r=i===void 0?iO:i,s=e.border,o=s===void 0?iO:s,a=e.padding,l=a===void 0?iO:a,c=_c(a3(n,r)),d=_c(o6(n,o)),h=_c(o6(d,l));return{marginBox:c,borderBox:_c(n),paddingBox:d,contentBox:h,margin:r,border:o,padding:l}},il=function(e){var n=e.slice(0,-2),i=e.slice(-2);if(i!=="px")return 0;var r=Number(n);return isNaN(r)&&Ihe(),r},$he=function(){return{x:window.pageXOffset,y:window.pageYOffset}},OR=function(e,n){var i=e.borderBox,r=e.border,s=e.margin,o=e.padding,a=Fhe(i,n);return l3({borderBox:a,border:r,margin:s,padding:o})},LR=function(e,n){return n===void 0&&(n=$he()),OR(e,n)},nW=function(e,n){var i={top:il(n.marginTop),right:il(n.marginRight),bottom:il(n.marginBottom),left:il(n.marginLeft)},r={top:il(n.paddingTop),right:il(n.paddingRight),bottom:il(n.paddingBottom),left:il(n.paddingLeft)},s={top:il(n.borderTopWidth),right:il(n.borderRightWidth),bottom:il(n.borderBottomWidth),left:il(n.borderLeftWidth)};return l3({borderBox:e,margin:i,padding:r,border:s})},iW=function(e){var n=e.getBoundingClientRect(),i=window.getComputedStyle(e);return nW(n,i)},zC=function(e){var n=[],i=null,r=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];n=a,!i&&(i=requestAnimationFrame(function(){i=null,e.apply(void 0,n)}))};return r.cancel=function(){i&&(cancelAnimationFrame(i),i=null)},r};function BC(){return BC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},BC.apply(null,arguments)}function rW(t,e){}rW.bind(null,"warn");rW.bind(null,"error");function Ep(){}function zhe(t,e){return{...t,...e}}function Sl(t,e,n){const i=e.map(r=>{const s=zhe(n,r.options);return t.addEventListener(r.eventName,r.fn,s),function(){t.removeEventListener(r.eventName,r.fn,s)}});return function(){i.forEach(s=>{s()})}}const Bhe="Invariant failed";class jR extends Error{}jR.prototype.toString=function(){return this.message};function qe(t,e){throw new jR(Bhe)}class Vhe extends Se.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Ep,this.onWindowError=n=>{const i=this.getCallbacks();i.isDragging()&&i.tryAbort(),n.error instanceof jR&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Sl(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof jR){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Hhe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,IR=t=>t+1,Uhe=t=>`
  You have lifted an item in position ${IR(t.source.index)}
`,sW=(t,e)=>{const n=t.droppableId===e.droppableId,i=IR(t.index),r=IR(e.index);return n?`
      You have moved the item from position ${i}
      to position ${r}
    `:`
    You have moved the item from position ${i}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${r}
  `},oW=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,qhe=t=>{const e=t.destination;if(e)return sW(t.source,e);const n=t.combine;return n?oW(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},a6=t=>`
  The item has returned to its starting position
  of ${IR(t.index)}
`,Ghe=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${a6(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${sW(t.source,e)}
    `:n?`
      You have dropped the item.
      ${oW(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${a6(t.source)}
  `},DM={dragHandleUsageInstructions:Hhe,onDragStart:Uhe,onDragUpdate:qhe,onDragEnd:Ghe};function Whe(t,e){return!!(t===e||Number.isNaN(t)&&Number.isNaN(e))}function aW(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Whe(t[n],e[n]))return!1;return!0}function wn(t,e){const n=k.useState(()=>({inputs:e,result:t()}))[0],i=k.useRef(!0),r=k.useRef(n),o=i.current||!!(e&&r.current.inputs&&aW(e,r.current.inputs))?r.current:{inputs:e,result:t()};return k.useEffect(()=>{i.current=!1,r.current=o},[o]),o.result}function ut(t,e){return wn(()=>t,e)}const Vr={x:0,y:0},ls=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),Ta=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),Tp=(t,e)=>t.x===e.x&&t.y===e.y,i1=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Wy=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},VC=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),l6=(t,e)=>Math.min(...e.map(n=>VC(t,n))),lW=t=>e=>({x:t(e.x),y:t(e.y)});var Khe=(t,e)=>{const n=_c({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const nT=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),c6=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],Yhe={top:0,right:0,bottom:0,left:0},Xhe=(t,e)=>e?nT(t,e.scroll.diff.displacement):t,Jhe=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,Zhe=(t,e)=>e&&e.shouldClipSubject?Khe(e.pageMarginBox,t):_c(t);var _x=({page:t,withPlaceholder:e,axis:n,frame:i})=>{const r=Xhe(t.marginBox,i),s=Jhe(r,n,e),o=Zhe(s,i);return{page:t,withPlaceholder:e,active:o}},c3=(t,e)=>{t.frame||qe();const n=t.frame,i=Ta(e,n.scroll.initial),r=i1(i),s={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:i,displacement:r},max:n.scroll.max}},o=_x({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:s});return{...t,frame:s,subject:o}};function $r(t,e=aW){let n=null;function i(...r){if(n&&n.lastThis===this&&e(r,n.lastArgs))return n.lastResult;const s=t.apply(this,r);return n={lastResult:s,lastArgs:r,lastThis:this},s}return i.clear=function(){n=null},i}const cW=$r(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),uW=$r(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),mD=$r(t=>Object.values(t)),Qhe=$r(t=>Object.values(t));var r1=$r((t,e)=>Qhe(e).filter(i=>t===i.descriptor.droppableId).sort((i,r)=>i.descriptor.index-r.descriptor.index));function u3(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function gD(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var yD=$r((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),epe=({isMovingForward:t,draggable:e,destination:n,insideDestination:i,previousImpact:r})=>{if(!n.isCombineEnabled||!u3(r))return null;function o(m){const v={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...r,at:v}}const a=r.displaced.all,l=a.length?a[0]:null;if(t)return l?o(l):null;const c=yD(e,i);if(!l){if(!c.length)return null;const m=c[c.length-1];return o(m.descriptor.id)}const d=c.findIndex(m=>m.descriptor.id===l);d===-1&&qe();const h=d-1;if(h<0)return null;const p=c[h];return o(p.descriptor.id)},s1=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const dW={point:Vr,value:0},HC={invisible:{},visible:{},all:[]},tpe={displaced:HC,displacedBy:dW,at:null};var Tl=(t,e)=>n=>t<=n&&n<=e,fW=t=>{const e=Tl(t.top,t.bottom),n=Tl(t.left,t.right);return i=>{if(e(i.top)&&e(i.bottom)&&n(i.left)&&n(i.right))return!0;const s=e(i.top)||e(i.bottom),o=n(i.left)||n(i.right);if(s&&o)return!0;const l=i.top<t.top&&i.bottom>t.bottom,c=i.left<t.left&&i.right>t.right;return l&&c?!0:l&&o||c&&s}},npe=t=>{const e=Tl(t.top,t.bottom),n=Tl(t.left,t.right);return i=>e(i.top)&&e(i.bottom)&&n(i.left)&&n(i.right)};const d3={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},hW={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var ipe=t=>e=>{const n=Tl(e.top,e.bottom),i=Tl(e.left,e.right);return r=>t===d3?n(r.top)&&n(r.bottom):i(r.left)&&i(r.right)};const rpe=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:Vr;return nT(t,n)},spe=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,ope=(t,e,n)=>n(e)(t),f3=({target:t,destination:e,viewport:n,withDroppableDisplacement:i,isVisibleThroughFrameFn:r})=>{const s=i?rpe(t,e):t;return spe(s,e,r)&&ope(s,n,r)},ape=t=>f3({...t,isVisibleThroughFrameFn:fW}),pW=t=>f3({...t,isVisibleThroughFrameFn:npe}),lpe=t=>f3({...t,isVisibleThroughFrameFn:ipe(t.destination.axis)}),cpe=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:i,visible:r}=e;if(i[t])return!1;const s=r[t];return s?s.shouldAnimate:!0};function upe(t,e){const n=t.page.marginBox,i={top:e.point.y,right:0,bottom:0,left:e.point.x};return _c(a3(n,i))}function UC({afterDragging:t,destination:e,displacedBy:n,viewport:i,forceShouldAnimate:r,last:s}){return t.reduce(function(a,l){const c=upe(l,n),d=l.descriptor.id;if(a.all.push(d),!ape({target:c,destination:e,viewport:i,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const p=cpe(d,s,r),m={draggableId:d,shouldAnimate:p};return a.visible[d]=m,a},{all:[],visible:{},invisible:{}})}function dpe(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function u6({insideDestination:t,inHomeList:e,displacedBy:n,destination:i}){const r=dpe(t,{inHomeList:e});return{displaced:HC,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:r}}}}function FR({draggable:t,insideDestination:e,destination:n,viewport:i,displacedBy:r,last:s,index:o,forceShouldAnimate:a}){const l=s1(t,n);if(o==null)return u6({insideDestination:e,inHomeList:l,displacedBy:r,destination:n});const c=e.find(v=>v.descriptor.index===o);if(!c)return u6({insideDestination:e,inHomeList:l,displacedBy:r,destination:n});const d=yD(t,e),h=e.indexOf(c),p=d.slice(h);return{displaced:UC({afterDragging:p,destination:n,displacedBy:r,last:s,viewport:i.frame,forceShouldAnimate:a}),displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Op(t,e){return!!e.effected[t]}var fpe=({isMovingForward:t,destination:e,draggables:n,combine:i,afterCritical:r})=>{if(!e.isCombineEnabled)return null;const s=i.draggableId,a=n[s].descriptor.index;return Op(s,r)?t?a:a-1:t?a+1:a},hpe=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:i})=>{if(!n.length)return null;const r=i.index,s=t?r+1:r-1,o=n[0].descriptor.index,a=n[n.length-1].descriptor.index,l=e?a:a+1;return s<o||s>l?null:s},ppe=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:i,destination:r,insideDestination:s,previousImpact:o,viewport:a,afterCritical:l})=>{const c=o.at;if(c||qe(),c.type==="REORDER"){const h=hpe({isMovingForward:t,isInHomeList:e,location:c.destination,insideDestination:s});return h==null?null:FR({draggable:n,insideDestination:s,destination:r,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:h})}const d=fpe({isMovingForward:t,destination:r,displaced:o.displaced,draggables:i,combine:c.combine,afterCritical:l});return d==null?null:FR({draggable:n,insideDestination:s,destination:r,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:d})},mpe=({displaced:t,afterCritical:e,combineWith:n,displacedBy:i})=>{const r=!!(t.visible[n]||t.invisible[n]);return Op(n,e)?r?Vr:i1(i.point):r?i.point:Vr},gpe=({afterCritical:t,impact:e,draggables:n})=>{const i=gD(e);i||qe();const r=i.draggableId,s=n[r].page.borderBox.center,o=mpe({displaced:e.displaced,afterCritical:t,combineWith:r,displacedBy:e.displacedBy});return ls(s,o)};const mW=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,ype=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,h3=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,d6=({axis:t,moveRelativeTo:e,isMoving:n})=>Wy(t.line,e.marginBox[t.end]+mW(t,n),h3(t,e.marginBox,n)),f6=({axis:t,moveRelativeTo:e,isMoving:n})=>Wy(t.line,e.marginBox[t.start]-ype(t,n),h3(t,e.marginBox,n)),bpe=({axis:t,moveInto:e,isMoving:n})=>Wy(t.line,e.contentBox[t.start]+mW(t,n),h3(t,e.contentBox,n));var vpe=({impact:t,draggable:e,draggables:n,droppable:i,afterCritical:r})=>{const s=r1(i.descriptor.id,n),o=e.page,a=i.axis;if(!s.length)return bpe({axis:a,moveInto:i.page,isMoving:o});const{displaced:l,displacedBy:c}=t,d=l.all[0];if(d){const p=n[d];if(Op(d,r))return f6({axis:a,moveRelativeTo:p.page,isMoving:o});const m=OR(p.page,c.point);return f6({axis:a,moveRelativeTo:m,isMoving:o})}const h=s[s.length-1];if(h.descriptor.id===e.descriptor.id)return o.borderBox.center;if(Op(h.descriptor.id,r)){const p=OR(h.page,i1(r.displacedBy.point));return d6({axis:a,moveRelativeTo:p,isMoving:o})}return d6({axis:a,moveRelativeTo:h.page,isMoving:o})},yj=(t,e)=>{const n=t.frame;return n?ls(e,n.scroll.diff.displacement):e};const xpe=({impact:t,draggable:e,droppable:n,draggables:i,afterCritical:r})=>{const s=e.page.borderBox.center,o=t.at;return!n||!o?s:o.type==="REORDER"?vpe({impact:t,draggable:e,draggables:i,droppable:n,afterCritical:r}):gpe({impact:t,draggables:i,afterCritical:r})};var bD=t=>{const e=xpe(t),n=t.droppable;return n?yj(n,e):e},gW=(t,e)=>{const n=Ta(e,t.scroll.initial),i=i1(n);return{frame:_c({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:i}}}};function h6(t,e){return t.map(n=>e[n])}function wpe(t,e){for(let n=0;n<e.length;n++){const i=e[n].visible[t];if(i)return i}return null}var Spe=({impact:t,viewport:e,destination:n,draggables:i,maxScrollChange:r})=>{const s=gW(e,ls(e.scroll.current,r)),o=n.frame?c3(n,ls(n.frame.scroll.current,r)):n,a=t.displaced,l=UC({afterDragging:h6(a.all,i),destination:n,displacedBy:t.displacedBy,viewport:s.frame,last:a,forceShouldAnimate:!1}),c=UC({afterDragging:h6(a.all,i),destination:o,displacedBy:t.displacedBy,viewport:e.frame,last:a,forceShouldAnimate:!1}),d={},h={},p=[a,l,c];return a.all.forEach(v=>{const S=wpe(v,p);if(S){h[v]=S;return}d[v]=!0}),{...t,displaced:{all:a.all,invisible:d,visible:h}}},Cpe=(t,e)=>ls(t.scroll.diff.displacement,e),p3=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const i=Cpe(n,t),r=Ta(i,e.page.borderBox.center);return ls(e.client.borderBox.center,r)},yW=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:i,withDroppableDisplacement:r,onlyOnMainAxis:s=!1})=>{const o=Ta(n,t.page.borderBox.center),l={target:nT(t.page.borderBox,o),destination:e,withDroppableDisplacement:r,viewport:i};return s?lpe(l):pW(l)},Ape=({isMovingForward:t,draggable:e,destination:n,draggables:i,previousImpact:r,viewport:s,previousPageBorderBoxCenter:o,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const c=r1(n.descriptor.id,i),d=s1(e,n),h=epe({isMovingForward:t,draggable:e,destination:n,insideDestination:c,previousImpact:r})||ppe({isMovingForward:t,isInHomeList:d,draggable:e,draggables:i,destination:n,insideDestination:c,previousImpact:r,viewport:s,afterCritical:l});if(!h)return null;const p=bD({impact:h,draggable:e,droppable:n,draggables:i,afterCritical:l});if(yW({draggable:e,destination:n,newPageBorderBoxCenter:p,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:p3({pageBorderBoxCenter:p,draggable:e,viewport:s}),impact:h,scrollJumpRequest:null};const v=Ta(p,o),S=Spe({impact:h,viewport:s,destination:n,draggables:i,maxScrollChange:v});return{clientSelection:a,impact:S,scrollJumpRequest:v}};const so=t=>{const e=t.subject.active;return e||qe(),e};var Epe=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:i,viewport:r})=>{const s=n.subject.active;if(!s)return null;const o=n.axis,a=Tl(s[o.start],s[o.end]),l=mD(i).filter(d=>d!==n).filter(d=>d.isEnabled).filter(d=>!!d.subject.active).filter(d=>fW(r.frame)(so(d))).filter(d=>{const h=so(d);return t?s[o.crossAxisEnd]<h[o.crossAxisEnd]:h[o.crossAxisStart]<s[o.crossAxisStart]}).filter(d=>{const h=so(d),p=Tl(h[o.start],h[o.end]);return a(h[o.start])||a(h[o.end])||p(s[o.start])||p(s[o.end])}).sort((d,h)=>{const p=so(d)[o.crossAxisStart],m=so(h)[o.crossAxisStart];return t?p-m:m-p}).filter((d,h,p)=>so(d)[o.crossAxisStart]===so(p[0])[o.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const c=l.filter(d=>Tl(so(d)[o.start],so(d)[o.end])(e[o.line]));return c.length===1?c[0]:c.length>1?c.sort((d,h)=>so(d)[o.start]-so(h)[o.start])[0]:l.sort((d,h)=>{const p=l6(e,c6(so(d))),m=l6(e,c6(so(h)));return p!==m?p-m:so(d)[o.start]-so(h)[o.start]})[0]};const p6=(t,e)=>{const n=t.page.borderBox.center;return Op(t.descriptor.id,e)?Ta(n,e.displacedBy.point):n},Tpe=(t,e)=>{const n=t.page.borderBox;return Op(t.descriptor.id,e)?nT(n,i1(e.displacedBy.point)):n};var kpe=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:i,afterCritical:r})=>i.filter(o=>pW({target:Tpe(o,r),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((o,a)=>{const l=VC(t,yj(n,p6(o,r))),c=VC(t,yj(n,p6(a,r)));return l<c?-1:c<l?1:o.descriptor.index-a.descriptor.index})[0]||null,iT=$r(function(e,n){const i=n[e.line];return{value:i,point:Wy(e.line,i)}});const _pe=(t,e,n)=>{const i=t.axis;if(t.descriptor.mode==="virtual")return Wy(i.line,e[i.line]);const r=t.subject.page.contentBox[i.size],l=r1(t.descriptor.id,n).reduce((c,d)=>c+d.client.marginBox[i.size],0)+e[i.line]-r;return l<=0?null:Wy(i.line,l)},bW=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),vW=(t,e,n)=>{const i=t.frame;s1(e,t)&&qe(),t.subject.withPlaceholder&&qe();const r=iT(t.axis,e.displaceBy).point,s=_pe(t,r,n),o={placeholderSize:r,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){const d=_x({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:t.frame});return{...t,subject:d}}const a=s?ls(i.scroll.max,s):i.scroll.max,l=bW(i,a),c=_x({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:l});return{...t,subject:c,frame:l}},Mpe=t=>{const e=t.subject.withPlaceholder;e||qe();const n=t.frame;if(!n){const o=_x({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:o}}const i=e.oldFrameMaxScroll;i||qe();const r=bW(n,i),s=_x({page:t.subject.page,axis:t.axis,frame:r,withPlaceholder:null});return{...t,subject:s,frame:r}};var Rpe=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:i,draggables:r,destination:s,viewport:o,afterCritical:a})=>{if(!e){if(n.length)return null;const h={displaced:HC,displacedBy:dW,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},p=bD({impact:h,draggable:i,droppable:s,draggables:r,afterCritical:a}),m=s1(i,s)?s:vW(s,i,r);return yW({draggable:i,destination:m,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?h:null}const l=t[s.axis.line]<=e.page.borderBox.center[s.axis.line],c=(()=>{const h=e.descriptor.index;return e.descriptor.id===i.descriptor.id||l?h:h+1})(),d=iT(s.axis,i.displaceBy);return FR({draggable:i,insideDestination:n,destination:s,viewport:o,displacedBy:d,last:HC,index:c})},Dpe=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:i,draggables:r,droppables:s,viewport:o,afterCritical:a})=>{const l=Epe({isMovingForward:t,pageBorderBoxCenter:e,source:i,droppables:s,viewport:o});if(!l)return null;const c=r1(l.descriptor.id,r),d=kpe({pageBorderBoxCenter:e,viewport:o,destination:l,insideDestination:c,afterCritical:a}),h=Rpe({previousPageBorderBoxCenter:e,destination:l,draggable:n,draggables:r,moveRelativeTo:d,insideDestination:c,viewport:o,afterCritical:a});if(!h)return null;const p=bD({impact:h,draggable:n,droppable:l,draggables:r,afterCritical:a});return{clientSelection:p3({pageBorderBoxCenter:p,draggable:n,viewport:o}),impact:h,scrollJumpRequest:null}},Ma=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const Npe=(t,e)=>{const n=Ma(t);return n?e[n]:null};var Ppe=({state:t,type:e})=>{const n=Npe(t.impact,t.dimensions.droppables),i=!!n,r=t.dimensions.droppables[t.critical.droppable.id],s=n||r,o=s.axis.direction,a=o==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||o==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(a&&!i)return null;const l=e==="MOVE_DOWN"||e==="MOVE_RIGHT",c=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,{draggables:h,droppables:p}=t.dimensions;return a?Ape({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:c,destination:s,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Dpe({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:c,isOver:s,draggables:h,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function pg(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function xW(t){const e=Tl(t.top,t.bottom),n=Tl(t.left,t.right);return function(r){return e(r.y)&&n(r.x)}}function Ope(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function Lpe({pageBorderBox:t,draggable:e,candidates:n}){const i=e.page.borderBox.center,r=n.map(s=>{const o=s.axis,a=Wy(s.axis.line,t.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:VC(i,a)}}).sort((s,o)=>o.distance-s.distance);return r[0]?r[0].id:null}function jpe({pageBorderBox:t,draggable:e,droppables:n}){const i=mD(n).filter(r=>{if(!r.isEnabled)return!1;const s=r.subject.active;if(!s||!Ope(t,s))return!1;if(xW(s)(t.center))return!0;const o=r.axis,a=s.center[o.crossAxisLine],l=t[o.crossAxisStart],c=t[o.crossAxisEnd],d=Tl(s[o.crossAxisStart],s[o.crossAxisEnd]),h=d(l),p=d(c);return!h&&!p?!0:h?l<a:c>a});return i.length?i.length===1?i[0].descriptor.id:Lpe({pageBorderBox:t,draggable:e,candidates:i}):null}const wW=(t,e)=>_c(nT(t,e));var Ipe=(t,e)=>{const n=t.frame;return n?wW(e,n.scroll.diff.value):e};function SW({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function Fpe({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var $pe=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:i,last:r,viewport:s,afterCritical:o})=>{const a=n.axis,l=iT(n.axis,e.displaceBy),c=l.value,d=t[a.start],h=t[a.end],m=yD(e,i).find(S=>{const A=S.descriptor.id,E=S.page.borderBox.center[a.line],M=Op(A,o),R=SW({displaced:r,id:A});return M?R?h<=E:d<E-c:R?h<=E+c:d<E})||null,v=Fpe({draggable:e,closest:m,inHomeList:s1(e,n)});return FR({draggable:e,insideDestination:i,destination:n,viewport:s,last:r,displacedBy:l,index:v})};const zpe=4;var Bpe=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:i,insideDestination:r,afterCritical:s})=>{if(!i.isCombineEnabled)return null;const o=i.axis,a=iT(i.axis,t.displaceBy),l=a.value,c=e[o.start],d=e[o.end],p=yD(t,r).find(v=>{const S=v.descriptor.id,A=v.page.borderBox,M=A[o.size]/zpe,R=Op(S,s),N=SW({displaced:n.displaced,id:S});return R?N?d>A[o.start]+M&&d<A[o.end]-M:c>A[o.start]-l+M&&c<A[o.end]-l-M:N?d>A[o.start]+l+M&&d<A[o.end]+l-M:c>A[o.start]+M&&c<A[o.end]-M});return p?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:i.descriptor.id}}}:null},CW=({pageOffset:t,draggable:e,draggables:n,droppables:i,previousImpact:r,viewport:s,afterCritical:o})=>{const a=wW(e.page.borderBox,t),l=jpe({pageBorderBox:a,draggable:e,droppables:i});if(!l)return tpe;const c=i[l],d=r1(c.descriptor.id,n),h=Ipe(c,a);return Bpe({pageBorderBoxWithDroppableScroll:h,draggable:e,previousImpact:r,destination:c,insideDestination:d,afterCritical:o})||$pe({pageBorderBoxWithDroppableScroll:h,draggable:e,destination:c,insideDestination:d,last:r.displaced,viewport:s,afterCritical:o})},m3=(t,e)=>({...t,[e.descriptor.id]:e});const Vpe=({previousImpact:t,impact:e,droppables:n})=>{const i=Ma(t),r=Ma(e);if(!i||i===r)return n;const s=n[i];if(!s.subject.withPlaceholder)return n;const o=Mpe(s);return m3(n,o)};var Hpe=({draggable:t,draggables:e,droppables:n,previousImpact:i,impact:r})=>{const s=Vpe({previousImpact:i,impact:r,droppables:n}),o=Ma(r);if(!o)return s;const a=n[o];if(s1(t,a)||a.subject.withPlaceholder)return s;const l=vW(a,t,e);return m3(s,l)},gC=({state:t,clientSelection:e,dimensions:n,viewport:i,impact:r,scrollJumpRequest:s})=>{const o=i||t.viewport,a=n||t.dimensions,l=e||t.current.client.selection,c=Ta(l,t.initial.client.selection),d={offset:c,selection:l,borderBoxCenter:ls(t.initial.client.borderBoxCenter,c)},h={selection:ls(d.selection,o.scroll.current),borderBoxCenter:ls(d.borderBoxCenter,o.scroll.current),offset:ls(d.offset,o.scroll.diff.value)},p={client:d,page:h};if(t.phase==="COLLECTING")return{...t,dimensions:a,viewport:o,current:p};const m=a.draggables[t.critical.draggable.id],v=r||CW({pageOffset:h.offset,draggable:m,draggables:a.draggables,droppables:a.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),S=Hpe({draggable:m,impact:v,previousImpact:t.impact,draggables:a.draggables,droppables:a.droppables});return{...t,current:p,dimensions:{draggables:a.draggables,droppables:S},impact:v,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function Upe(t,e){return t.map(n=>e[n])}var AW=({impact:t,viewport:e,draggables:n,destination:i,forceShouldAnimate:r})=>{const s=t.displaced,o=Upe(s.all,n),a=UC({afterDragging:o,destination:i,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:r,last:s});return{...t,displaced:a}},EW=({impact:t,draggable:e,droppable:n,draggables:i,viewport:r,afterCritical:s})=>{const o=bD({impact:t,draggable:e,draggables:i,droppable:n,afterCritical:s});return p3({pageBorderBoxCenter:o,draggable:e,viewport:r})},TW=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&qe();const i=t.impact,r=n||t.viewport,s=e||t.dimensions,{draggables:o,droppables:a}=s,l=o[t.critical.draggable.id],c=Ma(i);c||qe();const d=a[c],h=AW({impact:i,viewport:r,destination:d,draggables:o}),p=EW({impact:h,draggable:l,droppable:d,draggables:o,viewport:r,afterCritical:t.afterCritical});return gC({impact:h,clientSelection:p,state:t,dimensions:s,viewport:r})},qpe=t=>({index:t.index,droppableId:t.droppableId}),kW=({draggable:t,home:e,draggables:n,viewport:i})=>{const r=iT(e.axis,t.displaceBy),s=r1(e.descriptor.id,n),o=s.indexOf(t);o===-1&&qe();const a=s.slice(o+1),l=a.reduce((p,m)=>(p[m.descriptor.id]=!0,p),{}),c={inVirtualList:e.descriptor.mode==="virtual",displacedBy:r,effected:l};return{impact:{displaced:UC({afterDragging:a,destination:e,displacedBy:r,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:r,at:{type:"REORDER",destination:qpe(t.descriptor)}},afterCritical:c}},Gpe=(t,e)=>({draggables:t.draggables,droppables:m3(t.droppables,e)}),Wpe=({draggable:t,offset:e,initialWindowScroll:n})=>{const i=OR(t.client,e),r=LR(i,n);return{...t,placeholder:{...t.placeholder,client:i},client:i,page:r}},Kpe=t=>{const e=t.frame;return e||qe(),e},Ype=({additions:t,updatedDroppables:e,viewport:n})=>{const i=n.scroll.diff.value;return t.map(r=>{const s=r.descriptor.droppableId,o=e[s],l=Kpe(o).scroll.diff.value,c=ls(i,l);return Wpe({draggable:r,offset:c,initialWindowScroll:n.scroll.initial})})},Xpe=({state:t,published:e})=>{const n=e.modified.map(E=>{const M=t.dimensions.droppables[E.droppableId];return c3(M,E.scroll)}),i={...t.dimensions.droppables,...cW(n)},r=uW(Ype({additions:e.additions,updatedDroppables:i,viewport:t.viewport})),s={...t.dimensions.draggables,...r};e.removals.forEach(E=>{delete s[E]});const o={droppables:i,draggables:s},a=Ma(t.impact),l=a?o.droppables[a]:null,c=o.draggables[t.critical.draggable.id],d=o.droppables[t.critical.droppable.id],{impact:h,afterCritical:p}=kW({draggable:c,home:d,draggables:s,viewport:t.viewport}),m=l&&l.isCombineEnabled?t.impact:h,v=CW({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:m,viewport:t.viewport,afterCritical:p}),S={...t,phase:"DRAGGING",impact:v,onLiftImpact:h,dimensions:o,afterCritical:p,forceShouldAnimate:!1};return t.phase==="COLLECTING"?S:{...S,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const bj=t=>t.movementMode==="SNAP",rO=(t,e,n)=>{const i=Gpe(t.dimensions,e);return!bj(t)||n?gC({state:t,dimensions:i}):TW({state:t,dimensions:i})};function sO(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const m6={phase:"IDLE",completed:null,shouldFlush:!1};var Jpe=(t=m6,e)=>{if(e.type==="FLUSH")return{...m6,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&qe();const{critical:n,clientSelection:i,viewport:r,dimensions:s,movementMode:o}=e.payload,a=s.draggables[n.draggable.id],l=s.droppables[n.droppable.id],c={selection:i,borderBoxCenter:a.client.borderBox.center,offset:Vr},d={client:c,page:{selection:ls(c.selection,r.scroll.initial),borderBoxCenter:ls(c.selection,r.scroll.initial),offset:ls(c.selection,r.scroll.diff.value)}},h=mD(s.droppables).every(S=>!S.isFixedOnPage),{impact:p,afterCritical:m}=kW({draggable:a,home:l,draggables:s.draggables,viewport:r});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:s,initial:d,current:d,isWindowScrollAllowed:h,impact:p,afterCritical:m,onLiftImpact:p,viewport:r,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&qe(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||qe(),Xpe({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;pg(t)||qe();const{client:n}=e.payload;return Tp(n,t.current.client.selection)?t:gC({state:t,clientSelection:n,impact:bj(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return sO(t);pg(t)||qe();const{id:n,newScroll:i}=e.payload,r=t.dimensions.droppables[n];if(!r)return t;const s=c3(r,i);return rO(t,s,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;pg(t)||qe();const{id:n,isEnabled:i}=e.payload,r=t.dimensions.droppables[n];r||qe(),r.isEnabled===i&&qe();const s={...r,isEnabled:i};return rO(t,s,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;pg(t)||qe();const{id:n,isCombineEnabled:i}=e.payload,r=t.dimensions.droppables[n];r||qe(),r.isCombineEnabled===i&&qe();const s={...r,isCombineEnabled:i};return rO(t,s,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;pg(t)||qe(),t.isWindowScrollAllowed||qe();const n=e.payload.newScroll;if(Tp(t.viewport.scroll.current,n))return sO(t);const i=gW(t.viewport,n);return bj(t)?TW({state:t,viewport:i}):gC({state:t,viewport:i})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!pg(t))return t;const n=e.payload.maxScroll;if(Tp(n,t.viewport.scroll.max))return t;const i={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:i}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&qe();const n=Ppe({state:t,type:e.type});return n?gC({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&qe(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:i,newHomeClientOffset:r}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||qe(),{phase:"DROP_ANIMATING",completed:n,dropDuration:i,newHomeClientOffset:r,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function zn(t,e){return t instanceof Object&&"type"in t&&t.type===e}const Zpe=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),Qpe=t=>({type:"LIFT",payload:t}),eme=t=>({type:"INITIAL_PUBLISH",payload:t}),tme=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),nme=()=>({type:"COLLECTION_STARTING",payload:null}),ime=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),rme=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),sme=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),_W=t=>({type:"MOVE",payload:t}),ome=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),ame=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),lme=()=>({type:"MOVE_UP",payload:null}),cme=()=>({type:"MOVE_DOWN",payload:null}),ume=()=>({type:"MOVE_RIGHT",payload:null}),dme=()=>({type:"MOVE_LEFT",payload:null}),g3=()=>({type:"FLUSH",payload:null}),fme=t=>({type:"DROP_ANIMATE",payload:t}),y3=t=>({type:"DROP_COMPLETE",payload:t}),MW=t=>({type:"DROP",payload:t}),hme=t=>({type:"DROP_PENDING",payload:t}),RW=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var pme=t=>({getState:e,dispatch:n})=>i=>r=>{if(!zn(r,"LIFT")){i(r);return}const{id:s,clientSelection:o,movementMode:a}=r.payload,l=e();l.phase==="DROP_ANIMATING"&&n(y3({completed:l.completed})),e().phase!=="IDLE"&&qe(),n(g3()),n(Zpe({draggableId:s,movementMode:a}));const d={draggableId:s,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:h,dimensions:p,viewport:m}=t.startPublishing(d);n(eme({critical:h,dimensions:p,clientSelection:o,movementMode:a,viewport:m}))},mme=t=>()=>e=>n=>{zn(n,"INITIAL_PUBLISH")&&t.dragging(),zn(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(zn(n,"FLUSH")||zn(n,"DROP_COMPLETE"))&&t.resting(),e(n)};const b3={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},qC={opacity:{drop:0,combining:.7},scale:{drop:.75}},DW={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},cg=`${DW.outOfTheWay}s ${b3.outOfTheWay}`,yC={fluid:`opacity ${cg}`,snap:`transform ${cg}, opacity ${cg}`,drop:t=>{const e=`${t}s ${b3.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${cg}`,placeholder:`height ${cg}, width ${cg}, margin ${cg}`},g6=t=>Tp(t,Vr)?void 0:`translate(${t.x}px, ${t.y}px)`,vj={moveTo:g6,drop:(t,e)=>{const n=g6(t);if(n)return e?`${n} scale(${qC.scale.drop})`:n}},{minDropTime:xj,maxDropTime:NW}=DW,gme=NW-xj,y6=1500,yme=.6;var bme=({current:t,destination:e,reason:n})=>{const i=VC(t,e);if(i<=0)return xj;if(i>=y6)return NW;const r=i/y6,s=xj+gme*r,o=n==="CANCEL"?s*yme:s;return Number(o.toFixed(2))},vme=({impact:t,draggable:e,dimensions:n,viewport:i,afterCritical:r})=>{const{draggables:s,droppables:o}=n,a=Ma(t),l=a?o[a]:null,c=o[e.descriptor.droppableId],d=EW({impact:t,draggable:e,draggables:s,afterCritical:r,droppable:l||c,viewport:i});return Ta(d,e.client.borderBox.center)},xme=({draggables:t,reason:e,lastImpact:n,home:i,viewport:r,onLiftImpact:s})=>!n.at||e!=="DROP"?{impact:AW({draggables:t,impact:s,destination:i,viewport:r,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:HC},didDropInsideDroppable:!0};const wme=({getState:t,dispatch:e})=>n=>i=>{if(!zn(i,"DROP")){n(i);return}const r=t(),s=i.payload.reason;if(r.phase==="COLLECTING"){e(hme({reason:s}));return}if(r.phase==="IDLE")return;r.phase==="DROP_PENDING"&&r.isWaiting&&qe(),r.phase==="DRAGGING"||r.phase==="DROP_PENDING"||qe();const a=r.critical,l=r.dimensions,c=l.draggables[r.critical.draggable.id],{impact:d,didDropInsideDroppable:h}=xme({reason:s,lastImpact:r.impact,afterCritical:r.afterCritical,onLiftImpact:r.onLiftImpact,home:r.dimensions.droppables[r.critical.droppable.id],viewport:r.viewport,draggables:r.dimensions.draggables}),p=h?u3(d):null,m=h?gD(d):null,v={index:a.draggable.index,droppableId:a.droppable.id},S={draggableId:c.descriptor.id,type:c.descriptor.type,source:v,reason:s,mode:r.movementMode,destination:p,combine:m},A=vme({impact:d,draggable:c,dimensions:l,viewport:r.viewport,afterCritical:r.afterCritical}),E={critical:r.critical,afterCritical:r.afterCritical,result:S,impact:d};if(!(!Tp(r.current.client.offset,A)||!!S.combine)){e(y3({completed:E}));return}const R=bme({current:r.current.client.offset,destination:A,reason:s});e(fme({newHomeClientOffset:A,dropDuration:R,completed:E}))};var PW=()=>({x:window.pageXOffset,y:window.pageYOffset});function Sme(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function Cme({onWindowScroll:t}){function e(){t(PW())}const n=zC(e),i=Sme(n);let r=Ep;function s(){return r!==Ep}function o(){s()&&qe(),r=Sl(window,[i])}function a(){s()||qe(),n.cancel(),r(),r=Ep}return{start:o,stop:a,isActive:s}}const Ame=t=>zn(t,"DROP_COMPLETE")||zn(t,"DROP_ANIMATE")||zn(t,"FLUSH"),Eme=t=>{const e=Cme({onWindowScroll:n=>{t.dispatch(ome({newScroll:n}))}});return n=>i=>{!e.isActive()&&zn(i,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&Ame(i)&&e.stop(),n(i)}};var Tme=t=>{let e=!1,n=!1;const i=setTimeout(()=>{n=!0}),r=s=>{e||n||(e=!0,t(s),clearTimeout(i))};return r.wasCalled=()=>e,r},kme=()=>{const t=[],e=r=>{const s=t.findIndex(a=>a.timerId===r);s===-1&&qe();const[o]=t.splice(s,1);o.callback()};return{add:r=>{const s=setTimeout(()=>e(s)),o={timerId:s,callback:r};t.push(o)},flush:()=>{if(!t.length)return;const r=[...t];t.length=0,r.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const _me=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,Mme=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,Rme=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,i=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&i},TS=(t,e)=>{e()},U_=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function oO(t,e,n,i){if(!t){n(i(e));return}const r=Tme(n);t(e,{announce:r}),r.wasCalled()||n(i(e))}var Dme=(t,e)=>{const n=kme();let i=null;const r=(h,p)=>{i&&qe(),TS("onBeforeCapture",()=>{const m=t().onBeforeCapture;m&&m({draggableId:h,mode:p})})},s=(h,p)=>{i&&qe(),TS("onBeforeDragStart",()=>{const m=t().onBeforeDragStart;m&&m(U_(h,p))})},o=(h,p)=>{i&&qe();const m=U_(h,p);i={mode:p,lastCritical:h,lastLocation:m.source,lastCombine:null},n.add(()=>{TS("onDragStart",()=>oO(t().onDragStart,m,e,DM.onDragStart))})},a=(h,p)=>{const m=u3(p),v=gD(p);i||qe();const S=!Rme(h,i.lastCritical);S&&(i.lastCritical=h);const A=!_me(i.lastLocation,m);A&&(i.lastLocation=m);const E=!Mme(i.lastCombine,v);if(E&&(i.lastCombine=v),!S&&!A&&!E)return;const M={...U_(h,i.mode),combine:v,destination:m};n.add(()=>{TS("onDragUpdate",()=>oO(t().onDragUpdate,M,e,DM.onDragUpdate))})},l=()=>{i||qe(),n.flush()},c=h=>{i||qe(),i=null,TS("onDragEnd",()=>oO(t().onDragEnd,h,e,DM.onDragEnd))};return{beforeCapture:r,beforeStart:s,start:o,update:a,flush:l,drop:c,abort:()=>{if(!i)return;const h={...U_(i.lastCritical,i.mode),combine:null,destination:null,reason:"CANCEL"};c(h)}}},Nme=(t,e)=>{const n=Dme(t,e);return i=>r=>s=>{if(zn(s,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(zn(s,"INITIAL_PUBLISH")){const a=s.payload.critical;n.beforeStart(a,s.payload.movementMode),r(s),n.start(a,s.payload.movementMode);return}if(zn(s,"DROP_COMPLETE")){const a=s.payload.completed.result;n.flush(),r(s),n.drop(a);return}if(r(s),zn(s,"FLUSH")){n.abort();return}const o=i.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const Pme=t=>e=>n=>{if(!zn(n,"DROP_ANIMATION_FINISHED")){e(n);return}const i=t.getState();i.phase!=="DROP_ANIMATING"&&qe(),t.dispatch(y3({completed:i.completed}))},Ome=t=>{let e=null,n=null;function i(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return r=>s=>{if((zn(s,"FLUSH")||zn(s,"DROP_COMPLETE")||zn(s,"DROP_ANIMATION_FINISHED"))&&i(),r(s),!zn(s,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(RW())}};n=requestAnimationFrame(()=>{n=null,e=Sl(window,[o])})}};var Lme=t=>()=>e=>n=>{(zn(n,"DROP_COMPLETE")||zn(n,"FLUSH")||zn(n,"DROP_ANIMATE"))&&t.stopPublishing(),e(n)},jme=t=>{let e=!1;return()=>n=>i=>{if(zn(i,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(i.payload.critical.draggable.id),n(i),t.tryRestoreFocusRecorded();return}if(n(i),!!e){if(zn(i,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(zn(i,"DROP_COMPLETE")){e=!1;const r=i.payload.completed.result;r.combine&&t.tryShiftRecord(r.draggableId,r.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const Ime=t=>zn(t,"DROP_COMPLETE")||zn(t,"DROP_ANIMATE")||zn(t,"FLUSH");var Fme=t=>e=>n=>i=>{if(Ime(i)){t.stop(),n(i);return}if(zn(i,"INITIAL_PUBLISH")){n(i);const r=e.getState();r.phase!=="DRAGGING"&&qe(),t.start(r);return}n(i),t.scroll(e.getState())};const $me=t=>e=>n=>{if(e(n),!zn(n,"PUBLISH_WHILE_DRAGGING"))return;const i=t.getState();i.phase==="DROP_PENDING"&&(i.isWaiting||t.dispatch(MW({reason:i.reason})))},zme=YG;var Bme=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:i,announce:r,autoScroller:s})=>KG(Jpe,zme(zfe(mme(n),Lme(t),pme(t),wme,Pme,Ome,$me,Fme(s),Eme,jme(e),Nme(i,r))));const aO=()=>({additions:{},removals:{},modified:{}});function Vme({registry:t,callbacks:e}){let n=aO(),i=null;const r=()=>{i||(e.collectionStarting(),i=requestAnimationFrame(()=>{i=null;const{additions:l,removals:c,modified:d}=n,h=Object.keys(l).map(v=>t.draggable.getById(v).getDimension(Vr)).sort((v,S)=>v.descriptor.index-S.descriptor.index),p=Object.keys(d).map(v=>{const A=t.droppable.getById(v).callbacks.getScrollWhileDragging();return{droppableId:v,scroll:A}}),m={additions:h,removals:Object.keys(c),modified:p};n=aO(),e.publish(m)}))};return{add:l=>{const c=l.descriptor.id;n.additions[c]=l,n.modified[l.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],r()},remove:l=>{const c=l.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],r()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,n=aO())}}}var OW=({scrollHeight:t,scrollWidth:e,height:n,width:i})=>{const r=Ta({x:e,y:t},{x:i,y:n});return{x:Math.max(0,r.x),y:Math.max(0,r.y)}},LW=()=>{const t=document.documentElement;return t||qe(),t},jW=()=>{const t=LW();return OW({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},Hme=()=>{const t=PW(),e=jW(),n=t.y,i=t.x,r=LW(),s=r.clientWidth,o=r.clientHeight,a=i+s,l=n+o;return{frame:_c({top:n,left:i,right:a,bottom:l}),scroll:{initial:t,current:t,max:e,diff:{value:Vr,displacement:Vr}}}},Ume=({critical:t,scrollOptions:e,registry:n})=>{const i=Hme(),r=i.scroll.current,s=t.droppable,o=n.droppable.getAllByType(s.type).map(d=>d.callbacks.getDimensionAndWatchScroll(r,e)),a=n.draggable.getAllByType(t.draggable.type).map(d=>d.getDimension(r));return{dimensions:{draggables:uW(a),droppables:cW(o)},critical:t,viewport:i}};function b6(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var qme=(t,e)=>{let n=null;const i=Vme({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),r=(p,m)=>{t.droppable.exists(p)||qe(),n&&e.updateDroppableIsEnabled({id:p,isEnabled:m})},s=(p,m)=>{n&&(t.droppable.exists(p)||qe(),e.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:m}))},o=(p,m)=>{n&&(t.droppable.exists(p)||qe(),e.updateDroppableScroll({id:p,newScroll:m}))},a=(p,m)=>{n&&t.droppable.getById(p).callbacks.scroll(m)},l=()=>{if(!n)return;i.stop();const p=n.critical.droppable;t.droppable.getAllByType(p.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},c=p=>{n||qe();const m=n.critical.draggable;p.type==="ADDITION"&&b6(t,m,p.value)&&i.add(p.value),p.type==="REMOVAL"&&b6(t,m,p.value)&&i.remove(p.value)};return{updateDroppableIsEnabled:r,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:o,startPublishing:p=>{n&&qe();const m=t.draggable.getById(p.draggableId),v=t.droppable.getById(m.descriptor.droppableId),S={draggable:m.descriptor,droppable:v.descriptor},A=t.subscribe(c);return n={critical:S,unsubscribe:A},Ume({critical:S,registry:t,scrollOptions:p.scrollOptions})},stopPublishing:l}},IW=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",Gme=t=>{window.scrollBy(t.x,t.y)};const Wme=$r(t=>mD(t).filter(e=>!(!e.isEnabled||!e.frame))),Kme=(t,e)=>Wme(e).find(i=>(i.frame||qe(),xW(i.frame.pageMarginBox)(t)))||null;var Yme=({center:t,destination:e,droppables:n})=>{if(e){const r=n[e];return r.frame?r:null}return Kme(t,n)};const GC={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Xme=(t,e,n=()=>GC)=>{const i=n(),r=t[e.size]*i.startFromPercentage,s=t[e.size]*i.maxScrollAtPercentage;return{startScrollingFrom:r,maxScrollValueAt:s}},FW=({startOfRange:t,endOfRange:e,current:n})=>{const i=e-t;return i===0?0:(n-t)/i},v3=1,Jme=(t,e,n=()=>GC)=>{const i=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return i.maxPixelScroll;if(t===e.startScrollingFrom)return v3;const s=1-FW({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),o=i.maxPixelScroll*i.ease(s);return Math.ceil(o)},Zme=(t,e,n)=>{const i=n(),r=i.durationDampening.accelerateAt,s=i.durationDampening.stopDampeningAt,o=e,a=s,c=Date.now()-o;if(c>=s)return t;if(c<r)return v3;const d=FW({startOfRange:r,endOfRange:a,current:c}),h=t*i.ease(d);return Math.ceil(h)},v6=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:r})=>{const s=Jme(t,e,r);return s===0?0:i?Math.max(Zme(s,n,r),v3):s},x6=({container:t,distanceToEdges:e,dragStartTime:n,axis:i,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const o=Xme(t,i,s);return e[i.end]<e[i.start]?v6({distanceToEdge:e[i.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s}):-1*v6({distanceToEdge:e[i.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})},Qme=({container:t,subject:e,proposedScroll:n})=>{const i=e.height>t.height,r=e.width>t.width;return!r&&!i?n:r&&i?null:{x:r?0:n.x,y:i?0:n.y}};const ege=lW(t=>t===0?0:t);var $W=({dragStartTime:t,container:e,subject:n,center:i,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const o={top:i.y-e.top,right:e.right-i.x,bottom:e.bottom-i.y,left:i.x-e.left},a=x6({container:e,distanceToEdges:o,dragStartTime:t,axis:d3,shouldUseTimeDampening:r,getAutoScrollerOptions:s}),l=x6({container:e,distanceToEdges:o,dragStartTime:t,axis:hW,shouldUseTimeDampening:r,getAutoScrollerOptions:s}),c=ege({x:l,y:a});if(Tp(c,Vr))return null;const d=Qme({container:e,subject:n,proposedScroll:c});return d?Tp(d,Vr)?null:d:null};const tge=lW(t=>t===0?0:t>0?1:-1),x3=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:i})=>{const r=ls(e,i),s={x:t(r.x,n.x),y:t(r.y,n.y)};return Tp(s,Vr)?null:s}})(),zW=({max:t,current:e,change:n})=>{const i={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},r=tge(n),s=x3({max:i,current:e,change:r});return!s||r.x!==0&&s.x===0||r.y!==0&&s.y===0},w3=(t,e)=>zW({current:t.scroll.current,max:t.scroll.max,change:e}),nge=(t,e)=>{if(!w3(t,e))return null;const n=t.scroll.max,i=t.scroll.current;return x3({current:i,max:n,change:e})},S3=(t,e)=>{const n=t.frame;return n?zW({current:n.scroll.current,max:n.scroll.max,change:e}):!1},ige=(t,e)=>{const n=t.frame;return!n||!S3(t,e)?null:x3({current:n.scroll.current,max:n.scroll.max,change:e})};var rge=({viewport:t,subject:e,center:n,dragStartTime:i,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const o=$W({dragStartTime:i,container:t.frame,subject:e,center:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s});return o&&w3(t,o)?o:null},sge=({droppable:t,subject:e,center:n,dragStartTime:i,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const o=t.frame;if(!o)return null;const a=$W({dragStartTime:i,container:o.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s});return a&&S3(t,a)?a:null},w6=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:i,scrollDroppable:r,getAutoScrollerOptions:s})=>{const o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const h=t.viewport,p=rge({dragStartTime:e,viewport:h,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(p){i(p);return}}const c=Yme({center:o,destination:Ma(t.impact),droppables:t.dimensions.droppables});if(!c)return;const d=sge({dragStartTime:e,droppable:c,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});d&&r(c.descriptor.id,d)},oge=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>GC})=>{const i=zC(t),r=zC(e);let s=null;const o=c=>{s||qe();const{shouldUseTimeDampening:d,dragStartTime:h}=s;w6({state:c,scrollWindow:i,scrollDroppable:r,dragStartTime:h,shouldUseTimeDampening:d,getAutoScrollerOptions:n})};return{start:c=>{s&&qe();const d=Date.now();let h=!1;const p=()=>{h=!0};w6({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:n}),s={dragStartTime:d,shouldUseTimeDampening:h},h&&o(c)},stop:()=>{s&&(i.cancel(),r.cancel(),s=null)},scroll:o}},age=({move:t,scrollDroppable:e,scrollWindow:n})=>{const i=(a,l)=>{const c=ls(a.current.client.selection,l);t({client:c})},r=(a,l)=>{if(!S3(a,l))return l;const c=ige(a,l);if(!c)return e(a.descriptor.id,l),null;const d=Ta(l,c);return e(a.descriptor.id,d),Ta(l,d)},s=(a,l,c)=>{if(!a||!w3(l,c))return c;const d=nge(l,c);if(!d)return n(c),null;const h=Ta(c,d);return n(h),Ta(c,h)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const c=Ma(a.impact);c||qe();const d=r(a.dimensions.droppables[c],l);if(!d)return;const h=a.viewport,p=s(a.isWindowScrollAllowed,h,d);p&&i(a,p)}},lge=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:i})=>{const r=oge({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:i}),s=age({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:l=>{if(!(i().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){r.scroll(l);return}l.scrollJumpRequest&&s(l)}},start:r.start,stop:r.stop}};const Mx="data-rfd",Rx=(()=>{const t=`${Mx}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),wj=(()=>{const t=`${Mx}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),cge=(()=>{const t=`${Mx}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),S6={contextId:`${Mx}-scroll-container-context-id`},uge=t=>e=>`[${e}="${t}"]`,kS=(t,e)=>t.map(n=>{const i=n.styles[e];return i?`${n.selector} { ${i} }`:""}).join(" "),dge="pointer-events: none;";var fge=t=>{const e=uge(t),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Rx.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:dge,dropAnimating:a}}})(),i=(()=>{const a=`
      transition: ${yC.outOfTheWay};
    `;return{selector:e(wj.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),r={selector:e(cge.contextId),styles:{always:"overflow-anchor: none;"}},o=[i,n,r,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:kS(o,"always"),resting:kS(o,"resting"),dragging:kS(o,"dragging"),dropAnimating:kS(o,"dropAnimating"),userCancel:kS(o,"userCancel")}};const Ra=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?k.useLayoutEffect:k.useEffect,lO=()=>{const t=document.querySelector("head");return t||qe(),t},C6=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function hge(t,e){const n=wn(()=>fge(t),[t]),i=k.useRef(null),r=k.useRef(null),s=ut($r(h=>{const p=r.current;p||qe(),p.textContent=h}),[]),o=ut(h=>{const p=i.current;p||qe(),p.textContent=h},[]);Ra(()=>{!i.current&&!r.current||qe();const h=C6(e),p=C6(e);return i.current=h,r.current=p,h.setAttribute(`${Mx}-always`,t),p.setAttribute(`${Mx}-dynamic`,t),lO().appendChild(h),lO().appendChild(p),o(n.always),s(n.resting),()=>{const m=v=>{const S=v.current;S||qe(),lO().removeChild(S),v.current=null};m(i),m(r)}},[e,o,s,n.always,n.resting,t]);const a=ut(()=>s(n.dragging),[s,n.dragging]),l=ut(h=>{if(h==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),c=ut(()=>{r.current&&s(n.resting)},[s,n.resting]);return wn(()=>({dragging:a,dropping:l,resting:c}),[a,l,c])}function BW(t,e){return Array.from(t.querySelectorAll(e))}var VW=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function vD(t){return t instanceof VW(t).HTMLElement}function pge(t,e){const n=`[${Rx.contextId}="${t}"]`,i=BW(document,n);if(!i.length)return null;const r=i.find(s=>s.getAttribute(Rx.draggableId)===e);return!r||!vD(r)?null:r}function mge(t){const e=k.useRef({}),n=k.useRef(null),i=k.useRef(null),r=k.useRef(!1),s=ut(function(p,m){const v={id:p,focus:m};return e.current[p]=v,function(){const A=e.current;A[p]!==v&&delete A[p]}},[]),o=ut(function(p){const m=pge(t,p);m&&m!==document.activeElement&&m.focus()},[t]),a=ut(function(p,m){n.current===p&&(n.current=m)},[]),l=ut(function(){i.current||r.current&&(i.current=requestAnimationFrame(()=>{i.current=null;const p=n.current;p&&o(p)}))},[o]),c=ut(function(p){n.current=null;const m=document.activeElement;m&&m.getAttribute(Rx.draggableId)===p&&(n.current=p)},[]);return Ra(()=>(r.current=!0,function(){r.current=!1;const p=i.current;p&&cancelAnimationFrame(p)}),[]),wn(()=>({register:s,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[s,c,l,a])}function gge(){const t={draggables:{},droppables:{}},e=[];function n(h){return e.push(h),function(){const m=e.indexOf(h);m!==-1&&e.splice(m,1)}}function i(h){e.length&&e.forEach(p=>p(h))}function r(h){return t.draggables[h]||null}function s(h){const p=r(h);return p||qe(),p}const o={register:h=>{t.draggables[h.descriptor.id]=h,i({type:"ADDITION",value:h})},update:(h,p)=>{const m=t.draggables[p.descriptor.id];m&&m.uniqueId===h.uniqueId&&(delete t.draggables[p.descriptor.id],t.draggables[h.descriptor.id]=h)},unregister:h=>{const p=h.descriptor.id,m=r(p);m&&h.uniqueId===m.uniqueId&&(delete t.draggables[p],t.droppables[h.descriptor.droppableId]&&i({type:"REMOVAL",value:h}))},getById:s,findById:r,exists:h=>!!r(h),getAllByType:h=>Object.values(t.draggables).filter(p=>p.descriptor.type===h)};function a(h){return t.droppables[h]||null}function l(h){const p=a(h);return p||qe(),p}const c={register:h=>{t.droppables[h.descriptor.id]=h},unregister:h=>{const p=a(h.descriptor.id);p&&h.uniqueId===p.uniqueId&&delete t.droppables[h.descriptor.id]},getById:l,findById:a,exists:h=>!!a(h),getAllByType:h=>Object.values(t.droppables).filter(p=>p.descriptor.type===h)};function d(){t.draggables={},t.droppables={},e.length=0}return{draggable:o,droppable:c,subscribe:n,clean:d}}function yge(){const t=wn(gge,[]);return k.useEffect(()=>function(){t.clean()},[t]),t}var C3=Se.createContext(null),$R=()=>{const t=document.body;return t||qe(),t};const bge={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},vge=t=>`rfd-announcement-${t}`;function xge(t){const e=wn(()=>vge(t),[t]),n=k.useRef(null);return k.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=e,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),BC(s.style,bge),$R().appendChild(s),function(){setTimeout(function(){const l=$R();l.contains(s)&&l.removeChild(s),s===n.current&&(n.current=null)})}},[e]),ut(r=>{const s=n.current;if(s){s.textContent=r;return}},[])}const wge={separator:"::"};function A3(t,e=wge){const n=Se.useId();return wn(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}function Sge({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function Cge({contextId:t,text:e}){const n=A3("hidden-text",{separator:"-"}),i=wn(()=>Sge({contextId:t,uniqueId:n}),[n,t]);return k.useEffect(function(){const s=document.createElement("div");return s.id=i,s.textContent=e,s.style.display="none",$R().appendChild(s),function(){const a=$R();a.contains(s)&&a.removeChild(s)}},[i,e]),i}var xD=Se.createContext(null);function HW(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),e}function Age(){let t=null;function e(){return!!t}function n(o){return o===t}function i(o){t&&qe();const a={abandon:o};return t=a,a}function r(){t||qe(),t=null}function s(){t&&(t.abandon(),r())}return{isClaimed:e,isActive:n,claim:i,release:r,tryAbandon:s}}function WC(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const Ege=9,Tge=13,E3=27,UW=32,kge=33,_ge=34,Mge=35,Rge=36,Dge=37,Nge=38,Pge=39,Oge=40,Lge={[Tge]:!0,[Ege]:!0};var qW=t=>{Lge[t.keyCode]&&t.preventDefault()};const wD=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(i=>`on${i}`in document)||t})(),GW=0,A6=5;function jge(t,e){return Math.abs(e.x-t.x)>=A6||Math.abs(e.y-t.y)>=A6}const E6={type:"IDLE"};function Ige({cancel:t,completed:e,getPhase:n,setPhase:i}){return[{eventName:"mousemove",fn:r=>{const{button:s,clientX:o,clientY:a}=r;if(s!==GW)return;const l={x:o,y:a},c=n();if(c.type==="DRAGGING"){r.preventDefault(),c.actions.move(l);return}c.type!=="PENDING"&&qe();const d=c.point;if(!jge(d,l))return;r.preventDefault();const h=c.actions.fluidLift(l);i({type:"DRAGGING",actions:h})}},{eventName:"mouseup",fn:r=>{const s=n();if(s.type!=="DRAGGING"){t();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:r=>{n().type==="DRAGGING"&&r.preventDefault(),t()}},{eventName:"keydown",fn:r=>{if(n().type==="PENDING"){t();return}if(r.keyCode===E3){r.preventDefault(),t();return}qW(r)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:r=>{const s=n();if(s.type==="IDLE"&&qe(),s.actions.shouldRespectForcePress()){t();return}r.preventDefault()}},{eventName:wD,fn:t}]}function Fge(t){const e=k.useRef(E6),n=k.useRef(Ep),i=wn(()=>({eventName:"mousedown",fn:function(h){if(h.defaultPrevented||h.button!==GW||h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)return;const p=t.findClosestDraggableId(h);if(!p)return;const m=t.tryGetLock(p,o,{sourceEvent:h});if(!m)return;h.preventDefault();const v={x:h.clientX,y:h.clientY};n.current(),c(m,v)}}),[t]),r=wn(()=>({eventName:"webkitmouseforcewillbegin",fn:d=>{if(d.defaultPrevented)return;const h=t.findClosestDraggableId(d);if(!h)return;const p=t.findOptionsForDraggable(h);p&&(p.shouldRespectForcePress||t.canGetLock(h)&&d.preventDefault())}}),[t]),s=ut(function(){const h={passive:!1,capture:!0};n.current=Sl(window,[r,i],h)},[r,i]),o=ut(()=>{e.current.type!=="IDLE"&&(e.current=E6,n.current(),s())},[s]),a=ut(()=>{const d=e.current;o(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[o]),l=ut(function(){const h={capture:!0,passive:!1},p=Ige({cancel:a,completed:o,getPhase:()=>e.current,setPhase:m=>{e.current=m}});n.current=Sl(window,p,h)},[a,o]),c=ut(function(h,p){e.current.type!=="IDLE"&&qe(),e.current={type:"PENDING",point:p,actions:h},l()},[l]);Ra(function(){return s(),function(){n.current()}},[s])}function $ge(){}const zge={[_ge]:!0,[kge]:!0,[Rge]:!0,[Mge]:!0};function Bge(t,e){function n(){e(),t.cancel()}function i(){e(),t.drop()}return[{eventName:"keydown",fn:r=>{if(r.keyCode===E3){r.preventDefault(),n();return}if(r.keyCode===UW){r.preventDefault(),i();return}if(r.keyCode===Oge){r.preventDefault(),t.moveDown();return}if(r.keyCode===Nge){r.preventDefault(),t.moveUp();return}if(r.keyCode===Pge){r.preventDefault(),t.moveRight();return}if(r.keyCode===Dge){r.preventDefault(),t.moveLeft();return}if(zge[r.keyCode]){r.preventDefault();return}qW(r)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:wD,fn:n}]}function Vge(t){const e=k.useRef($ge),n=wn(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==UW)return;const o=t.findClosestDraggableId(s);if(!o)return;const a=t.tryGetLock(o,d,{sourceEvent:s});if(!a)return;s.preventDefault();let l=!0;const c=a.snapLift();e.current();function d(){l||qe(),l=!1,e.current(),i()}e.current=Sl(window,Bge(c,d),{capture:!0,passive:!1})}}),[t]),i=ut(function(){const s={passive:!1,capture:!0};e.current=Sl(window,[n],s)},[n]);Ra(function(){return i(),function(){e.current()}},[i])}const cO={type:"IDLE"},Hge=120,Uge=.15;function qge({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===E3&&n.preventDefault(),t()}},{eventName:wD,fn:t}]}function Gge({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:i=>{const r=n();if(r.type!=="DRAGGING"){t();return}r.hasMoved=!0;const{clientX:s,clientY:o}=i.touches[0],a={x:s,y:o};i.preventDefault(),r.actions.move(a)}},{eventName:"touchend",fn:i=>{const r=n();if(r.type!=="DRAGGING"){t();return}i.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:i=>{if(n().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:i=>{const r=n();r.type==="IDLE"&&qe();const s=i.touches[0];if(!s||!(s.force>=Uge))return;const a=r.actions.shouldRespectForcePress();if(r.type==="PENDING"){a&&t();return}if(a){if(r.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}},{eventName:wD,fn:t}]}function Wge(t){const e=k.useRef(cO),n=k.useRef(Ep),i=ut(function(){return e.current},[]),r=ut(function(m){e.current=m},[]),s=wn(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const v=t.findClosestDraggableId(m);if(!v)return;const S=t.tryGetLock(v,a,{sourceEvent:m});if(!S)return;const A=m.touches[0],{clientX:E,clientY:M}=A,R={x:E,y:M};n.current(),h(S,R)}}),[t]),o=ut(function(){const m={capture:!0,passive:!1};n.current=Sl(window,[s],m)},[s]),a=ut(()=>{const p=e.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),r(cO),n.current(),o())},[o,r]),l=ut(()=>{const p=e.current;a(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[a]),c=ut(function(){const m={capture:!0,passive:!1},v={cancel:l,completed:a,getPhase:i},S=Sl(window,Gge(v),m),A=Sl(window,qge(v),m);n.current=function(){S(),A()}},[l,i,a]),d=ut(function(){const m=i();m.type!=="PENDING"&&qe();const v=m.actions.fluidLift(m.point);r({type:"DRAGGING",actions:v,hasMoved:!1})},[i,r]),h=ut(function(m,v){i().type!=="IDLE"&&qe();const S=setTimeout(d,Hge);r({type:"PENDING",point:v,actions:m,longPressTimerId:S}),c()},[c,i,r,d]);Ra(function(){return o(),function(){n.current();const v=i();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),r(cO))}},[i,o,r]),Ra(function(){return Sl(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Kge=["input","button","textarea","select","option","optgroup","video","audio"];function WW(t,e){if(e==null)return!1;if(Kge.includes(e.tagName.toLowerCase()))return!0;const i=e.getAttribute("contenteditable");return i==="true"||i===""?!0:e===t?!1:WW(t,e.parentElement)}function Yge(t,e){const n=e.target;return vD(n)?WW(t,n):!1}var Xge=t=>_c(t.getBoundingClientRect()).center;function Jge(t){return t instanceof VW(t).Element}const Zge=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(i=>i in Element.prototype)||t})();function KW(t,e){return t==null?null:t[Zge](e)?t:KW(t.parentElement,e)}function Qge(t,e){return t.closest?t.closest(e):KW(t,e)}function eye(t){return`[${Rx.contextId}="${t}"]`}function tye(t,e){const n=e.target;if(!Jge(n))return null;const i=eye(t),r=Qge(n,i);return!r||!vD(r)?null:r}function nye(t,e){const n=tye(t,e);return n?n.getAttribute(Rx.draggableId):null}function iye(t,e){const n=`[${wj.contextId}="${t}"]`,r=BW(document,n).find(s=>s.getAttribute(wj.id)===e);return!r||!vD(r)?null:r}function rye(t){t.preventDefault()}function q_({expected:t,phase:e,isLockActive:n,shouldWarn:i}){return!(!n()||t!==e)}function YW({lockAPI:t,store:e,registry:n,draggableId:i}){if(t.isClaimed())return!1;const r=n.draggable.findById(i);return!(!r||!r.options.isEnabled||!IW(e.getState(),i))}function sye({lockAPI:t,contextId:e,store:n,registry:i,draggableId:r,forceSensorStop:s,sourceEvent:o}){if(!YW({lockAPI:t,store:n,registry:i,draggableId:r}))return null;const l=i.draggable.getById(r),c=iye(e,l.descriptor.id);if(!c||o&&!l.options.canDragInteractiveElements&&Yge(c,o))return null;const d=t.claim(s||Ep);let h="PRE_DRAG";function p(){return l.options.shouldRespectForcePress}function m(){return t.isActive(d)}function v(P,O){q_({expected:P,phase:h,isLockActive:m,shouldWarn:!0})&&n.dispatch(O())}const S=v.bind(null,"DRAGGING");function A(P){function O(){t.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(O(),qe()),n.dispatch(Qpe(P.liftActionArgs)),h="DRAGGING";function $(F,q={shouldBlockNextClick:!1}){if(P.cleanup(),q.shouldBlockNextClick){const B=Sl(window,[{eventName:"click",fn:rye,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(B)}O(),n.dispatch(MW({reason:F}))}return{isActive:()=>q_({expected:"DRAGGING",phase:h,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:p,drop:F=>$("DROP",F),cancel:F=>$("CANCEL",F),...P.actions}}function E(P){const O=zC(F=>{S(()=>_W({client:F}))});return{...A({liftActionArgs:{id:r,clientSelection:P,movementMode:"FLUID"},cleanup:()=>O.cancel(),actions:{move:O}}),move:O}}function M(){const P={moveUp:()=>S(lme),moveRight:()=>S(ume),moveDown:()=>S(cme),moveLeft:()=>S(dme)};return A({liftActionArgs:{id:r,clientSelection:Xge(c),movementMode:"SNAP"},cleanup:Ep,actions:P})}function R(){q_({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!0})&&t.release()}return{isActive:()=>q_({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:E,snapLift:M,abort:R}}const oye=[Fge,Vge,Wge];function aye({contextId:t,store:e,registry:n,customSensors:i,enableDefaultSensors:r}){const s=[...r?oye:[],...i||[]],o=k.useState(()=>Age())[0],a=ut(function(A,E){WC(A)&&!WC(E)&&o.tryAbandon()},[o]);Ra(function(){let A=e.getState();return e.subscribe(()=>{const M=e.getState();a(A,M),A=M})},[o,e,a]),Ra(()=>o.tryAbandon,[o.tryAbandon]);const l=ut(S=>YW({lockAPI:o,registry:n,store:e,draggableId:S}),[o,n,e]),c=ut((S,A,E)=>sye({lockAPI:o,registry:n,contextId:t,store:e,draggableId:S,forceSensorStop:A||null,sourceEvent:E&&E.sourceEvent?E.sourceEvent:null}),[t,o,n,e]),d=ut(S=>nye(t,S),[t]),h=ut(S=>{const A=n.draggable.findById(S);return A?A.options:null},[n.draggable]),p=ut(function(){o.isClaimed()&&(o.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(g3()))},[o,e]),m=ut(()=>o.isClaimed(),[o]),v=wn(()=>({canGetLock:l,tryGetLock:c,findClosestDraggableId:d,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:m}),[l,c,d,h,p,m]);for(let S=0;S<s.length;S++)s[S](v)}const lye=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};Xx.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),cye=t=>({...GC,...t.autoScrollerOptions,durationDampening:{...GC.durationDampening,...t.autoScrollerOptions}});function _S(t){return t.current||qe(),t.current}function uye(t){const{contextId:e,setCallbacks:n,sensors:i,nonce:r,dragHandleUsageInstructions:s}=t,o=k.useRef(null),a=HW(t),l=ut(()=>lye(a.current),[a]),c=ut(()=>cye(a.current),[a]),d=xge(e),h=Cge({contextId:e,text:s}),p=hge(e,r),m=ut(B=>{_S(o).dispatch(B)},[]),v=wn(()=>J4({publishWhileDragging:tme,updateDroppableScroll:ime,updateDroppableIsEnabled:rme,updateDroppableIsCombineEnabled:sme,collectionStarting:nme},m),[m]),S=yge(),A=wn(()=>qme(S,v),[S,v]),E=wn(()=>lge({scrollWindow:Gme,scrollDroppable:A.scrollDroppable,getAutoScrollerOptions:c,...J4({move:_W},m)}),[A.scrollDroppable,m,c]),M=mge(e),R=wn(()=>Bme({announce:d,autoScroller:E,dimensionMarshal:A,focusMarshal:M,getResponders:l,styleMarshal:p}),[d,E,A,M,l,p]);o.current=R;const N=ut(()=>{const B=_S(o);B.getState().phase!=="IDLE"&&B.dispatch(g3())},[]),P=ut(()=>{const B=_S(o).getState();return B.phase==="DROP_ANIMATING"?!0:B.phase==="IDLE"?!1:B.isDragging},[]),O=wn(()=>({isDragging:P,tryAbort:N}),[P,N]);n(O);const $=ut(B=>IW(_S(o).getState(),B),[]),F=ut(()=>pg(_S(o).getState()),[]),q=wn(()=>({marshal:A,focus:M,contextId:e,canLift:$,isMovementAllowed:F,dragHandleUsageInstructionsId:h,registry:S}),[e,A,h,M,$,F,S]);return aye({contextId:e,store:R,registry:S,customSensors:i||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),k.useEffect(()=>N,[N]),Se.createElement(xD.Provider,{value:q},Se.createElement(Lhe,{context:C3,store:R},t.children))}function dye(){return Se.useId()}function fye(t){const e=dye(),n=t.dragHandleUsageInstructions||DM.dragHandleUsageInstructions;return Se.createElement(Vhe,null,i=>Se.createElement(uye,{nonce:t.nonce,contextId:e,setCallbacks:i,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const T6={dragging:5e3,dropAnimating:4500},hye=(t,e)=>e?yC.drop(e.duration):t?yC.snap:yC.fluid,pye=(t,e)=>{if(t)return e?qC.opacity.drop:qC.opacity.combining},mye=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function gye(t){const n=t.dimension.client,{offset:i,combineWith:r,dropping:s}=t,o=!!r,a=mye(t),l=!!s,c=l?vj.drop(i,o):vj.moveTo(i);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:hye(a,s),transform:c,opacity:pye(o,l),zIndex:l?T6.dropAnimating:T6.dragging,pointerEvents:"none"}}function yye(t){return{transform:vj.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function bye(t){return t.type==="DRAGGING"?gye(t):yye(t)}function vye(t,e,n=Vr){const i=window.getComputedStyle(e),r=e.getBoundingClientRect(),s=nW(r,i),o=LR(s,n),a={client:s,tagName:e.tagName.toLowerCase(),display:i.display},l={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:t,placeholder:a,displaceBy:l,client:s,page:o}}function xye(t){const e=A3("draggable"),{descriptor:n,registry:i,getDraggableRef:r,canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}=t,l=wn(()=>({canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}),[s,a,o]),c=ut(m=>{const v=r();return v||qe(),vye(n,v,m)},[n,r]),d=wn(()=>({uniqueId:e,descriptor:n,options:l,getDimension:c}),[n,c,l,e]),h=k.useRef(d),p=k.useRef(!0);Ra(()=>(i.draggable.register(h.current),()=>i.draggable.unregister(h.current)),[i.draggable]),Ra(()=>{if(p.current){p.current=!1;return}const m=h.current;h.current=d,i.draggable.update(d,m)},[d,i.draggable])}var T3=Se.createContext(null);function zR(t){const e=k.useContext(t);return e||qe(),e}function wye(t){t.preventDefault()}const Sye=t=>{const e=k.useRef(null),n=ut((O=null)=>{e.current=O},[]),i=ut(()=>e.current,[]),{contextId:r,dragHandleUsageInstructionsId:s,registry:o}=zR(xD),{type:a,droppableId:l}=zR(T3),c=wn(()=>({id:t.draggableId,index:t.index,type:a,droppableId:l}),[t.draggableId,t.index,a,l]),{children:d,draggableId:h,isEnabled:p,shouldRespectForcePress:m,canDragInteractiveElements:v,isClone:S,mapped:A,dropAnimationFinished:E}=t;if(!S){const O=wn(()=>({descriptor:c,registry:o,getDraggableRef:i,canDragInteractiveElements:v,shouldRespectForcePress:m,isEnabled:p}),[c,o,i,v,m,p]);xye(O)}const M=wn(()=>p?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":r,draggable:!1,onDragStart:wye}:null,[r,s,h,p]),R=ut(O=>{A.type==="DRAGGING"&&A.dropping&&O.propertyName==="transform"&&Xx.flushSync(E)},[E,A]),N=wn(()=>{const O=bye(A),$=A.type==="DRAGGING"&&A.dropping?R:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":r,"data-rfd-draggable-id":h,style:O,onTransitionEnd:$},dragHandleProps:M}},[r,M,h,A,R,n]),P=wn(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return Se.createElement(Se.Fragment,null,d(N,A.snapshot,P))};var XW=(t,e)=>t===e,JW=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const Cye=t=>t.combine?t.combine.draggableId:null,Aye=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function Eye(){const t=$r((r,s)=>({x:r,y:s})),e=$r((r,s,o=null,a=null,l=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:r,draggingOver:o,combineWith:a,combineTargetFor:null})),n=$r((r,s,o,a,l=null,c=null,d=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:s,offset:r,dimension:o,forceShouldAnimate:d,snapshot:e(s,a,l,c,null)}}));return(r,s)=>{if(WC(r)){if(r.critical.draggable.id!==s.draggableId)return null;const o=r.current.client.offset,a=r.dimensions.draggables[s.draggableId],l=Ma(r.impact),c=Aye(r.impact),d=r.forceShouldAnimate;return n(t(o.x,o.y),r.movementMode,a,s.isClone,l,c,d)}if(r.phase==="DROP_ANIMATING"){const o=r.completed;if(o.result.draggableId!==s.draggableId)return null;const a=s.isClone,l=r.dimensions.draggables[s.draggableId],c=o.result,d=c.mode,h=JW(c),p=Cye(c),v={duration:r.dropDuration,curve:b3.drop,moveTo:r.newHomeClientOffset,opacity:p?qC.opacity.drop:null,scale:p?qC.scale.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:l,dropping:v,draggingOver:h,combineWith:p,mode:d,forceShouldAnimate:null,snapshot:e(d,a,h,p,v)}}}return null}}function ZW(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const Tye={mapped:{type:"SECONDARY",offset:Vr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ZW(null)}};function kye(){const t=$r((o,a)=>({x:o,y:a})),e=$r(ZW),n=$r((o,a=null,l)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:e(a)}})),i=o=>o?n(Vr,o,!0):null,r=(o,a,l,c)=>{const d=l.displaced.visible[o],h=!!(c.inVirtualList&&c.effected[o]),p=gD(l),m=p&&p.draggableId===o?a:null;if(!d){if(!h)return i(m);if(l.displaced.invisible[o])return null;const A=i1(c.displacedBy.point),E=t(A.x,A.y);return n(E,m,!0)}if(h)return i(m);const v=l.displacedBy.point,S=t(v.x,v.y);return n(S,m,d.shouldAnimate)};return(o,a)=>{if(WC(o))return o.critical.draggable.id===a.draggableId?null:r(a.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const l=o.completed;return l.result.draggableId===a.draggableId?null:r(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const _ye=()=>{const t=Eye(),e=kye();return(i,r)=>t(i,r)||e(i,r)||Tye},Mye={dropAnimationFinished:RW},Rye=tW(_ye,Mye,null,{context:C3,areStatePropsEqual:XW})(Sye);function QW(t){return zR(T3).isUsingCloneFor===t.draggableId&&!t.isClone?null:Se.createElement(Rye,t)}function Dye(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,i=!!t.shouldRespectForcePress;return Se.createElement(QW,BC({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:i}))}const eK=t=>e=>t===e,Nye=eK("scroll"),Pye=eK("auto"),k6=(t,e)=>e(t.overflowX)||e(t.overflowY),Oye=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return k6(n,Nye)||k6(n,Pye)},Lye=()=>!1,tK=t=>t==null?null:t===document.body?Lye()?t:null:t===document.documentElement?null:Oye(t)?t:tK(t.parentElement);var Sj=t=>({x:t.scrollLeft,y:t.scrollTop});const nK=t=>t?window.getComputedStyle(t).position==="fixed"?!0:nK(t.parentElement):!1;var jye=t=>{const e=tK(t),n=nK(t);return{closestScrollable:e,isFixedOnPage:n}},Iye=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:i,direction:r,client:s,page:o,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:p,client:m}=a,v=OW({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:m,scrollSize:p,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:v,diff:{value:Vr,displacement:Vr}}}})(),c=r==="vertical"?d3:hW,d=_x({page:o,withPlaceholder:null,axis:c,frame:l});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:i,axis:c,isEnabled:e,client:s,page:o,frame:l,subject:d}};const Fye=(t,e)=>{const n=iW(t);if(!e||t!==e)return n;const i=n.paddingBox.top-e.scrollTop,r=n.paddingBox.left-e.scrollLeft,s=i+e.scrollHeight,o=r+e.scrollWidth,l=a3({top:i,right:o,bottom:s,left:r},n.border);return l3({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var $ye=({ref:t,descriptor:e,env:n,windowScroll:i,direction:r,isDropDisabled:s,isCombineEnabled:o,shouldClipSubject:a})=>{const l=n.closestScrollable,c=Fye(t,l),d=LR(c,i),h=(()=>{if(!l)return null;const m=iW(l),v={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:m,page:LR(m,i),scroll:Sj(l),scrollSize:v,shouldClipSubject:a}})();return Iye({descriptor:e,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:r,client:c,page:d,closest:h})};const zye={passive:!1},Bye={passive:!0};var _6=t=>t.shouldPublishImmediately?zye:Bye;const G_=t=>t&&t.env.closestScrollable||null;function Vye(t){const e=k.useRef(null),n=zR(xD),i=A3("droppable"),{registry:r,marshal:s}=n,o=HW(t),a=wn(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),l=k.useRef(a),c=wn(()=>$r((N,P)=>{e.current||qe();const O={x:N,y:P};s.updateDroppableScroll(a.id,O)}),[a.id,s]),d=ut(()=>{const N=e.current;return!N||!N.env.closestScrollable?Vr:Sj(N.env.closestScrollable)},[]),h=ut(()=>{const N=d();c(N.x,N.y)},[d,c]),p=wn(()=>zC(h),[h]),m=ut(()=>{const N=e.current,P=G_(N);if(N&&P||qe(),N.scrollOptions.shouldPublishImmediately){h();return}p()},[p,h]),v=ut((N,P)=>{e.current&&qe();const O=o.current,$=O.getDroppableRef();$||qe();const F=jye($),q={ref:$,descriptor:a,env:F,scrollOptions:P};e.current=q;const B=$ye({ref:$,descriptor:a,env:F,windowScroll:N,direction:O.direction,isDropDisabled:O.isDropDisabled,isCombineEnabled:O.isCombineEnabled,shouldClipSubject:!O.ignoreContainerClipping}),X=F.closestScrollable;return X&&(X.setAttribute(S6.contextId,n.contextId),X.addEventListener("scroll",m,_6(q.scrollOptions))),B},[n.contextId,a,m,o]),S=ut(()=>{const N=e.current,P=G_(N);return N&&P||qe(),Sj(P)},[]),A=ut(()=>{const N=e.current;N||qe();const P=G_(N);e.current=null,P&&(p.cancel(),P.removeAttribute(S6.contextId),P.removeEventListener("scroll",m,_6(N.scrollOptions)))},[m,p]),E=ut(N=>{const P=e.current;P||qe();const O=G_(P);O||qe(),O.scrollTop+=N.y,O.scrollLeft+=N.x},[]),M=wn(()=>({getDimensionAndWatchScroll:v,getScrollWhileDragging:S,dragStopped:A,scroll:E}),[A,v,S,E]),R=wn(()=>({uniqueId:i,descriptor:a,callbacks:M}),[M,a,i]);Ra(()=>(l.current=R.descriptor,r.droppable.register(R),()=>{e.current&&A(),r.droppable.unregister(R)}),[M,a,A,R,s,r.droppable]),Ra(()=>{e.current&&s.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,s]),Ra(()=>{e.current&&s.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,s])}function uO(){}const M6={width:0,height:0,margin:Yhe},Hye=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?M6:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},Uye=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const i=Hye({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?yC.placeholder:null}},qye=t=>{const e=k.useRef(null),n=ut(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:i,onTransitionEnd:r,onClose:s,contextId:o}=t,[a,l]=k.useState(t.animate==="open");k.useEffect(()=>a?i!=="open"?(n(),l(!1),uO):e.current?uO:(e.current=setTimeout(()=>{e.current=null,l(!1)}),n):uO,[i,a,n]);const c=ut(h=>{h.propertyName==="height"&&(r(),i==="close"&&s())},[i,s,r]),d=Uye({isAnimatingOpenOnMount:a,animate:t.animate,placeholder:t.placeholder});return Se.createElement(t.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":o,onTransitionEnd:c,ref:t.innerRef})};var Gye=Se.memo(qye);class Wye extends Se.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const Kye=t=>{const e=k.useContext(xD);e||qe();const{contextId:n,isMovementAllowed:i}=e,r=k.useRef(null),s=k.useRef(null),{children:o,droppableId:a,type:l,mode:c,direction:d,ignoreContainerClipping:h,isDropDisabled:p,isCombineEnabled:m,snapshot:v,useClone:S,updateViewportMaxScroll:A,getContainerForClone:E}=t,M=ut(()=>r.current,[]),R=ut((X=null)=>{r.current=X},[]);ut(()=>s.current,[]);const N=ut((X=null)=>{s.current=X},[]),P=ut(()=>{i()&&A({maxScroll:jW()})},[i,A]);Vye({droppableId:a,type:l,mode:c,direction:d,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:h,getDroppableRef:M});const O=wn(()=>Se.createElement(Wye,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:X,data:Q,animate:J})=>Se.createElement(Gye,{placeholder:Q,onClose:X,innerRef:N,animate:J,contextId:n,onTransitionEnd:P})),[n,P,t.placeholder,t.shouldAnimatePlaceholder,N]),$=wn(()=>({innerRef:R,placeholder:O,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,O,R]),F=S?S.dragging.draggableId:null,q=wn(()=>({droppableId:a,type:l,isUsingCloneFor:F}),[a,F,l]);function B(){if(!S)return null;const{dragging:X,render:Q}=S,J=Se.createElement(QW,{draggableId:X.draggableId,index:X.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(oe,ce)=>Q(oe,ce,X));return _$.createPortal(J,E())}return Se.createElement(T3.Provider,{value:q},o($,v),B())};function Yye(){return document.body||qe(),document.body}const R6={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Yye},iK=t=>{let e={...t},n;for(n in R6)t[n]===void 0&&(e={...e,[n]:R6[n]});return e},dO=(t,e)=>t===e.droppable.type,D6=(t,e)=>e.draggables[t.draggable.id],Xye=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=$r(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),i=$r((s,o,a,l,c,d)=>{const h=c.descriptor.id;if(c.descriptor.droppableId===s){const v=d?{render:d,dragging:n(c.descriptor)}:null,S={isDraggingOver:a,draggingOverWith:a?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:S,useClone:v}}if(!o)return e;if(!l)return t;const m={isDraggingOver:a,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(s,o)=>{const a=iK(o),l=a.droppableId,c=a.type,d=!a.isDropDisabled,h=a.renderClone;if(WC(s)){const p=s.critical;if(!dO(c,p))return e;const m=D6(p,s.dimensions),v=Ma(s.impact)===l;return i(l,d,v,v,m,h)}if(s.phase==="DROP_ANIMATING"){const p=s.completed;if(!dO(c,p.critical))return e;const m=D6(p.critical,s.dimensions);return i(l,d,JW(p.result)===l,Ma(p.impact)===l,m,h)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const p=s.completed;if(!dO(c,p.critical))return e;const m=Ma(p.impact)===l,v=!!(p.impact.at&&p.impact.at.type==="COMBINE"),S=p.critical.droppable.id===l;return m?v?t:e:S?t:e}return e}},Jye={updateViewportMaxScroll:ame},Zye=tW(Xye,Jye,(t,e,n)=>({...iK(n),...t,...e}),{context:C3,areStatePropsEqual:XW})(Kye);function BR(t,e,n){return Math.min(Math.max(t,e),n)}function Qye(t="mantine-"){return`${t}${Math.random().toString(36).slice(2,11)}`}const N6=["mousedown","touchstart"];function k3(t,e,n){const i=k.useRef(null);return k.useEffect(()=>{const r=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(c=>!!c&&!s.composedPath().includes(c))&&!a&&t()}else i.current&&!i.current.contains(o)&&t()};return(e||N6).forEach(s=>document.addEventListener(s,r)),()=>{(e||N6).forEach(s=>document.removeEventListener(s,r))}},[i,t,n]),i}function e0e(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function t0e(t,e){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function n0e(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[i,r]=k.useState(n?e:t0e(t)),s=k.useRef(null);return k.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(t),r(s.current.matches),e0e(s.current,o=>r(o.matches))},[t]),i}const SD=typeof document<"u"?k.useLayoutEffect:k.useEffect;function Ju(t,e){const n=k.useRef(!1);k.useEffect(()=>()=>{n.current=!1},[]),k.useEffect(()=>{if(n.current)return t();n.current=!0},e)}function i0e({opened:t,shouldReturnFocus:e=!0}){const n=k.useRef(null),i=()=>{var r;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((r=n.current)==null||r.focus({preventScroll:!0}))};return Ju(()=>{let r=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(r)};return document.addEventListener("keydown",s),t?n.current=document.activeElement:e&&(r=window.setTimeout(i,10)),()=>{window.clearTimeout(r),document.removeEventListener("keydown",s)}},[t,e]),i}const r0e=/input|select|textarea|button|object/,rK="a, input, select, textarea, button, object, [tabindex]";function s0e(t){return t.style.display==="none"}function o0e(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if(s0e(n))return!1;n=n.parentNode}return!0}function sK(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function Cj(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(sK(t));return(r0e.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&o0e(t)}function oK(t){const e=sK(t);return(Number.isNaN(e)||e>=0)&&Cj(t)}function a0e(t){return Array.from(t.querySelectorAll(rK)).filter(oK)}function l0e(t,e){const n=a0e(t);if(!n.length){e.preventDefault();return}const i=n[e.shiftKey?0:n.length-1],r=t.getRootNode();let s=i===r.activeElement||t===r.activeElement;const o=r.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(s=n.filter(d=>d.getAttribute("type")==="radio"&&d.getAttribute("name")===o.getAttribute("name")).includes(i)),!s)return;e.preventDefault();const l=n[e.shiftKey?n.length-1:0];l&&l.focus()}function c0e(t=!0){const e=k.useRef(null),n=r=>{let s=r.querySelector("[data-autofocus]");if(!s){const o=Array.from(r.querySelectorAll(rK));s=o.find(oK)||o.find(Cj)||null,!s&&Cj(r)&&(s=r)}s&&s.focus({preventScroll:!0})},i=k.useCallback(r=>{t&&r!==null&&e.current!==r&&(r?(setTimeout(()=>{r.getRootNode()&&n(r)}),e.current=r):e.current=null)},[t]);return k.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>n(e.current));const r=s=>{s.key==="Tab"&&e.current&&l0e(e.current,s)};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[t]),i}const u0e=Se.useId||(()=>{});function d0e(){const t=u0e();return t?`mantine-${t.replace(/:/g,"")}`:""}function _3(t){const e=d0e(),[n,i]=k.useState(e);return SD(()=>{i(Qye())},[]),typeof t=="string"?t:typeof window>"u"?e:n}function f0e(t=[]){const[e,n]=k.useState(t);return[e,{setState:n,append:(...A)=>n(E=>[...E,...A]),prepend:(...A)=>n(E=>[...A,...E]),insert:(A,...E)=>n(M=>[...M.slice(0,A),...E,...M.slice(A)]),pop:()=>n(A=>{const E=[...A];return E.pop(),E}),shift:()=>n(A=>{const E=[...A];return E.shift(),E}),apply:A=>n(E=>E.map((M,R)=>A(M,R))),applyWhere:(A,E)=>n(M=>M.map((R,N)=>A(R,N)?E(R,N):R)),remove:(...A)=>n(E=>E.filter((M,R)=>!A.includes(R))),reorder:({from:A,to:E})=>n(M=>{const R=[...M],N=M[A];return R.splice(A,1),R.splice(E,0,N),R}),swap:({from:A,to:E})=>n(M=>{const R=[...M],N=R[A],P=R[E];return R.splice(E,1,N),R.splice(A,1,P),R}),setItem:(A,E)=>n(M=>{const R=[...M];return R[A]=E,R}),setItemProp:(A,E,M)=>n(R=>{const N=[...R];return N[A]={...N[A],[E]:M},N}),filter:A=>{n(E=>E.filter(A))}}]}function h0e(t,e,n){k.useEffect(()=>(window.addEventListener(t,e,n),()=>window.removeEventListener(t,e,n)),[t,e])}function Aj(t,e){if(typeof t=="function")return t(e);typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function p0e(...t){const e=new Map;return n=>{if(t.forEach(i=>{const r=Aj(i,n);r&&e.set(i,r)}),e.size>0)return()=>{t.forEach(i=>{const r=e.get(i);r?r():Aj(i,null)}),e.clear()}}}function o1(...t){return k.useCallback(p0e(...t),t)}function aK(t){return{x:BR(t.x,0,1),y:BR(t.y,0,1)}}function lK(t,e,n="ltr"){const i=k.useRef(null),r=k.useRef(!1),s=k.useRef(!1),o=k.useRef(0),[a,l]=k.useState(!1);return k.useEffect(()=>{r.current=!0},[]),k.useEffect(()=>{const c=i.current,d=({x:R,y:N})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(r.current&&c){c.style.userSelect="none";const P=c.getBoundingClientRect();if(P.width&&P.height){const O=BR((R-P.left)/P.width,0,1);t({x:n==="ltr"?O:1-O,y:BR((N-P.top)/P.height,0,1)})}}})},h=()=>{document.addEventListener("mousemove",A),document.addEventListener("mouseup",v),document.addEventListener("touchmove",M),document.addEventListener("touchend",v)},p=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",v),document.removeEventListener("touchmove",M),document.removeEventListener("touchend",v)},m=()=>{!s.current&&r.current&&(s.current=!0,typeof(e==null?void 0:e.onScrubStart)=="function"&&e.onScrubStart(),l(!0),h())},v=()=>{s.current&&r.current&&(s.current=!1,l(!1),p(),setTimeout(()=>{typeof(e==null?void 0:e.onScrubEnd)=="function"&&e.onScrubEnd()},0))},S=R=>{m(),R.preventDefault(),A(R)},A=R=>d({x:R.clientX,y:R.clientY}),E=R=>{R.cancelable&&R.preventDefault(),m(),M(R)},M=R=>{R.cancelable&&R.preventDefault(),d({x:R.changedTouches[0].clientX,y:R.changedTouches[0].clientY})};return c==null||c.addEventListener("mousedown",S),c==null||c.addEventListener("touchstart",E,{passive:!1}),()=>{c&&(c.removeEventListener("mousedown",S),c.removeEventListener("touchstart",E))}},[n,t]),{ref:i,active:a}}function cK({value:t,defaultValue:e,finalValue:n,onChange:i=()=>{}}){const[r,s]=k.useState(e!==void 0?e:n),o=(a,...l)=>{s(a),i==null||i(a,...l)};return t!==void 0?[t,i,!0]:[r,o,!1]}function m0e(t,e){return n0e("(prefers-reduced-motion: reduce)",t,e)}function g0e(t=[!1,!0]){const[[e],n]=k.useReducer((i,r)=>{const s=r instanceof Function?r(i[0]):r,o=Math.abs(i.indexOf(s));return i.slice(o).concat(i.slice(0,o))},t);return[e,n]}function y0e(t){return e=>{if(!e)t(e);else if(typeof e=="function")t(e);else if(typeof e=="object"&&"nativeEvent"in e){const{currentTarget:n}=e;n.type==="checkbox"?t(n.checked):t(n.value)}else t(e)}}function b0e(t){const[e,n]=k.useState(t);return[e,y0e(n)]}function uK(t=!1,e){const{onOpen:n,onClose:i}={},[r,s]=k.useState(t),o=k.useCallback(()=>{s(c=>c||(n==null||n(),!0))},[n]),a=k.useCallback(()=>{s(c=>c&&(i==null||i(),!1))},[i]),l=k.useCallback(()=>{r?a():o()},[a,o,r]);return[r,{open:o,close:a,toggle:l}]}function ns(t){this.content=t}ns.prototype={constructor:ns,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,r=i.find(t),s=i.content.slice();return r==-1?s.push(n||t,e):(s[r+1]=e,n&&(s[r]=n)),new ns(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new ns(n)},addToStart:function(t,e){return new ns([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new ns(n)},addBefore:function(t,e,n){var i=this.remove(e),r=i.content.slice(),s=i.find(t);return r.splice(s==-1?r.length:s,0,e,n),new ns(r)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=ns.from(t),t.size?new ns(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=ns.from(t),t.size?new ns(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=ns.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};ns.from=function(t){if(t instanceof ns)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new ns(e)};function dK(t,e,n){for(let i=0;;i++){if(i==t.childCount||i==e.childCount)return t.childCount==e.childCount?null:n;let r=t.child(i),s=e.child(i);if(r==s){n+=r.nodeSize;continue}if(!r.sameMarkup(s))return n;if(r.isText&&r.text!=s.text){for(let o=0;r.text[o]==s.text[o];o++)n++;return n}if(r.content.size||s.content.size){let o=dK(r.content,s.content,n+1);if(o!=null)return o}n+=r.nodeSize}}function fK(t,e,n,i){for(let r=t.childCount,s=e.childCount;;){if(r==0||s==0)return r==s?null:{a:n,b:i};let o=t.child(--r),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,i-=l;continue}if(!o.sameMarkup(a))return{a:n,b:i};if(o.isText&&o.text!=a.text){let c=0,d=Math.min(o.text.length,a.text.length);for(;c<d&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,i--;return{a:n,b:i}}if(o.content.size||a.content.size){let c=fK(o.content,a.content,n-1,i-1);if(c)return c}n-=l,i-=l}}class Be{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,n,i,r=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&i(l,r+a,s||null,o)!==!1&&l.content.size){let d=a+1;l.nodesBetween(Math.max(0,e-d),Math.min(l.content.size,n-d),i,r+d)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,i,r){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?r?typeof r=="function"?r(a):r:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&i&&(o?o=!1:s+=i),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,i=e.firstChild,r=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(i)&&(r[r.length-1]=n.withText(n.text+i.text),s=1);s<e.content.length;s++)r.push(e.content[s]);return new Be(r,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let i=[],r=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),i.push(a),r+=a.nodeSize),o=l}return new Be(i,r)}cutByIndex(e,n){return e==n?Be.empty:e==0&&n==this.content.length?this:new Be(this.content.slice(e,n))}replaceChild(e,n){let i=this.content[e];if(i==n)return this;let r=this.content.slice(),s=this.size+n.nodeSize-i.nodeSize;return r[e]=n,new Be(r,s)}addToStart(e){return new Be([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Be(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,i=0;n<this.content.length;n++){let r=this.content[n];e(r,i,n),i+=r.nodeSize}}findDiffStart(e,n=0){return dK(this,e,n)}findDiffEnd(e,n=this.size,i=e.size){return fK(this,e,n,i)}findIndex(e,n=-1){if(e==0)return W_(0,e);if(e==this.size)return W_(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let i=0,r=0;;i++){let s=this.child(i),o=r+s.nodeSize;if(o>=e)return o==e||n>0?W_(i+1,o):W_(i,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Be.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Be(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Be.empty;let n,i=0;for(let r=0;r<e.length;r++){let s=e[r];i+=s.nodeSize,r&&s.isText&&e[r-1].sameMarkup(s)?(n||(n=e.slice(0,r)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new Be(n||e,i)}static from(e){if(!e)return Be.empty;if(e instanceof Be)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Be([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Be.empty=new Be([],0);const fO={index:0,offset:0};function W_(t,e){return fO.index=t,fO.offset=e,fO}function VR(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!VR(t[i],e[i]))return!1}else{for(let i in t)if(!(i in e)||!VR(t[i],e[i]))return!1;for(let i in e)if(!(i in t))return!1}return!0}let ei=class Ej{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,i=!1;for(let r=0;r<e.length;r++){let s=e[r];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,r));else{if(s.type.excludes(this.type))return e;!i&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,r)),n.push(this),i=!0),n&&n.push(s)}}return n||(n=e.slice()),i||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&VR(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);let r=i.create(n.attrs);return i.checkAttrs(r.attrs),r}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(n[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ej.none;if(e instanceof Ej)return[e];let n=e.slice();return n.sort((i,r)=>i.type.rank-r.type.rank),n}};ei.none=[];class HR extends Error{}class Qe{constructor(e,n,i){this.content=e,this.openStart=n,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let i=pK(this.content,e+this.openStart,n);return i&&new Qe(i,this.openStart,this.openEnd)}removeBetween(e,n){return new Qe(hK(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Qe.empty;let i=n.openStart||0,r=n.openEnd||0;if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Qe(Be.fromJSON(e,n.content),i,r)}static maxOpen(e,n=!0){let i=0,r=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)i++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)r++;return new Qe(e,i,r)}}Qe.empty=new Qe(Be.empty,0,0);function hK(t,e,n){let{index:i,offset:r}=t.findIndex(e),s=t.maybeChild(i),{index:o,offset:a}=t.findIndex(n);if(r==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(i!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(i,s.copy(hK(s.content,e-r-1,n-r-1)))}function pK(t,e,n,i){let{index:r,offset:s}=t.findIndex(e),o=t.maybeChild(r);if(s==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=pK(o.content,e-s-1,n);return a&&t.replaceChild(r,o.copy(a))}function v0e(t,e,n){if(n.openStart>t.depth)throw new HR("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new HR("Inconsistent open depths");return mK(t,e,n,0)}function mK(t,e,n,i){let r=t.index(i),s=t.node(i);if(r==e.index(i)&&i<t.depth-n.openStart){let o=mK(t,e,n,i+1);return s.copy(s.content.replaceChild(r,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==i&&e.depth==i){let o=t.parent,a=o.content;return Fy(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=x0e(n,t);return Fy(s,yK(t,o,a,e,i))}else return Fy(s,UR(t,e,i))}function gK(t,e){if(!e.type.compatibleContent(t.type))throw new HR("Cannot join "+e.type.name+" onto "+t.type.name)}function Tj(t,e,n){let i=t.node(n);return gK(i,e.node(n)),i}function Iy(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function bC(t,e,n,i){let r=(e||t).node(n),s=0,o=e?e.index(n):r.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Iy(t.nodeAfter,i),s++));for(let a=s;a<o;a++)Iy(r.child(a),i);e&&e.depth==n&&e.textOffset&&Iy(e.nodeBefore,i)}function Fy(t,e){return t.type.checkContent(e),t.copy(e)}function yK(t,e,n,i,r){let s=t.depth>r&&Tj(t,e,r+1),o=i.depth>r&&Tj(n,i,r+1),a=[];return bC(null,t,r,a),s&&o&&e.index(r)==n.index(r)?(gK(s,o),Iy(Fy(s,yK(t,e,n,i,r+1)),a)):(s&&Iy(Fy(s,UR(t,e,r+1)),a),bC(e,n,r,a),o&&Iy(Fy(o,UR(n,i,r+1)),a)),bC(i,null,r,a),new Be(a)}function UR(t,e,n){let i=[];if(bC(null,t,n,i),t.depth>n){let r=Tj(t,e,n+1);Iy(Fy(r,UR(t,e,n+1)),i)}return bC(e,null,n,i),new Be(i)}function x0e(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)r=e.node(s).copy(Be.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}class KC{constructor(e,n,i){this.pos=e,this.path=n,this.parentOffset=i,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],r=e.child(n);return i?e.child(n).cut(i):r}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let i=this.path[n*3],r=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)r+=i.child(s).nodeSize;return r}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return ei.none;if(this.textOffset)return e.child(n).marks;let i=e.maybeChild(n-1),r=e.maybeChild(n);if(!i){let a=i;i=r,r=a}let s=i.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!r||!s[o].isInSet(r.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let i=n.marks,r=e.parent.maybeChild(e.index());for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!r||!i[s].isInSet(r.marks))&&(i=i[s--].removeFromSet(i));return i}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!n||n(this.node(i))))return new qR(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let i=[],r=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(i.push(o,a,r+l),!c||(o=o.child(a),o.isText))break;s=c-1,r+=l+1}return new KC(n,i,s)}static resolveCached(e,n){let i=P6.get(e);if(i)for(let s=0;s<i.elts.length;s++){let o=i.elts[s];if(o.pos==n)return o}else P6.set(e,i=new w0e);let r=i.elts[i.i]=KC.resolve(e,n);return i.i=(i.i+1)%S0e,r}}class w0e{constructor(){this.elts=[],this.i=0}}const S0e=12,P6=new WeakMap;class qR{constructor(e,n,i){this.$from=e,this.$to=n,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const C0e=Object.create(null);let kp=class kj{constructor(e,n,i,r=ei.none){this.type=e,this.attrs=n,this.marks=r,this.content=i||Be.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,i,r=0){this.content.nodesBetween(e,n,i,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,i,r){return this.content.textBetween(e,n,i,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,i){return this.type==e&&VR(this.attrs,n||e.defaultAttrs||C0e)&&ei.sameSet(this.marks,i||ei.none)}copy(e=null){return e==this.content?this:new kj(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new kj(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,i=!1){if(e==n)return Qe.empty;let r=this.resolve(e),s=this.resolve(n),o=i?0:r.sharedDepth(n),a=r.start(o),c=r.node(o).content.cut(r.pos-a,s.pos-a);return new Qe(c,r.depth-o,s.depth-o)}replace(e,n,i){return v0e(this.resolve(e),this.resolve(n),i)}nodeAt(e){for(let n=this;;){let{index:i,offset:r}=n.content.findIndex(e);if(n=n.maybeChild(i),!n)return null;if(r==e||n.isText)return n;e-=r+1}}childAfter(e){let{index:n,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(n),index:n,offset:i};let r=this.content.child(n-1);return{node:r,index:n-1,offset:i-r.nodeSize}}resolve(e){return KC.resolveCached(this,e)}resolveNoCache(e){return KC.resolve(this,e)}rangeHasMark(e,n,i){let r=!1;return n>e&&this.nodesBetween(e,n,s=>(i.isInSet(s.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),bK(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,i=Be.empty,r=0,s=i.childCount){let o=this.contentMatchAt(e).matchFragment(i,r,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=r;l<s;l++)if(!this.type.allowsMarks(i.child(l).marks))return!1;return!0}canReplaceWith(e,n,i,r){if(r&&!this.type.allowsMarks(r))return!1;let s=this.contentMatchAt(e).matchType(i),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=ei.none;for(let n=0;n<this.marks.length;n++){let i=this.marks[n];i.type.checkAttrs(i.attrs),e=i.addToSet(e)}if(!ei.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let i;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,i)}let r=Be.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,r,i);return s.type.checkAttrs(s.attrs),s}};kp.prototype.text=void 0;class GR extends kp{constructor(e,n,i,r){if(super(e,n,null,r),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):bK(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new GR(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new GR(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function bK(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Ky{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let i=new A0e(e,n);if(i.next==null)return Ky.empty;let r=vK(i);i.next&&i.err("Unexpected trailing text");let s=D0e(R0e(r));return N0e(s,i),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,i=e.childCount){let r=this;for(let s=n;r&&s<i;s++)r=r.matchType(e.child(s).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let i=0;i<e.next.length;i++)if(this.next[n].type==e.next[i].type)return!0;return!1}fillBefore(e,n=!1,i=0){let r=[this];function s(o,a){let l=o.matchFragment(e,i);if(l&&(!n||l.validEnd))return Be.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:d,next:h}=o.next[c];if(!(d.isText||d.hasRequiredAttrs())&&r.indexOf(h)==-1){r.push(h);let p=s(h,a.concat(d));if(p)return p}}return null}return s(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let r=i.shift(),s=r.match;if(s.matchType(e)){let o=[];for(let a=r;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!r.type||l.validEnd)&&(i.push({match:a.contentMatch,type:a,via:r}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(i){e.push(i);for(let r=0;r<i.next.length;r++)e.indexOf(i.next[r].next)==-1&&n(i.next[r].next)}return n(this),e.map((i,r)=>{let s=r+(i.validEnd?"*":" ")+" ";for(let o=0;o<i.next.length;o++)s+=(o?", ":"")+i.next[o].type.name+"->"+e.indexOf(i.next[o].next);return s}).join(`
`)}}Ky.empty=new Ky(!0);class A0e{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function vK(t){let e=[];do e.push(E0e(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function E0e(t){let e=[];do e.push(T0e(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function T0e(t){let e=M0e(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=k0e(t,e);else break;return e}function O6(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function k0e(t,e){let n=O6(t),i=n;return t.eat(",")&&(t.next!="}"?i=O6(t):i=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:e}}function _0e(t,e){let n=t.nodeTypes,i=n[e];if(i)return[i];let r=[];for(let s in n){let o=n[s];o.isInGroup(e)&&r.push(o)}return r.length==0&&t.err("No node type or group '"+e+"' found"),r}function M0e(t){if(t.eat("(")){let e=vK(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=_0e(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function R0e(t){let e=[[]];return r(s(t,0),n()),e;function n(){return e.push([])-1}function i(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function r(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;r(c,a=n())}else if(o.type=="star"){let l=n();return i(a,l),r(s(o.expr,l),l),[i(l)]}else if(o.type=="plus"){let l=n();return r(s(o.expr,a),l),r(s(o.expr,l),l),[i(l)]}else{if(o.type=="opt")return[i(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let d=n();r(s(o.expr,l),d),l=d}if(o.max==-1)r(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let d=n();i(l,d),r(s(o.expr,l),d),l=d}return[i(l)]}else{if(o.type=="name")return[i(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function xK(t,e){return e-t}function L6(t,e){let n=[];return i(e),n.sort(xK);function i(r){let s=t[r];if(s.length==1&&!s[0].term)return i(s[0].to);n.push(r);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&i(l)}}}function D0e(t){let e=Object.create(null);return n(L6(t,0));function n(i){let r=[];i.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let d=0;d<r.length;d++)r[d][0]==a&&(c=r[d][1]);L6(t,l).forEach(d=>{c||r.push([a,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let s=e[i.join(",")]=new Ky(i.indexOf(t.length-1)>-1);for(let o=0;o<r.length;o++){let a=r[o][1].sort(xK);s.next.push({type:r[o][0],next:e[a.join(",")]||n(a)})}return s}}function N0e(t,e){for(let n=0,i=[t];n<i.length;n++){let r=i[n],s=!r.validEnd,o=[];for(let a=0;a<r.next.length;a++){let{type:l,next:c}=r.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),i.indexOf(c)==-1&&i.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function wK(t){let e=Object.create(null);for(let n in t){let i=t[n];if(!i.hasDefault)return null;e[n]=i.default}return e}function SK(t,e){let n=Object.create(null);for(let i in t){let r=e&&e[i];if(r===void 0){let s=t[i];if(s.hasDefault)r=s.default;else throw new RangeError("No value supplied for attribute "+i)}n[i]=r}return n}function CK(t,e,n,i){for(let r in e)if(!(r in t))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let r in t){let s=t[r];s.validate&&s.validate(e[r])}}function AK(t,e){let n=Object.create(null);if(e)for(let i in e)n[i]=new O0e(t,i,e[i]);return n}let j6=class EK{constructor(e,n,i){this.name=e,this.schema=n,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=AK(e,i.attrs),this.defaultAttrs=wK(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ky.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:SK(this.attrs,e)}create(e=null,n,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new kp(this,this.computeAttrs(e),Be.from(n),ei.setFrom(i))}createChecked(e=null,n,i){return n=Be.from(n),this.checkContent(n),new kp(this,this.computeAttrs(e),n,ei.setFrom(i))}createAndFill(e=null,n,i){if(e=this.computeAttrs(e),n=Be.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let r=this.contentMatch.matchFragment(n),s=r&&r.fillBefore(Be.empty,!0);return s?new kp(this,e,n.append(s),ei.setFrom(i)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){CK(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?n&&n.push(e[i]):n||(n=e.slice(0,i));return n?n.length?n:ei.none:e}static compile(e,n){let i=Object.create(null);e.forEach((s,o)=>i[s]=new EK(s,n,o));let r=n.spec.topNode||"doc";if(!i[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let s in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function P0e(t,e,n){let i=n.split("|");return r=>{let s=r===null?"null":typeof r;if(i.indexOf(s)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${t}, got ${s}`)}}class O0e{constructor(e,n,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?P0e(e,n,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class CD{constructor(e,n,i,r){this.name=e,this.rank=n,this.schema=i,this.spec=r,this.attrs=AK(e,r.attrs),this.excluded=null;let s=wK(this.attrs);this.instance=s?new ei(this,s):null}create(e=null){return!e&&this.instance?this.instance:new ei(this,SK(this.attrs,e))}static compile(e,n){let i=Object.create(null),r=0;return e.forEach((s,o)=>i[s]=new CD(s,r++,n,o)),i}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){CK(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}let TK=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let r in e)n[r]=e[r];n.nodes=ns.from(e.nodes),n.marks=ns.from(e.marks||{}),this.nodes=j6.compile(this.spec.nodes,this),this.marks=CD.compile(this.spec.marks,this);let i=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let s=this.nodes[r],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=i[o]||(i[o]=Ky.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?I6(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let r in this.marks){let s=this.marks[r],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:I6(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,i,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof j6){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,i,r)}text(e,n){let i=this.nodes.text;return new GR(i,i.defaultAttrs,e,ei.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return kp.fromJSON(this,e)}markFromJSON(e){return ei.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}};function I6(t,e){let n=[];for(let i=0;i<e.length;i++){let r=e[i],s=t.marks[r],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(r=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}function L0e(t){return t.tag!=null}function j0e(t){return t.style!=null}class _p{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let i=this.matchedStyles=[];n.forEach(r=>{if(L0e(r))this.tags.push(r);else if(j0e(r)){let s=/[^=]*/.exec(r.style)[0];i.indexOf(s)<0&&i.push(s),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let s=e.nodes[r.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let i=new $6(this,n,!1);return i.addAll(e,ei.none,n.from,n.to),i.finish()}parseSlice(e,n={}){let i=new $6(this,n,!0);return i.addAll(e,ei.none,n.from,n.to),Qe.maxOpen(i.finish())}matchTag(e,n,i){for(let r=i?this.tags.indexOf(i)+1:0;r<this.tags.length;r++){let s=this.tags[r];if($0e(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,i,r){for(let s=r?this.styles.indexOf(r)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!i.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function i(r){let s=r.priority==null?50:r.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,r)}for(let r in e.marks){let s=e.marks[r].spec.parseDOM;s&&s.forEach(o=>{i(o=z6(o)),o.mark||o.ignore||o.clearMark||(o.mark=r)})}for(let r in e.nodes){let s=e.nodes[r].spec.parseDOM;s&&s.forEach(o=>{i(o=z6(o)),o.node||o.ignore||o.mark||(o.node=r)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new _p(e,_p.schemaRules(e)))}}const kK={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},I0e={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},_K={ol:!0,ul:!0},YC=1,_j=2,NM=4;function F6(t,e,n){return e!=null?(e?YC:0)|(e==="full"?_j:0):t&&t.whitespace=="pre"?YC|_j:n&-5}class K_{constructor(e,n,i,r,s,o){this.type=e,this.attrs=n,this.marks=i,this.solid=r,this.options=o,this.content=[],this.activeMarks=ei.none,this.match=s||(o&NM?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Be.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let i=this.type.contentMatch,r;return(r=i.findWrapping(e.type))?(this.match=i,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&YC)){let i=this.content[this.content.length-1],r;if(i&&i.isText&&(r=/[ \t\r\n\u000c]+$/.exec(i.text))){let s=i;i.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-r[0].length))}}let n=Be.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(Be.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!kK.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class $6{constructor(e,n,i){this.parser=e,this.options=n,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let r=n.topNode,s,o=F6(null,n.preserveWhitespace,0)|(i?NM:0);r?s=new K_(r.type,r.attrs,ei.none,!0,n.topMatch||r.type.contentMatch,o):i?s=new K_(null,null,ei.none,!0,null,o):s=new K_(e.schema.topNodeType,null,ei.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let i=e.nodeValue,r=this.top,s=r.options&_j?"full":this.localPreserveWS||(r.options&YC)>0;if(s==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(i)){if(s)s!=="full"?i=i.replace(/\r?\n|\r/g," "):i=i.replace(/\r\n?/g,`
`);else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let o=r.content[r.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,i){let r=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;_K.hasOwnProperty(o)&&this.parser.normalizeLists&&F0e(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,i));e:if(l?l.ignore:I0e.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,d=this.needsBlock;if(kK.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let h=l&&l.skip?n:this.readStyles(e,n);h&&this.addAll(e,h),c&&this.sync(s),this.needsBlock=d}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=r}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let i=e.style;if(i&&i.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let s=this.parser.matchedStyles[r],o=i.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,i,r){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),i)||this.leafFallback(e,i);else{let l=this.enter(o,n.attrs||null,i,n.preserveWhitespace);l&&(s=!0,i=l)}else{let l=this.parser.schema.marks[n.mark];i=i.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,i,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,i));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,i),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,n,i,r){let s=i||0;for(let o=i?e.childNodes[i]:e.firstChild,a=r==null?null:e.childNodes[r];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n){let i,r;for(let s=this.open;s>=0;s--){let o=this.nodes[s],a=o.findWrapping(e);if(a&&(!i||i.length>a.length)&&(i=a,r=o,!a.length)||o.solid)break}if(!i)return null;this.sync(r);for(let s=0;s<i.length;s++)n=this.enterInner(i[s],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&(n=this.enterInner(r,null,n))}let i=this.findPlace(e,n);if(i){this.closeExtra();let r=this.top;r.match&&(r.match=r.match.matchType(e.type));let s=ei.none;for(let o of i.concat(e.marks))(r.type?r.type.allowsMarkType(o.type):B6(o.type,e.type))&&(s=o.addToSet(s));return r.content.push(e.mark(s)),!0}return!1}enter(e,n,i,r){let s=this.findPlace(e.create(n),i);return s&&(s=this.enterInner(e,n,i,!0,r)),s}enterInner(e,n,i,r=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=F6(e,s,o.options);o.options&NM&&o.content.length==0&&(a|=NM);let l=ei.none;return i=i.filter(c=>(o.type?o.type.allowsMarkType(c.type):B6(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new K_(e,n,l,r,null,a)),this.open++,i}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=YC)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let i=this.nodes[n].content;for(let r=i.length-1;r>=0;r--)e+=i[r].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,i){if(e!=n&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&n.compareDocumentPosition(this.find[r].node)&(i?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),i=this.options.context,r=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),s=-(i?i.depth+1:0)+(r?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let d=l>0||l==0&&r?this.nodes[l].type:i&&l>=s?i.node(l-s).type:null;if(!d||d.name!=c&&!d.isInGroup(c))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let n in this.parser.schema.nodes){let i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}}}function F0e(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&_K.hasOwnProperty(i)&&n?(n.appendChild(e),e=n):i=="li"?n=e:i&&(n=null)}}function $0e(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function z6(t){let e={};for(let n in t)e[n]=t[n];return e}function B6(t,e){let n=e.schema.nodes;for(let i in n){let r=n[i];if(!r.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:d}=a.edge(l);if(c==e||s.indexOf(d)<0&&o(d))return!0}};if(o(r.contentMatch))return!0}}class o0{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},i){i||(i=hO(n).createDocumentFragment());let r=i,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)r=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],d=this.serializeMark(c,o.isInline,n);d&&(s.push([c,r]),r.appendChild(d.dom),r=d.contentDOM||d.dom)}}r.appendChild(this.serializeNodeInner(o,n))}),i}serializeNodeInner(e,n){let{dom:i,contentDOM:r}=PM(hO(n),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,r)}return i}serializeNode(e,n={}){let i=this.serializeNodeInner(e,n);for(let r=e.marks.length-1;r>=0;r--){let s=this.serializeMark(e.marks[r],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(i),i=s.dom)}return i}serializeMark(e,n,i={}){let r=this.marks[e.type.name];return r&&PM(hO(i),r(e,n),null,e.attrs)}static renderSpec(e,n,i=null,r){return PM(e,n,i,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new o0(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=V6(e.nodes);return n.text||(n.text=i=>i.text),n}static marksFromSchema(e){return V6(e.marks)}}function V6(t){let e={};for(let n in t){let i=t[n].spec.toDOM;i&&(e[n]=i)}return e}function hO(t){return t.document||window.document}const H6=new WeakMap;function z0e(t){let e=H6.get(t);return e===void 0&&H6.set(t,e=B0e(t)),e}function B0e(t){let e=null;function n(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")e||(e=[]),e.push(i);else for(let r=0;r<i.length;r++)n(i[r]);else for(let r in i)n(i[r])}return n(t),e}function PM(t,e,n,i){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],s;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(s=z0e(i))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));let a,l=n?t.createElementNS(n,r):t.createElement(r),c=e[1],d=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){d=2;for(let h in c)if(c[h]!=null){let p=h.indexOf(" ");p>0?l.setAttributeNS(h.slice(0,p),h.slice(p+1),c[h]):l.setAttribute(h,c[h])}}for(let h=d;h<e.length;h++){let p=e[h];if(p===0){if(h<e.length-1||h>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:m,contentDOM:v}=PM(t,p,n,i);if(l.appendChild(m),v){if(a)throw new RangeError("Multiple content holes");a=v}}}return{dom:l,contentDOM:a}}const MK=65535,RK=Math.pow(2,16);function V0e(t,e){return t+e*RK}function U6(t){return t&MK}function H0e(t){return(t-(t&MK))/RK}const DK=1,NK=2,OM=4,PK=8;class Mj{constructor(e,n,i){this.pos=e,this.delInfo=n,this.recover=i}get deleted(){return(this.delInfo&PK)>0}get deletedBefore(){return(this.delInfo&(DK|OM))>0}get deletedAfter(){return(this.delInfo&(NK|OM))>0}get deletedAcross(){return(this.delInfo&OM)>0}}class Ea{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Ea.empty)return Ea.empty}recover(e){let n=0,i=U6(e);if(!this.inverted)for(let r=0;r<i;r++)n+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[i*3]+n+H0e(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,i){let r=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],d=this.ranges[a+o],h=l+c;if(e<=h){let p=c?e==l?-1:e==h?1:n:n,m=l+r+(p<0?0:d);if(i)return m;let v=e==(n<0?l:h)?null:V0e(a/3,e-l),S=e==l?NK:e==h?DK:OM;return(n<0?e!=l:e!=h)&&(S|=PK),new Mj(m,S,v)}r+=d-c}return i?e+r:new Mj(e+r,0,null)}touches(e,n){let i=0,r=U6(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],d=l+c;if(e<=d&&a==r*3)return!0;i+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,i=this.inverted?1:2;for(let r=0,s=0;r<this.ranges.length;r+=3){let o=this.ranges[r],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[r+n],d=this.ranges[r+i];e(a,a+c,l,l+d),s+=d-c}}invert(){return new Ea(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ea.empty:new Ea(e<0?[0,-e,0]:[0,0,e])}}Ea.empty=new Ea([]);class XC{constructor(e,n,i=0,r=e?e.length:0){this.mirror=n,this.from=i,this.to=r,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new XC(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,i=this._maps.length;n<e._maps.length;n++){let r=e.getMirror(n);this.appendMap(e._maps[n],r!=null&&r<n?i+r:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,i=this._maps.length+e._maps.length;n>=0;n--){let r=e.getMirror(n);this.appendMap(e._maps[n].invert(),r!=null&&r>n?i-r-1:void 0)}}invert(){let e=new XC;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let i=this.from;i<this.to;i++)e=this._maps[i].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,i){let r=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}r|=a.delInfo,e=a.pos}return i?e:new Mj(e,r,null)}}const pO=Object.create(null);class Fs{getMap(){return Ea.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=pO[n.stepType];if(!i)throw new RangeError(`No step type ${n.stepType} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in pO)throw new RangeError("Duplicate use of step JSON ID "+e);return pO[e]=n,n.prototype.jsonID=e,n}}class cr{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new cr(e,null)}static fail(e){return new cr(null,e)}static fromReplace(e,n,i,r){try{return cr.ok(e.replace(n,i,r))}catch(s){if(s instanceof HR)return cr.fail(s.message);throw s}}}function M3(t,e,n){let i=[];for(let r=0;r<t.childCount;r++){let s=t.child(r);s.content.size&&(s=s.copy(M3(s.content,e,s))),s.isInline&&(s=e(s,n,r)),i.push(s)}return Be.fromArray(i)}class Sp extends Fs{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=e.resolve(this.from),r=i.node(i.sharedDepth(this.to)),s=new Qe(M3(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),r),n.openStart,n.openEnd);return cr.fromReplace(e,this.from,this.to,s)}invert(){return new Hu(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new Sp(n.pos,i.pos,this.mark)}merge(e){return e instanceof Sp&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Sp(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Sp(n.from,n.to,e.markFromJSON(n.mark))}}Fs.jsonID("addMark",Sp);class Hu extends Fs{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=new Qe(M3(n.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),n.openStart,n.openEnd);return cr.fromReplace(e,this.from,this.to,i)}invert(){return new Sp(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new Hu(n.pos,i.pos,this.mark)}merge(e){return e instanceof Hu&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Hu(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Hu(n.from,n.to,e.markFromJSON(n.mark))}}Fs.jsonID("removeMark",Hu);class Cp extends Fs{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return cr.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return cr.fromReplace(e,this.pos,this.pos+1,new Qe(Be.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let i=this.mark.addToSet(n.marks);if(i.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(i))return new Cp(this.pos,n.marks[r]);return new Cp(this.pos,this.mark)}}return new Dx(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Cp(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Cp(n.pos,e.markFromJSON(n.mark))}}Fs.jsonID("addNodeMark",Cp);class Dx extends Fs{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return cr.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return cr.fromReplace(e,this.pos,this.pos+1,new Qe(Be.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Cp(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Dx(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Dx(n.pos,e.markFromJSON(n.mark))}}Fs.jsonID("removeNodeMark",Dx);class Fr extends Fs{constructor(e,n,i,r=!1){super(),this.from=e,this.to=n,this.slice=i,this.structure=r}apply(e){return this.structure&&Rj(e,this.from,this.to)?cr.fail("Structure replace would overwrite content"):cr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ea([this.from,this.to-this.from,this.slice.size])}invert(e){return new Fr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deletedAcross&&i.deletedAcross?null:new Fr(n.pos,Math.max(n.pos,i.pos),this.slice)}merge(e){if(!(e instanceof Fr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Qe.empty:new Qe(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Fr(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Qe.empty:new Qe(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Fr(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Fr(n.from,n.to,Qe.fromJSON(e,n.slice),!!n.structure)}}Fs.jsonID("replace",Fr);class zr extends Fs{constructor(e,n,i,r,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=i,this.gapTo=r,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(Rj(e,this.from,this.gapFrom)||Rj(e,this.gapTo,this.to)))return cr.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return cr.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,n.content);return i?cr.fromReplace(e,this.from,this.to,i):cr.fail("Content does not fit in gap")}getMap(){return new Ea([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new zr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),r=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?i.pos:e.map(this.gapTo,1);return n.deletedAcross&&i.deletedAcross||r<n.pos||s>i.pos?null:new zr(n.pos,i.pos,r,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new zr(n.from,n.to,n.gapFrom,n.gapTo,Qe.fromJSON(e,n.slice),n.insert,!!n.structure)}}Fs.jsonID("replaceAround",zr);function Rj(t,e,n){let i=t.resolve(e),r=n-e,s=i.depth;for(;r>0&&s>0&&i.indexAfter(s)==i.node(s).childCount;)s--,r--;if(r>0){let o=i.node(s).maybeChild(i.indexAfter(s));for(;r>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,r--}}return!1}function U0e(t,e,n,i){let r=[],s=[],o,a;t.doc.nodesBetween(e,n,(l,c,d)=>{if(!l.isInline)return;let h=l.marks;if(!i.isInSet(h)&&d.type.allowsMarkType(i.type)){let p=Math.max(c,e),m=Math.min(c+l.nodeSize,n),v=i.addToSet(h);for(let S=0;S<h.length;S++)h[S].isInSet(v)||(o&&o.to==p&&o.mark.eq(h[S])?o.to=m:r.push(o=new Hu(p,m,h[S])));a&&a.to==p?a.to=m:s.push(a=new Sp(p,m,i))}}),r.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function q0e(t,e,n,i){let r=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(i instanceof CD){let c=o.marks,d;for(;d=i.isInSet(c);)(l||(l=[])).push(d),c=d.removeFromSet(c)}else i?i.isInSet(o.marks)&&(l=[i]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let d=0;d<l.length;d++){let h=l[d],p;for(let m=0;m<r.length;m++){let v=r[m];v.step==s-1&&h.eq(r[m].style)&&(p=v)}p?(p.to=c,p.step=s):r.push({style:h,from:Math.max(a,e),to:c,step:s})}}}),r.forEach(o=>t.step(new Hu(o.from,o.to,o.style)))}function R3(t,e,n,i=n.contentMatch,r=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),d=a+c.nodeSize,h=i.matchType(c.type);if(!h)o.push(new Fr(a,d,Qe.empty));else{i=h;for(let p=0;p<c.marks.length;p++)n.allowsMarkType(c.marks[p].type)||t.step(new Hu(a,d,c.marks[p]));if(r&&c.isText&&n.whitespace!="pre"){let p,m=/\r?\n|\r/g,v;for(;p=m.exec(c.text);)v||(v=new Qe(Be.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new Fr(a+p.index,a+p.index+p[0].length,v))}}a=d}if(!i.validEnd){let l=i.fillBefore(Be.empty,!0);t.replace(a,a,new Qe(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function G0e(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function a1(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let i=t.depth;;--i){let r=t.$from.node(i),s=t.$from.index(i),o=t.$to.indexAfter(i);if(i<t.depth&&r.canReplace(s,o,n))return i;if(i==0||r.type.spec.isolating||!G0e(r,s,o))break}return null}function W0e(t,e,n){let{$from:i,$to:r,depth:s}=e,o=i.before(s+1),a=r.after(s+1),l=o,c=a,d=Be.empty,h=0;for(let v=s,S=!1;v>n;v--)S||i.index(v)>0?(S=!0,d=Be.from(i.node(v).copy(d)),h++):l--;let p=Be.empty,m=0;for(let v=s,S=!1;v>n;v--)S||r.after(v+1)<r.end(v)?(S=!0,p=Be.from(r.node(v).copy(p)),m++):c++;t.step(new zr(l,c,o,a,new Qe(d.append(p),h,m),d.size-h,!0))}function D3(t,e,n=null,i=t){let r=K0e(t,e),s=r&&Y0e(i,e);return s?r.map(q6).concat({type:e,attrs:n}).concat(s.map(q6)):null}function q6(t){return{type:t,attrs:null}}function K0e(t,e){let{parent:n,startIndex:i,endIndex:r}=t,s=n.contentMatchAt(i).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(i,r,o)?s:null}function Y0e(t,e){let{parent:n,startIndex:i,endIndex:r}=t,s=n.child(i),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=i;l&&c<r;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function X0e(t,e,n){let i=Be.empty;for(let o=n.length-1;o>=0;o--){if(i.size){let a=n[o].type.contentMatch.matchFragment(i);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=Be.from(n[o].type.create(n[o].attrs,i))}let r=e.start,s=e.end;t.step(new zr(r,s,r,s,new Qe(i,0,0),n.length,!0))}function J0e(t,e,n,i,r){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof r=="function"?r(o):r;if(o.isTextblock&&!o.hasMarkup(i,l)&&Z0e(t.doc,t.mapping.slice(s).map(a),i)){let c=null;if(i.schema.linebreakReplacement){let m=i.whitespace=="pre",v=!!i.contentMatch.matchType(i.schema.linebreakReplacement);m&&!v?c=!1:!m&&v&&(c=!0)}c===!1&&LK(t,o,a,s),R3(t,t.mapping.slice(s).map(a,1),i,void 0,c===null);let d=t.mapping.slice(s),h=d.map(a,1),p=d.map(a+o.nodeSize,1);return t.step(new zr(h,p,h+1,p-1,new Qe(Be.from(i.create(l,null,o.marks)),0,0),1,!0)),c===!0&&OK(t,o,a,s),!1}})}function OK(t,e,n,i){e.forEach((r,s)=>{if(r.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(r.text);){let l=t.mapping.slice(i).map(n+1+s+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function LK(t,e,n,i){e.forEach((r,s)=>{if(r.type==r.type.schema.linebreakReplacement){let o=t.mapping.slice(i).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function Z0e(t,e,n){let i=t.resolve(e),r=i.index();return i.parent.canReplaceWith(r,r+1,n)}function Q0e(t,e,n,i,r){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(i,null,r||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new zr(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Qe(Be.from(o),0,0),1,!0))}function bf(t,e,n=1,i){let r=t.resolve(e),s=r.depth-n,o=i&&i[i.length-1]||r.parent;if(s<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!o.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let c=r.depth-1,d=n-2;c>s;c--,d--){let h=r.node(c),p=r.index(c);if(h.type.spec.isolating)return!1;let m=h.content.cutByIndex(p,h.childCount),v=i&&i[d+1];v&&(m=m.replaceChild(0,v.type.create(v.attrs)));let S=i&&i[d]||h;if(!h.canReplace(p+1,h.childCount)||!S.type.validContent(m))return!1}let a=r.indexAfter(s),l=i&&i[0];return r.node(s).canReplaceWith(a,a,l?l.type:r.node(s+1).type)}function ebe(t,e,n=1,i){let r=t.doc.resolve(e),s=Be.empty,o=Be.empty;for(let a=r.depth,l=r.depth-n,c=n-1;a>l;a--,c--){s=Be.from(r.node(a).copy(s));let d=i&&i[c];o=Be.from(d?d.type.create(d.attrs,o):r.node(a).copy(o))}t.step(new Fr(e,e,new Qe(s.append(o),n,n),!0))}function Yp(t,e){let n=t.resolve(e),i=n.index();return jK(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function tbe(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:i}=t.type.schema;for(let r=0;r<e.childCount;r++){let s=e.child(r),o=s.type==i?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function jK(t,e){return!!(t&&e&&!t.isLeaf&&tbe(t,e))}function AD(t,e,n=-1){let i=t.resolve(e);for(let r=i.depth;;r--){let s,o,a=i.index(r);if(r==i.depth?(s=i.nodeBefore,o=i.nodeAfter):n>0?(s=i.node(r+1),a++,o=i.node(r).maybeChild(a)):(s=i.node(r).maybeChild(a-1),o=i.node(r+1)),s&&!s.isTextblock&&jK(s,o)&&i.node(r).canReplace(a,a+1))return e;if(r==0)break;e=n<0?i.before(r):i.after(r)}}function nbe(t,e,n){let i=null,{linebreakReplacement:r}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(r&&o.inlineContent){let d=o.whitespace=="pre",h=!!o.contentMatch.matchType(r);d&&!h?i=!1:!d&&h&&(i=!0)}let a=t.steps.length;if(i===!1){let d=t.doc.resolve(e+n);LK(t,d.node(),d.before(),a)}o.inlineContent&&R3(t,e+n-1,o,s.node().contentMatchAt(s.index()),i==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new Fr(c,l.map(e+n,-1),Qe.empty,!0)),i===!0){let d=t.doc.resolve(c);OK(t,d.node(),d.before(),t.steps.length)}return t}function ibe(t,e,n){let i=t.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),n))return e;if(i.parentOffset==0)for(let r=i.depth-1;r>=0;r--){let s=i.index(r);if(i.node(r).canReplaceWith(s,s,n))return i.before(r+1);if(s>0)return null}if(i.parentOffset==i.parent.content.size)for(let r=i.depth-1;r>=0;r--){let s=i.indexAfter(r);if(i.node(r).canReplaceWith(s,s,n))return i.after(r+1);if(s<i.node(r).childCount)return null}return null}function IK(t,e,n){let i=t.resolve(e);if(!n.content.size)return e;let r=n.content;for(let s=0;s<n.openStart;s++)r=r.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=i.depth;o>=0;o--){let a=o==i.depth?0:i.pos<=(i.start(o+1)+i.end(o+1))/2?-1:1,l=i.index(o)+(a>0?1:0),c=i.node(o),d=!1;if(s==1)d=c.canReplace(l,l,r);else{let h=c.contentMatchAt(l).findWrapping(r.firstChild.type);d=h&&c.canReplaceWith(l,l,h[0])}if(d)return a==0?i.pos:a<0?i.before(o+1):i.after(o+1)}return null}function ED(t,e,n=e,i=Qe.empty){if(e==n&&!i.size)return null;let r=t.resolve(e),s=t.resolve(n);return FK(r,s,i)?new Fr(e,n,i):new rbe(r,s,i).fit()}function FK(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class rbe{constructor(e,n,i){this.$from=e,this.$to=n,this.unplaced=i,this.frontier=[],this.placed=Be.empty;for(let r=0;r<=e.depth;r++){let s=e.node(r);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=Be.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,r=this.close(e<0?this.$to:i.doc.resolve(e));if(!r)return null;let s=this.placed,o=i.depth,a=r.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new Qe(s,o,a);return e>-1?new zr(i.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||i.pos!=this.$to.pos?new Fr(i.pos,r.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,i=0,r=this.unplaced.openEnd;i<e;i++){let s=n.firstChild;if(n.childCount>1&&(r=0),s.type.spec.isolating&&r<=i){e=i;break}n=s.content}for(let n=1;n<=2;n++)for(let i=n==1?e:this.unplaced.openStart;i>=0;i--){let r,s=null;i?(s=mO(this.unplaced.content,i-1).firstChild,r=s.content):r=this.unplaced.content;let o=r.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],d,h=null;if(n==1&&(o?c.matchType(o.type)||(h=c.fillBefore(Be.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:i,frontierDepth:a,parent:s,inject:h};if(n==2&&o&&(d=c.findWrapping(o.type)))return{sliceDepth:i,frontierDepth:a,parent:s,wrap:d};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:i}=this.unplaced,r=mO(e,n);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new Qe(e,n+1,Math.max(i,r.size+n>=e.size-i?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:i}=this.unplaced,r=mO(e,n);if(r.childCount<=1&&n>0){let s=e.size-n<=n+r.size;this.unplaced=new Qe(US(e,n-1,1),n-1,s?n-1:i)}else this.unplaced=new Qe(US(e,n,1),n,i)}placeNodes({sliceDepth:e,frontierDepth:n,parent:i,inject:r,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let S=0;S<s.length;S++)this.openFrontierNode(s[S]);let o=this.unplaced,a=i?i.content:o.content,l=o.openStart-e,c=0,d=[],{match:h,type:p}=this.frontier[n];if(r){for(let S=0;S<r.childCount;S++)d.push(r.child(S));h=h.matchFragment(r)}let m=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let S=a.child(c),A=h.matchType(S.type);if(!A)break;c++,(c>1||l==0||S.content.size)&&(h=A,d.push($K(S.mark(p.allowedMarks(S.marks)),c==1?l:0,c==a.childCount?m:-1)))}let v=c==a.childCount;v||(m=-1),this.placed=qS(this.placed,n,Be.from(d)),this.frontier[n].match=h,v&&m<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,A=a;S<m;S++){let E=A.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),A=E.content}this.unplaced=v?e==0?Qe.empty:new Qe(US(o.content,e-1,1),e-1,m<0?o.openEnd:e-1):new Qe(US(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!gO(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:i}=this.$to,r=this.$to.after(i);for(;i>1&&r==this.$to.end(--i);)++r;return r}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:i,type:r}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=gO(e,n,r,i,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],d=gO(e,a,c,l,!0);if(!d||d.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=qS(this.placed,n.depth,n.fit)),e=n.move;for(let i=n.depth+1;i<=e.depth;i++){let r=e.node(i),s=r.type.contentMatch.fillBefore(r.content,!0,e.index(i));this.openFrontierNode(r.type,r.attrs,s)}return e}openFrontierNode(e,n=null,i){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=qS(this.placed,this.depth,Be.from(e.create(n,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Be.empty,!0);n.childCount&&(this.placed=qS(this.placed,this.frontier.length,n))}}function US(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(US(t.firstChild.content,e-1,n)))}function qS(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(qS(t.lastChild.content,e-1,n)))}function mO(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function $K(t,e,n){if(e<=0)return t;let i=t.content;return e>1&&(i=i.replaceChild(0,$K(i.firstChild,e-1,i.childCount==1?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(Be.empty,!0)))),t.copy(i)}function gO(t,e,n,i,r){let s=t.node(e),o=r?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=i.fillBefore(s.content,!0,o);return a&&!sbe(n,s.content,o)?a:null}function sbe(t,e,n){for(let i=n;i<e.childCount;i++)if(!t.allowsMarks(e.child(i).marks))return!0;return!1}function obe(t){return t.spec.defining||t.spec.definingForContent}function abe(t,e,n,i){if(!i.size)return t.deleteRange(e,n);let r=t.doc.resolve(e),s=t.doc.resolve(n);if(FK(r,s,i))return t.step(new Fr(e,n,i));let o=BK(r,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(r.depth+1);o.unshift(a);for(let p=r.depth,m=r.pos-1;p>0;p--,m--){let v=r.node(p).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;o.indexOf(p)>-1?a=p:r.before(p)==m&&o.splice(1,0,-p)}let l=o.indexOf(a),c=[],d=i.openStart;for(let p=i.content,m=0;;m++){let v=p.firstChild;if(c.push(v),m==i.openStart)break;p=v.content}for(let p=d-1;p>=0;p--){let m=c[p],v=obe(m.type);if(v&&!m.sameMarkup(r.node(Math.abs(a)-1)))d=p;else if(v||!m.type.isTextblock)break}for(let p=i.openStart;p>=0;p--){let m=(p+d+1)%(i.openStart+1),v=c[m];if(v)for(let S=0;S<o.length;S++){let A=o[(S+l)%o.length],E=!0;A<0&&(E=!1,A=-A);let M=r.node(A-1),R=r.index(A-1);if(M.canReplaceWith(R,R,v.type,v.marks))return t.replace(r.before(A),E?s.after(A):n,new Qe(zK(i.content,0,i.openStart,m),m,i.openEnd))}}let h=t.steps.length;for(let p=o.length-1;p>=0&&(t.replace(e,n,i),!(t.steps.length>h));p--){let m=o[p];m<0||(e=r.before(m),n=s.after(m))}}function zK(t,e,n,i,r){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(zK(s.content,e+1,n,i,s)))}if(e>i){let s=r.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(Be.empty,!0))}return t}function lbe(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=ibe(t.doc,e,i.type);r!=null&&(e=n=r)}t.replaceRange(e,n,new Qe(Be.from(i),0,0))}function cbe(t,e,n){let i=t.doc.resolve(e),r=t.doc.resolve(n),s=BK(i,r);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||i.node(a).type.contentMatch.validEnd)return t.delete(i.start(a),r.end(a));if(a>0&&(l||i.node(a-1).canReplace(i.index(a-1),r.indexAfter(a-1))))return t.delete(i.before(a),r.after(a))}for(let o=1;o<=i.depth&&o<=r.depth;o++)if(e-i.start(o)==i.depth-o&&n>i.end(o)&&r.end(o)-n!=r.depth-o&&i.start(o-1)==r.start(o-1)&&i.node(o-1).canReplace(i.index(o-1),r.index(o-1)))return t.delete(i.before(o),n);t.delete(e,n)}function BK(t,e){let n=[],i=Math.min(t.depth,e.depth);for(let r=i;r>=0;r--){let s=t.start(r);if(s<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(s==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==s-1)&&n.push(r)}return n}class vv extends Fs{constructor(e,n,i){super(),this.pos=e,this.attr=n,this.value=i}apply(e){let n=e.nodeAt(this.pos);if(!n)return cr.fail("No node at attribute step's position");let i=Object.create(null);for(let s in n.attrs)i[s]=n.attrs[s];i[this.attr]=this.value;let r=n.type.create(i,null,n.marks);return cr.fromReplace(e,this.pos,this.pos+1,new Qe(Be.from(r),0,n.isLeaf?0:1))}getMap(){return Ea.empty}invert(e){return new vv(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new vv(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new vv(n.pos,n.attr,n.value)}}Fs.jsonID("attr",vv);class JC extends Fs{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let r in e.attrs)n[r]=e.attrs[r];n[this.attr]=this.value;let i=e.type.create(n,e.content,e.marks);return cr.ok(i)}getMap(){return Ea.empty}invert(e){return new JC(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new JC(n.attr,n.value)}}Fs.jsonID("docAttr",JC);let Nx=class extends Error{};Nx=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Nx.prototype=Object.create(Error.prototype);Nx.prototype.constructor=Nx;Nx.prototype.name="TransformError";class ube{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new XC}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Nx(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,i=Qe.empty){let r=ED(this.doc,e,n,i);return r&&this.step(r),this}replaceWith(e,n,i){return this.replace(e,n,new Qe(Be.from(i),0,0))}delete(e,n){return this.replace(e,n,Qe.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,i){return abe(this,e,n,i),this}replaceRangeWith(e,n,i){return lbe(this,e,n,i),this}deleteRange(e,n){return cbe(this,e,n),this}lift(e,n){return W0e(this,e,n),this}join(e,n=1){return nbe(this,e,n),this}wrap(e,n){return X0e(this,e,n),this}setBlockType(e,n=e,i,r=null){return J0e(this,e,n,i,r),this}setNodeMarkup(e,n,i=null,r){return Q0e(this,e,n,i,r),this}setNodeAttribute(e,n,i){return this.step(new vv(e,n,i)),this}setDocAttribute(e,n){return this.step(new JC(e,n)),this}addNodeMark(e,n){return this.step(new Cp(e,n)),this}removeNodeMark(e,n){if(!(n instanceof ei)){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(n=n.isInSet(i.marks),!n)return this}return this.step(new Dx(e,n)),this}split(e,n=1,i){return ebe(this,e,n,i),this}addMark(e,n,i){return U0e(this,e,n,i),this}removeMark(e,n,i){return q0e(this,e,n,i),this}clearIncompatible(e,n,i){return R3(this,e,n,i),this}}const yO=Object.create(null);class Jt{constructor(e,n,i){this.$anchor=e,this.$head=n,this.ranges=i||[new dbe(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Qe.empty){let i=n.content.lastChild,r=null;for(let a=0;a<n.openEnd;a++)r=i,i=i.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],d=e.mapping.slice(s);e.replaceRange(d.map(l.pos),d.map(c.pos),a?Qe.empty:n),a==0&&K6(e,s,(i?i.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,n){let i=e.steps.length,r=this.ranges;for(let s=0;s<r.length;s++){let{$from:o,$to:a}=r[s],l=e.mapping.slice(i),c=l.map(o.pos),d=l.map(a.pos);s?e.deleteRange(c,d):(e.replaceRangeWith(c,d,n),K6(e,i,n.isInline?-1:1))}}static findFrom(e,n,i=!1){let r=e.parent.inlineContent?new Nt(e):qb(e.node(0),e.parent,e.pos,e.index(),n,i);if(r)return r;for(let s=e.depth-1;s>=0;s--){let o=n<0?qb(e.node(0),e.node(s),e.before(s+1),e.index(s),n,i):qb(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,i);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Da(e.node(0))}static atStart(e){return qb(e,e,0,0,1)||new Da(e)}static atEnd(e){return qb(e,e,e.content.size,e.childCount,-1)||new Da(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=yO[n.type];if(!i)throw new RangeError(`No selection type ${n.type} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in yO)throw new RangeError("Duplicate use of selection JSON ID "+e);return yO[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Nt.between(this.$anchor,this.$head).getBookmark()}}Jt.prototype.visible=!0;class dbe{constructor(e,n){this.$from=e,this.$to=n}}let G6=!1;function W6(t){!G6&&!t.parent.inlineContent&&(G6=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Nt extends Jt{constructor(e,n=e){W6(e),W6(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let i=e.resolve(n.map(this.head));if(!i.parent.inlineContent)return Jt.near(i);let r=e.resolve(n.map(this.anchor));return new Nt(r.parent.inlineContent?r:i,i)}replace(e,n=Qe.empty){if(super.replace(e,n),n==Qe.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof Nt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new TD(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Nt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i=n){let r=e.resolve(n);return new this(r,i==n?r:e.resolve(i))}static between(e,n,i){let r=e.pos-n.pos;if((!i||r)&&(i=r>=0?1:-1),!n.parent.inlineContent){let s=Jt.findFrom(n,i,!0)||Jt.findFrom(n,-i,!0);if(s)n=s.$head;else return Jt.near(n,i)}return e.parent.inlineContent||(r==0?e=n:(e=(Jt.findFrom(e,-i,!0)||Jt.findFrom(e,i,!0)).$anchor,e.pos<n.pos!=r<0&&(e=n))),new Nt(e,n)}}Jt.jsonID("text",Nt);class TD{constructor(e,n){this.anchor=e,this.head=n}map(e){return new TD(e.map(this.anchor),e.map(this.head))}resolve(e){return Nt.between(e.resolve(this.anchor),e.resolve(this.head))}}class pt extends Jt{constructor(e){let n=e.nodeAfter,i=e.node(0).resolve(e.pos+n.nodeSize);super(e,i),this.node=n}map(e,n){let{deleted:i,pos:r}=n.mapResult(this.anchor),s=e.resolve(r);return i?Jt.near(s):new pt(s)}content(){return new Qe(Be.from(this.node),0,0)}eq(e){return e instanceof pt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new N3(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new pt(e.resolve(n.anchor))}static create(e,n){return new pt(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}pt.prototype.visible=!1;Jt.jsonID("node",pt);class N3{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:i}=e.mapResult(this.anchor);return n?new TD(i,i):new N3(i)}resolve(e){let n=e.resolve(this.anchor),i=n.nodeAfter;return i&&pt.isSelectable(i)?new pt(n):Jt.near(n)}}class Da extends Jt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Qe.empty){if(n==Qe.empty){e.delete(0,e.doc.content.size);let i=Jt.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Da(e)}map(e){return new Da(e)}eq(e){return e instanceof Da}getBookmark(){return fbe}}Jt.jsonID("all",Da);const fbe={map(){return this},resolve(t){return new Da(t)}};function qb(t,e,n,i,r,s=!1){if(e.inlineContent)return Nt.create(t,n);for(let o=i-(r>0?0:1);r>0?o<e.childCount:o>=0;o+=r){let a=e.child(o);if(a.isAtom){if(!s&&pt.isSelectable(a))return pt.create(t,n-(r<0?a.nodeSize:0))}else{let l=qb(t,a,n+r,r<0?a.childCount:0,r,s);if(l)return l}n+=a.nodeSize*r}return null}function K6(t,e,n){let i=t.steps.length-1;if(i<e)return;let r=t.steps[i];if(!(r instanceof Fr||r instanceof zr))return;let s=t.mapping.maps[i],o;s.forEach((a,l,c,d)=>{o==null&&(o=d)}),t.setSelection(Jt.near(t.doc.resolve(o),n))}const Y6=1,X6=2,J6=4;class hbe extends ube{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Y6)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&Y6)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=X6,this}ensureMarks(e){return ei.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&X6)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let i=this.selection;return n&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||ei.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,i){let r=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(i==null&&(i=n),i=i??n,!e)return this.deleteRange(n,i);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=i==n?o.marks():o.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(n,i,r.text(e,s)),this.selection.empty||this.setSelection(Jt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=J6,this}get scrolledIntoView(){return(this.updated&J6)>0}}function Z6(t,e){return!e||!t?t:t.bind(e)}class GS{constructor(e,n,i){this.name=e,this.init=Z6(n.init,i),this.apply=Z6(n.apply,i)}}const pbe=[new GS("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new GS("selection",{init(t,e){return t.selection||Jt.atStart(e.doc)},apply(t){return t.selection}}),new GS("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,i){return i.selection.$cursor?t.storedMarks:null}}),new GS("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class bO{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=pbe.slice(),n&&n.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new GS(i.key,i.spec.state,i))})}}class rv{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=n){let r=this.config.plugins[i];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],i=this.applyInner(e),r=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=r?r[o].n:0,c=r?r[o].state:this,d=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,i);if(d&&i.filterTransaction(d,o)){if(d.setMeta("appendedTransaction",e),!r){r=[];for(let h=0;h<this.config.plugins.length;h++)r.push(h<o?{state:i,n:n.length}:{state:this,n:0})}n.push(d),i=i.applyInner(d),s=!0}r&&(r[o]={state:i,n:n.length})}}if(!s)return{state:i,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new rv(this.config),i=this.config.fields;for(let r=0;r<i.length;r++){let s=i[r];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new hbe(this)}static create(e){let n=new bO(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new rv(n);for(let r=0;r<n.fields.length;r++)i[n.fields[r].name]=n.fields[r].init(e,i);return i}reconfigure(e){let n=new bO(this.schema,e.plugins),i=n.fields,r=new rv(n);for(let s=0;s<i.length;s++){let o=i[s].name;r[o]=this.hasOwnProperty(o)?this[o]:i[s].init(e,r)}return r}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[i],s=r.spec.state;s&&s.toJSON&&(n[i]=s.toJSON.call(r,this[r.key]))}return n}static fromJSON(e,n,i){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new bO(e.schema,e.plugins),s=new rv(r);return r.fields.forEach(o=>{if(o.name=="doc")s.doc=kp.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=Jt.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let a in i){let l=i[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=c.fromJSON.call(l,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function VK(t,e,n){for(let i in t){let r=t[i];r instanceof Function?r=r.bind(e):i=="handleDOMEvents"&&(r=VK(r,e,{})),n[i]=r}return n}class Go{constructor(e){this.spec=e,this.props={},e.props&&VK(e.props,this,this.props),this.key=e.key?e.key.key:HK("plugin")}getState(e){return e[this.key]}}const vO=Object.create(null);function HK(t){return t in vO?t+"$"+ ++vO[t]:(vO[t]=0,t+"$")}class nd{constructor(e="key"){this.key=HK(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ss=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Px=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Dj=null;const Id=function(t,e,n){let i=Dj||(Dj=document.createRange());return i.setEnd(t,n??t.nodeValue.length),i.setStart(t,e||0),i},mbe=function(){Dj=null},Yy=function(t,e,n,i){return n&&(Q6(t,e,n,i,-1)||Q6(t,e,n,i,1))},gbe=/^(img|br|input|textarea|hr)$/i;function Q6(t,e,n,i,r){for(;;){if(t==n&&e==i)return!0;if(e==(r<0?0:vl(t))){let s=t.parentNode;if(!s||s.nodeType!=1||rT(t)||gbe.test(t.nodeName)||t.contentEditable=="false")return!1;e=ss(t)+(r<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(r<0?-1:0)],t.contentEditable=="false")return!1;e=r<0?vl(t):0}else return!1}}function vl(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ybe(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=vl(t)}else if(t.parentNode&&!rT(t))e=ss(t),t=t.parentNode;else return null}}function bbe(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!rT(t))e=ss(t)+1,t=t.parentNode;else return null}}function vbe(t,e,n){for(let i=e==0,r=e==vl(t);i||r;){if(t==n)return!0;let s=ss(t);if(t=t.parentNode,!t)return!1;i=i&&s==0,r=r&&s==vl(t)}}function rT(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const kD=function(t){return t.focusNode&&Yy(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Sg(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function xbe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function wbe(t,e,n){if(t.caretPositionFromPoint)try{let i=t.caretPositionFromPoint(e,n);if(i)return{node:i.offsetNode,offset:Math.min(vl(i.offsetNode),i.offset)}}catch{}if(t.caretRangeFromPoint){let i=t.caretRangeFromPoint(e,n);if(i)return{node:i.startContainer,offset:Math.min(vl(i.startContainer),i.startOffset)}}}const Zu=typeof navigator<"u"?navigator:null,eV=typeof document<"u"?document:null,Xp=Zu&&Zu.userAgent||"",Nj=/Edge\/(\d+)/.exec(Xp),UK=/MSIE \d/.exec(Xp),Pj=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Xp),Uo=!!(UK||Pj||Nj),Mp=UK?document.documentMode:Pj?+Pj[1]:Nj?+Nj[1]:0,jc=!Uo&&/gecko\/(\d+)/i.test(Xp);jc&&+(/Firefox\/(\d+)/.exec(Xp)||[0,0])[1];const Oj=!Uo&&/Chrome\/(\d+)/.exec(Xp),Rs=!!Oj,qK=Oj?+Oj[1]:0,vo=!Uo&&!!Zu&&/Apple Computer/.test(Zu.vendor),Ox=vo&&(/Mobile\/\w+/.test(Xp)||!!Zu&&Zu.maxTouchPoints>2),ml=Ox||(Zu?/Mac/.test(Zu.platform):!1),Sbe=Zu?/Win/.test(Zu.platform):!1,pf=/Android \d/.test(Xp),sT=!!eV&&"webkitFontSmoothing"in eV.documentElement.style,Cbe=sT?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Abe(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Pd(t,e){return typeof t=="number"?t:t[e]}function Ebe(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,i=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*i}}function tV(t,e,n){let i=t.someProp("scrollThreshold")||0,r=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;){if(o.nodeType!=1){o=Px(o);continue}let a=o,l=a==s.body,c=l?Abe(s):Ebe(a),d=0,h=0;if(e.top<c.top+Pd(i,"top")?h=-(c.top-e.top+Pd(r,"top")):e.bottom>c.bottom-Pd(i,"bottom")&&(h=e.bottom-e.top>c.bottom-c.top?e.top+Pd(r,"top")-c.top:e.bottom-c.bottom+Pd(r,"bottom")),e.left<c.left+Pd(i,"left")?d=-(c.left-e.left+Pd(r,"left")):e.right>c.right-Pd(i,"right")&&(d=e.right-c.right+Pd(r,"right")),d||h)if(l)s.defaultView.scrollBy(d,h);else{let m=a.scrollLeft,v=a.scrollTop;h&&(a.scrollTop+=h),d&&(a.scrollLeft+=d);let S=a.scrollLeft-m,A=a.scrollTop-v;e={left:e.left-S,top:e.top-A,right:e.right-S,bottom:e.bottom-A}}let p=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(p))break;o=p=="absolute"?o.offsetParent:Px(o)}}function Tbe(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),i,r;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){i=a,r=l.top;break}}return{refDOM:i,refTop:r,stack:GK(t.dom)}}function GK(t){let e=[],n=t.ownerDocument;for(let i=t;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),t!=n);i=Px(i));return e}function kbe({refDOM:t,refTop:e,stack:n}){let i=t?t.getBoundingClientRect().top:0;WK(n,i==0?0:i-e)}function WK(t,e){for(let n=0;n<t.length;n++){let{dom:i,top:r,left:s}=t[n];i.scrollTop!=r+e&&(i.scrollTop=r+e),i.scrollLeft!=s&&(i.scrollLeft=s)}}let Ib=null;function _be(t){if(t.setActive)return t.setActive();if(Ib)return t.focus(Ib);let e=GK(t);t.focus(Ib==null?{get preventScroll(){return Ib={preventScroll:!0},!0}}:void 0),Ib||(Ib=!1,WK(e,0))}function KK(t,e){let n,i=2e8,r,s=0,o=e.top,a=e.top,l,c;for(let d=t.firstChild,h=0;d;d=d.nextSibling,h++){let p;if(d.nodeType==1)p=d.getClientRects();else if(d.nodeType==3)p=Id(d).getClientRects();else continue;for(let m=0;m<p.length;m++){let v=p[m];if(v.top<=o&&v.bottom>=a){o=Math.max(v.bottom,o),a=Math.min(v.top,a);let S=v.left>e.left?v.left-e.left:v.right<e.left?e.left-v.right:0;if(S<i){n=d,i=S,r=S&&n.nodeType==3?{left:v.right<e.left?v.right:v.left,top:e.top}:e,d.nodeType==1&&S&&(s=h+(e.left>=(v.left+v.right)/2?1:0));continue}}else v.top>e.top&&!l&&v.left<=e.left&&v.right>=e.left&&(l=d,c={left:Math.max(v.left,Math.min(v.right,e.left)),top:v.top});!n&&(e.left>=v.right&&e.top>=v.top||e.left>=v.left&&e.top>=v.bottom)&&(s=h+1)}}return!n&&l&&(n=l,r=c,i=0),n&&n.nodeType==3?Mbe(n,r):!n||i&&n.nodeType==1?{node:t,offset:s}:KK(n,r)}function Mbe(t,e){let n=t.nodeValue.length,i=document.createRange();for(let r=0;r<n;r++){i.setEnd(t,r+1),i.setStart(t,r);let s=Lh(i,1);if(s.top!=s.bottom&&P3(e,s))return{node:t,offset:r+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function P3(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Rbe(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Dbe(t,e,n){let{node:i,offset:r}=KK(e,n),s=-1;if(i.nodeType==1&&!i.firstChild){let o=i.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(i,r,s)}function Nbe(t,e,n,i){let r=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!o&&l.left>i.left||l.top>i.top?r=a.posBefore:(!o&&l.right<i.left||l.bottom<i.top)&&(r=a.posAfter),o=!0),!a.contentDOM&&r<0&&!a.node.isText))return(a.node.isBlock?i.top<(l.top+l.bottom)/2:i.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return r>-1?r:t.docView.posFromDOM(e,n,-1)}function YK(t,e,n){let i=t.childNodes.length;if(i&&n.top<n.bottom)for(let r=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-n.top)/(n.bottom-n.top))-2)),s=r;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(P3(e,c))return YK(o,e,c)}}if((s=(s+1)%i)==r)break}return t}function Pbe(t,e){let n=t.dom.ownerDocument,i,r=0,s=wbe(n,e.left,e.top);s&&({node:i,offset:r}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!P3(e,c)||(o=YK(t.dom,e,c),!o))return null}if(vo)for(let c=o;i&&c;c=Px(c))c.draggable&&(i=void 0);if(o=Rbe(o,e),i){if(jc&&i.nodeType==1&&(r=Math.min(r,i.childNodes.length),r<i.childNodes.length)){let d=i.childNodes[r],h;d.nodeName=="IMG"&&(h=d.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&r++}let c;sT&&r&&i.nodeType==1&&(c=i.childNodes[r-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&r--,i==t.dom&&r==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(r==0||i.nodeType!=1||i.childNodes[r-1].nodeName!="BR")&&(a=Nbe(t,i,r,e))}a==null&&(a=Dbe(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function nV(t){return t.top<t.bottom||t.left<t.right}function Lh(t,e){let n=t.getClientRects();if(n.length){let i=n[e<0?0:n.length-1];if(nV(i))return i}return Array.prototype.find.call(n,nV)||t.getBoundingClientRect()}const Obe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function XK(t,e,n){let{node:i,offset:r,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=sT||jc;if(i.nodeType==3)if(o&&(Obe.test(i.nodeValue)||(n<0?!r:r==i.nodeValue.length))){let l=Lh(Id(i,r,r),n);if(jc&&r&&/\s/.test(i.nodeValue[r-1])&&r<i.nodeValue.length){let c=Lh(Id(i,r-1,r-1),-1);if(c.top==l.top){let d=Lh(Id(i,r,r+1),-1);if(d.top!=l.top)return MS(d,d.left<c.left)}}return l}else{let l=r,c=r,d=n<0?1:-1;return n<0&&!r?(c++,d=-1):n>=0&&r==i.nodeValue.length?(l--,d=1):n<0?l--:c++,MS(Lh(Id(i,l,c),d),d<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&r&&(n<0||r==vl(i))){let l=i.childNodes[r-1];if(l.nodeType==1)return xO(l.getBoundingClientRect(),!1)}if(s==null&&r<vl(i)){let l=i.childNodes[r];if(l.nodeType==1)return xO(l.getBoundingClientRect(),!0)}return xO(i.getBoundingClientRect(),n>=0)}if(s==null&&r&&(n<0||r==vl(i))){let l=i.childNodes[r-1],c=l.nodeType==3?Id(l,vl(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return MS(Lh(c,1),!1)}if(s==null&&r<vl(i)){let l=i.childNodes[r];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Id(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return MS(Lh(c,-1),!0)}return MS(Lh(i.nodeType==3?Id(i):i,-n),n>=0)}function MS(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function xO(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function JK(t,e,n){let i=t.state,r=t.root.activeElement;i!=e&&t.updateState(e),r!=t.dom&&t.focus();try{return n()}finally{i!=e&&t.updateState(i),r!=t.dom&&r&&r.focus()}}function Lbe(t,e,n){let i=e.selection,r=n=="up"?i.$from:i.$to;return JK(t,e,()=>{let{node:s}=t.docView.domFromPos(r.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=XK(t,r.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Id(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let d=l[c];if(d.bottom>d.top+1&&(n=="up"?o.top-d.top>(d.bottom-o.top)*2:d.bottom-o.bottom>(o.bottom-d.top)*2))return!1}}return!0})}const jbe=/[\u0590-\u08ac]/;function Ibe(t,e,n){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let r=i.parentOffset,s=!r,o=r==i.parent.content.size,a=t.domSelection();return a?!jbe.test(i.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:JK(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:d,anchorOffset:h}=t.domSelectionRange(),p=a.caretBidiLevel;a.modify("move",n,"character");let m=i.depth?t.docView.domAfterPos(i.before()):t.dom,{focusNode:v,focusOffset:S}=t.domSelectionRange(),A=v&&!m.contains(v.nodeType==1?v:v.parentNode)||l==v&&c==S;try{a.collapse(d,h),l&&(l!=d||c!=h)&&a.extend&&a.extend(l,c)}catch{}return p!=null&&(a.caretBidiLevel=p),A}):i.pos==i.start()||i.pos==i.end()}let iV=null,rV=null,sV=!1;function Fbe(t,e,n){return iV==e&&rV==n?sV:(iV=e,rV=n,sV=n=="up"||n=="down"?Lbe(t,e,n):Ibe(t,e,n))}const kl=0,oV=1,Ng=2,Qu=3;class oT{constructor(e,n,i,r){this.parent=e,this.children=n,this.dom=i,this.contentDOM=r,this.dirty=kl,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,i=this.posAtStart;;n++){let r=this.children[n];if(r==e)return i;i+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=n>ss(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!1;break}if(s.previousSibling)break}if(r==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!0;break}if(s.nextSibling)break}}return r??i>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let i=!0,r=e;r;r=r.parentNode){let s=this.getDesc(r),o;if(s&&(!n||s.node))if(i&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))i=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let i=n;i;i=i.parent)if(i==this)return n}posFromDOM(e,n,i){for(let r=e;r;r=r.parentNode){let s=this.getDesc(r);if(s)return s.localPosFromDOM(e,n,i)}return-1}descAt(e){for(let n=0,i=0;n<this.children.length;n++){let r=this.children[n],s=i+r.size;if(i==e&&s!=i){for(;!r.border&&r.children.length;)for(let o=0;o<r.children.length;o++){let a=r.children[o];if(a.size){r=a;break}}return r}if(e<s)return r.descAt(e-i-r.border);i=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,r=0;for(let s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.size;if(a>e||o instanceof QK){r=e-s;break}s=a}if(r)return this.children[i].domFromPos(r-this.children[i].border,n);for(let s;i&&!(s=this.children[i-1]).size&&s instanceof ZK&&s.side>=0;i--);if(n<=0){let s,o=!0;for(;s=i?this.children[i-1]:null,!(!s||s.dom.parentNode==this.contentDOM);i--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?ss(s.dom)+1:0}}else{let s,o=!0;for(;s=i<this.children.length?this.children[i]:null,!(!s||s.dom.parentNode==this.contentDOM);i++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?ss(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,s=-1;for(let o=i,a=0;;a++){let l=this.children[a],c=o+l.size;if(r==-1&&e<=c){let d=o+l.border;if(e>=d&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,d);e=o;for(let h=a;h>0;h--){let p=this.children[h-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){r=ss(p.dom)+1;break}e-=p.size}r==-1&&(r=0)}if(r>-1&&(c>n||a==this.children.length-1)){n=c;for(let d=a+1;d<this.children.length;d++){let h=this.children[d];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){s=ss(h.dom);break}n+=h.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:r,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:i}=this.domFromPos(e,0);if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]}setSelection(e,n,i,r=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let m=0,v=0;m<this.children.length;m++){let S=this.children[m],A=v+S.size;if(s>v&&o<A)return S.setSelection(e-v-S.border,n-v-S.border,i,r);v=A}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=i.root.getSelection(),d=i.domSelectionRange(),h=!1;if((jc||vo)&&e==n){let{node:m,offset:v}=a;if(m.nodeType==3){if(h=!!(v&&m.nodeValue[v-1]==`
`),h&&v==m.nodeValue.length)for(let S=m,A;S;S=S.parentNode){if(A=S.nextSibling){A.nodeName=="BR"&&(a=l={node:A.parentNode,offset:ss(A)+1});break}let E=S.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{let S=m.childNodes[v-1];h=S&&(S.nodeName=="BR"||S.contentEditable=="false")}}if(jc&&d.focusNode&&d.focusNode!=l.node&&d.focusNode.nodeType==1){let m=d.focusNode.childNodes[d.focusOffset];m&&m.contentEditable=="false"&&(r=!0)}if(!(r||h&&vo)&&Yy(a.node,a.offset,d.anchorNode,d.anchorOffset)&&Yy(l.node,l.offset,d.focusNode,d.focusOffset))return;let p=!1;if((c.extend||e==n)&&!h){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),p=!0}catch{}}if(!p){if(e>n){let v=a;a=l,l=v}let m=document.createRange();m.setEnd(l.node,l.offset),m.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(m)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let i=0,r=0;r<this.children.length;r++){let s=this.children[r],o=i+s.size;if(i==o?e<=o&&n>=i:e<o&&n>i){let a=i+s.border,l=o-s.border;if(e>=a&&n<=l){this.dirty=e==i||n==o?Ng:oV,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Qu:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Ng:Qu}i=o}this.dirty=Ng}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let i=e==1?Ng:oV;n.dirty<i&&(n.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class ZK extends oT{constructor(e,n,i,r){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(i,()=>{if(!s)return r;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==kl&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class $be extends oT{constructor(e,n,i,r){super(e,[],n,null),this.textDOM=i,this.text=r}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Xy extends oT{constructor(e,n,i,r,s){super(e,[],i,r),this.mark=n,this.spec=s}static create(e,n,i,r){let s=r.nodeViews[n.type.name],o=s&&s(n,r,i);return(!o||!o.dom)&&(o=o0.renderSpec(document,n.type.spec.toDOM(n,i),null,n.attrs)),new Xy(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Qu||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Qu&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=kl){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=kl}}slice(e,n,i){let r=Xy.create(this.parent,this.mark,!0,i),s=this.children,o=this.size;n<o&&(s=jj(s,n,o,i)),e>0&&(s=jj(s,0,e,i));for(let a=0;a<s.length;a++)s[a].parent=r;return r.children=s,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Rp extends oT{constructor(e,n,i,r,s,o,a,l,c){super(e,[],s,o),this.node=n,this.outerDeco=i,this.innerDeco=r,this.nodeDOM=a}static create(e,n,i,r,s,o){let a=s.nodeViews[n.type.name],l,c=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},i,r),d=c&&c.dom,h=c&&c.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:h}=o0.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!h&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let p=d;return d=nY(d,i,n),c?l=new zbe(e,n,i,r,d,h||null,p,c,s,o+1):n.isText?new _D(e,n,i,r,d,p,s):new Rp(e,n,i,r,d,h||null,p,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let i=this.children[n];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Be.empty)}return e}matchesNode(e,n,i){return this.dirty==kl&&e.eq(this.node)&&WR(n,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let i=this.node.inlineContent,r=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new Vbe(this,o&&o.node,e);qbe(this.node,this.innerDeco,(c,d,h)=>{c.spec.marks?l.syncToMarks(c.spec.marks,i,e):c.type.side>=0&&!h&&l.syncToMarks(d==this.node.childCount?ei.none:this.node.child(d).marks,i,e),l.placeWidget(c,e,r)},(c,d,h,p)=>{l.syncToMarks(c.marks,i,e);let m;l.findNodeMatch(c,d,h,p)||a&&e.state.selection.from>r&&e.state.selection.to<r+c.nodeSize&&(m=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,d,h,m,e)||l.updateNextNode(c,d,h,e,p,r)||l.addNode(c,d,h,e,r),r+=c.nodeSize}),l.syncToMarks([],i,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Ng)&&(o&&this.protectLocalComposition(e,o),eY(this.contentDOM,this.children,e),Ox&&Gbe(this.dom))}localCompositionInfo(e,n){let{from:i,to:r}=e.state.selection;if(!(e.state.selection instanceof Nt)||i<n||r>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=Wbe(this.node.content,o,i-n,r-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:i,text:r}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new $be(this,s,n,r);e.input.compositionNodes.push(o),this.children=jj(this.children,i,i+r.length,e,o)}update(e,n,i,r){return this.dirty==Qu||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,i,r),!0)}updateInner(e,n,i,r){this.updateOuterDeco(n),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=kl}updateOuterDeco(e){if(WR(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=tY(this.dom,this.nodeDOM,Lj(this.outerDeco,this.node,n),Lj(e,this.node,n)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function aV(t,e,n,i,r){nY(i,e,t);let s=new Rp(void 0,t,e,n,i,i,i,r,0);return s.contentDOM&&s.updateChildren(r,0),s}class _D extends Rp{constructor(e,n,i,r,s,o,a){super(e,n,i,r,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,i,r){return this.dirty==Qu||this.dirty!=kl&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=kl||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=kl,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,i){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,i){let r=this.node.cut(e,n),s=document.createTextNode(r.text);return new _D(this.parent,r,this.outerDeco,this.innerDeco,s,s,i)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Qu)}get domAtom(){return!1}isText(e){return this.node.text==e}}class QK extends oT{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==kl&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class zbe extends Rp{constructor(e,n,i,r,s,o,a,l,c,d){super(e,n,i,r,s,o,a,c,d),this.spec=l}update(e,n,i,r){if(this.dirty==Qu)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,i);return s&&this.updateInner(e,n,i,r),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,i,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,i,r){this.spec.setSelection?this.spec.setSelection(e,n,i.root):super.setSelection(e,n,i,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function eY(t,e,n){let i=t.firstChild,r=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=i;)i=lV(i),r=!0;i=i.nextSibling}else r=!0,t.insertBefore(a,i);if(o instanceof Xy){let l=i?i.previousSibling:t.lastChild;eY(o.contentDOM,o.children,n),i=l?l.nextSibling:t.firstChild}}for(;i;)i=lV(i),r=!0;r&&n.trackWrites==t&&(n.trackWrites=null)}const vC=function(t){t&&(this.nodeName=t)};vC.prototype=Object.create(null);const Pg=[new vC];function Lj(t,e,n){if(t.length==0)return Pg;let i=n?Pg[0]:new vC,r=[i];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&r.push(i=new vC(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&r.length==1&&r.push(i=new vC(e.isInline?"span":"div")),a=="class"?i.class=(i.class?i.class+" ":"")+l:a=="style"?i.style=(i.style?i.style+";":"")+l:a!="nodeName"&&(i[a]=l))}}}return r}function tY(t,e,n,i){if(n==Pg&&i==Pg)return e;let r=e;for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&r!=t&&(l=r.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(r),a=Pg[0]),r=l}Bbe(r,a||Pg[0],o)}return r}function Bbe(t,e,n){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in n)&&t.removeAttribute(i);for(let i in n)i!="class"&&i!="style"&&i!="nodeName"&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){let i=e.class?e.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.remove(i[s]);for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.add(r[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=i.exec(e.style);)t.style.removeProperty(r[1])}n.style&&(t.style.cssText+=n.style)}}function nY(t,e,n){return tY(t,t,Pg,Lj(e,n,t.nodeType!=1))}function WR(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function lV(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Vbe{constructor(e,n,i){this.lock=n,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Hbe(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let i=e;i<n;i++)this.top.children[i].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,i){let r=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;r<o&&(r==s-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<s;)this.destroyRest(),this.top.dirty=kl,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Xy.create(this.top,e[s],n,i);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,i,r){let s=-1,o;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,i))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,i)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,i,r,s){let o=this.top.children[r];return o.dirty==Qu&&o.dom==o.contentDOM&&(o.dirty=Ng),o.update(e,n,i,s)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==i)return r}return-1}e=n}}updateNextNode(e,n,i,r,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Rp){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let d=l.dom,h,p=this.isLocked(d)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Qu&&WR(n,l.outerDeco));if(!p&&l.update(e,n,i,r))return this.destroyBetween(this.index,a),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!p&&(h=this.recreateWrapper(l,e,n,i,r,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=Ng,h.updateChildren(r,o+1),h.dirty=kl),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,i,r,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!WR(i,e.outerDeco)||!r.eq(e.innerDeco))return null;let a=Rp.create(this.top,n,i,r,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,i,r,s){let o=Rp.create(this.top,e,n,i,r,s);o.contentDOM&&o.updateChildren(r,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,i){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let s=new ZK(this.top,e,n,i);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Xy;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof _D)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((vo||Rs)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let r=new QK(this.top,[],i,null);n!=this.top?n.children.push(r):n.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Hbe(t,e){let n=e,i=n.children.length,r=t.childCount,s=new Map,o=[];e:for(;r>0;){let a;for(;;)if(i){let c=n.children[i-1];if(c instanceof Xy)n=c,i=c.children.length;else{a=c,i--;break}}else{if(n==e)break e;i=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(r-1))break;--r,s.set(a,r),o.push(a)}}return{index:r,matched:s,matches:o.reverse()}}function Ube(t,e){return t.type.side-e.type.side}function qbe(t,e,n,i){let r=e.locals(t),s=0;if(r.length==0){for(let c=0;c<t.childCount;c++){let d=t.child(c);i(d,r,e.forChild(s,d),c),s+=d.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let d,h;for(;o<r.length&&r[o].to==s;){let A=r[o++];A.widget&&(d?(h||(h=[d])).push(A):d=A)}if(d)if(h){h.sort(Ube);for(let A=0;A<h.length;A++)n(h[A],c,!!l)}else n(d,c,!!l);let p,m;if(l)m=-1,p=l,l=null;else if(c<t.childCount)m=c,p=t.child(c++);else break;for(let A=0;A<a.length;A++)a[A].to<=s&&a.splice(A--,1);for(;o<r.length&&r[o].from<=s&&r[o].to>s;)a.push(r[o++]);let v=s+p.nodeSize;if(p.isText){let A=v;o<r.length&&r[o].from<A&&(A=r[o].from);for(let E=0;E<a.length;E++)a[E].to<A&&(A=a[E].to);A<v&&(l=p.cut(A-s),p=p.cut(0,A-s),v=A,m=-1)}else for(;o<r.length&&r[o].to<v;)o++;let S=p.isInline&&!p.isLeaf?a.filter(A=>!A.inline):a.slice();i(p,S,e.forChild(s,p),m),s=v}}function Gbe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Wbe(t,e,n,i){for(let r=0,s=0;r<t.childCount&&s<=i;){let o=t.child(r++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;r<t.childCount;){let c=t.child(r++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){if(s>=i&&l.slice(i-e.length-a,i-a)==e)return i-e.length;let c=a<i?l.lastIndexOf(e,i-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==i&&l.length>=i+e.length-a&&l.slice(i-a,i-a+e.length)==e)return i}}return-1}function jj(t,e,n,i,r){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,d=a+=l.size;c>=n||d<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,i)),r&&(s.push(r),r=void 0),d>n&&s.push(l.slice(n-c,l.size,i)))}return s}function O3(t,e=null){let n=t.domSelectionRange(),i=t.state.doc;if(!n.focusNode)return null;let r=t.docView.nearestDesc(n.focusNode),s=r&&r.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=i.resolve(o),l,c;if(kD(n)){for(l=o;r&&!r.node;)r=r.parent;let h=r.node;if(r&&h.isAtom&&pt.isSelectable(h)&&r.parent&&!(h.isInline&&vbe(n.focusNode,n.focusOffset,r.dom))){let p=r.posBefore;c=new pt(o==p?a:i.resolve(p))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let h=o,p=o;for(let m=0;m<n.rangeCount;m++){let v=n.getRangeAt(m);h=Math.min(h,t.docView.posFromDOM(v.startContainer,v.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(h<0)return null;[l,o]=p==t.state.selection.anchor?[p,h]:[h,p],a=i.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let d=i.resolve(l);if(!c){let h=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;c=L3(t,d,a,h)}return c}function iY(t){return t.editable?t.hasFocus():sY(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function vf(t,e=!1){let n=t.state.selection;if(rY(t,n),!!iY(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Rs){let i=t.domSelectionRange(),r=t.domObserver.currentSelection;if(i.anchorNode&&r.anchorNode&&Yy(i.anchorNode,i.anchorOffset,r.anchorNode,r.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Ybe(t);else{let{anchor:i,head:r}=n,s,o;cV&&!(n instanceof Nt)&&(n.$from.parent.inlineContent||(s=uV(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=uV(t,n.to))),t.docView.setSelection(i,r,t,e),cV&&(s&&dV(s),o&&dV(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Kbe(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const cV=vo||Rs&&qK<63;function uV(t,e){let{node:n,offset:i}=t.docView.domFromPos(e,0),r=i<n.childNodes.length?n.childNodes[i]:null,s=i?n.childNodes[i-1]:null;if(vo&&r&&r.contentEditable=="false")return wO(r);if((!r||r.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(r)return wO(r);if(s)return wO(s)}}function wO(t){return t.contentEditable="true",vo&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function dV(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Kbe(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),i=n.anchorNode,r=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=i||n.anchorOffset!=r)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!iY(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Ybe(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let i=t.cursorWrapper.dom,r=i.nodeName=="IMG";r?n.setStart(i.parentNode,ss(i)+1):n.setStart(i,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!r&&!t.state.selection.visible&&Uo&&Mp<=11&&(i.disabled=!0,i.disabled=!1)}function rY(t,e){if(e instanceof pt){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(fV(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else fV(t)}function fV(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function L3(t,e,n,i){return t.someProp("createSelectionBetween",r=>r(t,e,n))||Nt.between(e,n,i)}function hV(t){return t.editable&&!t.hasFocus()?!1:sY(t)}function sY(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Xbe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Yy(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Ij(t,e){let{$anchor:n,$head:i}=t.selection,r=e>0?n.max(i):n.min(i),s=r.parent.inlineContent?r.depth?t.doc.resolve(e>0?r.after():r.before()):null:r;return s&&Jt.findFrom(s,e)}function Bh(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function pV(t,e,n){let i=t.state.selection;if(i instanceof Nt)if(n.indexOf("s")>-1){let{$head:r}=i,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(r.pos+s.nodeSize*(e<0?-1:1));return Bh(t,new Nt(i.$anchor,o))}else if(i.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let r=Ij(t.state,e);return r&&r instanceof pt?Bh(t,r):!1}else if(!(ml&&n.indexOf("m")>-1)){let r=i.$head,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?r.pos-s.nodeSize:r.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?pt.isSelectable(s)?Bh(t,new pt(e<0?t.state.doc.resolve(r.pos-s.nodeSize):r)):sT?Bh(t,new Nt(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(i instanceof pt&&i.node.isInline)return Bh(t,new Nt(e>0?i.$to:i.$from));{let r=Ij(t.state,e);return r?Bh(t,r):!1}}}function KR(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function xC(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Fb(t,e){return e<0?Jbe(t):Zbe(t)}function Jbe(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let r,s,o=!1;for(jc&&n.nodeType==1&&i<KR(n)&&xC(n.childNodes[i],-1)&&(o=!0);;)if(i>0){if(n.nodeType!=1)break;{let a=n.childNodes[i-1];if(xC(a,-1))r=n,s=--i;else if(a.nodeType==3)n=a,i=n.nodeValue.length;else break}}else{if(oY(n))break;{let a=n.previousSibling;for(;a&&xC(a,-1);)r=n.parentNode,s=ss(a),a=a.previousSibling;if(a)n=a,i=KR(n);else{if(n=n.parentNode,n==t.dom)break;i=0}}}o?Fj(t,n,i):r&&Fj(t,r,s)}function Zbe(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let r=KR(n),s,o;for(;;)if(i<r){if(n.nodeType!=1)break;let a=n.childNodes[i];if(xC(a,1))s=n,o=++i;else break}else{if(oY(n))break;{let a=n.nextSibling;for(;a&&xC(a,1);)s=a.parentNode,o=ss(a)+1,a=a.nextSibling;if(a)n=a,i=0,r=KR(n);else{if(n=n.parentNode,n==t.dom)break;i=r=0}}}s&&Fj(t,s,o)}function oY(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Qbe(t,e){for(;t&&e==t.childNodes.length&&!rT(t);)e=ss(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function eve(t,e){for(;t&&!e&&!rT(t);)e=ss(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Fj(t,e,n){if(e.nodeType!=3){let s,o;(o=Qbe(e,n))?(e=o,n=0):(s=eve(e,n))&&(e=s,n=s.nodeValue.length)}let i=t.domSelection();if(!i)return;if(kD(i)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),i.removeAllRanges(),i.addRange(s)}else i.extend&&i.extend(e,n);t.domObserver.setCurSelection();let{state:r}=t;setTimeout(()=>{t.state==r&&vf(t)},50)}function mV(t,e){let n=t.state.doc.resolve(e);if(!(Rs||Sbe)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(s.left-r.left)>1)return s.left<r.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(s.left-r.left)>1)return s.left>r.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function gV(t,e,n){let i=t.state.selection;if(i instanceof Nt&&!i.empty||n.indexOf("s")>-1||ml&&n.indexOf("m")>-1)return!1;let{$from:r,$to:s}=i;if(!r.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=Ij(t.state,e);if(o&&o instanceof pt)return Bh(t,o)}if(!r.parent.inlineContent){let o=e<0?r:s,a=i instanceof Da?Jt.near(o,e):Jt.findFrom(o,e);return a?Bh(t,a):!1}return!1}function yV(t,e){if(!(t.state.selection instanceof Nt))return!0;let{$head:n,$anchor:i,empty:r}=t.state.selection;if(!n.sameParent(i))return!0;if(!r)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function bV(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function tve(t){if(!vo||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;bV(t,i,"true"),setTimeout(()=>bV(t,i,"false"),20)}return!1}function nve(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function ive(t,e){let n=e.keyCode,i=nve(e);if(n==8||ml&&n==72&&i=="c")return yV(t,-1)||Fb(t,-1);if(n==46&&!e.shiftKey||ml&&n==68&&i=="c")return yV(t,1)||Fb(t,1);if(n==13||n==27)return!0;if(n==37||ml&&n==66&&i=="c"){let r=n==37?mV(t,t.state.selection.from)=="ltr"?-1:1:-1;return pV(t,r,i)||Fb(t,r)}else if(n==39||ml&&n==70&&i=="c"){let r=n==39?mV(t,t.state.selection.from)=="ltr"?1:-1:1;return pV(t,r,i)||Fb(t,r)}else{if(n==38||ml&&n==80&&i=="c")return gV(t,-1,i)||Fb(t,-1);if(n==40||ml&&n==78&&i=="c")return tve(t)||gV(t,1,i)||Fb(t,1);if(i==(ml?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function j3(t,e){t.someProp("transformCopied",m=>{e=m(e,t)});let n=[],{content:i,openStart:r,openEnd:s}=e;for(;r>1&&s>1&&i.childCount==1&&i.firstChild.childCount==1;){r--,s--;let m=i.firstChild;n.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),i=m.content}let o=t.someProp("clipboardSerializer")||o0.fromSchema(t.state.schema),a=fY(),l=a.createElement("div");l.appendChild(o.serializeFragment(i,{document:a}));let c=l.firstChild,d,h=0;for(;c&&c.nodeType==1&&(d=dY[c.nodeName.toLowerCase()]);){for(let m=d.length-1;m>=0;m--){let v=a.createElement(d[m]);for(;l.firstChild;)v.appendChild(l.firstChild);l.appendChild(v),h++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${r} ${s}${h?` -${h}`:""} ${JSON.stringify(n)}`);let p=t.someProp("clipboardTextSerializer",m=>m(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:p,slice:e}}function aY(t,e,n,i,r){let s=r.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=e&&(i||s||!n);if(l){if(t.someProp("transformPastedText",p=>{e=p(e,s||i,t)}),s)return e?new Qe(Be.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Qe.empty;let h=t.someProp("clipboardTextParser",p=>p(e,r,i,t));if(h)a=h;else{let p=r.marks(),{schema:m}=t.state,v=o0.fromSchema(m);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(S=>{let A=o.appendChild(document.createElement("p"));S&&A.appendChild(v.serializeNode(m.text(S,p)))})}}else t.someProp("transformPastedHTML",h=>{n=h(n,t)}),o=ave(n),sT&&lve(o);let c=o&&o.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let h=+d[3];h>0;h--){let p=o.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;o=p}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||_p.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||d),context:r,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!rve.test(p.parentNode.nodeName)?{ignore:!0}:null}})),d)a=cve(vV(a,+d[1],+d[2]),d[4]);else if(a=Qe.maxOpen(sve(a.content,r),!0),a.openStart||a.openEnd){let h=0,p=0;for(let m=a.content.firstChild;h<a.openStart&&!m.type.spec.isolating;h++,m=m.firstChild);for(let m=a.content.lastChild;p<a.openEnd&&!m.type.spec.isolating;p++,m=m.lastChild);a=vV(a,h,p)}return t.someProp("transformPasted",h=>{a=h(a,t)}),a}const rve=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function sve(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=r.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&cY(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=uY(o[o.length-1],s.length));let d=lY(a,l);o.push(d),r=r.matchType(d.type),s=l}}),o)return Be.from(o)}return t}function lY(t,e,n=0){for(let i=e.length-1;i>=n;i--)t=e[i].create(null,Be.from(t));return t}function cY(t,e,n,i,r){if(r<t.length&&r<e.length&&t[r]==e[r]){let s=cY(t,e,n,i.lastChild,r+1);if(s)return i.copy(i.content.replaceChild(i.childCount-1,s));if(i.contentMatchAt(i.childCount).matchType(r==t.length-1?n.type:t[r+1]))return i.copy(i.content.append(Be.from(lY(n,t,r+1))))}}function uY(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,uY(t.lastChild,e-1)),i=t.contentMatchAt(t.childCount).fillBefore(Be.empty,!0);return t.copy(n.append(i))}function $j(t,e,n,i,r,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),r<i-1&&(a=$j(a,e,n,i,r+1,s)),r>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=r).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(Be.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function vV(t,e,n){return e<t.openStart&&(t=new Qe($j(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Qe($j(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const dY={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let xV=null;function fY(){return xV||(xV=document.implementation.createHTMLDocument("title"))}let SO=null;function ove(t){let e=window.trustedTypes;return e?(SO||(SO=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),SO.createHTML(t)):t}function ave(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=fY().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t),r;if((r=i&&dY[i[1].toLowerCase()])&&(t=r.map(s=>"<"+s+">").join("")+t+r.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=ove(t),r)for(let s=0;s<r.length;s++)n=n.querySelector(r[s])||n;return n}function lve(t){let e=t.querySelectorAll(Rs?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let i=e[n];i.childNodes.length==1&&i.textContent==""&&i.parentNode&&i.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),i)}}function cve(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return t}let{content:r,openStart:s,openEnd:o}=t;for(let a=i.length-2;a>=0;a-=2){let l=n.nodes[i[a]];if(!l||l.hasRequiredAttrs())break;r=Be.from(l.create(i[a+1],r)),s++,o++}return new Qe(r,s,o)}const xo={},wo={},uve={touchstart:!0,touchmove:!0};class dve{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function fve(t){for(let e in xo){let n=xo[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=i=>{pve(t,i)&&!I3(t,i)&&(t.editable||!(i.type in wo))&&n(t,i)},uve[e]?{passive:!0}:void 0)}vo&&t.dom.addEventListener("input",()=>null),zj(t)}function Ap(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function hve(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function zj(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=i=>I3(t,i))})}function I3(t,e){return t.someProp("handleDOMEvents",n=>{let i=n[e.type];return i?i(t,e)||e.defaultPrevented:!1})}function pve(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function mve(t,e){!I3(t,e)&&xo[e.type]&&(t.editable||!(e.type in wo))&&xo[e.type](t,e)}wo.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!pY(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(pf&&Rs&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Ox&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let i=Date.now();t.input.lastIOSEnter=i,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==i&&(t.someProp("handleKeyDown",r=>r(t,Sg(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",i=>i(t,n))||ive(t,n)?n.preventDefault():Ap(t,"key")};wo.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};wo.keypress=(t,e)=>{let n=e;if(pY(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||ml&&n.metaKey)return;if(t.someProp("handleKeyPress",r=>r(t,n))){n.preventDefault();return}let i=t.state.selection;if(!(i instanceof Nt)||!i.$from.sameParent(i.$to)){let r=String.fromCharCode(n.charCode);!/[\r\n]/.test(r)&&!t.someProp("handleTextInput",s=>s(t,i.$from.pos,i.$to.pos,r))&&t.dispatch(t.state.tr.insertText(r).scrollIntoView()),n.preventDefault()}};function MD(t){return{left:t.clientX,top:t.clientY}}function gve(t,e){let n=e.x-t.clientX,i=e.y-t.clientY;return n*n+i*i<100}function F3(t,e,n,i,r){if(i==-1)return!1;let s=t.state.doc.resolve(i);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),r,!0):a(t,n,s.node(o),s.before(o),r,!1)))return!0;return!1}function xv(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let i=t.state.tr.setSelection(e);i.setMeta("pointer",!0),t.dispatch(i)}function yve(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),i=n.nodeAfter;return i&&i.isAtom&&pt.isSelectable(i)?(xv(t,new pt(n)),!0):!1}function bve(t,e){if(e==-1)return!1;let n=t.state.selection,i,r;n instanceof pt&&(i=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(pt.isSelectable(a)){i&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?r=s.before(n.$from.depth):r=s.before(o);break}}return r!=null?(xv(t,pt.create(t.state.doc,r)),!0):!1}function vve(t,e,n,i,r){return F3(t,"handleClickOn",e,n,i)||t.someProp("handleClick",s=>s(t,e,i))||(r?bve(t,n):yve(t,n))}function xve(t,e,n,i){return F3(t,"handleDoubleClickOn",e,n,i)||t.someProp("handleDoubleClick",r=>r(t,e,i))}function wve(t,e,n,i){return F3(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",r=>r(t,e,i))||Sve(t,n,i)}function Sve(t,e,n){if(n.button!=0)return!1;let i=t.state.doc;if(e==-1)return i.inlineContent?(xv(t,Nt.create(i,0,i.content.size)),!0):!1;let r=i.resolve(e);for(let s=r.depth+1;s>0;s--){let o=s>r.depth?r.nodeAfter:r.node(s),a=r.before(s);if(o.inlineContent)xv(t,Nt.create(i,a+1,a+1+o.content.size));else if(pt.isSelectable(o))xv(t,pt.create(i,a));else continue;return!0}}function $3(t){return YR(t)}const hY=ml?"metaKey":"ctrlKey";xo.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let i=$3(t),r=Date.now(),s="singleClick";r-t.input.lastClick.time<500&&gve(n,t.input.lastClick)&&!n[hY]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:s};let o=t.posAtCoords(MD(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Cve(t,o,n,!!i)):(s=="doubleClick"?xve:wve)(t,o.pos,o.inside,n)?n.preventDefault():Ap(t,"pointer"))};class Cve{constructor(e,n,i,r){this.view=e,this.pos=n,this.event=i,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[hY],this.allowDefault=i.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let d=e.state.doc.resolve(n.pos);s=d.parent,o=d.depth?d.before():0}const a=r?null:i.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(i.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof pt&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&jc&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ap(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>vf(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(MD(e))),this.updateAllowDefault(e),this.allowDefault||!n?Ap(this.view,"pointer"):vve(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||vo&&this.mightDrag&&!this.mightDrag.node.isAtom||Rs&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(xv(this.view,Jt.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Ap(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ap(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}xo.touchstart=t=>{t.input.lastTouch=Date.now(),$3(t),Ap(t,"pointer")};xo.touchmove=t=>{t.input.lastTouch=Date.now(),Ap(t,"pointer")};xo.contextmenu=t=>$3(t);function pY(t,e){return t.composing?!0:vo&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Ave=pf?5e3:-1;wo.compositionstart=wo.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Nt&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),YR(t,!0),t.markCursor=null;else if(YR(t,!e.selection.empty),jc&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let i=t.domSelectionRange();for(let r=i.focusNode,s=i.focusOffset;r&&r.nodeType==1&&s!=0;){let o=s<0?r.lastChild:r.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else r=o,s=-1}}t.input.composing=!0}mY(t,Ave)};wo.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,mY(t,20))};function mY(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>YR(t),e))}function gY(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Tve());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Eve(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=ybe(e.focusNode,e.focusOffset),i=bbe(e.focusNode,e.focusOffset);if(n&&i&&n!=i){let r=i.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||i==s)return s;if(!r||!r.isText(i.nodeValue))return i;if(t.input.compositionNode==i){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return i}}return n||i}function Tve(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function YR(t,e=!1){if(!(pf&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),gY(t),e||t.docView&&t.docView.dirty){let n=O3(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function kve(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),r=document.createRange();r.selectNodeContents(e),t.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const ZC=Uo&&Mp<15||Ox&&Cbe<604;xo.copy=wo.cut=(t,e)=>{let n=e,i=t.state.selection,r=n.type=="cut";if(i.empty)return;let s=ZC?null:n.clipboardData,o=i.content(),{dom:a,text:l}=j3(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):kve(t,a),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function _ve(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Mve(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,i=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let r=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),i.parentNode&&i.parentNode.removeChild(i),n?QC(t,i.value,null,r,e):QC(t,i.textContent,i.innerHTML,r,e)},50)}function QC(t,e,n,i,r){let s=aY(t,e,n,i,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,r,s||Qe.empty)))return!0;if(!s)return!1;let o=_ve(s),a=o?t.state.tr.replaceSelectionWith(o,i):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function yY(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}wo.paste=(t,e)=>{let n=e;if(t.composing&&!pf)return;let i=ZC?null:n.clipboardData,r=t.input.shiftKey&&t.input.lastKeyCode!=45;i&&QC(t,yY(i),i.getData("text/html"),r,n)?n.preventDefault():Mve(t,n)};class bY{constructor(e,n,i){this.slice=e,this.move=n,this.node=i}}const vY=ml?"altKey":"ctrlKey";xo.dragstart=(t,e)=>{let n=e,i=t.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let r=t.state.selection,s=r.empty?null:t.posAtCoords(MD(n)),o;if(!(s&&s.pos>=r.from&&s.pos<=(r instanceof pt?r.to-1:r.to))){if(i&&i.mightDrag)o=pt.create(t.state.doc,i.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let h=t.docView.nearestDesc(n.target,!0);h&&h.node.type.spec.draggable&&h!=t.docView&&(o=pt.create(t.state.doc,h.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:d}=j3(t,a);(!n.dataTransfer.files.length||!Rs||qK>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(ZC?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",ZC||n.dataTransfer.setData("text/plain",c),t.dragging=new bY(d,!n[vY],o)};xo.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};wo.dragover=wo.dragenter=(t,e)=>e.preventDefault();wo.drop=(t,e)=>{let n=e,i=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let r=t.posAtCoords(MD(n));if(!r)return;let s=t.state.doc.resolve(r.pos),o=i&&i.slice;o?t.someProp("transformPasted",v=>{o=v(o,t)}):o=aY(t,yY(n.dataTransfer),ZC?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(i&&!n[vY]);if(t.someProp("handleDrop",v=>v(t,n,o||Qe.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?IK(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=t.state.tr;if(a){let{node:v}=i;v?v.replace(c):c.deleteSelection()}let d=c.mapping.map(l),h=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,p=c.doc;if(h?c.replaceRangeWith(d,d,o.content.firstChild):c.replaceRange(d,d,o),c.doc.eq(p))return;let m=c.doc.resolve(d);if(h&&pt.isSelectable(o.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new pt(m));else{let v=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((S,A,E,M)=>v=M),c.setSelection(L3(t,m,c.doc.resolve(v)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};xo.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&vf(t)},20))};xo.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};xo.beforeinput=(t,e)=>{if(Rs&&pf&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:i}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=i||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Sg(8,"Backspace")))))return;let{$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let t in wo)xo[t]=wo[t];function eA(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class XR{constructor(e,n){this.toDOM=e,this.spec=n||$y,this.side=this.spec.side||0}map(e,n,i,r){let{pos:s,deleted:o}=e.mapResult(n.from+r,this.side<0?-1:1);return o?null:new Cl(s-i,s-i,this)}valid(){return!0}eq(e){return this==e||e instanceof XR&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&eA(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Dp{constructor(e,n){this.attrs=e,this.spec=n||$y}map(e,n,i,r){let s=e.map(n.from+r,this.spec.inclusiveStart?-1:1)-i,o=e.map(n.to+r,this.spec.inclusiveEnd?1:-1)-i;return s>=o?null:new Cl(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Dp&&eA(this.attrs,e.attrs)&&eA(this.spec,e.spec)}static is(e){return e.type instanceof Dp}destroy(){}}class z3{constructor(e,n){this.attrs=e,this.spec=n||$y}map(e,n,i,r){let s=e.mapResult(n.from+r,1);if(s.deleted)return null;let o=e.mapResult(n.to+r,-1);return o.deleted||o.pos<=s.pos?null:new Cl(s.pos-i,o.pos-i,this)}valid(e,n){let{index:i,offset:r}=e.content.findIndex(n.from),s;return r==n.from&&!(s=e.child(i)).isText&&r+s.nodeSize==n.to}eq(e){return this==e||e instanceof z3&&eA(this.attrs,e.attrs)&&eA(this.spec,e.spec)}destroy(){}}class Cl{constructor(e,n,i){this.from=e,this.to=n,this.type=i}copy(e,n){return new Cl(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,i){return this.type.map(e,this,n,i)}static widget(e,n,i){return new Cl(e,e,new XR(n,i))}static inline(e,n,i,r){return new Cl(e,n,new Dp(i,r))}static node(e,n,i,r){return new Cl(e,n,new z3(i,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Dp}get widget(){return this.type instanceof XR}}const Gb=[],$y={};class Sr{constructor(e,n){this.local=e.length?e:Gb,this.children=n.length?n:Gb}static create(e,n){return n.length?JR(n,e,0,$y):Es}find(e,n,i){let r=[];return this.findInner(e??0,n??1e9,r,0,i),r}findInner(e,n,i,r,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&i.push(a.copy(a.from+r,a.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,i,r+a,s)}}map(e,n,i){return this==Es||e.maps.length==0?this:this.mapInner(e,n,0,0,i||$y)}mapInner(e,n,i,r,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,i,r);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?Rve(this.children,o||[],e,n,i,r,s):o?new Sr(o.sort(zy),Gb):Es}add(e,n){return n.length?this==Es?Sr.create(e,n):this.addInner(e,n,0):this}addInner(e,n,i){let r,s=0;e.forEach((a,l)=>{let c=l+i,d;if(d=wY(n,a,c)){for(r||(r=this.children.slice());s<r.length&&r[s]<l;)s+=3;r[s]==l?r[s+2]=r[s+2].addInner(a,d,c+1):r.splice(s,0,l,l+a.nodeSize,JR(d,a,c+1,$y)),s+=3}});let o=xY(s?SY(n):n,-i);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Sr(o.length?this.local.concat(o).sort(zy):this.local,r||this.children)}remove(e){return e.length==0||this==Es?this:this.removeInner(e,0)}removeInner(e,n){let i=this.children,r=this.local;for(let s=0;s<i.length;s+=3){let o,a=i[s]+n,l=i[s+1]+n;for(let d=0,h;d<e.length;d++)(h=e[d])&&h.from>a&&h.to<l&&(e[d]=null,(o||(o=[])).push(h));if(!o)continue;i==this.children&&(i=this.children.slice());let c=i[s+2].removeInner(o,a+1);c!=Es?i[s+2]=c:(i.splice(s,3),s-=3)}if(r.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<r.length;a++)r[a].eq(o,n)&&(r==this.local&&(r=this.local.slice()),r.splice(a--,1))}return i==this.children&&r==this.local?this:r.length||i.length?new Sr(r,i):Es}forChild(e,n){if(this==Es)return this;if(n.isLeaf)return Sr.empty;let i,r;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(i=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Dp){let c=Math.max(s,l.from)-s,d=Math.min(o,l.to)-s;c<d&&(r||(r=[])).push(l.copy(c,d))}}if(r){let a=new Sr(r.sort(zy),Gb);return i?new qh([a,i]):a}return i||Es}eq(e){if(this==e)return!0;if(!(e instanceof Sr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return B3(this.localsInner(e))}localsInner(e){if(this==Es)return Gb;if(e.inlineContent||!this.local.some(Dp.is))return this.local;let n=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof Dp||n.push(this.local[i]);return n}forEachSet(e){e(this)}}Sr.empty=new Sr([],[]);Sr.removeOverlap=B3;const Es=Sr.empty;class qh{constructor(e){this.members=e}map(e,n){const i=this.members.map(r=>r.map(e,n,$y));return qh.from(i)}forChild(e,n){if(n.isLeaf)return Sr.empty;let i=[];for(let r=0;r<this.members.length;r++){let s=this.members[r].forChild(e,n);s!=Es&&(s instanceof qh?i=i.concat(s.members):i.push(s))}return qh.from(i)}eq(e){if(!(e instanceof qh)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,i=!0;for(let r=0;r<this.members.length;r++){let s=this.members[r].localsInner(e);if(s.length)if(!n)n=s;else{i&&(n=n.slice(),i=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?B3(i?n:n.sort(zy)):Gb}static from(e){switch(e.length){case 0:return Es;case 1:return e[0];default:return new qh(e.every(n=>n instanceof Sr)?e:e.reduce((n,i)=>n.concat(i instanceof Sr?i:i.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function Rve(t,e,n,i,r,s,o){let a=t.slice();for(let c=0,d=s;c<n.maps.length;c++){let h=0;n.maps[c].forEach((p,m,v,S)=>{let A=S-v-(m-p);for(let E=0;E<a.length;E+=3){let M=a[E+1];if(M<0||p>M+d-h)continue;let R=a[E]+d-h;m>=R?a[E+1]=p<=R?-2:-1:p>=d&&A&&(a[E]+=A,a[E+1]+=A)}h+=A}),d=n.maps[c].map(d,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let d=n.map(t[c]+s),h=d-r;if(h<0||h>=i.content.size){l=!0;continue}let p=n.map(t[c+1]+s,-1),m=p-r,{index:v,offset:S}=i.content.findIndex(h),A=i.maybeChild(v);if(A&&S==h&&S+A.nodeSize==m){let E=a[c+2].mapInner(n,A,d+1,t[c]+s+1,o);E!=Es?(a[c]=h,a[c+1]=m,a[c+2]=E):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=Dve(a,t,e,n,r,s,o),d=JR(c,i,0,o);e=d.local;for(let h=0;h<a.length;h+=3)a[h+1]<0&&(a.splice(h,3),h-=3);for(let h=0,p=0;h<d.children.length;h+=3){let m=d.children[h];for(;p<a.length&&a[p]<m;)p+=3;a.splice(p,0,d.children[h],d.children[h+1],d.children[h+2])}}return new Sr(e.sort(zy),a)}function xY(t,e){if(!e||!t.length)return t;let n=[];for(let i=0;i<t.length;i++){let r=t[i];n.push(new Cl(r.from+e,r.to+e,r.type))}return n}function Dve(t,e,n,i,r,s,o){function a(l,c){for(let d=0;d<l.local.length;d++){let h=l.local[d].map(i,r,c);h?n.push(h):o.onRemove&&o.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)a(l.children[d+2],l.children[d]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function wY(t,e,n){if(e.isLeaf)return null;let i=n+e.nodeSize,r=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<i&&((r||(r=[])).push(o),t[s]=null);return r}function SY(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function JR(t,e,n,i){let r=[],s=!1;e.forEach((a,l)=>{let c=wY(t,a,l+n);if(c){s=!0;let d=JR(c,a,n+l+1,i);d!=Es&&r.push(l,l+a.nodeSize,d)}});let o=xY(s?SY(t):t,-n).sort(zy);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(i.onRemove&&i.onRemove(o[a].spec),o.splice(a--,1));return o.length||r.length?new Sr(o,r):Es}function zy(t,e){return t.from-e.from||t.to-e.to}function B3(t){let e=t;for(let n=0;n<e.length-1;n++){let i=e[n];if(i.from!=i.to)for(let r=n+1;r<e.length;r++){let s=e[r];if(s.from==i.from){s.to!=i.to&&(e==t&&(e=t.slice()),e[r]=s.copy(s.from,i.to),wV(e,r+1,s.copy(i.to,s.to)));continue}else{s.from<i.to&&(e==t&&(e=t.slice()),e[n]=i.copy(i.from,s.from),wV(e,r,i.copy(s.from,i.to)));break}}}return e}function wV(t,e,n){for(;e<t.length&&zy(n,t[e])>0;)e++;t.splice(e,0,n)}function CO(t){let e=[];return t.someProp("decorations",n=>{let i=n(t.state);i&&i!=Es&&e.push(i)}),t.cursorWrapper&&e.push(Sr.create(t.state.doc,[t.cursorWrapper.deco])),qh.from(e)}const Nve={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Pve=Uo&&Mp<=11;class Ove{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Lve{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Ove,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let r=0;r<i.length;r++)this.queue.push(i[r]);Uo&&Mp<=11&&i.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),Pve&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Nve)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hV(this.view)){if(this.suppressingSelectionUpdates)return vf(this.view);if(Uo&&Mp<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Yy(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,i;for(let s=e.focusNode;s;s=Px(s))n.add(s);for(let s=e.anchorNode;s;s=Px(s))if(n.has(s)){i=s;break}let r=i&&this.view.docView.nearestDesc(i);if(r&&r.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let i=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&hV(e)&&!this.ignoreSelectionChange(i),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let d=0;d<n.length;d++){let h=this.registerMutation(n[d],l);h&&(s=s<0?h.from:Math.min(h.from,s),o=o<0?h.to:Math.max(h.to,o),h.typeOver&&(a=!0))}if(jc&&l.length){let d=l.filter(h=>h.nodeName=="BR");if(d.length==2){let[h,p]=d;h.parentNode&&h.parentNode.parentNode==p.parentNode?p.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let p of d){let m=p.parentNode;m&&m.nodeName=="LI"&&(!h||Fve(e,h)!=m)&&p.remove()}}}let c=null;s<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&kD(i)&&(c=O3(e))&&c.eq(Jt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,vf(e),this.currentSelection.set(i),e.scrollToSelection()):(s>-1||r)&&(s>-1&&(e.docView.markDirty(s,o),jve(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||vf(e),this.currentSelection.set(i))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let h=e.addedNodes[d];n.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let r=e.previousSibling,s=e.nextSibling;if(Uo&&Mp<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:h,nextSibling:p}=e.addedNodes[d];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(r=h),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(s=p)}let o=r&&r.parentNode==e.target?ss(r)+1:0,a=i.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?ss(s):e.target.childNodes.length,c=i.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=e.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let SV=new WeakMap,CV=!1;function jve(t){if(!SV.has(t)&&(SV.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=jc,CV)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),CV=!0}}function AV(t,e){let n=e.startContainer,i=e.startOffset,r=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Yy(o.node,o.offset,r,s)&&([n,i,r,s]=[r,s,n,i]),{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}}function Ive(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return AV(t,r)}let n;function i(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",i,!0),n?AV(t,n):null}function Fve(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let i=t.docView.nearestDesc(n,!0);if(i&&i.node.isBlock)return n}return null}function $ve(t,e,n){let{node:i,fromOffset:r,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,d=l.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(c=[{node:d,offset:l.anchorOffset}],kD(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Rs&&t.input.lastKeyCode===8)for(let A=s;A>r;A--){let E=i.childNodes[A-1],M=E.pmViewDesc;if(E.nodeName=="BR"&&!M){s=A;break}if(!M||M.size)break}let h=t.state.doc,p=t.someProp("domParser")||_p.fromSchema(t.state.schema),m=h.resolve(o),v=null,S=p.parse(i,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:r,to:s,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:zve,context:m});if(c&&c[0].pos!=null){let A=c[0].pos,E=c[1]&&c[1].pos;E==null&&(E=A),v={anchor:A+o,head:E+o}}return{doc:S,sel:v,from:o,to:a}}function zve(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(vo&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||vo&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Bve=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Vve(t,e,n,i,r){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let q=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,B=O3(t,q);if(B&&!t.state.selection.eq(B)){if(Rs&&pf&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",Q=>Q(t,Sg(13,"Enter"))))return;let X=t.state.tr.setSelection(B);q=="pointer"?X.setMeta("pointer",!0):q=="key"&&X.scrollIntoView(),s&&X.setMeta("composition",s),t.dispatch(X)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=$ve(t,e,n),d=t.state.doc,h=d.slice(c.from,c.to),p,m;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,m="end"):(p=t.state.selection.from,m="start"),t.input.lastKeyCode=null;let v=qve(h.content,c.doc.content,c.from,p,m);if(v&&t.input.domChangeCount++,(Ox&&t.input.lastIOSEnter>Date.now()-225||pf)&&r.some(q=>q.nodeType==1&&!Bve.test(q.nodeName))&&(!v||v.endA>=v.endB)&&t.someProp("handleKeyDown",q=>q(t,Sg(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!v)if(i&&l instanceof Nt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))v={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let q=EV(t,t.state.doc,c.sel);if(q&&!q.eq(t.state.selection)){let B=t.state.tr.setSelection(q);s&&B.setMeta("composition",s),t.dispatch(B)}}return}t.state.selection.from<t.state.selection.to&&v.start==v.endB&&t.state.selection instanceof Nt&&(v.start>t.state.selection.from&&v.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?v.start=t.state.selection.from:v.endA<t.state.selection.to&&v.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(v.endB+=t.state.selection.to-v.endA,v.endA=t.state.selection.to)),Uo&&Mp<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>c.from&&c.doc.textBetween(v.start-c.from-1,v.start-c.from+1)==" "&&(v.start--,v.endA--,v.endB--);let S=c.doc.resolveNoCache(v.start-c.from),A=c.doc.resolveNoCache(v.endB-c.from),E=d.resolve(v.start),M=S.sameParent(A)&&S.parent.inlineContent&&E.end()>=v.endA,R;if((Ox&&t.input.lastIOSEnter>Date.now()-225&&(!M||r.some(q=>q.nodeName=="DIV"||q.nodeName=="P"))||!M&&S.pos<c.doc.content.size&&!S.sameParent(A)&&(R=Jt.findFrom(c.doc.resolve(S.pos+1),1,!0))&&R.head==A.pos)&&t.someProp("handleKeyDown",q=>q(t,Sg(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>v.start&&Uve(d,v.start,v.endA,S,A)&&t.someProp("handleKeyDown",q=>q(t,Sg(8,"Backspace")))){pf&&Rs&&t.domObserver.suppressSelectionUpdates();return}Rs&&v.endB==v.start&&(t.input.lastChromeDelete=Date.now()),pf&&!M&&S.start()!=A.start()&&A.parentOffset==0&&S.depth==A.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==v.endA&&(v.endB-=2,A=c.doc.resolveNoCache(v.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(q){return q(t,Sg(13,"Enter"))})},20));let N=v.start,P=v.endA,O,$,F;if(M){if(S.pos==A.pos)Uo&&Mp<=11&&S.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>vf(t),20)),O=t.state.tr.delete(N,P),$=d.resolve(v.start).marksAcross(d.resolve(v.endA));else if(v.endA==v.endB&&(F=Hve(S.parent.content.cut(S.parentOffset,A.parentOffset),E.parent.content.cut(E.parentOffset,v.endA-E.start()))))O=t.state.tr,F.type=="add"?O.addMark(N,P,F.mark):O.removeMark(N,P,F.mark);else if(S.parent.child(S.index()).isText&&S.index()==A.index()-(A.textOffset?0:1)){let q=S.parent.textBetween(S.parentOffset,A.parentOffset);if(t.someProp("handleTextInput",B=>B(t,N,P,q)))return;O=t.state.tr.insertText(q,N,P)}}if(O||(O=t.state.tr.replace(N,P,c.doc.slice(v.start-c.from,v.endB-c.from))),c.sel){let q=EV(t,O.doc,c.sel);q&&!(Rs&&t.composing&&q.empty&&(v.start!=v.endB||t.input.lastChromeDelete<Date.now()-100)&&(q.head==N||q.head==O.mapping.map(P)-1)||Uo&&q.empty&&q.head==N)&&O.setSelection(q)}$&&O.ensureMarks($),s&&O.setMeta("composition",s),t.dispatch(O.scrollIntoView())}function EV(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:L3(t,e.resolve(n.anchor),e.resolve(n.head))}function Hve(t,e){let n=t.firstChild.marks,i=e.firstChild.marks,r=n,s=i,o,a,l;for(let d=0;d<i.length;d++)r=i[d].removeFromSet(r);for(let d=0;d<n.length;d++)s=n[d].removeFromSet(s);if(r.length==1&&s.length==0)a=r[0],o="add",l=d=>d.mark(a.addToSet(d.marks));else if(r.length==0&&s.length==1)a=s[0],o="remove",l=d=>d.mark(a.removeFromSet(d.marks));else return null;let c=[];for(let d=0;d<e.childCount;d++)c.push(l(e.child(d)));if(Be.from(c).eq(t))return{mark:a,type:o}}function Uve(t,e,n,i,r){if(n-e<=r.pos-i.pos||AO(i,!0,!1)<r.pos)return!1;let s=t.resolve(e);if(!i.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(AO(s,!0,!0));return!o.parent.isTextblock||o.pos>n||AO(o,!0,!1)<n?!1:i.parent.content.cut(i.parentOffset).eq(o.parent.content)}function AO(t,e,n){let i=t.depth,r=e?t.end():t.pos;for(;i>0&&(e||t.indexAfter(i)==t.node(i).childCount);)i--,r++,e=!1;if(n){let s=t.node(i).maybeChild(t.indexAfter(i));for(;s&&!s.isLeaf;)s=s.firstChild,r++}return r}function qve(t,e,n,i,r){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(r=="end"){let l=Math.max(0,s-Math.min(o,a));i-=o+l-s}if(o<s&&t.size<e.size){let l=i<=s&&i>=o?s-i:0;s-=l,s&&s<e.size&&TV(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=i<=s&&i>=a?s-i:0;s-=l,s&&s<t.size&&TV(t.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function TV(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class Gve{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new dve,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(DV),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=MV(this),_V(this),this.nodeViews=RV(this),this.docView=aV(this.state.doc,kV(this),CO(this),this.dom,this),this.domObserver=new Lve(this,(i,r,s,o)=>Vve(this,i,r,s,o)),this.domObserver.start(),fve(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&zj(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(DV),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let i in this._props)n[i]=this._props[i];n.state=this.state;for(let i in e)n[i]=e[i];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var i;let r=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(gY(this),o=!0),this.state=e;let a=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let m=RV(this);Kve(m,this.nodeViews)&&(this.nodeViews=m,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&zj(this),this.editable=MV(this),_V(this);let l=CO(this),c=kV(this),d=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",h=s||!this.docView.matchesNode(e.doc,c,l);(h||!e.selection.eq(r.selection))&&(o=!0);let p=d=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Tbe(this);if(o){this.domObserver.stop();let m=h&&(Uo||Rs)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&Wve(r.selection,e.selection);if(h){let v=Rs?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Eve(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=aV(e.doc,c,l,this.dom,this)),v&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Xbe(this))?vf(this,m):(rY(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((i=this.dragging)===null||i===void 0)&&i.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():p&&kbe(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof pt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&tV(this,n.getBoundingClientRect(),e)}else tV(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let i=this.state.plugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let i=this.pluginViews[n];i.update&&i.update(this,e)}}updateDraggedNode(e,n){let i=e.node,r=-1;if(this.state.doc.nodeAt(i.from)==i.node)r=i.from;else{let s=i.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==i.node&&(r=s)}this.dragging=new bY(e.slice,e.move,r<0?void 0:pt.create(this.state.doc,r))}someProp(e,n){let i=this._props&&this._props[e],r;if(i!=null&&(r=n?n(i):i))return r;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(r=n?n(a):a))return r}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(r=n?n(a):a))return r}}hasFocus(){if(Uo){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&_be(this.dom),vf(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Pbe(this,e)}coordsAtPos(e,n=1){return XK(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,i=-1){let r=this.docView.posFromDOM(e,n,i);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,n){return Fbe(this,n||this.state,e)}pasteHTML(e,n){return QC(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return QC(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return j3(this,e)}destroy(){this.docView&&(hve(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],CO(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,mbe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return mve(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?vo&&this.root.nodeType===11&&xbe(this.dom.ownerDocument)==this.dom&&Ive(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function kV(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let i in n)i=="class"?e.class+=" "+n[i]:i=="style"?e.style=(e.style?e.style+";":"")+n[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(n[i]))}),e.translate||(e.translate="no"),[Cl.node(0,t.state.doc.content.size,e)]}function _V(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Cl.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function MV(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Wve(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function RV(t){let e=Object.create(null);function n(i){for(let r in i)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=i[r])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Kve(t,e){let n=0,i=0;for(let r in t){if(t[r]!=e[r])return!0;n++}for(let r in e)i++;return n!=i}function DV(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Lp={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ZR={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Yve=typeof navigator<"u"&&/Mac/.test(navigator.platform),Xve=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var as=0;as<10;as++)Lp[48+as]=Lp[96+as]=String(as);for(var as=1;as<=24;as++)Lp[as+111]="F"+as;for(var as=65;as<=90;as++)Lp[as]=String.fromCharCode(as+32),ZR[as]=String.fromCharCode(as);for(var EO in Lp)ZR.hasOwnProperty(EO)||(ZR[EO]=Lp[EO]);function Jve(t){var e=Yve&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Xve&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?ZR:Lp)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Zve=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Qve(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let i,r,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Zve?o=!0:r=!0;else throw new Error("Unrecognized modifier name: "+l)}return i&&(n="Alt-"+n),r&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function exe(t){let e=Object.create(null);for(let n in t)e[Qve(n)]=t[n];return e}function TO(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function txe(t){return new Go({props:{handleKeyDown:CY(t)}})}function CY(t){let e=exe(t);return function(n,i){let r=Jve(i),s,o=e[TO(r,i)];if(o&&o(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(i.shiftKey){let a=e[TO(r,i,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((i.shiftKey||i.altKey||i.metaKey||r.charCodeAt(0)>127)&&(s=Lp[i.keyCode])&&s!=r){let a=e[TO(s,i)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const V3=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function AY(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const EY=(t,e,n)=>{let i=AY(t,n);if(!i)return!1;let r=H3(i);if(!r){let o=i.blockRange(),a=o&&a1(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=r.nodeBefore;if(OY(t,r,e,-1))return!0;if(i.parent.content.size==0&&(Lx(s,"end")||pt.isSelectable(s)))for(let o=i.depth;;o--){let a=ED(t.doc,i.before(o),i.after(o),Qe.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Lx(s,"end")?Jt.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):pt.create(l.doc,r.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||i.node(o-1).childCount>1)break}return s.isAtom&&r.depth==i.depth-1?(e&&e(t.tr.delete(r.pos-s.nodeSize,r.pos).scrollIntoView()),!0):!1},nxe=(t,e,n)=>{let i=AY(t,n);if(!i)return!1;let r=H3(i);return r?TY(t,r,e):!1},ixe=(t,e,n)=>{let i=_Y(t,n);if(!i)return!1;let r=U3(i);return r?TY(t,r,e):!1};function TY(t,e,n){let i=e.nodeBefore,r=i,s=e.pos-1;for(;!r.isTextblock;s--){if(r.type.spec.isolating)return!1;let d=r.lastChild;if(!d)return!1;r=d}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let d=a.firstChild;if(!d)return!1;a=d}let c=ED(t.doc,s,l,Qe.empty);if(!c||c.from!=s||c instanceof Fr&&c.slice.size>=l-s)return!1;if(n){let d=t.tr.step(c);d.setSelection(Nt.create(d.doc,s)),n(d.scrollIntoView())}return!0}function Lx(t,e,n=!1){for(let i=t;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&i.childCount!=1)return!1}return!1}const kY=(t,e,n)=>{let{$head:i,empty:r}=t.selection,s=i;if(!r)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):i.parentOffset>0)return!1;s=H3(i)}let o=s&&s.nodeBefore;return!o||!pt.isSelectable(o)?!1:(e&&e(t.tr.setSelection(pt.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function H3(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function _Y(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const MY=(t,e,n)=>{let i=_Y(t,n);if(!i)return!1;let r=U3(i);if(!r)return!1;let s=r.nodeAfter;if(OY(t,r,e,1))return!0;if(i.parent.content.size==0&&(Lx(s,"start")||pt.isSelectable(s))){let o=ED(t.doc,i.before(),i.after(),Qe.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Lx(s,"start")?Jt.findFrom(a.doc.resolve(a.mapping.map(r.pos)),1):pt.create(a.doc,a.mapping.map(r.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&r.depth==i.depth-1?(e&&e(t.tr.delete(r.pos,r.pos+s.nodeSize).scrollIntoView()),!0):!1},RY=(t,e,n)=>{let{$head:i,empty:r}=t.selection,s=i;if(!r)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;s=U3(i)}let o=s&&s.nodeAfter;return!o||!pt.isSelectable(o)?!1:(e&&e(t.tr.setSelection(pt.create(t.doc,s.pos)).scrollIntoView()),!0)};function U3(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const rxe=(t,e)=>{let n=t.selection,i=n instanceof pt,r;if(i){if(n.node.isTextblock||!Yp(t.doc,n.from))return!1;r=n.from}else if(r=AD(t.doc,n.from,-1),r==null)return!1;if(e){let s=t.tr.join(r);i&&s.setSelection(pt.create(s.doc,r-t.doc.resolve(r).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},sxe=(t,e)=>{let n=t.selection,i;if(n instanceof pt){if(n.node.isTextblock||!Yp(t.doc,n.to))return!1;i=n.to}else if(i=AD(t.doc,n.to,1),i==null)return!1;return e&&e(t.tr.join(i).scrollIntoView()),!0},oxe=(t,e)=>{let{$from:n,$to:i}=t.selection,r=n.blockRange(i),s=r&&a1(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)},DY=(t,e)=>{let{$head:n,$anchor:i}=t.selection;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function q3(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const axe=(t,e)=>{let{$head:n,$anchor:i}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let r=n.node(-1),s=n.indexAfter(-1),o=q3(r.contentMatchAt(s));if(!o||!r.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Jt.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},NY=(t,e)=>{let n=t.selection,{$from:i,$to:r}=n;if(n instanceof Da||i.parent.inlineContent||r.parent.inlineContent)return!1;let s=q3(r.parent.contentMatchAt(r.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!i.parentOffset&&r.index()<r.parent.childCount?i:r).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(Nt.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},PY=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(bf(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let i=n.blockRange(),r=i&&a1(i);return r==null?!1:(e&&e(t.tr.lift(i,r).scrollIntoView()),!0)};function lxe(t){return(e,n)=>{let{$from:i,$to:r}=e.selection;if(e.selection instanceof pt&&e.selection.node.isBlock)return!i.parentOffset||!bf(e.doc,i.pos)?!1:(n&&n(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let s=[],o,a,l=!1,c=!1;for(let m=i.depth;;m--)if(i.node(m).isBlock){l=i.end(m)==i.pos+(i.depth-m),c=i.start(m)==i.pos-(i.depth-m),a=q3(i.node(m-1).contentMatchAt(i.indexAfter(m-1))),s.unshift(l&&a?{type:a}:null),o=m;break}else{if(m==1)return!1;s.unshift(null)}let d=e.tr;(e.selection instanceof Nt||e.selection instanceof Da)&&d.deleteSelection();let h=d.mapping.map(i.pos),p=bf(d.doc,h,s.length,s);if(p||(s[0]=a?{type:a}:null,p=bf(d.doc,h,s.length,s)),d.split(h,s.length,s),!l&&c&&i.node(o).type!=a){let m=d.mapping.map(i.before(o)),v=d.doc.resolve(m);a&&i.node(o-1).canReplaceWith(v.index(),v.index()+1,a)&&d.setNodeMarkup(d.mapping.map(i.before(o)),a)}return n&&n(d.scrollIntoView()),!0}}const cxe=lxe(),uxe=(t,e)=>{let{$from:n,to:i}=t.selection,r,s=n.sharedDepth(i);return s==0?!1:(r=n.before(s),e&&e(t.tr.setSelection(pt.create(t.doc,r))),!0)};function dxe(t,e,n){let i=e.nodeBefore,r=e.nodeAfter,s=e.index();return!i||!r||!i.type.compatibleContent(r.type)?!1:!i.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(r.isTextblock||Yp(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function OY(t,e,n,i){let r=e.nodeBefore,s=e.nodeAfter,o,a,l=r.type.spec.isolating||s.type.spec.isolating;if(!l&&dxe(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let m=e.pos+s.nodeSize,v=Be.empty;for(let E=o.length-1;E>=0;E--)v=Be.from(o[E].create(null,v));v=Be.from(r.copy(v));let S=t.tr.step(new zr(e.pos-1,m,e.pos,m,new Qe(v,1,0),o.length,!0)),A=S.doc.resolve(m+2*o.length);A.nodeAfter&&A.nodeAfter.type==r.type&&Yp(S.doc,A.pos)&&S.join(A.pos),n(S.scrollIntoView())}return!0}let d=s.type.spec.isolating||i>0&&l?null:Jt.findFrom(e,1),h=d&&d.$from.blockRange(d.$to),p=h&&a1(h);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(h,p).scrollIntoView()),!0;if(c&&Lx(s,"start",!0)&&Lx(r,"end")){let m=r,v=[];for(;v.push(m),!m.isTextblock;)m=m.lastChild;let S=s,A=1;for(;!S.isTextblock;S=S.firstChild)A++;if(m.canReplace(m.childCount,m.childCount,S.content)){if(n){let E=Be.empty;for(let R=v.length-1;R>=0;R--)E=Be.from(v[R].copy(E));let M=t.tr.step(new zr(e.pos-v.length,e.pos+s.nodeSize,e.pos+A,e.pos+s.nodeSize-A,new Qe(E,v.length,0),0,!0));n(M.scrollIntoView())}return!0}}return!1}function LY(t){return function(e,n){let i=e.selection,r=t<0?i.$from:i.$to,s=r.depth;for(;r.node(s).isInline;){if(!s)return!1;s--}return r.node(s).isTextblock?(n&&n(e.tr.setSelection(Nt.create(e.doc,t<0?r.start(s):r.end(s)))),!0):!1}}const fxe=LY(-1),hxe=LY(1);function pxe(t,e=null){return function(n,i){let{$from:r,$to:s}=n.selection,o=r.blockRange(s),a=o&&D3(o,t,e);return a?(i&&i(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function NV(t,e=null){return function(n,i){let r=!1;for(let s=0;s<n.selection.ranges.length&&!r;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,c)=>{if(r)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)r=!0;else{let d=n.doc.resolve(c),h=d.index();r=d.parent.canReplaceWith(h,h+1,t)}})}if(!r)return!1;if(i){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,t,e)}i(s.scrollIntoView())}return!0}}function G3(...t){return function(e,n,i){for(let r=0;r<t.length;r++)if(t[r](e,n,i))return!0;return!1}}G3(V3,EY,kY);G3(V3,MY,RY);G3(DY,NY,PY,cxe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function mxe(t,e=null){return function(n,i){let{$from:r,$to:s}=n.selection,o=r.blockRange(s);if(!o)return!1;let a=i?n.tr:null;return gxe(a,o,t,e)?(i&&i(a.scrollIntoView()),!0):!1}}function gxe(t,e,n,i=null){let r=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);s=new qR(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new qR(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),r=!0}let a=D3(s,n,i,e);return a?(t&&yxe(t,e,a,r,n),!0):!1}function yxe(t,e,n,i,r){let s=Be.empty;for(let d=n.length-1;d>=0;d--)s=Be.from(n[d].type.create(n[d].attrs,s));t.step(new zr(e.start-(i?2:0),e.end,e.start,e.end,new Qe(s,0,0),n.length,!0));let o=0;for(let d=0;d<n.length;d++)n[d].type==r&&(o=d+1);let a=n.length-o,l=e.start+n.length-(i?2:0),c=e.parent;for(let d=e.startIndex,h=e.endIndex,p=!0;d<h;d++,p=!1)!p&&bf(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(d).nodeSize;return t}function bxe(t){return function(e,n){let{$from:i,$to:r}=e.selection,s=i.blockRange(r,o=>o.childCount>0&&o.firstChild.type==t);return s?n?i.node(s.depth-1).type==t?vxe(e,n,t,s):xxe(e,n,s):!0:!1}}function vxe(t,e,n,i){let r=t.tr,s=i.end,o=i.$to.end(i.depth);s<o&&(r.step(new zr(s-1,o,s,o,new Qe(Be.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new qR(r.doc.resolve(i.$from.pos),r.doc.resolve(o),i.depth));const a=a1(i);if(a==null)return!1;r.lift(i,a);let l=r.doc.resolve(r.mapping.map(s,-1)-1);return Yp(r.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&r.join(l.pos),e(r.scrollIntoView()),!0}function xxe(t,e,n){let i=t.tr,r=n.parent;for(let m=n.end,v=n.endIndex-1,S=n.startIndex;v>S;v--)m-=r.child(v).nodeSize,i.delete(m-1,m+1);let s=i.doc.resolve(n.start),o=s.nodeAfter;if(i.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==r.childCount,c=s.node(-1),d=s.index(-1);if(!c.canReplace(d+(a?0:1),d+1,o.content.append(l?Be.empty:Be.from(r))))return!1;let h=s.pos,p=h+o.nodeSize;return i.step(new zr(h-(a?1:0),p+(l?1:0),h+1,p-1,new Qe((a?Be.empty:Be.from(r.copy(Be.empty))).append(l?Be.empty:Be.from(r.copy(Be.empty))),a?0:1,l?0:1),a?0:1)),e(i.scrollIntoView()),!0}function wxe(t){return function(e,n){let{$from:i,$to:r}=e.selection,s=i.blockRange(r,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,d=Be.from(c?t.create():null),h=new Qe(Be.from(t.create(null,Be.from(a.type.create(null,d)))),c?3:1,0),p=s.start,m=s.end;n(e.tr.step(new zr(p-(c?3:1),m,p,m,h,1,!0)).scrollIntoView())}return!0}}function RD(t){const{state:e,transaction:n}=t;let{selection:i}=n,{doc:r}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return i},get doc(){return r},get tr(){return i=n.selection,r=n.doc,s=n.storedMarks,n}}}let DD=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:i}=this,{view:r}=n,{tr:s}=i,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...d)=>{const h=l(...d)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:i,editor:r,state:s}=this,{view:o}=r,a=[],l=!!e,c=e||s.tr,d=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(p=>p===!0)),h={...Object.fromEntries(Object.entries(i).map(([p,m])=>[p,(...S)=>{const A=this.buildProps(c,n),E=m(...S)(A);return a.push(E),h}])),run:d};return h}createCan(e){const{rawCommands:n,state:i}=this,r=!1,s=e||i.tr,o=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...d)=>c(...d)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(e,n=!0){const{rawCommands:i,editor:r,state:s}=this,{view:o}=r,a={tr:e,editor:r,view:o,state:RD({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(i).map(([l,c])=>[l,(...d)=>c(...d)(a)]))}};return a}};class Sxe{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const i=this.callbacks[e];return i&&i.forEach(r=>r.apply(this,n)),this}off(e,n){const i=this.callbacks[e];return i&&(n?this.callbacks[e]=i.filter(r=>r!==n):delete this.callbacks[e]),this}once(e,n){const i=(...r)=>{this.off(e,i),n.apply(this,r)};return this.on(e,i)}removeAllListeners(){this.callbacks={}}}function it(t,e,n){return t.config[e]===void 0&&t.parent?it(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?it(t.parent,e,n):null}):t.config[e]}function ND(t){const e=t.filter(r=>r.type==="extension"),n=t.filter(r=>r.type==="node"),i=t.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:i}}function jY(t){const e=[],{nodeExtensions:n,markExtensions:i}=ND(t),r=[...n,...i],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:r},l=it(o,"addGlobalAttributes",a);if(!l)return;l().forEach(d=>{d.types.forEach(h=>{Object.entries(d.attributes).forEach(([p,m])=>{e.push({type:h,name:p,attribute:{...s,...m}})})})})}),r.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=it(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([d,h])=>{const p={...s,...h};typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,e.push({type:o.name,name:d,attribute:p})})}),e}function Hr(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function js(...t){return t.filter(e=>!!e).reduce((e,n)=>{const i={...e};return Object.entries(n).forEach(([r,s])=>{if(!i[r]){i[r]=s;return}if(r==="class"){const a=s?String(s).split(" "):[],l=i[r]?i[r].split(" "):[],c=a.filter(d=>!l.includes(d));i[r]=[...l,...c].join(" ")}else if(r==="style"){const a=s?s.split(";").map(d=>d.trim()).filter(Boolean):[],l=i[r]?i[r].split(";").map(d=>d.trim()).filter(Boolean):[],c=new Map;l.forEach(d=>{const[h,p]=d.split(":").map(m=>m.trim());c.set(h,p)}),a.forEach(d=>{const[h,p]=d.split(":").map(m=>m.trim());c.set(h,p)}),i[r]=Array.from(c.entries()).map(([d,h])=>`${d}: ${h}`).join("; ")}else i[r]=s}),i},{})}function Bj(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,i)=>js(n,i),{})}function IY(t){return typeof t=="function"}function nn(t,e=void 0,...n){return IY(t)?e?t.bind(e)(...n):t(...n):t}function Cxe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Axe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function PV(t,e){return"style"in t?t:{...t,getAttrs:n=>{const i=t.getAttrs?t.getAttrs(n):t.attrs;if(i===!1)return!1;const r=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):Axe(n.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...i,...r}}}}function OV(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Cxe(n)?!1:n!=null))}function Exe(t,e){var n;const i=jY(t),{nodeExtensions:r,markExtensions:s}=ND(t),o=(n=r.find(c=>it(c,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(r.map(c=>{const d=i.filter(E=>E.type===c.name),h={name:c.name,options:c.options,storage:c.storage,editor:e},p=t.reduce((E,M)=>{const R=it(M,"extendNodeSchema",h);return{...E,...R?R(c):{}}},{}),m=OV({...p,content:nn(it(c,"content",h)),marks:nn(it(c,"marks",h)),group:nn(it(c,"group",h)),inline:nn(it(c,"inline",h)),atom:nn(it(c,"atom",h)),selectable:nn(it(c,"selectable",h)),draggable:nn(it(c,"draggable",h)),code:nn(it(c,"code",h)),whitespace:nn(it(c,"whitespace",h)),linebreakReplacement:nn(it(c,"linebreakReplacement",h)),defining:nn(it(c,"defining",h)),isolating:nn(it(c,"isolating",h)),attrs:Object.fromEntries(d.map(E=>{var M;return[E.name,{default:(M=E==null?void 0:E.attribute)===null||M===void 0?void 0:M.default}]}))}),v=nn(it(c,"parseHTML",h));v&&(m.parseDOM=v.map(E=>PV(E,d)));const S=it(c,"renderHTML",h);S&&(m.toDOM=E=>S({node:E,HTMLAttributes:Bj(E,d)}));const A=it(c,"renderText",h);return A&&(m.toText=A),[c.name,m]})),l=Object.fromEntries(s.map(c=>{const d=i.filter(A=>A.type===c.name),h={name:c.name,options:c.options,storage:c.storage,editor:e},p=t.reduce((A,E)=>{const M=it(E,"extendMarkSchema",h);return{...A,...M?M(c):{}}},{}),m=OV({...p,inclusive:nn(it(c,"inclusive",h)),excludes:nn(it(c,"excludes",h)),group:nn(it(c,"group",h)),spanning:nn(it(c,"spanning",h)),code:nn(it(c,"code",h)),attrs:Object.fromEntries(d.map(A=>{var E;return[A.name,{default:(E=A==null?void 0:A.attribute)===null||E===void 0?void 0:E.default}]}))}),v=nn(it(c,"parseHTML",h));v&&(m.parseDOM=v.map(A=>PV(A,d)));const S=it(c,"renderHTML",h);return S&&(m.toDOM=A=>S({mark:A,HTMLAttributes:Bj(A,d)})),[c.name,m]}));return new TK({topNode:o,nodes:a,marks:l})}function kO(t,e){return e.nodes[t]||e.marks[t]||null}function LV(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function W3(t,e){const n=o0.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}const Txe=(t,e=500)=>{let n="";const i=t.parentOffset;return t.parent.nodesBetween(Math.max(0,i-e),i,(r,s,o,a)=>{var l,c;const d=((c=(l=r.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:r,pos:s,parent:o,index:a}))||r.textContent||"%leaf%";n+=r.isAtom&&!r.isText?d:d.slice(0,Math.max(0,i-s))}),n};function K3(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class PD{constructor(e){this.find=e.find,this.handler=e.handler}}const kxe=(t,e)=>{if(K3(e))return e.exec(t);const n=e(t);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=t,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i};function Y_(t){var e;const{editor:n,from:i,to:r,text:s,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(i);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(p=>p.type.spec.code))return!1;let d=!1;const h=Txe(c)+s;return o.forEach(p=>{if(d)return;const m=kxe(h,p.find);if(!m)return;const v=l.state.tr,S=RD({state:l.state,transaction:v}),A={from:i-(m[0].length-s.length),to:r},{commands:E,chain:M,can:R}=new DD({editor:n,state:S});p.handler({state:S,range:A,match:m,commands:E,chain:M,can:R})===null||!v.steps.length||(v.setMeta(a,{transform:v,from:i,to:r,text:s}),l.dispatch(v),d=!0)}),d}function _xe(t){const{editor:e,rules:n}=t,i=new Go({state:{init(){return null},apply(r,s,o){const a=r.getMeta(i);if(a)return a;const l=r.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:d}=l;typeof d=="string"?d=d:d=W3(Be.from(d),o.schema);const{from:h}=l,p=h+d.length;Y_({editor:e,from:h,to:p,text:d,rules:n,plugin:i})}),r.selectionSet||r.docChanged?null:s}},props:{handleTextInput(r,s,o,a){return Y_({editor:e,from:s,to:o,text:a,rules:n,plugin:i})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:s}=r.state.selection;s&&Y_({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:i})}),!1)},handleKeyDown(r,s){if(s.key!=="Enter")return!1;const{$cursor:o}=r.state.selection;return o?Y_({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:i}):!1}},isInputRules:!0});return i}function Mxe(t){return Object.prototype.toString.call(t).slice(8,-1)}function X_(t){return Mxe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function OD(t,e){const n={...t};return X_(t)&&X_(e)&&Object.keys(e).forEach(i=>{X_(e[i])&&X_(t[i])?n[i]=OD(t[i],e[i]):n[i]=e[i]}),n}class Rf{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=nn(it(this,"addOptions",{name:this.name}))),this.storage=nn(it(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Rf(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>OD(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Rf(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=nn(it(n,"addOptions",{name:n.name})),n.storage=nn(it(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:i}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const o=r.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&i.removeStoredMark(l),i.insertText(" ",r.pos),e.view.dispatch(i),!0}return!1}}function Rxe(t){return typeof t=="number"}class Dxe{constructor(e){this.find=e.find,this.handler=e.handler}}const Nxe=(t,e,n)=>{if(K3(e))return[...t.matchAll(e)];const i=e(t,n);return i?i.map(r=>{const s=[r.text];return s.index=r.index,s.input=t,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(r.replaceWith)),s}):[]};function Pxe(t){const{editor:e,state:n,from:i,to:r,rule:s,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:d}=new DD({editor:e,state:n}),h=[];return n.doc.nodesBetween(i,r,(m,v)=>{if(!m.isTextblock||m.type.spec.code)return;const S=Math.max(i,v),A=Math.min(r,v+m.content.size),E=m.textBetween(S-v,A-v,void 0,"");Nxe(E,s.find,o).forEach(R=>{if(R.index===void 0)return;const N=S+R.index+1,P=N+R[0].length,O={from:n.tr.mapping.map(N),to:n.tr.mapping.map(P)},$=s.handler({state:n,range:O,match:R,commands:l,chain:c,can:d,pasteEvent:o,dropEvent:a});h.push($)})}),h.every(m=>m!==null)}let J_=null;const Oxe=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function Lxe(t){const{editor:e,rules:n}=t;let i=null,r=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:d,from:h,to:p,rule:m,pasteEvt:v})=>{const S=d.tr,A=RD({state:d,transaction:S});if(!(!Pxe({editor:e,state:A,from:Math.max(h-1,0),to:p.b-1,rule:m,pasteEvent:v,dropEvent:a})||!S.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,S}};return n.map(d=>new Go({view(h){const p=v=>{var S;i=!((S=h.dom.parentElement)===null||S===void 0)&&S.contains(v.target)?h.dom.parentElement:null,i&&(J_=e)},m=()=>{J_&&(J_=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",m),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",m)}}},props:{handleDOMEvents:{drop:(h,p)=>{if(s=i===h.dom.parentElement,a=p,!s){const m=J_;m&&setTimeout(()=>{const v=m.state.selection;v&&m.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(h,p)=>{var m;const v=(m=p.clipboardData)===null||m===void 0?void 0:m.getData("text/html");return o=p,r=!!(v!=null&&v.includes("data-pm-slice")),!1}}},appendTransaction:(h,p,m)=>{const v=h[0],S=v.getMeta("uiEvent")==="paste"&&!r,A=v.getMeta("uiEvent")==="drop"&&!s,E=v.getMeta("applyPasteRules"),M=!!E;if(!S&&!A&&!M)return;if(M){let{text:P}=E;typeof P=="string"?P=P:P=W3(Be.from(P),m.schema);const{from:O}=E,$=O+P.length,F=Oxe(P);return l({rule:d,state:m,from:O,to:{b:$},pasteEvt:F})}const R=p.doc.content.findDiffStart(m.doc.content),N=p.doc.content.findDiffEnd(m.doc.content);if(!(!Rxe(R)||!N||R===N.b))return l({rule:d,state:m,from:R,to:N,pasteEvt:o})}}))}function jxe(t){const e=t.filter((n,i)=>t.indexOf(n)!==i);return Array.from(new Set(e))}class sv{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=sv.resolve(e),this.schema=Exe(this.extensions,n),this.setupExtensions()}static resolve(e){const n=sv.sort(sv.flatten(e)),i=jxe(n.map(r=>r.name));return i.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${i.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const i={name:n.name,options:n.options,storage:n.storage},r=it(n,"addExtensions",i);return r?[n,...this.flatten(r())]:n}).flat(10)}static sort(e){return e.sort((i,r)=>{const s=it(i,"priority")||100,o=it(r,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const i={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:kO(n.name,this.schema)},r=it(n,"addCommands",i);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this,n=sv.sort([...this.extensions].reverse()),i=[],r=[],s=n.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:kO(o.name,this.schema)},l=[],c=it(o,"addKeyboardShortcuts",a);let d={};if(o.type==="mark"&&it(o,"exitable",a)&&(d.ArrowRight=()=>Rf.handleExit({editor:e,mark:o})),c){const S=Object.fromEntries(Object.entries(c()).map(([A,E])=>[A,()=>E({editor:e})]));d={...d,...S}}const h=txe(d);l.push(h);const p=it(o,"addInputRules",a);LV(o,e.options.enableInputRules)&&p&&i.push(...p());const m=it(o,"addPasteRules",a);LV(o,e.options.enablePasteRules)&&m&&r.push(...m());const v=it(o,"addProseMirrorPlugins",a);if(v){const S=v();l.push(...S)}return l}).flat();return[_xe({editor:e,rules:i}),...Lxe({editor:e,rules:r}),...s]}get attributes(){return jY(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=ND(this.extensions);return Object.fromEntries(n.filter(i=>!!it(i,"addNodeView")).map(i=>{const r=this.attributes.filter(l=>l.type===i.name),s={name:i.name,options:i.options,storage:i.storage,editor:e,type:Hr(i.name,this.schema)},o=it(i,"addNodeView",s);if(!o)return[];const a=(l,c,d,h,p)=>{const m=Bj(l,r);return o()({node:l,view:c,getPos:d,decorations:h,innerDecorations:p,editor:e,extension:i,HTMLAttributes:m})};return[i.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const i={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:kO(e.name,this.schema)};e.type==="mark"&&(!((n=nn(it(e,"keepOnSplit",i)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const r=it(e,"onBeforeCreate",i),s=it(e,"onCreate",i),o=it(e,"onUpdate",i),a=it(e,"onSelectionUpdate",i),l=it(e,"onTransaction",i),c=it(e,"onFocus",i),d=it(e,"onBlur",i),h=it(e,"onDestroy",i);r&&this.editor.on("beforeCreate",r),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),d&&this.editor.on("blur",d),h&&this.editor.on("destroy",h)})}}class Is{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=nn(it(this,"addOptions",{name:this.name}))),this.storage=nn(it(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Is(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>OD(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Is({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=nn(it(n,"addOptions",{name:n.name})),n.storage=nn(it(n,"addStorage",{name:n.name,options:n.options})),n}}function FY(t,e,n){const{from:i,to:r}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(i,r,(l,c,d,h)=>{var p;l.isBlock&&c>i&&(a+=s);const m=o==null?void 0:o[l.type.name];if(m)return d&&(a+=m({node:l,pos:c,parent:d,index:h,range:e})),!1;l.isText&&(a+=(p=l==null?void 0:l.text)===null||p===void 0?void 0:p.slice(Math.max(i,c)-c,r-c))}),a}function $Y(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const Ixe=Is.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Go({key:new nd("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:i,selection:r}=e,{ranges:s}=r,o=Math.min(...s.map(d=>d.$from.pos)),a=Math.max(...s.map(d=>d.$to.pos)),l=$Y(n);return FY(i,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),Fxe=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),$xe=(t=!1)=>({commands:e})=>e.setContent("",t),zxe=()=>({state:t,tr:e,dispatch:n})=>{const{selection:i}=e,{ranges:r}=i;return n&&r.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:d}=e,h=c.resolve(d.map(l)),p=c.resolve(d.map(l+a.nodeSize)),m=h.blockRange(p);if(!m)return;const v=a1(m);if(a.type.isTextblock){const{defaultType:S}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(m.start,S)}(v||v===0)&&e.lift(m,v)})}),!0},Bxe=t=>e=>t(e),Vxe=()=>({state:t,dispatch:e})=>NY(t,e),Hxe=(t,e)=>({editor:n,tr:i})=>{const{state:r}=n,s=r.doc.slice(t.from,t.to);i.deleteRange(t.from,t.to);const o=i.mapping.map(e);return i.insert(o,s.content),i.setSelection(new Nt(i.doc.resolve(o-1))),!0},Uxe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,i=n.$anchor.node();if(i.content.size>0)return!1;const r=t.selection.$anchor;for(let s=r.depth;s>0;s-=1)if(r.node(s).type===i.type){if(e){const a=r.before(s),l=r.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1},qxe=t=>({tr:e,state:n,dispatch:i})=>{const r=Hr(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===r){if(i){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},Gxe=t=>({tr:e,dispatch:n})=>{const{from:i,to:r}=t;return n&&e.delete(i,r),!0},Wxe=()=>({state:t,dispatch:e})=>V3(t,e),Kxe=()=>({commands:t})=>t.keyboardShortcut("Enter"),Yxe=()=>({state:t,dispatch:e})=>axe(t,e);function QR(t,e,n={strict:!0}){const i=Object.keys(e);return i.length?i.every(r=>n.strict?e[r]===t[r]:K3(e[r])?e[r].test(t[r]):e[r]===t[r]):!0}function zY(t,e,n={}){return t.find(i=>i.type===e&&QR(Object.fromEntries(Object.keys(n).map(r=>[r,i.attrs[r]])),n))}function jV(t,e,n={}){return!!zY(t,e,n)}function Y3(t,e,n){var i;if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(d=>d.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(d=>d.type===e)||(n=n||((i=r.node.marks[0])===null||i===void 0?void 0:i.attrs),!zY([...r.node.marks],e,n)))return;let o=r.index,a=t.start()+r.offset,l=o+1,c=a+r.node.nodeSize;for(;o>0&&jV([...t.parent.child(o-1).marks],e,n);)o-=1,a-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&jV([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function Jp(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const Xxe=(t,e={})=>({tr:n,state:i,dispatch:r})=>{const s=Jp(t,i.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:d}=a;if(r){const h=Y3(l,s,e);if(h&&h.from<=c&&h.to>=d){const p=Nt.create(o,h.from,h.to);n.setSelection(p)}}return!0},Jxe=t=>e=>{const n=typeof t=="function"?t(e):t;for(let i=0;i<n.length;i+=1)if(n[i](e))return!0;return!1};function BY(t){return t instanceof Nt}function Og(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function VY(t,e=null){if(!e)return null;const n=Jt.atStart(t),i=Jt.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return i;const r=n.from,s=i.to;return e==="all"?Nt.create(t,Og(0,r,s),Og(t.content.size,r,s)):Nt.create(t,Og(e,r,s),Og(e,r,s))}function Zxe(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function X3(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Qxe=(t=null,e={})=>({editor:n,view:i,tr:r,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(X3()||Zxe())&&i.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(i.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!BY(n.state.selection))return o(),!0;const a=VY(r.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||r.setSelection(a),l&&r.storedMarks&&r.setStoredMarks(r.storedMarks),o()),!0},e1e=(t,e)=>n=>t.every((i,r)=>e(i,{...n,index:r})),t1e=(t,e)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),HY=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const i=e[n];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?t.removeChild(i):i.nodeType===1&&HY(i)}return t};function Z_(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return HY(n)}function e2(t,e,n){if(t instanceof kp||t instanceof Be)return t;n={slice:!0,parseOptions:{},...n};const i=typeof t=="object"&&t!==null,r=typeof t=="string";if(i)try{if(Array.isArray(t)&&t.length>0)return Be.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),e2("",e,n)}if(r){if(n.errorOnInvalidContent){let o=!1,a="";const l=new TK({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?_p.fromSchema(l).parseSlice(Z_(t),n.parseOptions):_p.fromSchema(l).parse(Z_(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=_p.fromSchema(e);return n.slice?s.parseSlice(Z_(t),n.parseOptions).content:s.parse(Z_(t),n.parseOptions)}return e2("",e,n)}function n1e(t,e,n){const i=t.steps.length-1;if(i<e)return;const r=t.steps[i];if(!(r instanceof Fr||r instanceof zr))return;const s=t.mapping.maps[i];let o=0;s.forEach((a,l,c,d)=>{o===0&&(o=d)}),t.setSelection(Jt.near(t.doc.resolve(o),n))}const i1e=t=>!("type"in t),r1e=(t,e,n)=>({tr:i,dispatch:r,editor:s})=>{var o;if(r){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;try{a=e2(e,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(o=n.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(v){return s.emit("contentError",{editor:s,error:v,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},d=!0,h=!0;if((i1e(a)?a:[a]).forEach(v=>{v.check(),d=d?v.isText&&v.marks.length===0:!1,h=h?v.isBlock:!1}),l===c&&h){const{parent:v}=i.doc.resolve(l);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(l-=1,c+=1)}let m;if(d){if(Array.isArray(e))m=e.map(v=>v.text||"").join("");else if(e instanceof Be){let v="";e.forEach(S=>{S.text&&(v+=S.text)}),m=v}else typeof e=="object"&&e&&e.text?m=e.text:m=e;i.insertText(m,l,c)}else m=a,i.replaceWith(l,c,m);n.updateSelection&&n1e(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:l,text:m}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:l,text:m})}return!0},s1e=()=>({state:t,dispatch:e})=>rxe(t,e),o1e=()=>({state:t,dispatch:e})=>sxe(t,e),a1e=()=>({state:t,dispatch:e})=>EY(t,e),l1e=()=>({state:t,dispatch:e})=>MY(t,e),c1e=()=>({state:t,dispatch:e,tr:n})=>{try{const i=AD(t.doc,t.selection.$from.pos,-1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},u1e=()=>({state:t,dispatch:e,tr:n})=>{try{const i=AD(t.doc,t.selection.$from.pos,1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},d1e=()=>({state:t,dispatch:e})=>nxe(t,e),f1e=()=>({state:t,dispatch:e})=>ixe(t,e);function UY(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function h1e(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let i,r,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))X3()||UY()?o=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return i&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const p1e=t=>({editor:e,view:n,tr:i,dispatch:r})=>{const s=h1e(t).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const d=c.map(i.mapping);d&&r&&i.maybeStep(d)}),!0};function tA(t,e,n={}){const{from:i,to:r,empty:s}=t.selection,o=e?Hr(e,t.schema):null,a=[];t.doc.nodesBetween(i,r,(h,p)=>{if(h.isText)return;const m=Math.max(i,p),v=Math.min(r,p+h.nodeSize);a.push({node:h,from:m,to:v})});const l=r-i,c=a.filter(h=>o?o.name===h.node.type.name:!0).filter(h=>QR(h.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((h,p)=>h+p.to-p.from,0)>=l}const m1e=(t,e={})=>({state:n,dispatch:i})=>{const r=Hr(t,n.schema);return tA(n,r,e)?oxe(n,i):!1},g1e=()=>({state:t,dispatch:e})=>PY(t,e),y1e=t=>({state:e,dispatch:n})=>{const i=Hr(t,e.schema);return bxe(i)(e,n)},b1e=()=>({state:t,dispatch:e})=>DY(t,e);function LD(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function IV(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((i,r)=>(n.includes(r)||(i[r]=t[r]),i),{})}const v1e=(t,e)=>({tr:n,state:i,dispatch:r})=>{let s=null,o=null;const a=LD(typeof t=="string"?t:t.name,i.schema);return a?(a==="node"&&(s=Hr(t,i.schema)),a==="mark"&&(o=Jp(t,i.schema)),r&&n.selection.ranges.forEach(l=>{i.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,d)=>{s&&s===c.type&&n.setNodeMarkup(d,void 0,IV(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(h=>{o===h.type&&n.addMark(d,d+c.nodeSize,o.create(IV(h.attrs,e)))})})}),!0):!1},x1e=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),w1e=()=>({tr:t,dispatch:e})=>{if(e){const n=new Da(t.doc);t.setSelection(n)}return!0},S1e=()=>({state:t,dispatch:e})=>kY(t,e),C1e=()=>({state:t,dispatch:e})=>RY(t,e),A1e=()=>({state:t,dispatch:e})=>uxe(t,e),E1e=()=>({state:t,dispatch:e})=>hxe(t,e),T1e=()=>({state:t,dispatch:e})=>fxe(t,e);function Vj(t,e,n={},i={}){return e2(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}const k1e=(t,e=!1,n={},i={})=>({editor:r,tr:s,dispatch:o,commands:a})=>{var l,c;const{doc:d}=s;if(n.preserveWhitespace!=="full"){const h=Vj(t,r.schema,n,{errorOnInvalidContent:(l=i.errorOnInvalidContent)!==null&&l!==void 0?l:r.options.enableContentCheck});return o&&s.replaceWith(0,d.content.size,h).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:d.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=i.errorOnInvalidContent)!==null&&c!==void 0?c:r.options.enableContentCheck})};function qY(t,e){const n=Jp(e,t.schema),{from:i,to:r,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(i,r,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function _1e(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function M1e(t,e){for(let n=t.depth;n>0;n-=1){const i=t.node(n);if(e(i))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:i}}}function J3(t){return e=>M1e(e.$from,t)}function R1e(t,e){const n={from:0,to:t.content.size};return FY(t,n,e)}function D1e(t,e){const n=Hr(e,t.schema),{from:i,to:r}=t.selection,s=[];t.doc.nodesBetween(i,r,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function N1e(t,e){const n=LD(typeof e=="string"?e:e.name,t.schema);return n==="node"?D1e(t,e):n==="mark"?qY(t,e):{}}function GY(t,e,n){const i=[];return t===e?n.resolve(t).marks().forEach(r=>{const s=n.resolve(t),o=Y3(s,r.type);o&&i.push({mark:r,...o})}):n.nodesBetween(t,e,(r,s)=>{!r||(r==null?void 0:r.nodeSize)===void 0||i.push(...r.marks.map(o=>({from:s,to:s+r.nodeSize,mark:o})))}),i}function LM(t,e,n){return Object.fromEntries(Object.entries(n).filter(([i])=>{const r=t.find(s=>s.type===e&&s.name===i);return r?r.attribute.keepOnSplit:!1}))}function Hj(t,e,n={}){const{empty:i,ranges:r}=t.selection,s=e?Jp(e,t.schema):null;if(i)return!!(t.storedMarks||t.selection.$from.marks()).filter(h=>s?s.name===h.type.name:!0).find(h=>QR(h.attrs,n,{strict:!1}));let o=0;const a=[];if(r.forEach(({$from:h,$to:p})=>{const m=h.pos,v=p.pos;t.doc.nodesBetween(m,v,(S,A)=>{if(!S.isText&&!S.marks.length)return;const E=Math.max(m,A),M=Math.min(v,A+S.nodeSize),R=M-E;o+=R,a.push(...S.marks.map(N=>({mark:N,from:E,to:M})))})}),o===0)return!1;const l=a.filter(h=>s?s.name===h.mark.type.name:!0).filter(h=>QR(h.mark.attrs,n,{strict:!1})).reduce((h,p)=>h+p.to-p.from,0),c=a.filter(h=>s?h.mark.type!==s&&h.mark.type.excludes(s):!0).reduce((h,p)=>h+p.to-p.from,0);return(l>0?l+c:l)>=o}function P1e(t,e,n={}){if(!e)return tA(t,null,n)||Hj(t,null,n);const i=LD(e,t.schema);return i==="node"?tA(t,e,n):i==="mark"?Hj(t,e,n):!1}function FV(t,e){const{nodeExtensions:n}=ND(e),i=n.find(o=>o.name===t);if(!i)return!1;const r={name:i.name,options:i.options,storage:i.storage},s=nn(it(i,"group",r));return typeof s!="string"?!1:s.split(" ").includes("list")}function Z3(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((i=t.text)!==null&&i!==void 0?i:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let r=!0;return t.content.forEach(s=>{r!==!1&&(Z3(s,{ignoreWhitespace:n,checkChildren:e})||(r=!1))}),r}return!1}function O1e(t){return t instanceof pt}function L1e(t,e,n){var i;const{selection:r}=e;let s=null;if(BY(r)&&(s=r.$cursor),s){const a=(i=t.storedMarks)!==null&&i!==void 0?i:s.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:o}=r;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(d,h,p)=>{if(c)return!1;if(d.isInline){const m=!p||p.type.allowsMarkType(n),v=!!n.isInSet(d.marks)||!d.marks.some(S=>S.type.excludes(n));c=m&&v}return!c}),c})}const j1e=(t,e={})=>({tr:n,state:i,dispatch:r})=>{const{selection:s}=n,{empty:o,ranges:a}=s,l=Jp(t,i.schema);if(r)if(o){const c=qY(i,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const d=c.$from.pos,h=c.$to.pos;i.doc.nodesBetween(d,h,(p,m)=>{const v=Math.max(m,d),S=Math.min(m+p.nodeSize,h);p.marks.find(E=>E.type===l)?p.marks.forEach(E=>{l===E.type&&n.addMark(v,S,l.create({...E.attrs,...e}))}):n.addMark(v,S,l.create(e))})});return L1e(i,n,l)},I1e=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),F1e=(t,e={})=>({state:n,dispatch:i,chain:r})=>{const s=Hr(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),s.isTextblock?r().command(({commands:a})=>NV(s,{...o,...e})(n)?!0:a.clearNodes()).command(({state:a})=>NV(s,{...o,...e})(a,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},$1e=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,r=Og(t,0,i.content.size),s=pt.create(i,r);e.setSelection(s)}return!0},z1e=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,{from:r,to:s}=typeof t=="number"?{from:t,to:t}:t,o=Nt.atStart(i).from,a=Nt.atEnd(i).to,l=Og(r,o,a),c=Og(s,o,a),d=Nt.create(i,l,c);e.setSelection(d)}return!0},B1e=t=>({state:e,dispatch:n})=>{const i=Hr(t,e.schema);return wxe(i)(e,n)};function $V(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const i=n.filter(r=>e==null?void 0:e.includes(r.type.name));t.tr.ensureMarks(i)}}const V1e=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:i,editor:r})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=r.extensionManager.attributes,d=LM(c,a.node().type.name,a.node().attrs);if(s instanceof pt&&s.node.isBlock)return!a.parentOffset||!bf(o,a.pos)?!1:(i&&(t&&$V(n,r.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const h=l.parentOffset===l.parent.content.size,p=a.depth===0?void 0:_1e(a.node(-1).contentMatchAt(a.indexAfter(-1)));let m=h&&p?[{type:p,attrs:d}]:void 0,v=bf(e.doc,e.mapping.map(a.pos),1,m);if(!m&&!v&&bf(e.doc,e.mapping.map(a.pos),1,p?[{type:p}]:void 0)&&(v=!0,m=p?[{type:p,attrs:d}]:void 0),i){if(v&&(s instanceof Nt&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,m),p&&!h&&!a.parentOffset&&a.parent.type!==p)){const S=e.mapping.map(a.before()),A=e.doc.resolve(S);a.node(-1).canReplaceWith(A.index(),A.index()+1,p)&&e.setNodeMarkup(e.mapping.map(a.before()),p)}t&&$V(n,r.extensionManager.splittableMarks),e.scrollIntoView()}return v},H1e=(t,e={})=>({tr:n,state:i,dispatch:r,editor:s})=>{var o;const a=Hr(t,i.schema),{$from:l,$to:c}=i.selection,d=i.selection.node;if(d&&d.isBlock||l.depth<2||!l.sameParent(c))return!1;const h=l.node(-1);if(h.type!==a)return!1;const p=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let E=Be.empty;const M=l.index(-1)?1:l.index(-2)?2:3;for(let F=l.depth-M;F>=l.depth-3;F-=1)E=Be.from(l.node(F).copy(E));const R=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,N={...LM(p,l.node().type.name,l.node().attrs),...e},P=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(N))||void 0;E=E.append(Be.from(a.createAndFill(null,P)||void 0));const O=l.before(l.depth-(M-1));n.replace(O,l.after(-R),new Qe(E,4-M,0));let $=-1;n.doc.nodesBetween(O,n.doc.content.size,(F,q)=>{if($>-1)return!1;F.isTextblock&&F.content.size===0&&($=q+1)}),$>-1&&n.setSelection(Nt.near(n.doc.resolve($))),n.scrollIntoView()}return!0}const m=c.pos===l.end()?h.contentMatchAt(0).defaultType:null,v={...LM(p,h.type.name,h.attrs),...e},S={...LM(p,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const A=m?[{type:a,attrs:v},{type:m,attrs:S}]:[{type:a,attrs:v}];if(!bf(n.doc,l.pos,2))return!1;if(r){const{selection:E,storedMarks:M}=i,{splittableMarks:R}=s.extensionManager,N=M||E.$to.parentOffset&&E.$from.marks();if(n.split(l.pos,2,A).scrollIntoView(),!N||!r)return!0;const P=N.filter(O=>R.includes(O.type.name));n.ensureMarks(P)}return!0},_O=(t,e)=>{const n=J3(o=>o.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(i===void 0)return!0;const r=t.doc.nodeAt(i);return n.node.type===(r==null?void 0:r.type)&&Yp(t.doc,n.pos)&&t.join(n.pos),!0},MO=(t,e)=>{const n=J3(o=>o.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(n.start).after(n.depth);if(i===void 0)return!0;const r=t.doc.nodeAt(i);return n.node.type===(r==null?void 0:r.type)&&Yp(t.doc,i)&&t.join(i),!0},U1e=(t,e,n,i={})=>({editor:r,tr:s,state:o,dispatch:a,chain:l,commands:c,can:d})=>{const{extensions:h,splittableMarks:p}=r.extensionManager,m=Hr(t,o.schema),v=Hr(e,o.schema),{selection:S,storedMarks:A}=o,{$from:E,$to:M}=S,R=E.blockRange(M),N=A||S.$to.parentOffset&&S.$from.marks();if(!R)return!1;const P=J3(O=>FV(O.type.name,h))(S);if(R.depth>=1&&P&&R.depth-P.depth<=1){if(P.node.type===m)return c.liftListItem(v);if(FV(P.node.type.name,h)&&m.validContent(P.node.content)&&a)return l().command(()=>(s.setNodeMarkup(P.pos,m),!0)).command(()=>_O(s,m)).command(()=>MO(s,m)).run()}return!n||!N||!a?l().command(()=>d().wrapInList(m,i)?!0:c.clearNodes()).wrapInList(m,i).command(()=>_O(s,m)).command(()=>MO(s,m)).run():l().command(()=>{const O=d().wrapInList(m,i),$=N.filter(F=>p.includes(F.type.name));return s.ensureMarks($),O?!0:c.clearNodes()}).wrapInList(m,i).command(()=>_O(s,m)).command(()=>MO(s,m)).run()},q1e=(t,e={},n={})=>({state:i,commands:r})=>{const{extendEmptyMarkRange:s=!1}=n,o=Jp(t,i.schema);return Hj(i,o,e)?r.unsetMark(o,{extendEmptyMarkRange:s}):r.setMark(o,e)},G1e=(t,e,n={})=>({state:i,commands:r})=>{const s=Hr(t,i.schema),o=Hr(e,i.schema),a=tA(i,s,n);let l;return i.selection.$anchor.sameParent(i.selection.$head)&&(l=i.selection.$anchor.parent.attrs),a?r.setNode(o,l):r.setNode(s,{...l,...n})},W1e=(t,e={})=>({state:n,commands:i})=>{const r=Hr(t,n.schema);return tA(n,r,e)?i.lift(r):i.wrapIn(r,e)},K1e=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let i=0;i<n.length;i+=1){const r=n[i];let s;if(r.spec.isInputRules&&(s=r.getState(t))){if(e){const o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},Y1e=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:i,ranges:r}=n;return i||e&&r.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},X1e=(t,e={})=>({tr:n,state:i,dispatch:r})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=Jp(t,i.schema),{$from:c,empty:d,ranges:h}=a;if(!r)return!0;if(d&&o){let{from:p,to:m}=a;const v=(s=c.marks().find(A=>A.type===l))===null||s===void 0?void 0:s.attrs,S=Y3(c,l,v);S&&(p=S.from,m=S.to),n.removeMark(p,m,l)}else h.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,l)});return n.removeStoredMark(l),!0},J1e=(t,e={})=>({tr:n,state:i,dispatch:r})=>{let s=null,o=null;const a=LD(typeof t=="string"?t:t.name,i.schema);return a?(a==="node"&&(s=Hr(t,i.schema)),a==="mark"&&(o=Jp(t,i.schema)),r&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,d=l.$to.pos;let h,p,m,v;n.selection.empty?i.doc.nodesBetween(c,d,(S,A)=>{s&&s===S.type&&(m=Math.max(A,c),v=Math.min(A+S.nodeSize,d),h=A,p=S)}):i.doc.nodesBetween(c,d,(S,A)=>{A<c&&s&&s===S.type&&(m=Math.max(A,c),v=Math.min(A+S.nodeSize,d),h=A,p=S),A>=c&&A<=d&&(s&&s===S.type&&n.setNodeMarkup(A,void 0,{...S.attrs,...e}),o&&S.marks.length&&S.marks.forEach(E=>{if(o===E.type){const M=Math.max(A,c),R=Math.min(A+S.nodeSize,d);n.addMark(M,R,o.create({...E.attrs,...e}))}}))}),p&&(h!==void 0&&n.setNodeMarkup(h,void 0,{...p.attrs,...e}),o&&p.marks.length&&p.marks.forEach(S=>{o===S.type&&n.addMark(m,v,o.create({...S.attrs,...e}))}))}),!0):!1},Z1e=(t,e={})=>({state:n,dispatch:i})=>{const r=Hr(t,n.schema);return pxe(r,e)(n,i)},Q1e=(t,e={})=>({state:n,dispatch:i})=>{const r=Hr(t,n.schema);return mxe(r,e)(n,i)};var ewe=Object.freeze({__proto__:null,blur:Fxe,clearContent:$xe,clearNodes:zxe,command:Bxe,createParagraphNear:Vxe,cut:Hxe,deleteCurrentNode:Uxe,deleteNode:qxe,deleteRange:Gxe,deleteSelection:Wxe,enter:Kxe,exitCode:Yxe,extendMarkRange:Xxe,first:Jxe,focus:Qxe,forEach:e1e,insertContent:t1e,insertContentAt:r1e,joinBackward:a1e,joinDown:o1e,joinForward:l1e,joinItemBackward:c1e,joinItemForward:u1e,joinTextblockBackward:d1e,joinTextblockForward:f1e,joinUp:s1e,keyboardShortcut:p1e,lift:m1e,liftEmptyBlock:g1e,liftListItem:y1e,newlineInCode:b1e,resetAttributes:v1e,scrollIntoView:x1e,selectAll:w1e,selectNodeBackward:S1e,selectNodeForward:C1e,selectParentNode:A1e,selectTextblockEnd:E1e,selectTextblockStart:T1e,setContent:k1e,setMark:j1e,setMeta:I1e,setNode:F1e,setNodeSelection:$1e,setTextSelection:z1e,sinkListItem:B1e,splitBlock:V1e,splitListItem:H1e,toggleList:U1e,toggleMark:q1e,toggleNode:G1e,toggleWrap:W1e,undoInputRule:K1e,unsetAllMarks:Y1e,unsetMark:X1e,updateAttributes:J1e,wrapIn:Z1e,wrapInList:Q1e});const twe=Is.create({name:"commands",addCommands(){return{...ewe}}}),nwe=Is.create({name:"drop",addProseMirrorPlugins(){return[new Go({key:new nd("tiptapDrop"),props:{handleDrop:(t,e,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:i})}}})]}}),iwe=Is.create({name:"editable",addProseMirrorPlugins(){return[new Go({key:new nd("editable"),props:{editable:()=>this.editor.options.editable}})]}}),rwe=Is.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Go({key:new nd("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const i=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,n)=>{t.isFocused=!1;const i=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),swe=Is.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:d,$anchor:h}=l,{pos:p,parent:m}=h,v=h.parent.isTextblock&&p>0?a.doc.resolve(p-1):h,S=v.parent.type.spec.isolating,A=h.pos-h.parentOffset,E=S&&v.parent.childCount===1?A===h.pos:Jt.atStart(c).from===p;return!d||!m.type.isTextblock||m.textContent.length||!E||E&&h.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...i},s={...i,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return X3()||UY()?s:r},addProseMirrorPlugins(){return[new Go({key:new nd("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(S=>S.getMeta("composition")))return;const i=t.some(S=>S.docChanged)&&!e.doc.eq(n.doc),r=t.some(S=>S.getMeta("preventClearDocument"));if(!i||r)return;const{empty:s,from:o,to:a}=e.selection,l=Jt.atStart(e.doc).from,c=Jt.atEnd(e.doc).to;if(s||!(o===l&&a===c)||!Z3(n.doc))return;const p=n.tr,m=RD({state:n,transaction:p}),{commands:v}=new DD({editor:this.editor,state:m});if(v.clearNodes(),!!p.steps.length)return p}})]}}),owe=Is.create({name:"paste",addProseMirrorPlugins(){return[new Go({key:new nd("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),awe=Is.create({name:"tabindex",addProseMirrorPlugins(){return[new Go({key:new nd("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Cg{get name(){return this.node.type.name}constructor(e,n,i=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=e,this.editor=n,this.currentNode=r}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:n,to:i},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Cg(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Cg(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Cg(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,i)=>{const r=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+i+(s?0:1),a=this.resolvedPos.doc.resolve(o);if(!r&&a.depth<=this.depth)return;const l=new Cg(a,this.editor,r,r?n:null);r&&(l.actualDepth=this.depth+1),e.push(new Cg(a,this.editor,r,r?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let i=null,r=this.parent;for(;r&&!i;){if(r.node.type.name===e)if(Object.keys(n).length>0){const s=r.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==n[l])break}}else i=r;r=r.parent}return i}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},i=!1){let r=[];if(!this.children||this.children.length===0)return r;const s=Object.keys(n);return this.children.forEach(o=>{i&&r.length>0||(o.node.type.name===e&&s.every(l=>n[l]===o.node.attrs[l])&&r.push(o),!(i&&r.length>0)&&(r=r.concat(o.querySelectorAll(e,n,i))))}),r}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const lwe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function cwe(t,e,n){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}class uwe extends Sxe{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:i,moved:r})=>this.options.onDrop(n,i,r)),this.on("paste",({event:n,slice:i})=>this.options.onPaste(n,i)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=cwe(lwe,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const i=IY(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:i});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let i=n;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;i=n.filter(a=>!a.key.startsWith(o))}),n.length===i.length)return;const r=this.state.reconfigure({plugins:i});return this.view.updateState(r),r}createExtensionManager(){var e,n;const r=[...this.options.enableCoreExtensions?[iwe,Ixe.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),twe,rwe,swe,awe,nwe,owe].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new sv(r,this)}createCommandManager(){this.commandManager=new DD({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=Vj(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),n=Vj(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const i=VY(n,this.options.autofocus);this.view=new Gve(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:rv.create({doc:n,selection:i||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const n=this.state.apply(e),i=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),i&&this.emit("selectionUpdate",{editor:this,transaction:e});const r=e.getMeta("focus"),s=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return N1e(this.state,e)}isActive(e,n){const i=typeof e=="string"?e:null,r=typeof e=="string"?n:e;return P1e(this.state,i,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return W3(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:i={}}=e||{};return R1e(this.state.doc,{blockSeparator:n,textSerializers:{...$Y(this.schema),...i}})}get isEmpty(){return Z3(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelector(e,n))||null}$nodes(e,n){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Cg(n,this)}get $doc(){return this.$pos(0)}}function jx(t){return new PD({find:t.find,handler:({state:e,range:n,match:i})=>{const r=nn(t.getAttributes,void 0,i);if(r===!1||r===null)return null;const{tr:s}=e,o=i[i.length-1],a=i[0];if(o){const l=a.search(/\S/),c=n.from+a.indexOf(o),d=c+o.length;if(GY(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(S=>S===t.type&&S!==m.mark.type)).filter(m=>m.to>c).length)return null;d<n.to&&s.delete(d,n.to),c>n.from&&s.delete(n.from+l,c);const p=n.from+l+o.length;s.addMark(n.from+l,p,t.type.create(r||{})),s.removeStoredMark(t.type)}}})}function dwe(t){return new PD({find:t.find,handler:({state:e,range:n,match:i})=>{const r=nn(t.getAttributes,void 0,i)||{},{tr:s}=e,o=n.from;let a=n.to;const l=t.type.create(r);if(i[1]){const c=i[0].lastIndexOf(i[1]);let d=o+c;d>a?d=a:a=d+i[1].length;const h=i[0][i[0].length-1];s.insertText(h,o+i[0].length-1),s.replaceWith(d,a,l)}else if(i[0]){const c=t.type.isInline?o:o-1;s.insert(c,t.type.create(r)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function Uj(t){return new PD({find:t.find,handler:({state:e,range:n,match:i})=>{const r=e.doc.resolve(n.from),s=nn(t.getAttributes,void 0,i)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function nA(t){return new PD({find:t.find,handler:({state:e,range:n,match:i,chain:r})=>{const s=nn(t.getAttributes,void 0,i)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&D3(l,t.type,s);if(!c)return null;if(o.wrap(l,c),t.keepMarks&&t.editor){const{selection:h,storedMarks:p}=e,{splittableMarks:m}=t.editor.extensionManager,v=p||h.$to.parentOffset&&h.$from.marks();if(v){const S=v.filter(A=>m.includes(A.type.name));o.ensureMarks(S)}}if(t.keepAttributes){const h=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(h,s).run()}const d=o.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&Yp(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(i,d))&&o.join(n.from-1)}})}let $c=class qj{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=nn(it(this,"addOptions",{name:this.name}))),this.storage=nn(it(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new qj(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>OD(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new qj(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=nn(it(n,"addOptions",{name:n.name})),n.storage=nn(it(n,"addStorage",{name:n.name,options:n.options})),n}};function Ix(t){return new Dxe({find:t.find,handler:({state:e,range:n,match:i,pasteEvent:r})=>{const s=nn(t.getAttributes,void 0,i,r);if(s===!1||s===null)return null;const{tr:o}=e,a=i[i.length-1],l=i[0];let c=n.to;if(a){const d=l.search(/\S/),h=n.from+l.indexOf(a),p=h+a.length;if(GY(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(A=>A===t.type&&A!==v.mark.type)).filter(v=>v.to>h).length)return null;p<n.to&&o.delete(p,n.to),h>n.from&&o.delete(n.from+d,h),c=n.from+d+a.length,o.addMark(n.from+d,c,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}function fwe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var WY={exports:{}},RO={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zV;function hwe(){if(zV)return RO;zV=1;var t=Se;function e(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(h,p){var m=p(),v=i({inst:{value:m,getSnapshot:p}}),S=v[0].inst,A=v[1];return s(function(){S.value=m,S.getSnapshot=p,l(S)&&A({inst:S})},[h,m,p]),r(function(){return l(S)&&A({inst:S}),h(function(){l(S)&&A({inst:S})})},[h]),o(m),m}function l(h){var p=h.getSnapshot;h=h.value;try{var m=p();return!n(h,m)}catch{return!0}}function c(h,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return RO.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,RO}WY.exports=hwe();var Q3=WY.exports;const pwe=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},mwe=({contentComponent:t})=>{const e=Q3.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return Se.createElement(Se.Fragment,null,Object.values(e))};function gwe(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,i){e={...e,[n]:_$.createPortal(i.reactElement,i.element,n)},t.forEach(r=>r())},removeRenderer(n){const i={...e};delete i[n],e=i,t.forEach(r=>r())}}}class ywe extends Se.Component{constructor(e){var n;super(e),this.editorContentRef=Se.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=gwe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(i=>i.hasContentComponentInitialized?i:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...i}=this.props;return Se.createElement(Se.Fragment,null,Se.createElement("div",{ref:pwe(n,this.editorContentRef),...i}),(e==null?void 0:e.contentComponent)&&Se.createElement(mwe,{contentComponent:e.contentComponent}))}}const bwe=k.forwardRef((t,e)=>{const n=Se.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Se.createElement(ywe,{key:n,innerRef:e,...t})}),BV=Se.memo(bwe);var vwe=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,r,s;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(r=i;r--!==0;)if(!t(e[r],n[r]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(r of e.entries())if(!n.has(r[0]))return!1;for(r of e.entries())if(!t(r[1],n.get(r[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(r of e.entries())if(!n.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(i=e.length,i!=n.length)return!1;for(r=i;r--!==0;)if(e[r]!==n[r])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(n).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[r]))return!1;for(r=i;r--!==0;){var o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},xwe=fwe(vwe),KY={exports:{}},DO={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VV;function wwe(){if(VV)return DO;VV=1;var t=Se,e=Q3;function n(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var i=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return DO.useSyncExternalStoreWithSelector=function(c,d,h,p,m){var v=s(null);if(v.current===null){var S={hasValue:!1,value:null};v.current=S}else S=v.current;v=a(function(){function E(O){if(!M){if(M=!0,R=O,O=p(O),m!==void 0&&S.hasValue){var $=S.value;if(m($,O))return N=$}return N=O}if($=N,i(R,O))return $;var F=p(O);return m!==void 0&&m($,F)?$:(R=O,N=F)}var M=!1,R,N,P=h===void 0?null:h;return[function(){return E(d())},P===null?void 0:function(){return E(P())}]},[d,h,p,m]);var A=r(c,v[0],v[1]);return o(function(){S.hasValue=!0,S.value=A},[A]),l(A),A},DO}KY.exports=wwe();var Swe=KY.exports;const Cwe=typeof window<"u"?k.useLayoutEffect:k.useEffect;class Awe{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},i=this.editor;return i.on("transaction",n),()=>{i.off("transaction",n)}}}}function Ewe(t){var e;const[n]=k.useState(()=>new Awe(t.editor)),i=Swe.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:xwe);return Cwe(()=>n.watch(t.editor),[t.editor,n]),k.useDebugValue(i),i}const Twe=!1,Gj=typeof window>"u",kwe=Gj||!!(typeof window<"u"&&window.next);class ez{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Gj||kwe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...i)=>{var r,s;return(s=(r=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(r,...i)},onBlur:(...i)=>{var r,s;return(s=(r=this.options.current).onBlur)===null||s===void 0?void 0:s.call(r,...i)},onCreate:(...i)=>{var r,s;return(s=(r=this.options.current).onCreate)===null||s===void 0?void 0:s.call(r,...i)},onDestroy:(...i)=>{var r,s;return(s=(r=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(r,...i)},onFocus:(...i)=>{var r,s;return(s=(r=this.options.current).onFocus)===null||s===void 0?void 0:s.call(r,...i)},onSelectionUpdate:(...i)=>{var r,s;return(s=(r=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(r,...i)},onTransaction:(...i)=>{var r,s;return(s=(r=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(r,...i)},onUpdate:(...i)=>{var r,s;return(s=(r=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(r,...i)},onContentError:(...i)=>{var r,s;return(s=(r=this.options.current).onContentError)===null||s===void 0?void 0:s.call(r,...i)},onDrop:(...i)=>{var r,s;return(s=(r=this.options.current).onDrop)===null||s===void 0?void 0:s.call(r,...i)},onPaste:(...i)=>{var r,s;return(s=(r=this.options.current).onPaste)===null||s===void 0?void 0:s.call(r,...i)}};return new uwe(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(i=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(i)?!0:i==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((r,s)=>{var o;return r===((o=n.extensions)===null||o===void 0?void 0:o[s])}):e[i]===n[i])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?ez.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((i,r)=>i===e[r]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function YY(t={},e=[]){const n=k.useRef(t);n.current=t;const[i]=k.useState(()=>new ez(n)),r=Q3.useSyncExternalStore(i.subscribe,i.getEditor,i.getServerSnapshot);return k.useDebugValue(r),k.useEffect(i.onRender(e)),Ewe({editor:r,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&s===0?0:s+1}),r}const _we=k.createContext({editor:null});_we.Consumer;const Mwe=k.createContext({onDragStart:void 0}),Rwe=()=>k.useContext(Mwe);Se.forwardRef((t,e)=>{const{onDragStart:n}=Rwe(),i=t.as||"div";return Se.createElement(i,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const Dwe=t=>{if(!t.children.length)return;const e=t.querySelectorAll("span");e&&e.forEach(n=>{var i,r;const s=n.getAttribute("style"),o=(r=(i=n.parentElement)===null||i===void 0?void 0:i.closest("span"))===null||r===void 0?void 0:r.getAttribute("style");n.setAttribute("style",`${o};${s}`)})},XY=Rf.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Dwe(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",js(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,i)=>{if(n.isTextblock)return!0;n.marks.filter(r=>r.type===this.type).some(r=>Object.values(r.attrs).some(s=>!!s))||t.removeMark(i,i+n.nodeSize,this.type)}),!0}}}}),JY=Is.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Nwe=/^\s*>\s$/,Pwe=$c.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",js(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[nA({find:Nwe,type:this.type})]}}),Owe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Lwe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,jwe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Iwe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Fwe=Rf.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",js(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[jx({find:Owe,type:this.type}),jx({find:jwe,type:this.type})]},addPasteRules(){return[Ix({find:Lwe,type:this.type}),Ix({find:Iwe,type:this.type})]}}),$we="listItem",HV="textStyle",UV=/^\s*([-+*])\s$/,zwe=$c.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",js(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes($we,this.editor.getAttributes(HV)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=nA({find:UV,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=nA({find:UV,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(HV),editor:this.editor})),[t]}}),Bwe=/(^|[^`])`([^`]+)`(?!`)/,Vwe=/(^|[^`])`([^`]+)`(?!`)/g,Hwe=Rf.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",js(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[jx({find:Bwe,type:this.type})]},addPasteRules(){return[Ix({find:Vwe,type:this.type})]}}),Uwe=/^```([a-z]+)?[\s\n]$/,qwe=/^~~~([a-z]+)?[\s\n]$/,Gwe=$c.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",js(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:i,empty:r}=n;if(!r||i.parent.type!==this.type)return!1;const s=i.parentOffset===i.parent.nodeSize-2,o=i.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:i}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const a=r.after();return a===void 0?!1:i.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(Jt.near(i.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[Uj({find:Uwe,type:this.type,getAttributes:t=>({language:t[1]})}),Uj({find:qwe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Go({key:new nd("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("vscode-editor-data"),r=i?JSON.parse(i):void 0,s=r==null?void 0:r.mode;if(!n||!s)return!1;const{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(Nt.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),Wwe=$c.create({name:"doc",topNode:!0,content:"block+"});function Kwe(t={}){return new Go({view(e){return new Ywe(e,t)}})}class Ywe{constructor(e,n){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=n.width)!==null&&i!==void 0?i:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let s=o=>{this[r](o)};return e.dom.addEventListener(r,s),{name:r,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,i;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let d=c.getBoundingClientRect(),h=a?d.bottom:d.top;a&&l&&(h=(h+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),i={left:d.left,right:d.right,top:h-this.width/2,bottom:h+this.width/2}}}}if(!i){let a=this.editorView.coordsAtPos(this.cursorPos);i={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,o;if(!r||r==document.body&&getComputedStyle(r).position=="static")s=-pageXOffset,o=-pageYOffset;else{let a=r.getBoundingClientRect();s=a.left-r.scrollLeft,o=a.top-r.scrollTop}this.element.style.left=i.left-s+"px",this.element.style.top=i.top-o+"px",this.element.style.width=i.right-i.left+"px",this.element.style.height=i.bottom-i.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=i&&i.type.spec.disableDropCursor,s=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=IK(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const Xwe=Is.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Kwe(this.options)]}});class Wi extends Jt{constructor(e){super(e,e)}map(e,n){let i=e.resolve(n.map(this.head));return Wi.valid(i)?new Wi(i):Jt.near(i)}content(){return Qe.empty}eq(e){return e instanceof Wi&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Wi(e.resolve(n.pos))}getBookmark(){return new tz(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Jwe(e)||!Zwe(e))return!1;let i=n.type.spec.allowGapCursor;if(i!=null)return i;let r=n.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,n,i=!1){e:for(;;){if(!i&&Wi.valid(e))return e;let r=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;r+=n;let l=e.doc.resolve(r);if(Wi.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!pt.isSelectable(s)){e=e.doc.resolve(r+s.nodeSize*n),i=!1;continue e}break}s=o,r+=n;let a=e.doc.resolve(r);if(Wi.valid(a))return a}return null}}}Wi.prototype.visible=!1;Wi.findFrom=Wi.findGapCursorFrom;Jt.jsonID("gapcursor",Wi);class tz{constructor(e){this.pos=e}map(e){return new tz(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Wi.valid(n)?new Wi(n):Jt.near(n)}}function Jwe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),i=t.node(e);if(n==0){if(i.type.spec.isolating)return!0;continue}for(let r=i.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function Zwe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),i=t.node(e);if(n==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let r=i.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function Qwe(){return new Go({props:{decorations:iSe,createSelectionBetween(t,e,n){return e.pos==n.pos&&Wi.valid(n)?new Wi(n):null},handleClick:tSe,handleKeyDown:eSe,handleDOMEvents:{beforeinput:nSe}}})}const eSe=CY({ArrowLeft:Q_("horiz",-1),ArrowRight:Q_("horiz",1),ArrowUp:Q_("vert",-1),ArrowDown:Q_("vert",1)});function Q_(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,r,s){let o=i.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof Nt){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=i.doc.resolve(e>0?a.after():a.before())}let c=Wi.findGapCursorFrom(a,e,l);return c?(r&&r(i.tr.setSelection(new Wi(c))),!0):!1}}function tSe(t,e,n){if(!t||!t.editable)return!1;let i=t.state.doc.resolve(e);if(!Wi.valid(i))return!1;let r=t.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&pt.isSelectable(t.state.doc.nodeAt(r.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Wi(i))),!0)}function nSe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Wi))return!1;let{$from:n}=t.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!i)return!1;let r=Be.empty;for(let o=i.length-1;o>=0;o--)r=Be.from(i[o].createAndFill(null,r));let s=t.state.tr.replace(n.pos,n.pos,new Qe(r,0,0));return s.setSelection(Nt.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function iSe(t){if(!(t.selection instanceof Wi))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Sr.create(t.doc,[Cl.widget(t.selection.head,e,{key:"gapcursor"})])}const rSe=Is.create({name:"gapCursor",addProseMirrorPlugins(){return[Qwe()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=nn(it(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),sSe=$c.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",js(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:i})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:r,storedMarks:s}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=i.extensionManager,l=s||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:d})=>{if(d&&l&&o){const h=l.filter(p=>a.includes(p.type.name));c.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),oSe=$c.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,js(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Uj({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var t2=200,Br=function(){};Br.prototype.append=function(e){return e.length?(e=Br.from(e),!this.length&&e||e.length<t2&&this.leafAppend(e)||this.length<t2&&e.leafPrepend(this)||this.appendInner(e)):this};Br.prototype.prepend=function(e){return e.length?Br.from(e).append(this):this};Br.prototype.appendInner=function(e){return new aSe(this,e)};Br.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Br.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Br.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Br.prototype.forEach=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length),n<=i?this.forEachInner(e,n,i,0):this.forEachInvertedInner(e,n,i,0)};Br.prototype.map=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length);var r=[];return this.forEach(function(s,o){return r.push(e(s,o))},n,i),r};Br.from=function(e){return e instanceof Br?e:e&&e.length?new ZY(e):Br.empty};var ZY=function(t){function e(i){t.call(this),this.values=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,s){return r==0&&s==this.length?this:new e(this.values.slice(r,s))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,s,o,a){for(var l=s;l<o;l++)if(r(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,o,a){for(var l=s-1;l>=o;l--)if(r(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=t2)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=t2)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Br);Br.empty=new ZY([]);var aSe=function(t){function e(n,i){t.call(this),this.left=n,this.right=i,this.length=n.length+i.length,this.depth=Math.max(n.depth,i.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(i,r,s,o){var a=this.left.length;if(r<a&&this.left.forEachInner(i,r,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(i,Math.max(r-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,r,s,o){var a=this.left.length;if(r>a&&this.right.forEachInvertedInner(i,r-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(i,Math.min(r,a),s,o)===!1)return!1},e.prototype.sliceInner=function(i,r){if(i==0&&r==this.length)return this;var s=this.left.length;return r<=s?this.left.slice(i,r):i>=s?this.right.slice(i-s,r-s):this.left.slice(i,s).append(this.right.slice(0,r-s))},e.prototype.leafAppend=function(i){var r=this.right.leafAppend(i);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(i){var r=this.left.leafPrepend(i);if(r)return new e(r,this.right)},e.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new e(this.left,new e(this.right,i)):new e(this,i)},e}(Br);const lSe=500;class Ec{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let r,s;n&&(r=this.remapping(i,this.items.length),s=r.maps.length);let o=e.tr,a,l,c=[],d=[];return this.items.forEach((h,p)=>{if(!h.step){r||(r=this.remapping(i,p+1),s=r.maps.length),s--,d.push(h);return}if(r){d.push(new Su(h.map));let m=h.step.map(r.slice(s)),v;m&&o.maybeStep(m).doc&&(v=o.mapping.maps[o.mapping.maps.length-1],c.push(new Su(v,void 0,void 0,c.length+d.length))),s--,v&&r.appendMap(v,s)}else o.maybeStep(h.step);if(h.selection)return a=r?h.selection.map(r.slice(s)):h.selection,l=new Ec(this.items.slice(0,i).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,i,r){let s=[],o=this.eventCount,a=this.items,l=!r&&a.length?a.get(a.length-1):null;for(let d=0;d<e.steps.length;d++){let h=e.steps[d].invert(e.docs[d]),p=new Su(e.mapping.maps[d],h,n),m;(m=l&&l.merge(p))&&(p=m,d?s.pop():a=a.slice(0,a.length-1)),s.push(p),n&&(o++,n=void 0),r||(l=p)}let c=o-i.depth;return c>uSe&&(a=cSe(a,c),o-=c),new Ec(a.append(s),o)}remapping(e,n){let i=new XC;return this.items.forEach((r,s)=>{let o=r.mirrorOffset!=null&&s-r.mirrorOffset>=e?i.maps.length-r.mirrorOffset:void 0;i.appendMap(r.map,o)},e,n),i}addMaps(e){return this.eventCount==0?this:new Ec(this.items.append(e.map(n=>new Su(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let i=[],r=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(p=>{p.selection&&a--},r);let l=n;this.items.forEach(p=>{let m=s.getMirror(--l);if(m==null)return;o=Math.min(o,m);let v=s.maps[m];if(p.step){let S=e.steps[m].invert(e.docs[m]),A=p.selection&&p.selection.map(s.slice(l+1,m));A&&a++,i.push(new Su(v,S,A))}else i.push(new Su(v))},r);let c=[];for(let p=n;p<o;p++)c.push(new Su(s.maps[p]));let d=this.items.slice(0,r).append(c).append(i),h=new Ec(d,a);return h.emptyItemCount()>lSe&&(h=h.compress(this.items.length-i.length)),h}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),i=n.maps.length,r=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)r.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(i)),c=l&&l.getMap();if(i--,c&&n.appendMap(c,i),l){let d=o.selection&&o.selection.map(n.slice(i));d&&s++;let h=new Su(c.invert(),l,d),p,m=r.length-1;(p=r.length&&r[m].merge(h))?r[m]=p:r.push(h)}}else o.map&&i--},this.items.length,0),new Ec(Br.from(r.reverse()),s)}}Ec.empty=new Ec(Br.empty,0);function cSe(t,e){let n;return t.forEach((i,r)=>{if(i.selection&&e--==0)return n=r,!1}),t.slice(n)}class Su{constructor(e,n,i,r){this.map=e,this.step=n,this.selection=i,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Su(n.getMap().invert(),n,this.selection)}}}class Vh{constructor(e,n,i,r,s){this.done=e,this.undone=n,this.prevRanges=i,this.prevTime=r,this.prevComposition=s}}const uSe=20;function dSe(t,e,n,i){let r=n.getMeta(By),s;if(r)return r.historyState;n.getMeta(pSe)&&(t=new Vh(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(By))return o.getMeta(By).redo?new Vh(t.done.addTransform(n,void 0,i,jM(e)),t.undone,qV(n.mapping.maps),t.prevTime,t.prevComposition):new Vh(t.done,t.undone.addTransform(n,void 0,i,jM(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-i.newGroupDelay||!fSe(n,t.prevRanges)),c=o?NO(t.prevRanges,n.mapping):qV(n.mapping.maps);return new Vh(t.done.addTransform(n,l?e.selection.getBookmark():void 0,i,jM(e)),Ec.empty,c,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Vh(t.done.rebased(n,s),t.undone.rebased(n,s),NO(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Vh(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),NO(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function fSe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((i,r)=>{for(let s=0;s<e.length;s+=2)i<=e[s+1]&&r>=e[s]&&(n=!0)}),n}function qV(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((i,r,s,o)=>e.push(s,o));return e}function NO(t,e){if(!t)return null;let n=[];for(let i=0;i<t.length;i+=2){let r=e.map(t[i],1),s=e.map(t[i+1],-1);r<=s&&n.push(r,s)}return n}function hSe(t,e,n){let i=jM(e),r=By.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,i);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),r,i),l=new Vh(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(By,{redo:n,historyState:l})}let PO=!1,GV=null;function jM(t){let e=t.plugins;if(GV!=e){PO=!1,GV=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){PO=!0;break}}return PO}const By=new nd("history"),pSe=new nd("closeHistory");function mSe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Go({key:By,state:{init(){return new Vh(Ec.empty,Ec.empty,null,0,-1)},apply(e,n,i){return dSe(n,i,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let i=n.inputType,r=i=="historyUndo"?eX:i=="historyRedo"?tX:null;return r?(n.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function QY(t,e){return(n,i)=>{let r=By.getState(n);if(!r||(t?r.undone:r.done).eventCount==0)return!1;if(i){let s=hSe(r,n,t);s&&i(e?s.scrollIntoView():s)}return!0}}const eX=QY(!1,!0),tX=QY(!0,!0),gSe=Is.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>eX(t,e),redo:()=>({state:t,dispatch:e})=>tX(t,e)}},addProseMirrorPlugins(){return[mSe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),ySe=$c.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",js(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:i,$to:r}=n,s=t();return i.parentOffset===0?s.insertContentAt({from:Math.max(i.pos-1,0),to:r.pos},{type:this.name}):O1e(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:c}=o.selection,d=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(Nt.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(pt.create(o.doc,c.pos)):o.setSelection(Nt.create(o.doc,c.pos));else{const h=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();h&&(o.insert(d,h),o.setSelection(Nt.create(o.doc,d+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[dwe({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),bSe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,vSe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,xSe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,wSe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,SSe=Rf.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",js(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[jx({find:bSe,type:this.type}),jx({find:xSe,type:this.type})]},addPasteRules(){return[Ix({find:vSe,type:this.type}),Ix({find:wSe,type:this.type})]}}),CSe=$c.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",js(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ASe="listItem",WV="textStyle",KV=/^(\d+)\.\s$/,ESe=$c.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",js(this.options.HTMLAttributes,n),0]:["ol",js(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ASe,this.editor.getAttributes(WV)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=nA({find:KV,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=nA({find:KV,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(WV)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),TSe=$c.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",js(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),kSe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,_Se=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,MSe=Rf.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",js(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[jx({find:kSe,type:this.type})]},addPasteRules(){return[Ix({find:_Se,type:this.type})]}}),RSe=$c.create({name:"text",group:"inline"}),nX=Is.create({name:"starterKit",addExtensions(){var t,e,n,i,r,s,o,a,l,c,d,h,p,m,v,S,A,E;const M=[];return this.options.bold!==!1&&M.push(Fwe.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&M.push(Pwe.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&M.push(zwe.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&M.push(Hwe.configure((i=this.options)===null||i===void 0?void 0:i.code)),this.options.codeBlock!==!1&&M.push(Gwe.configure((r=this.options)===null||r===void 0?void 0:r.codeBlock)),this.options.document!==!1&&M.push(Wwe.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&M.push(Xwe.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&M.push(rSe.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&M.push(sSe.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&M.push(oSe.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&M.push(gSe.configure((d=this.options)===null||d===void 0?void 0:d.history)),this.options.horizontalRule!==!1&&M.push(ySe.configure((h=this.options)===null||h===void 0?void 0:h.horizontalRule)),this.options.italic!==!1&&M.push(SSe.configure((p=this.options)===null||p===void 0?void 0:p.italic)),this.options.listItem!==!1&&M.push(CSe.configure((m=this.options)===null||m===void 0?void 0:m.listItem)),this.options.orderedList!==!1&&M.push(ESe.configure((v=this.options)===null||v===void 0?void 0:v.orderedList)),this.options.paragraph!==!1&&M.push(TSe.configure((S=this.options)===null||S===void 0?void 0:S.paragraph)),this.options.strike!==!1&&M.push(MSe.configure((A=this.options)===null||A===void 0?void 0:A.strike)),this.options.text!==!1&&M.push(RSe.configure((E=this.options)===null||E===void 0?void 0:E.text)),M}});var a0={root:"m_dd3f7539",typographyStylesProvider:"m_d37966d9",content:"m_c2204cc2",linkEditorDropdown:"m_8a991b4f",control:"m_c2207da6",controlIcon:"m_9cdfeb3f",controlsGroup:"m_2ab47ef2",linkEditor:"m_b67b711e",linkEditorInput:"m_296cf94c",linkEditorExternalControl:"m_cfef614",linkEditorSave:"m_3b28e7bb",toolbar:"m_4574a3c4",taskList:"m_8b44009a"};function l0(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(i.next(d))}catch(h){o(h)}}function l(d){try{c(i.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):r(d.value).then(a,l)}c((i=i.apply(t,e||[])).next())})}function qo(t){return Object.keys(t)}function OO(t){return t&&typeof t=="object"&&!Array.isArray(t)}function nz(t,e){const n={...t},i=e;return OO(t)&&OO(e)&&Object.keys(e).forEach(r=>{OO(i[r])&&r in t?n[r]=nz(n[r],i[r]):n[r]=i[r]}),n}function DSe(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function NSe(t){var e;return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:(e=t.match(/^calc\((.*?)\)$/))==null?void 0:e[1].split("*")[0].trim()}function iA(t){const e=NSe(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function LO(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function iX(t,{shouldScale:e=!1}={}){function n(i){if(i===0||i==="0")return`0${t}`;if(typeof i=="number"){const r=`${i/16}${t}`;return e?LO(r):r}if(typeof i=="string"){if(i===""||i.startsWith("calc(")||i.startsWith("clamp(")||i.includes("rgba("))return i;if(i.includes(","))return i.split(",").map(s=>n(s)).join(",");if(i.includes(" "))return i.split(" ").map(s=>n(s)).join(" ");if(i.includes(t))return e?LO(i):i;const r=i.replace("px","");if(!Number.isNaN(Number(r))){const s=`${Number(r)/16}${t}`;return e?LO(s):s}}return i}return n}const Re=iX("rem",{shouldScale:!0}),YV=iX("em");function aT(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}function rX(t){if(typeof t=="number")return!0;if(typeof t=="string"){if(t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!=="")return!0;const e=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return t.trim().split(/\s+/).every(i=>e.test(i))}return!1}function jD(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==k.Fragment:!1}function sX(t){const e=k.createContext(null);return[({children:r,value:s})=>b.jsx(e.Provider,{value:s,children:r}),()=>{const r=k.useContext(e);if(r===null)throw new Error(t);return r}]}function iz(t=null){const e=k.createContext(t);return[({children:r,value:s})=>b.jsx(e.Provider,{value:s,children:r}),()=>k.useContext(e)]}const PSe={app:100,modal:200,popover:300,overlay:400,max:9999};function ID(t){return PSe[t]}const OSe=()=>{};function LSe(t,e={active:!0}){return typeof t!="function"||!e.active?e.onKeyDown||OSe:n=>{var i;n.key==="Escape"&&(t(n),(i=e.onTrigger)==null||i.call(e))}}function Ar(t,e="size",n=!0){if(t!==void 0)return rX(t)?n?Re(t):t:`var(--${e}-${t})`}function Mc(t){return Ar(t,"mantine-spacing")}function zc(t){return t===void 0?"var(--mantine-radius-default)":Ar(t,"mantine-radius")}function _l(t){return Ar(t,"mantine-font-size")}function jSe(t){if(t)return Ar(t,"mantine-shadow",!1)}function ISe(t,e){return t in e?iA(e[t]):iA(t)}function FSe(t,e){const n=t.map(i=>({value:i,px:ISe(i,e)}));return n.sort((i,r)=>i.px-r.px),n}function wv(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function rz(t){var n;const e=Se.version;return typeof Se.version!="string"||e.startsWith("18.")?t==null?void 0:t.ref:(n=t==null?void 0:t.props)==null?void 0:n.ref}const $Se={};function zSe(t){const e={};return t.forEach(n=>{Object.entries(n).forEach(([i,r])=>{e[i]?e[i]=Ls(e[i],r):e[i]=r})}),e}function FD({theme:t,classNames:e,props:n,stylesCtx:i}){const s=(Array.isArray(e)?e:[e]).map(o=>typeof o=="function"?o(t,n,i):o||$Se);return zSe(s)}function n2({theme:t,styles:e,props:n,stylesCtx:i}){return(Array.isArray(e)?e:[e]).reduce((s,o)=>typeof o=="function"?{...s,...o(t,n,i)}:{...s,...o},{})}const oX=k.createContext(null);function Zp(){const t=k.useContext(oX);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function BSe(){return Zp().cssVariablesResolver}function VSe(){return Zp().classNamesPrefix}function sz(){return Zp().getStyleNonce}function HSe(){return Zp().withStaticClasses}function USe(){return Zp().headless}function qSe(){var t;return(t=Zp().stylesTransform)==null?void 0:t.sx}function GSe(){var t;return(t=Zp().stylesTransform)==null?void 0:t.styles}function aX(){return Zp().env||"default"}function WSe(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function KSe(t){let e=t.replace("#","");if(e.length===3){const o=e.split("");e=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(e.length===8){const o=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:o}}const n=parseInt(e,16),i=n>>16&255,r=n>>8&255,s=n&255;return{r:i,g:r,b:s,a:1}}function YSe(t){const[e,n,i,r]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:i,a:r||1}}function XSe(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const i=parseInt(n[1],10),r=parseInt(n[2],10)/100,s=parseInt(n[3],10)/100,o=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*s-1))*r,l=i/60,c=a*(1-Math.abs(l%2-1)),d=s-a/2;let h,p,m;return l>=0&&l<1?(h=a,p=c,m=0):l>=1&&l<2?(h=c,p=a,m=0):l>=2&&l<3?(h=0,p=a,m=c):l>=3&&l<4?(h=0,p=c,m=a):l>=4&&l<5?(h=c,p=0,m=a):(h=a,p=0,m=c),{r:Math.round((h+d)*255),g:Math.round((p+d)*255),b:Math.round((m+d)*255),a:o||1}}function oz(t){return WSe(t)?KSe(t):t.startsWith("rgb")?YSe(t):t.startsWith("hsl")?XSe(t):{r:0,g:0,b:0,a:1}}function eM(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:i,b:r,a:s}=oz(t),o=1-e,a=l=>Math.round(l*o);return`rgba(${a(n)}, ${a(i)}, ${a(r)}, ${s})`}function rA(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function jO(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function JSe(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function ZSe(t){if(t.startsWith("oklch("))return(JSe(t)||0)/100;const{r:e,g:n,b:i}=oz(t),r=e/255,s=n/255,o=i/255,a=jO(r),l=jO(s),c=jO(o);return .2126*a+.7152*l+.0722*c}function RS(t,e=.179){return t.startsWith("var(")?!1:ZSe(t)>e}function lT({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:RS(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:RS(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:RS(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[i,r]=t.split("."),s=r?Number(r):void 0,o=i in e.colors;if(o){const a=s!==void 0?e.colors[i][s]:e.colors[i][rA(e,n||"light")];return{color:i,value:a,shade:s,isThemeColor:o,isLight:RS(a,e.luminanceThreshold),variable:r?`--mantine-color-${i}-${s}`:`--mantine-color-${i}-filled`}}return{color:t,value:t,isThemeColor:o,isLight:RS(t,e.luminanceThreshold),shade:s,variable:void 0}}function sA(t,e){const n=lT({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function XV(t,e){const n={from:(t==null?void 0:t.from)||e.defaultGradient.from,to:(t==null?void 0:t.to)||e.defaultGradient.to,deg:(t==null?void 0:t.deg)??e.defaultGradient.deg??0},i=sA(n.from,e),r=sA(n.to,e);return`linear-gradient(${n.deg}deg, ${i} 0%, ${r} 100%)`}function Cu(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const s=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${s}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:i,b:r}=oz(t);return`rgba(${n}, ${i}, ${r}, ${e})`}const $b=Cu,QSe=({color:t,theme:e,variant:n,gradient:i,autoContrast:r})=>{const s=lT({color:t,theme:e}),o=typeof r=="boolean"?r:e.autoContrast;if(n==="filled"){const a=o&&s.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return s.isThemeColor?s.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:a,border:`${Re(1)} solid transparent`}:{background:`var(--mantine-color-${s.color}-${s.shade})`,hover:`var(--mantine-color-${s.color}-${s.shade===9?8:s.shade+1})`,color:a,border:`${Re(1)} solid transparent`}:{background:t,hover:eM(t,.1),color:a,border:`${Re(1)} solid transparent`}}if(n==="light"){if(s.isThemeColor){if(s.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${Re(1)} solid transparent`};const a=e.colors[s.color][s.shade];return{background:Cu(a,.1),hover:Cu(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Re(1)} solid transparent`}}return{background:Cu(t,.1),hover:Cu(t,.12),color:t,border:`${Re(1)} solid transparent`}}if(n==="outline")return s.isThemeColor?s.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${Re(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:Cu(e.colors[s.color][s.shade],.05),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${Re(1)} solid var(--mantine-color-${s.color}-${s.shade})`}:{background:"transparent",hover:Cu(t,.05),color:t,border:`${Re(1)} solid ${t}`};if(n==="subtle"){if(s.isThemeColor){if(s.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${Re(1)} solid transparent`};const a=e.colors[s.color][s.shade];return{background:"transparent",hover:Cu(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Re(1)} solid transparent`}}return{background:"transparent",hover:Cu(t,.12),color:t,border:`${Re(1)} solid transparent`}}return n==="transparent"?s.isThemeColor?s.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${Re(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Re(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${Re(1)} solid transparent`}:n==="white"?s.isThemeColor?s.shade===void 0?{background:"var(--mantine-color-white)",hover:eM(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${Re(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:eM(e.white,.01),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${Re(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:eM(e.white,.01),color:t,border:`${Re(1)} solid transparent`}:n==="gradient"?{background:XV(i,e),hover:XV(i,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Re(1)} solid var(--mantine-color-default-border)`}:{}},eCe={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},JV="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",az={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:eCe,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:QSe,autoContrast:!1,luminanceThreshold:.3,fontFamily:JV,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:JV,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Re(34),lineHeight:"1.3"},h2:{fontSize:Re(26),lineHeight:"1.35"},h3:{fontSize:Re(22),lineHeight:"1.4"},h4:{fontSize:Re(18),lineHeight:"1.45"},h5:{fontSize:Re(16),lineHeight:"1.5"},h6:{fontSize:Re(14),lineHeight:"1.5"}}},fontSizes:{xs:Re(12),sm:Re(14),md:Re(16),lg:Re(18),xl:Re(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Re(2),sm:Re(4),md:Re(8),lg:Re(16),xl:Re(32)},spacing:{xs:Re(10),sm:Re(12),md:Re(16),lg:Re(20),xl:Re(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Re(1)} ${Re(3)} rgba(0, 0, 0, 0.05), 0 ${Re(1)} ${Re(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Re(1)} ${Re(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Re(10)} ${Re(15)} ${Re(-5)}, rgba(0, 0, 0, 0.04) 0 ${Re(7)} ${Re(7)} ${Re(-5)}`,md:`0 ${Re(1)} ${Re(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Re(20)} ${Re(25)} ${Re(-5)}, rgba(0, 0, 0, 0.04) 0 ${Re(10)} ${Re(10)} ${Re(-5)}`,lg:`0 ${Re(1)} ${Re(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Re(28)} ${Re(23)} ${Re(-7)}, rgba(0, 0, 0, 0.04) 0 ${Re(12)} ${Re(12)} ${Re(-7)}`,xl:`0 ${Re(1)} ${Re(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Re(36)} ${Re(28)} ${Re(-7)}, rgba(0, 0, 0, 0.04) 0 ${Re(17)} ${Re(17)} ${Re(-7)}`},other:{},components:{}};function ZV(t){return t==="auto"||t==="dark"||t==="light"}function tCe({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const i=window.localStorage.getItem(t);return ZV(i)?i:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(i){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",i)}},subscribe:n=>{e=i=>{i.storageArea===window.localStorage&&i.key===t&&ZV(i.newValue)&&n(i.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const nCe="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",QV="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function IO(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function eH(t){if(!(t.primaryColor in t.colors))throw new Error(nCe);if(typeof t.primaryShade=="object"&&(!IO(t.primaryShade.dark)||!IO(t.primaryShade.light)))throw new Error(QV);if(typeof t.primaryShade=="number"&&!IO(t.primaryShade))throw new Error(QV)}function iCe(t,e){var i;if(!e)return eH(t),t;const n=nz(t,e);return e.fontFamily&&!((i=e.headings)!=null&&i.fontFamily)&&(n.headings.fontFamily=e.fontFamily),eH(n),n}const lz=k.createContext(null),rCe=()=>k.useContext(lz)||az;function Bc(){const t=k.useContext(lz);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function lX({theme:t,children:e,inherit:n=!0}){const i=rCe(),r=k.useMemo(()=>iCe(n?i:az,t),[t,i,n]);return b.jsx(lz.Provider,{value:r,children:e})}lX.displayName="@mantine/core/MantineThemeProvider";function sCe(){const t=Bc(),e=sz(),n=qo(t.breakpoints).reduce((i,r)=>{const s=t.breakpoints[r].includes("px"),o=iA(t.breakpoints[r]),a=s?`${o-.1}px`:YV(o-.1),l=s?`${o}px`:YV(o);return`${i}@media (max-width: ${a}) {.mantine-visible-from-${r} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${r} {display: none !important;}}`},"");return b.jsx("style",{"data-mantine-styles":"classes",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:n}})}function FO(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function DS(t,e){return(Array.isArray(t)?t:[t]).reduce((i,r)=>`${r}{${i}}`,e)}function oCe(t,e){const n=FO(t.variables),i=n?DS(e,n):"",r=FO(t.dark),s=FO(t.light),o=r?DS(e===":host"?`${e}([data-mantine-color-scheme="dark"])`:`${e}[data-mantine-color-scheme="dark"]`,r):"",a=s?DS(e===":host"?`${e}([data-mantine-color-scheme="light"])`:`${e}[data-mantine-color-scheme="light"]`,s):"";return`${i}${o}${a}`}function aCe({color:t,theme:e,autoContrast:n}){return e.autoContrast&&lT({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function tH(t,e){return aCe({color:t.colors[t.primaryColor][rA(t,e)],theme:t,autoContrast:null})}function tM({theme:t,color:e,colorScheme:n,name:i=e,withColorValues:r=!0}){if(!t.colors[e])return{};if(n==="light"){const a=rA(t,"light"),l={[`--mantine-color-${i}-text`]:`var(--mantine-color-${i}-filled)`,[`--mantine-color-${i}-filled`]:`var(--mantine-color-${i}-${a})`,[`--mantine-color-${i}-filled-hover`]:`var(--mantine-color-${i}-${a===9?8:a+1})`,[`--mantine-color-${i}-light`]:$b(t.colors[e][a],.1),[`--mantine-color-${i}-light-hover`]:$b(t.colors[e][a],.12),[`--mantine-color-${i}-light-color`]:`var(--mantine-color-${i}-${a})`,[`--mantine-color-${i}-outline`]:`var(--mantine-color-${i}-${a})`,[`--mantine-color-${i}-outline-hover`]:$b(t.colors[e][a],.05)};return r?{[`--mantine-color-${i}-0`]:t.colors[e][0],[`--mantine-color-${i}-1`]:t.colors[e][1],[`--mantine-color-${i}-2`]:t.colors[e][2],[`--mantine-color-${i}-3`]:t.colors[e][3],[`--mantine-color-${i}-4`]:t.colors[e][4],[`--mantine-color-${i}-5`]:t.colors[e][5],[`--mantine-color-${i}-6`]:t.colors[e][6],[`--mantine-color-${i}-7`]:t.colors[e][7],[`--mantine-color-${i}-8`]:t.colors[e][8],[`--mantine-color-${i}-9`]:t.colors[e][9],...l}:l}const s=rA(t,"dark"),o={[`--mantine-color-${i}-text`]:`var(--mantine-color-${i}-4)`,[`--mantine-color-${i}-filled`]:`var(--mantine-color-${i}-${s})`,[`--mantine-color-${i}-filled-hover`]:`var(--mantine-color-${i}-${s===9?8:s+1})`,[`--mantine-color-${i}-light`]:$b(t.colors[e][Math.max(0,s-2)],.15),[`--mantine-color-${i}-light-hover`]:$b(t.colors[e][Math.max(0,s-2)],.2),[`--mantine-color-${i}-light-color`]:`var(--mantine-color-${i}-${Math.max(s-5,0)})`,[`--mantine-color-${i}-outline`]:`var(--mantine-color-${i}-${Math.max(s-4,0)})`,[`--mantine-color-${i}-outline-hover`]:$b(t.colors[e][Math.max(s-4,0)],.05)};return r?{[`--mantine-color-${i}-0`]:t.colors[e][0],[`--mantine-color-${i}-1`]:t.colors[e][1],[`--mantine-color-${i}-2`]:t.colors[e][2],[`--mantine-color-${i}-3`]:t.colors[e][3],[`--mantine-color-${i}-4`]:t.colors[e][4],[`--mantine-color-${i}-5`]:t.colors[e][5],[`--mantine-color-${i}-6`]:t.colors[e][6],[`--mantine-color-${i}-7`]:t.colors[e][7],[`--mantine-color-${i}-8`]:t.colors[e][8],[`--mantine-color-${i}-9`]:t.colors[e][9],...o}:o}function lCe(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function zb(t,e,n){qo(e).forEach(i=>Object.assign(t,{[`--mantine-${n}-${i}`]:e[i]}))}const cX=t=>{const e=rA(t,"light"),n=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:Re(t.defaultRadius),i={variables:{"--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":tH(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":tH(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};zb(i.variables,t.breakpoints,"breakpoint"),zb(i.variables,t.spacing,"spacing"),zb(i.variables,t.fontSizes,"font-size"),zb(i.variables,t.lineHeights,"line-height"),zb(i.variables,t.shadows,"shadow"),zb(i.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((s,o)=>{i.variables[`--mantine-primary-color-${o}`]=`var(--mantine-color-${t.primaryColor}-${o})`}),qo(t.colors).forEach(s=>{const o=t.colors[s];if(lCe(o)){Object.assign(i.light,tM({theme:t,name:o.name,color:o.light,colorScheme:"light",withColorValues:!0})),Object.assign(i.dark,tM({theme:t,name:o.name,color:o.dark,colorScheme:"dark",withColorValues:!0}));return}o.forEach((a,l)=>{i.variables[`--mantine-color-${s}-${l}`]=a}),Object.assign(i.light,tM({theme:t,color:s,colorScheme:"light",withColorValues:!1})),Object.assign(i.dark,tM({theme:t,color:s,colorScheme:"dark",withColorValues:!1}))});const r=t.headings.sizes;return qo(r).forEach(s=>{i.variables[`--mantine-${s}-font-size`]=r[s].fontSize,i.variables[`--mantine-${s}-line-height`]=r[s].lineHeight,i.variables[`--mantine-${s}-font-weight`]=r[s].fontWeight||t.headings.fontWeight}),i};function cCe({theme:t,generator:e}){const n=cX(t),i=e==null?void 0:e(t);return i?nz(n,i):n}const $O=cX(az);function uCe(t){const e={variables:{},light:{},dark:{}};return qo(t.variables).forEach(n=>{$O.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),qo(t.light).forEach(n=>{$O.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),qo(t.dark).forEach(n=>{$O.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function dCe(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function uX({cssVariablesSelector:t,deduplicateCssVariables:e}){const n=Bc(),i=sz(),r=BSe(),s=cCe({theme:n,generator:r}),o=t===":root"&&e,a=o?uCe(s):s,l=oCe(a,t);return l?b.jsx("style",{"data-mantine-styles":!0,nonce:i==null?void 0:i(),dangerouslySetInnerHTML:{__html:`${l}${o?"":dCe(t)}`}}):null}uX.displayName="@mantine/CssVariables";function fCe(){const t=console.error;console.error=(...e)=>{e.length>1&&typeof e[0]=="string"&&e[0].toLowerCase().includes("extra attributes from the server")&&typeof e[1]=="string"&&e[1].toLowerCase().includes("data-mantine-color-scheme")||t(...e)}}function Bb(t,e){var r,s;const n=typeof window<"u"&&"matchMedia"in window&&((r=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:r.matches),i=t!=="auto"?t:n?"dark":"light";(s=e())==null||s.setAttribute("data-mantine-color-scheme",i)}function hCe({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:i}){const r=k.useRef(null),[s,o]=k.useState(()=>t.get(e)),a=i||s,l=k.useCallback(d=>{i||(Bb(d,n),o(d),t.set(d))},[t.set,a,i]),c=k.useCallback(()=>{o(e),Bb(e,n),t.clear()},[t.clear,e]);return k.useEffect(()=>(t.subscribe(l),t.unsubscribe),[t.subscribe,t.unsubscribe]),SD(()=>{Bb(t.get(e),n)},[]),k.useEffect(()=>{var h;if(i)return Bb(i,n),()=>{};i===void 0&&Bb(s,n),typeof window<"u"&&"matchMedia"in window&&(r.current=window.matchMedia("(prefers-color-scheme: dark)"));const d=p=>{s==="auto"&&Bb(p.matches?"dark":"light",n)};return(h=r.current)==null||h.addEventListener("change",d),()=>{var p;return(p=r.current)==null?void 0:p.removeEventListener("change",d)}},[s,i]),{colorScheme:a,setColorScheme:l,clearColorScheme:c}}function pCe({respectReducedMotion:t,getRootElement:e}){SD(()=>{var n;t&&((n=e())==null||n.setAttribute("data-respect-reduced-motion","true"))},[t])}fCe();function dX({theme:t,children:e,getStyleNonce:n,withStaticClasses:i=!0,withGlobalClasses:r=!0,deduplicateCssVariables:s=!0,withCssVariables:o=!0,cssVariablesSelector:a=":root",classNamesPrefix:l="mantine",colorSchemeManager:c=tCe(),defaultColorScheme:d="light",getRootElement:h=()=>document.documentElement,cssVariablesResolver:p,forceColorScheme:m,stylesTransform:v,env:S}){const{colorScheme:A,setColorScheme:E,clearColorScheme:M}=hCe({defaultColorScheme:d,forceColorScheme:m,manager:c,getRootElement:h});return pCe({respectReducedMotion:(t==null?void 0:t.respectReducedMotion)||!1,getRootElement:h}),b.jsx(oX.Provider,{value:{colorScheme:A,setColorScheme:E,clearColorScheme:M,getRootElement:h,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:p,cssVariablesSelector:a,withStaticClasses:i,stylesTransform:v,env:S},children:b.jsxs(lX,{theme:t,children:[o&&b.jsx(uX,{cssVariablesSelector:a,deduplicateCssVariables:s}),r&&b.jsx(sCe,{}),e]})})}dX.displayName="@mantine/core/MantineProvider";function cz({classNames:t,styles:e,props:n,stylesCtx:i}){const r=Bc();return{resolvedClassNames:FD({theme:r,classNames:t,props:n,stylesCtx:i||void 0}),resolvedStyles:n2({theme:r,styles:e,props:n,stylesCtx:i||void 0})}}const mCe={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function gCe({theme:t,options:e,unstyled:n}){return Ls((e==null?void 0:e.focusable)&&!n&&(t.focusClassName||mCe[t.focusRing]),(e==null?void 0:e.active)&&!n&&t.activeClassName)}function yCe({selector:t,stylesCtx:e,options:n,props:i,theme:r}){return FD({theme:r,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||i,stylesCtx:e})[t]}function nH({selector:t,stylesCtx:e,theme:n,classNames:i,props:r}){return FD({theme:n,classNames:i,props:r,stylesCtx:e})[t]}function bCe({rootSelector:t,selector:e,className:n}){return t===e?n:void 0}function vCe({selector:t,classes:e,unstyled:n}){return n?void 0:e[t]}function xCe({themeName:t,classNamesPrefix:e,selector:n,withStaticClass:i}){return i===!1?[]:t.map(r=>`${e}-${r}-${n}`)}function wCe({themeName:t,theme:e,selector:n,props:i,stylesCtx:r}){return t.map(s=>{var o,a;return(a=FD({theme:e,classNames:(o=e.components[s])==null?void 0:o.classNames,props:i,stylesCtx:r}))==null?void 0:a[n]})}function SCe({options:t,classes:e,selector:n,unstyled:i}){return t!=null&&t.variant&&!i?e[`${n}--${t.variant}`]:void 0}function CCe({theme:t,options:e,themeName:n,selector:i,classNamesPrefix:r,classNames:s,classes:o,unstyled:a,className:l,rootSelector:c,props:d,stylesCtx:h,withStaticClasses:p,headless:m,transformedStyles:v}){return Ls(gCe({theme:t,options:e,unstyled:a||m}),wCe({theme:t,themeName:n,selector:i,props:d,stylesCtx:h}),SCe({options:e,classes:o,selector:i,unstyled:a}),nH({selector:i,stylesCtx:h,theme:t,classNames:s,props:d}),nH({selector:i,stylesCtx:h,theme:t,classNames:v,props:d}),yCe({selector:i,stylesCtx:h,options:e,props:d,theme:t}),bCe({rootSelector:c,selector:i,className:l}),vCe({selector:i,classes:o,unstyled:a||m}),p&&!m&&xCe({themeName:n,classNamesPrefix:r,selector:i,withStaticClass:e==null?void 0:e.withStaticClass}),e==null?void 0:e.className)}function ACe({theme:t,themeName:e,props:n,stylesCtx:i,selector:r}){return e.map(s=>{var o;return n2({theme:t,styles:(o=t.components[s])==null?void 0:o.styles,props:n,stylesCtx:i})[r]}).reduce((s,o)=>({...s,...o}),{})}function Wj({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((n,i)=>({...n,...Wj({style:i,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function ECe(t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(i=>{e[i]={...e[i],...aT(n[i])}}),e),{})}function TCe({vars:t,varsResolver:e,theme:n,props:i,stylesCtx:r,selector:s,themeName:o,headless:a}){var l;return(l=ECe([a?{}:e==null?void 0:e(n,i,r),...o.map(c=>{var d,h,p;return(p=(h=(d=n.components)==null?void 0:d[c])==null?void 0:h.vars)==null?void 0:p.call(h,n,i,r)}),t==null?void 0:t(n,i,r)]))==null?void 0:l[s]}function kCe({theme:t,themeName:e,selector:n,options:i,props:r,stylesCtx:s,rootSelector:o,styles:a,style:l,vars:c,varsResolver:d,headless:h,withStylesTransform:p}){return{...!p&&ACe({theme:t,themeName:e,props:r,stylesCtx:s,selector:n}),...!p&&n2({theme:t,styles:a,props:r,stylesCtx:s})[n],...!p&&n2({theme:t,styles:i==null?void 0:i.styles,props:(i==null?void 0:i.props)||r,stylesCtx:s})[n],...TCe({theme:t,props:r,stylesCtx:s,vars:c,varsResolver:d,selector:n,themeName:e,headless:h}),...o===n?Wj({style:l,theme:t}):null,...Wj({style:i==null?void 0:i.style,theme:t})}}function _Ce({props:t,stylesCtx:e,themeName:n}){var o;const i=Bc(),r=(o=GSe())==null?void 0:o();return{getTransformedStyles:a=>r?[...a.map(c=>r(c,{props:t,theme:i,ctx:e})),...n.map(c=>{var d;return r((d=i.components[c])==null?void 0:d.styles,{props:t,theme:i,ctx:e})})].filter(Boolean):[],withStylesTransform:!!r}}function ni({name:t,classes:e,props:n,stylesCtx:i,className:r,style:s,rootSelector:o="root",unstyled:a,classNames:l,styles:c,vars:d,varsResolver:h}){const p=Bc(),m=VSe(),v=HSe(),S=USe(),A=(Array.isArray(t)?t:[t]).filter(R=>R),{withStylesTransform:E,getTransformedStyles:M}=_Ce({props:n,stylesCtx:i,themeName:A});return(R,N)=>({className:CCe({theme:p,options:N,themeName:A,selector:R,classNamesPrefix:m,classNames:l,classes:e,unstyled:a,className:r,rootSelector:o,props:n,stylesCtx:i,withStaticClasses:v,headless:S,transformedStyles:M([N==null?void 0:N.styles,c])}),style:kCe({theme:p,themeName:A,selector:R,options:N,props:n,stylesCtx:i,rootSelector:o,styles:c,style:s,vars:d,varsResolver:h,headless:S,withStylesTransform:E})})}function vt(t,e,n){var o;const i=Bc(),r=(o=i.components[t])==null?void 0:o.defaultProps,s=typeof r=="function"?r(i):r;return{...e,...s,...aT(n)}}function zO(t){return qo(t).reduce((e,n)=>t[n]!==void 0?`${e}${DSe(n)}:${t[n]};`:e,"").trim()}function MCe({selector:t,styles:e,media:n,container:i}){const r=e?zO(e):"",s=Array.isArray(n)?n.map(a=>`@media${a.query}{${t}{${zO(a.styles)}}}`):[],o=Array.isArray(i)?i.map(a=>`@container ${a.query}{${t}{${zO(a.styles)}}}`):[];return`${r?`${t}{${r}}`:""}${s.join("")}${o.join("")}`.trim()}function uz(t){const e=sz();return b.jsx("style",{"data-mantine-styles":"inline",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:MCe(t)}})}function dz(t){const{m:e,mx:n,my:i,mt:r,mb:s,ml:o,mr:a,me:l,ms:c,p:d,px:h,py:p,pt:m,pb:v,pl:S,pr:A,pe:E,ps:M,bd:R,bg:N,c:P,opacity:O,ff:$,fz:F,fw:q,lts:B,ta:X,lh:Q,fs:J,tt:oe,td:ce,w:le,miw:ee,maw:Z,h:se,mih:j,mah:te,bgsz:ae,bgp:U,bgr:ve,bga:ke,pos:Ce,top:je,left:Ue,bottom:Ye,right:Ge,inset:ft,display:mt,flex:xt,hiddenFrom:Gt,visibleFrom:Mn,lightHidden:Vn,darkHidden:Wt,sx:mi,...ii}=t;return{styleProps:aT({m:e,mx:n,my:i,mt:r,mb:s,ml:o,mr:a,me:l,ms:c,p:d,px:h,py:p,pt:m,pb:v,pl:S,pr:A,pe:E,ps:M,bd:R,bg:N,c:P,opacity:O,ff:$,fz:F,fw:q,lts:B,ta:X,lh:Q,fs:J,tt:oe,td:ce,w:le,miw:ee,maw:Z,h:se,mih:j,mah:te,bgsz:ae,bgp:U,bgr:ve,bga:ke,pos:Ce,top:je,left:Ue,bottom:Ye,right:Ge,inset:ft,display:mt,flex:xt,hiddenFrom:Gt,visibleFrom:Mn,lightHidden:Vn,darkHidden:Wt,sx:mi}),rest:ii}}const RCe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function fz(t,e){const n=lT({color:t,theme:e});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function DCe(t,e){const n=lT({color:t,theme:e});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:fz(t,e)}function NCe(t,e){if(typeof t=="number")return Re(t);if(typeof t=="string"){const[n,i,...r]=t.split(" ").filter(o=>o.trim()!=="");let s=`${Re(n)}`;return i&&(s+=` ${i}`),r.length>0&&(s+=` ${fz(r.join(" "),e)}`),s.trim()}return t}const iH={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function PCe(t){return typeof t=="string"&&t in iH?iH[t]:t}const OCe=["h1","h2","h3","h4","h5","h6"];function LCe(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="string"&&OCe.includes(t)?`var(--mantine-${t}-font-size)`:typeof t=="number"||typeof t=="string"?Re(t):t}function jCe(t){return t}const ICe=["h1","h2","h3","h4","h5","h6"];function FCe(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:typeof t=="string"&&ICe.includes(t)?`var(--mantine-${t}-line-height)`:t}function $Ce(t){return typeof t=="number"?Re(t):t}function zCe(t,e){if(typeof t=="number")return Re(t);if(typeof t=="string"){const n=t.replace("-","");if(!(n in e.spacing))return Re(t);const i=`--mantine-spacing-${n}`;return t.startsWith("-")?`calc(var(${i}) * -1)`:`var(${i})`}return t}const BO={color:fz,textColor:DCe,fontSize:LCe,spacing:zCe,identity:jCe,size:$Ce,lineHeight:FCe,fontFamily:PCe,border:NCe};function rH(t){return t.replace("(min-width: ","").replace("em)","")}function BCe({media:t,...e}){const i=Object.keys(t).sort((r,s)=>Number(rH(r))-Number(rH(s))).map(r=>({query:r,styles:t[r]}));return{...e,media:i}}function VCe(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function HCe(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function UCe(t){return typeof t=="object"&&t!==null?qo(t).filter(e=>e!=="base"):[]}function qCe(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function GCe({styleProps:t,data:e,theme:n}){return BCe(qo(t).reduce((i,r)=>{if(r==="hiddenFrom"||r==="visibleFrom"||r==="sx")return i;const s=e[r],o=Array.isArray(s.property)?s.property:[s.property],a=HCe(t[r]);if(!VCe(t[r]))return o.forEach(c=>{i.inlineStyles[c]=BO[s.type](a,n)}),i;i.hasResponsiveStyles=!0;const l=UCe(t[r]);return o.forEach(c=>{a&&(i.styles[c]=BO[s.type](a,n)),l.forEach(d=>{const h=`(min-width: ${n.breakpoints[d]})`;i.media[h]={...i.media[h],[c]:BO[s.type](qCe(t[r],d),n)}})}),i},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function fX(){return`__m__-${k.useId().replace(/:/g,"")}`}function hX(t,e){return Array.isArray(t)?[...t].reduce((n,i)=>({...n,...hX(i,e)}),{}):typeof t=="function"?t(e):t??{}}function pX(t){return t.startsWith("data-")?t:`data-${t}`}function WCe(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return i===void 0||i===""||i===!1||i===null||(e[pX(n)]=t[n]),e},{})}function mX(t){return t?typeof t=="string"?{[pX(t)]:!0}:Array.isArray(t)?[...t].reduce((e,n)=>({...e,...mX(n)}),{}):WCe(t):null}function Kj(t,e){return Array.isArray(t)?[...t].reduce((n,i)=>({...n,...Kj(i,e)}),{}):typeof t=="function"?t(e):t??{}}function KCe({theme:t,style:e,vars:n,styleProps:i}){const r=Kj(e,t),s=Kj(n,t);return{...r,...s,...i}}const gX=k.forwardRef(({component:t,style:e,__vars:n,className:i,variant:r,mod:s,size:o,hiddenFrom:a,visibleFrom:l,lightHidden:c,darkHidden:d,renderRoot:h,__size:p,...m},v)=>{var F;const S=Bc(),A=t||"div",{styleProps:E,rest:M}=dz(m),R=qSe(),N=(F=R==null?void 0:R())==null?void 0:F(E.sx),P=fX(),O=GCe({styleProps:E,theme:S,data:RCe}),$={ref:v,style:KCe({theme:S,style:e,vars:n,styleProps:O.inlineStyles}),className:Ls(i,N,{[P]:O.hasResponsiveStyles,"mantine-light-hidden":c,"mantine-dark-hidden":d,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":r,"data-size":rX(o)?void 0:o||void 0,size:p,...mX(s),...M};return b.jsxs(b.Fragment,{children:[O.hasResponsiveStyles&&b.jsx(uz,{selector:`.${P}`,styles:O.styles,media:O.media}),typeof h=="function"?h($):b.jsx(A,{...$})]})});gX.displayName="@mantine/core/Box";const zt=gX;function yX(t){return t}function Bn(t){const e=k.forwardRef(t);return e.extend=yX,e.withProps=n=>{const i=k.forwardRef((r,s)=>b.jsx(e,{...n,...r,ref:s}));return i.extend=e.extend,i.displayName=`WithProps(${e.displayName})`,i},e}function Qp(t){const e=k.forwardRef(t);return e.withProps=n=>{const i=k.forwardRef((r,s)=>b.jsx(e,{...n,...r,ref:s}));return i.extend=e.extend,i.displayName=`WithProps(${e.displayName})`,i},e.extend=yX,e}const YCe=k.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function hz(){return k.useContext(YCe)}var bX={root:"m_87cf2631"};const XCe={__staticSelector:"UnstyledButton"},c0=Qp((t,e)=>{const n=vt("UnstyledButton",XCe,t),{className:i,component:r="button",__staticSelector:s,unstyled:o,classNames:a,styles:l,style:c,...d}=n,h=ni({name:s,props:n,classes:bX,className:i,style:c,classNames:a,styles:l,unstyled:o});return b.jsx(zt,{...h("root",{focusable:!0}),component:r,ref:e,type:r==="button"?"button":void 0,...d})});c0.classes=bX;c0.displayName="@mantine/core/UnstyledButton";var vX={root:"m_515a97f8"};const JCe={},pz=Bn((t,e)=>{const n=vt("VisuallyHidden",JCe,t),{classNames:i,className:r,style:s,styles:o,unstyled:a,vars:l,...c}=n,d=ni({name:"VisuallyHidden",classes:vX,props:n,className:r,style:s,classNames:i,styles:o,unstyled:a});return b.jsx(zt,{component:"span",ref:e,...d("root"),...c})});pz.classes=vX;pz.displayName="@mantine/core/VisuallyHidden";function xX(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[n,i]=e.split("-"),r=n==="right"?"left":"right";return i===void 0?r:`${r}-${i}`}return e}function sH(t,e,n,i){return t==="center"||i==="center"?{top:e}:t==="end"?{bottom:n}:t==="start"?{top:n}:{}}function oH(t,e,n,i,r){return t==="center"||i==="center"?{left:e}:t==="end"?{[r==="ltr"?"right":"left"]:n}:t==="start"?{[r==="ltr"?"left":"right"]:n}:{}}const ZCe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function QCe({position:t,arrowSize:e,arrowOffset:n,arrowRadius:i,arrowPosition:r,arrowX:s,arrowY:o,dir:a}){const[l,c="center"]=t.split("-"),d={width:e,height:e,transform:"rotate(45deg)",position:"absolute",[ZCe[l]]:i},h=-e/2;return l==="left"?{...d,...sH(c,o,n,r),right:h,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:l==="right"?{...d,...sH(c,o,n,r),left:h,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:l==="top"?{...d,...oH(c,s,n,r,a),bottom:h,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:l==="bottom"?{...d,...oH(c,s,n,r,a),top:h,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const mz=k.forwardRef(({position:t,arrowSize:e,arrowOffset:n,arrowRadius:i,arrowPosition:r,visible:s,arrowX:o,arrowY:a,style:l,...c},d)=>{const{dir:h}=hz();return s?b.jsx("div",{...c,ref:d,style:{...l,...QCe({position:t,arrowSize:e,arrowOffset:n,arrowRadius:i,arrowPosition:r,dir:h,arrowX:o,arrowY:a})}}):null});mz.displayName="@mantine/core/FloatingArrow";var wX={root:"m_9814e45f"};const eAe={zIndex:ID("modal")},tAe=(t,{gradient:e,color:n,backgroundOpacity:i,blur:r,radius:s,zIndex:o})=>({root:{"--overlay-bg":e||(n!==void 0||i!==void 0)&&Cu(n||"#000",i??.6)||void 0,"--overlay-filter":r?`blur(${Re(r)})`:void 0,"--overlay-radius":s===void 0?void 0:zc(s),"--overlay-z-index":o==null?void 0:o.toString()}}),gz=Qp((t,e)=>{const n=vt("Overlay",eAe,t),{classNames:i,className:r,style:s,styles:o,unstyled:a,vars:l,fixed:c,center:d,children:h,radius:p,zIndex:m,gradient:v,blur:S,color:A,backgroundOpacity:E,mod:M,...R}=n,N=ni({name:"Overlay",props:n,classes:wX,className:r,style:s,classNames:i,styles:o,unstyled:a,vars:l,varsResolver:tAe});return b.jsx(zt,{ref:e,...N("root"),mod:[{center:d,fixed:c},M],...R,children:h})});gz.classes=wX;gz.displayName="@mantine/core/Overlay";function VO(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}function nAe({target:t,reuseTargetNode:e,...n}){if(t)return typeof t=="string"?document.querySelector(t)||VO(n):t;if(e){const i=document.querySelector("[data-mantine-shared-portal-node]");if(i)return i;const r=VO(n);return r.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(r),r}return VO(n)}const iAe={},SX=Bn((t,e)=>{const{children:n,target:i,reuseTargetNode:r,...s}=vt("Portal",iAe,t),[o,a]=k.useState(!1),l=k.useRef(null);return SD(()=>(a(!0),l.current=nAe({target:i,reuseTargetNode:r,...s}),Aj(e,l.current),!i&&!r&&l.current&&document.body.appendChild(l.current),()=>{!i&&!r&&l.current&&document.body.removeChild(l.current)}),[i]),!o||!l.current?null:Xx.createPortal(b.jsx(b.Fragment,{children:n}),l.current)});SX.displayName="@mantine/core/Portal";const cT=Bn(({withinPortal:t=!0,children:e,...n},i)=>aX()==="test"||!t?b.jsx(b.Fragment,{children:e}):b.jsx(SX,{ref:i,...n,children:e}));cT.displayName="@mantine/core/OptionalPortal";const NS=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${t==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),nM={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...NS("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...NS("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...NS("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...NS("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...NS("top"),common:{transformOrigin:"top right"}}},aH={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function rAe({transition:t,state:e,duration:n,timingFunction:i}){const r={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:i};return typeof t=="string"?t in nM?{transitionProperty:nM[t].transitionProperty,...r,...nM[t].common,...nM[t][aH[e]]}:{}:{transitionProperty:t.transitionProperty,...r,...t.common,...t[aH[e]]}}function sAe({duration:t,exitDuration:e,timingFunction:n,mounted:i,onEnter:r,onExit:s,onEntered:o,onExited:a,enterDelay:l,exitDelay:c}){const d=Bc(),h=m0e(),p=d.respectReducedMotion?h:!1,[m,v]=k.useState(p?0:t),[S,A]=k.useState(i?"entered":"exited"),E=k.useRef(-1),M=k.useRef(-1),R=k.useRef(-1),N=O=>{const $=O?r:s,F=O?o:a;window.clearTimeout(E.current);const q=p?0:O?t:e;v(q),q===0?(typeof $=="function"&&$(),typeof F=="function"&&F(),A(O?"entered":"exited")):R.current=requestAnimationFrame(()=>{_$.flushSync(()=>{A(O?"pre-entering":"pre-exiting")}),R.current=requestAnimationFrame(()=>{typeof $=="function"&&$(),A(O?"entering":"exiting"),E.current=window.setTimeout(()=>{typeof F=="function"&&F(),A(O?"entered":"exited")},q)})})},P=O=>{if(window.clearTimeout(M.current),typeof(O?l:c)!="number"){N(O);return}M.current=window.setTimeout(()=>{N(O)},O?l:c)};return Ju(()=>{P(i)},[i]),k.useEffect(()=>()=>{window.clearTimeout(E.current),cancelAnimationFrame(R.current)},[]),{transitionDuration:m,transitionStatus:S,transitionTimingFunction:n||"ease"}}function l1({keepMounted:t,transition:e="fade",duration:n=250,exitDuration:i=n,mounted:r,children:s,timingFunction:o="ease",onExit:a,onEntered:l,onEnter:c,onExited:d,enterDelay:h,exitDelay:p}){const m=aX(),{transitionDuration:v,transitionStatus:S,transitionTimingFunction:A}=sAe({mounted:r,exitDuration:i,duration:n,timingFunction:o,onExit:a,onEntered:l,onEnter:c,onExited:d,enterDelay:h,exitDelay:p});return v===0||m==="test"?r?b.jsx(b.Fragment,{children:s({})}):t?s({display:"none"}):null:S==="exited"?t?s({display:"none"}):null:b.jsx(b.Fragment,{children:s(rAe({transition:e,duration:v,state:S,timingFunction:A}))})}l1.displayName="@mantine/core/Transition";const[oAe,CX]=sX("Popover component was not found in the tree");function yz({children:t,active:e=!0,refProp:n="ref",innerRef:i}){const r=c0e(e),s=o1(r,i);return jD(t)?k.cloneElement(t,{[n]:s}):t}function AX(t){return b.jsx(pz,{tabIndex:-1,"data-autofocus":!0,...t})}yz.displayName="@mantine/core/FocusTrap";AX.displayName="@mantine/core/FocusTrapInitialFocus";yz.InitialFocus=AX;var EX={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const aAe={},bz=Bn((t,e)=>{var A,E,M,R;const n=vt("PopoverDropdown",aAe,t),{className:i,style:r,vars:s,children:o,onKeyDownCapture:a,variant:l,classNames:c,styles:d,...h}=n,p=CX(),m=i0e({opened:p.opened,shouldReturnFocus:p.returnFocus}),v=p.withRoles?{"aria-labelledby":p.getTargetId(),id:p.getDropdownId(),role:"dialog",tabIndex:-1}:{},S=o1(e,p.floating);return p.disabled?null:b.jsx(cT,{...p.portalProps,withinPortal:p.withinPortal,children:b.jsx(l1,{mounted:p.opened,...p.transitionProps,transition:((A=p.transitionProps)==null?void 0:A.transition)||"fade",duration:((E=p.transitionProps)==null?void 0:E.duration)??150,keepMounted:p.keepMounted,exitDuration:typeof((M=p.transitionProps)==null?void 0:M.exitDuration)=="number"?p.transitionProps.exitDuration:(R=p.transitionProps)==null?void 0:R.duration,children:N=>b.jsx(yz,{active:p.trapFocus&&p.opened,innerRef:S,children:b.jsxs(zt,{...v,...h,variant:l,onKeyDownCapture:LSe(()=>{var P,O;(P=p.onClose)==null||P.call(p),(O=p.onDismiss)==null||O.call(p)},{active:p.closeOnEscape,onTrigger:m,onKeyDown:a}),"data-position":p.placement,"data-fixed":p.floatingStrategy==="fixed"||void 0,...p.getStyles("dropdown",{className:i,props:n,classNames:c,styles:d,style:[{...N,zIndex:p.zIndex,top:p.y??0,left:p.x??0,width:p.width==="target"?void 0:Re(p.width)},p.resolvedStyles.dropdown,d==null?void 0:d.dropdown,r]}),children:[o,b.jsx(mz,{ref:p.arrowRef,arrowX:p.arrowX,arrowY:p.arrowY,visible:p.withArrow,position:p.placement,arrowSize:p.arrowSize,arrowRadius:p.arrowRadius,arrowOffset:p.arrowOffset,arrowPosition:p.arrowPosition,...p.getStyles("arrow",{props:n,classNames:c,styles:d})})]})})})})});bz.classes=EX;bz.displayName="@mantine/core/PopoverDropdown";const lAe={refProp:"ref",popupType:"dialog"},TX=Bn((t,e)=>{const{children:n,refProp:i,popupType:r,...s}=vt("PopoverTarget",lAe,t);if(!jD(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=s,a=CX(),l=o1(a.reference,rz(n),e),c=a.withRoles?{"aria-haspopup":r,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return k.cloneElement(n,{...o,...c,...a.targetProps,className:Ls(a.targetProps.className,o.className,n.props.className),[i]:l,...a.controlled?null:{onClick:a.onToggle}})});TX.displayName="@mantine/core/PopoverTarget";function kX({opened:t,floating:e,position:n,positionDependencies:i}){const[r,s]=k.useState(0);k.useEffect(()=>{if(e.refs.reference.current&&e.refs.floating.current&&t)return sle(e.refs.reference.current,e.refs.floating.current,e.update)},[e.refs.reference.current,e.refs.floating.current,t,r,n]),Ju(()=>{e.update()},i),Ju(()=>{s(o=>o+1)},[t])}function cAe(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function uAe(t,e){const n=cAe(t.middlewares),i=[$q(t.offset)];return n.shift&&i.push(B$(typeof n.shift=="boolean"?{limiter:y4(),padding:5}:{limiter:y4(),padding:5,...n.shift})),n.flip&&i.push(typeof n.flip=="boolean"?_R():_R(n.flip)),n.inline&&i.push(typeof n.inline=="boolean"?mC():mC(n.inline)),i.push(zq({element:t.arrowRef,padding:t.arrowOffset})),(n.size||t.width==="target")&&i.push(mle({...typeof n.size=="boolean"?{}:n.size,apply({rects:r,availableWidth:s,availableHeight:o,...a}){var d;const c=((d=e().refs.floating.current)==null?void 0:d.style)??{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply({rects:r,availableWidth:s,availableHeight:o,...a}):Object.assign(c,{maxWidth:`${s}px`,maxHeight:`${o}px`})),t.width==="target"&&Object.assign(c,{width:`${r.reference.width}px`})}})),i}function dAe(t){const[e,n]=cK({value:t.opened,defaultValue:t.defaultOpened,finalValue:!1,onChange:t.onChange}),i=k.useRef(e),r=()=>{e&&n(!1)},s=()=>n(!e),o=q$({strategy:t.strategy,placement:t.position,middleware:uAe(t,()=>o)});return kX({opened:e,position:t.position,positionDependencies:t.positionDependencies||[],floating:o}),Ju(()=>{var a;(a=t.onPositionChange)==null||a.call(t,o.placement)},[o.placement]),Ju(()=>{var a,l;e!==i.current&&(e?(l=t.onOpen)==null||l.call(t):(a=t.onClose)==null||a.call(t)),i.current=e},[e,t.onClose,t.onOpen]),{floating:o,controlled:typeof t.opened=="boolean",opened:e,onClose:r,onToggle:s}}const fAe={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:ID("popover"),__staticSelector:"Popover",width:"max-content"},hAe=(t,{radius:e,shadow:n})=>({dropdown:{"--popover-radius":e===void 0?void 0:zc(e),"--popover-shadow":jSe(n)}});function Gu(t){var Xe,be,Ne,de,Ke,rt;const e=vt("Popover",fAe,t),{children:n,position:i,offset:r,onPositionChange:s,positionDependencies:o,opened:a,transitionProps:l,onExitTransitionEnd:c,onEnterTransitionEnd:d,width:h,middlewares:p,withArrow:m,arrowSize:v,arrowOffset:S,arrowRadius:A,arrowPosition:E,unstyled:M,classNames:R,styles:N,closeOnClickOutside:P,withinPortal:O,portalProps:$,closeOnEscape:F,clickOutsideEvents:q,trapFocus:B,onClose:X,onDismiss:Q,onOpen:J,onChange:oe,zIndex:ce,radius:le,shadow:ee,id:Z,defaultOpened:se,__staticSelector:j,withRoles:te,disabled:ae,returnFocus:U,variant:ve,keepMounted:ke,vars:Ce,floatingStrategy:je,withOverlay:Ue,overlayProps:Ye,...Ge}=e,ft=ni({name:j,props:e,classes:EX,classNames:R,styles:N,unstyled:M,rootSelector:"dropdown",vars:Ce,varsResolver:hAe}),{resolvedStyles:mt}=cz({classNames:R,styles:N,props:e}),xt=k.useRef(null),[Gt,Mn]=k.useState(null),[Vn,Wt]=k.useState(null),{dir:mi}=hz(),ii=_3(Z),Bt=dAe({middlewares:p,width:h,position:xX(mi,i),offset:typeof r=="number"?r+(m?v/2:0):r,arrowRef:xt,arrowOffset:S,onPositionChange:s,positionDependencies:o,opened:a,defaultOpened:se,onChange:oe,onOpen:J,onClose:X,onDismiss:Q,strategy:je});k3(()=>{P&&(Bt.onClose(),Q==null||Q())},q,[Gt,Vn]);const Hn=k.useCallback(sn=>{Mn(sn),Bt.floating.refs.setReference(sn)},[Bt.floating.refs.setReference]),ie=k.useCallback(sn=>{Wt(sn),Bt.floating.refs.setFloating(sn)},[Bt.floating.refs.setFloating]),$e=k.useCallback(()=>{var sn;(sn=l==null?void 0:l.onExited)==null||sn.call(l),c==null||c()},[l==null?void 0:l.onExited,c]),Ee=k.useCallback(()=>{var sn;(sn=l==null?void 0:l.onEntered)==null||sn.call(l),d==null||d()},[l==null?void 0:l.onEntered,d]);return b.jsxs(oAe,{value:{returnFocus:U,disabled:ae,controlled:Bt.controlled,reference:Hn,floating:ie,x:Bt.floating.x,y:Bt.floating.y,arrowX:(Ne=(be=(Xe=Bt.floating)==null?void 0:Xe.middlewareData)==null?void 0:be.arrow)==null?void 0:Ne.x,arrowY:(rt=(Ke=(de=Bt.floating)==null?void 0:de.middlewareData)==null?void 0:Ke.arrow)==null?void 0:rt.y,opened:Bt.opened,arrowRef:xt,transitionProps:{...l,onExited:$e,onEntered:Ee},width:h,withArrow:m,arrowSize:v,arrowOffset:S,arrowRadius:A,arrowPosition:E,placement:Bt.floating.placement,trapFocus:B,withinPortal:O,portalProps:$,zIndex:ce,radius:le,shadow:ee,closeOnEscape:F,onDismiss:Q,onClose:Bt.onClose,onToggle:Bt.onToggle,getTargetId:()=>`${ii}-target`,getDropdownId:()=>`${ii}-dropdown`,withRoles:te,targetProps:Ge,__staticSelector:j,classNames:R,styles:N,unstyled:M,variant:ve,keepMounted:ke,getStyles:ft,resolvedStyles:mt,floatingStrategy:je},children:[n,Ue&&b.jsx(l1,{transition:"fade",mounted:Bt.opened,duration:(l==null?void 0:l.duration)||250,exitDuration:(l==null?void 0:l.exitDuration)||250,children:sn=>b.jsx(cT,{withinPortal:O,children:b.jsx(gz,{...Ye,...ft("overlay",{className:Ye==null?void 0:Ye.className,style:[sn,Ye==null?void 0:Ye.style]})})})})]})}Gu.Target=TX;Gu.Dropdown=bz;Gu.displayName="@mantine/core/Popover";Gu.extend=t=>t;var Rc={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const _X=k.forwardRef(({className:t,...e},n)=>b.jsxs(zt,{component:"span",className:Ls(Rc.barsLoader,t),...e,ref:n,children:[b.jsx("span",{className:Rc.bar}),b.jsx("span",{className:Rc.bar}),b.jsx("span",{className:Rc.bar})]}));_X.displayName="@mantine/core/Bars";const MX=k.forwardRef(({className:t,...e},n)=>b.jsxs(zt,{component:"span",className:Ls(Rc.dotsLoader,t),...e,ref:n,children:[b.jsx("span",{className:Rc.dot}),b.jsx("span",{className:Rc.dot}),b.jsx("span",{className:Rc.dot})]}));MX.displayName="@mantine/core/Dots";const RX=k.forwardRef(({className:t,...e},n)=>b.jsx(zt,{component:"span",className:Ls(Rc.ovalLoader,t),...e,ref:n}));RX.displayName="@mantine/core/Oval";const DX={bars:_X,oval:RX,dots:MX},pAe={loaders:DX,type:"oval"},mAe=(t,{size:e,color:n})=>({root:{"--loader-size":Ar(e,"loader-size"),"--loader-color":n?sA(n,t):void 0}}),uT=Bn((t,e)=>{const n=vt("Loader",pAe,t),{size:i,color:r,type:s,vars:o,className:a,style:l,classNames:c,styles:d,unstyled:h,loaders:p,variant:m,children:v,...S}=n,A=ni({name:"Loader",props:n,classes:Rc,className:a,style:l,classNames:c,styles:d,unstyled:h,vars:o,varsResolver:mAe});return v?b.jsx(zt,{...A("root"),ref:e,...S,children:v}):b.jsx(zt,{...A("root"),ref:e,component:p[s],variant:m,size:i,...S})});uT.defaultLoaders=DX;uT.classes=Rc;uT.displayName="@mantine/core/Loader";var c1={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const lH={orientation:"horizontal"},gAe=(t,{borderWidth:e})=>({group:{"--ai-border-width":Re(e)}}),vz=Bn((t,e)=>{const n=vt("ActionIconGroup",lH,t),{className:i,style:r,classNames:s,styles:o,unstyled:a,orientation:l,vars:c,borderWidth:d,variant:h,mod:p,...m}=vt("ActionIconGroup",lH,t),v=ni({name:"ActionIconGroup",props:n,classes:c1,className:i,style:r,classNames:s,styles:o,unstyled:a,vars:c,varsResolver:gAe,rootSelector:"group"});return b.jsx(zt,{...v("group"),ref:e,variant:h,mod:[{"data-orientation":l},p],role:"group",...m})});vz.classes=c1;vz.displayName="@mantine/core/ActionIconGroup";const cH={},yAe=(t,{radius:e,color:n,gradient:i,variant:r,autoContrast:s,size:o})=>{const a=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:i,variant:r||"filled",autoContrast:s});return{groupSection:{"--section-height":Ar(o,"section-height"),"--section-padding-x":Ar(o,"section-padding-x"),"--section-fz":_l(o),"--section-radius":e===void 0?void 0:zc(e),"--section-bg":n||r?a.background:void 0,"--section-color":a.color,"--section-bd":n||r?a.border:void 0}}},xz=Bn((t,e)=>{const n=vt("ActionIconGroupSection",cH,t),{className:i,style:r,classNames:s,styles:o,unstyled:a,vars:l,variant:c,gradient:d,radius:h,autoContrast:p,...m}=vt("ActionIconGroupSection",cH,t),v=ni({name:"ActionIconGroupSection",props:n,classes:c1,className:i,style:r,classNames:s,styles:o,unstyled:a,vars:l,varsResolver:yAe,rootSelector:"groupSection"});return b.jsx(zt,{...v("groupSection"),ref:e,variant:c,...m})});xz.classes=c1;xz.displayName="@mantine/core/ActionIconGroupSection";const bAe={},vAe=(t,{size:e,radius:n,variant:i,gradient:r,color:s,autoContrast:o})=>{const a=t.variantColorResolver({color:s||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:o});return{root:{"--ai-size":Ar(e,"ai-size"),"--ai-radius":n===void 0?void 0:zc(n),"--ai-bg":s||i?a.background:void 0,"--ai-hover":s||i?a.hover:void 0,"--ai-hover-color":s||i?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":s||i?a.border:void 0}}},ff=Qp((t,e)=>{const n=vt("ActionIcon",bAe,t),{className:i,unstyled:r,variant:s,classNames:o,styles:a,style:l,loading:c,loaderProps:d,size:h,color:p,radius:m,__staticSelector:v,gradient:S,vars:A,children:E,disabled:M,"data-disabled":R,autoContrast:N,mod:P,...O}=n,$=ni({name:["ActionIcon",v],props:n,className:i,style:l,classes:c1,classNames:o,styles:a,unstyled:r,vars:A,varsResolver:vAe});return b.jsxs(c0,{...$("root",{active:!M&&!c&&!R}),...O,unstyled:r,variant:s,size:h,disabled:M||c,ref:e,mod:[{loading:c,disabled:M||R},P],children:[b.jsx(l1,{mounted:!!c,transition:"slide-down",duration:150,children:F=>b.jsx(zt,{component:"span",...$("loader",{style:F}),"aria-hidden":!0,children:b.jsx(uT,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...d})})}),b.jsx(zt,{component:"span",mod:{loading:c},...$("icon"),children:E})]})});ff.classes=c1;ff.displayName="@mantine/core/ActionIcon";ff.Group=vz;ff.GroupSection=xz;const NX=k.forwardRef(({size:t="var(--cb-icon-size, 70%)",style:e,...n},i)=>b.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:t,height:t},ref:i,...n,children:b.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));NX.displayName="@mantine/core/CloseIcon";var PX={root:"m_86a44da5","root--subtle":"m_220c80f2"};const xAe={variant:"subtle"},wAe=(t,{size:e,radius:n,iconSize:i})=>({root:{"--cb-size":Ar(e,"cb-size"),"--cb-radius":n===void 0?void 0:zc(n),"--cb-icon-size":Re(i)}}),wz=Qp((t,e)=>{const n=vt("CloseButton",xAe,t),{iconSize:i,children:r,vars:s,radius:o,className:a,classNames:l,style:c,styles:d,unstyled:h,"data-disabled":p,disabled:m,variant:v,icon:S,mod:A,__staticSelector:E,...M}=n,R=ni({name:E||"CloseButton",props:n,className:a,style:c,classes:PX,classNames:l,styles:d,unstyled:h,vars:s,varsResolver:wAe});return b.jsxs(c0,{ref:e,...M,unstyled:h,variant:v,disabled:m,mod:[{disabled:m||p},A],...R("root",{variant:v,active:!m&&!p}),children:[S||b.jsx(NX,{}),r]})});wz.classes=PX;wz.displayName="@mantine/core/CloseButton";function SAe(t){return k.Children.toArray(t).filter(Boolean)}var OX={root:"m_4081bf90"};const CAe={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},AAe=(t,{grow:e,preventGrowOverflow:n,gap:i,align:r,justify:s,wrap:o},{childWidth:a})=>({root:{"--group-child-width":e&&n?a:void 0,"--group-gap":Mc(i),"--group-align":r,"--group-justify":s,"--group-wrap":o}}),$D=Bn((t,e)=>{const n=vt("Group",CAe,t),{classNames:i,className:r,style:s,styles:o,unstyled:a,children:l,gap:c,align:d,justify:h,wrap:p,grow:m,preventGrowOverflow:v,vars:S,variant:A,__size:E,mod:M,...R}=n,N=SAe(l),P=N.length,O=Mc(c??"md"),F={childWidth:`calc(${100/P}% - (${O} - ${O} / ${P}))`},q=ni({name:"Group",props:n,stylesCtx:F,className:r,style:s,classes:OX,classNames:i,styles:o,unstyled:a,vars:S,varsResolver:AAe});return b.jsx(zt,{...q("root"),ref:e,variant:A,mod:[{grow:m},M],size:E,...R,children:N})});$D.classes=OX;$D.displayName="@mantine/core/Group";const[EAe,TAe]=iz({size:"sm"}),kAe={},LX=Bn((t,e)=>{const n=vt("InputClearButton",kAe,t),{size:i,variant:r,vars:s,classNames:o,styles:a,...l}=n,c=TAe(),{resolvedClassNames:d,resolvedStyles:h}=cz({classNames:o,styles:a,props:n});return b.jsx(wz,{variant:r||"transparent",ref:e,size:i||(c==null?void 0:c.size)||"sm",classNames:d,styles:h,__staticSelector:"InputClearButton",...l})});LX.displayName="@mantine/core/InputClearButton";const[_Ae,zD]=iz({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Ol={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const uH={},MAe=(t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${_l(e)} - ${Re(2)})`}}),BD=Bn((t,e)=>{const n=vt("InputDescription",uH,t),{classNames:i,className:r,style:s,styles:o,unstyled:a,vars:l,size:c,__staticSelector:d,__inheritStyles:h=!0,variant:p,...m}=vt("InputDescription",uH,n),v=zD(),S=ni({name:["InputWrapper",d],props:n,classes:Ol,className:r,style:s,classNames:i,styles:o,unstyled:a,rootSelector:"description",vars:l,varsResolver:MAe}),A=h&&(v==null?void 0:v.getStyles)||S;return b.jsx(zt,{component:"p",ref:e,variant:p,size:c,...A("description",v!=null&&v.getStyles?{className:r,style:s}:void 0),...m})});BD.classes=Ol;BD.displayName="@mantine/core/InputDescription";const RAe={},DAe=(t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${_l(e)} - ${Re(2)})`}}),VD=Bn((t,e)=>{const n=vt("InputError",RAe,t),{classNames:i,className:r,style:s,styles:o,unstyled:a,vars:l,size:c,__staticSelector:d,__inheritStyles:h=!0,variant:p,...m}=n,v=ni({name:["InputWrapper",d],props:n,classes:Ol,className:r,style:s,classNames:i,styles:o,unstyled:a,rootSelector:"error",vars:l,varsResolver:DAe}),S=zD(),A=h&&(S==null?void 0:S.getStyles)||v;return b.jsx(zt,{component:"p",ref:e,variant:p,size:c,...A("error",S!=null&&S.getStyles?{className:r,style:s}:void 0),...m})});VD.classes=Ol;VD.displayName="@mantine/core/InputError";const dH={labelElement:"label"},NAe=(t,{size:e})=>({label:{"--input-label-size":_l(e),"--input-asterisk-color":void 0}}),HD=Bn((t,e)=>{const n=vt("InputLabel",dH,t),{classNames:i,className:r,style:s,styles:o,unstyled:a,vars:l,labelElement:c,size:d,required:h,htmlFor:p,onMouseDown:m,children:v,__staticSelector:S,variant:A,mod:E,...M}=vt("InputLabel",dH,n),R=ni({name:["InputWrapper",S],props:n,classes:Ol,className:r,style:s,classNames:i,styles:o,unstyled:a,rootSelector:"label",vars:l,varsResolver:NAe}),N=zD(),P=(N==null?void 0:N.getStyles)||R;return b.jsxs(zt,{...P("label",N!=null&&N.getStyles?{className:r,style:s}:void 0),component:c,variant:A,size:d,ref:e,htmlFor:c==="label"?p:void 0,mod:[{required:h},E],onMouseDown:O=>{m==null||m(O),!O.defaultPrevented&&O.detail>1&&O.preventDefault()},...M,children:[v,h&&b.jsx("span",{...P("required"),"aria-hidden":!0,children:" *"})]})});HD.classes=Ol;HD.displayName="@mantine/core/InputLabel";const fH={},Sz=Bn((t,e)=>{const n=vt("InputPlaceholder",fH,t),{classNames:i,className:r,style:s,styles:o,unstyled:a,vars:l,__staticSelector:c,variant:d,error:h,mod:p,...m}=vt("InputPlaceholder",fH,n),v=ni({name:["InputPlaceholder",c],props:n,classes:Ol,className:r,style:s,classNames:i,styles:o,unstyled:a,rootSelector:"placeholder"});return b.jsx(zt,{...v("placeholder"),mod:[{error:!!h},p],component:"span",variant:d,ref:e,...m})});Sz.classes=Ol;Sz.displayName="@mantine/core/InputPlaceholder";function PAe(t,{hasDescription:e,hasError:n}){const i=t.findIndex(l=>l==="input"),r=t.slice(0,i),s=t.slice(i+1),o=e&&r.includes("description")||n&&r.includes("error");return{offsetBottom:e&&s.includes("description")||n&&s.includes("error"),offsetTop:o}}const OAe={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},LAe=(t,{size:e})=>({label:{"--input-label-size":_l(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${_l(e)} - ${Re(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${_l(e)} - ${Re(2)})`}}),Cz=Bn((t,e)=>{const n=vt("InputWrapper",OAe,t),{classNames:i,className:r,style:s,styles:o,unstyled:a,vars:l,size:c,variant:d,__staticSelector:h,inputContainer:p,inputWrapperOrder:m,label:v,error:S,description:A,labelProps:E,descriptionProps:M,errorProps:R,labelElement:N,children:P,withAsterisk:O,id:$,required:F,__stylesApiProps:q,mod:B,...X}=n,Q=ni({name:["InputWrapper",h],props:q||n,classes:Ol,className:r,style:s,classNames:i,styles:o,unstyled:a,vars:l,varsResolver:LAe}),J={size:c,variant:d,__staticSelector:h},oe=_3($),ce=typeof O=="boolean"?O:F,le=(R==null?void 0:R.id)||`${oe}-error`,ee=(M==null?void 0:M.id)||`${oe}-description`,Z=oe,se=!!S&&typeof S!="boolean",j=!!A,te=`${se?le:""} ${j?ee:""}`,ae=te.trim().length>0?te.trim():void 0,U=(E==null?void 0:E.id)||`${oe}-label`,ve=v&&b.jsx(HD,{labelElement:N,id:U,htmlFor:Z,required:ce,...J,...E,children:v},"label"),ke=j&&b.jsx(BD,{...M,...J,size:(M==null?void 0:M.size)||J.size,id:(M==null?void 0:M.id)||ee,children:A},"description"),Ce=b.jsx(k.Fragment,{children:p(P)},"input"),je=se&&k.createElement(VD,{...R,...J,size:(R==null?void 0:R.size)||J.size,key:"error",id:(R==null?void 0:R.id)||le},S),Ue=m.map(Ye=>{switch(Ye){case"label":return ve;case"input":return Ce;case"description":return ke;case"error":return je;default:return null}});return b.jsx(_Ae,{value:{getStyles:Q,describedBy:ae,inputId:Z,labelId:U,...PAe(m,{hasDescription:j,hasError:se})},children:b.jsx(zt,{ref:e,variant:d,size:c,mod:[{error:!!S},B],...Q("root"),...X,children:Ue})})});Cz.classes=Ol;Cz.displayName="@mantine/core/InputWrapper";const jAe={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},IAe=(t,e,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Ar(e.size,"input-height"),"--input-fz":_l(e.size),"--input-radius":e.radius===void 0?void 0:zc(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?Re(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?Re(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?Ar(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),Dl=Qp((t,e)=>{const n=vt("Input",jAe,t),{classNames:i,className:r,style:s,styles:o,unstyled:a,required:l,__staticSelector:c,__stylesApiProps:d,size:h,wrapperProps:p,error:m,disabled:v,leftSection:S,leftSectionProps:A,leftSectionWidth:E,rightSection:M,rightSectionProps:R,rightSectionWidth:N,rightSectionPointerEvents:P,leftSectionPointerEvents:O,variant:$,vars:F,pointer:q,multiline:B,radius:X,id:Q,withAria:J,withErrorStyles:oe,mod:ce,inputSize:le,__clearSection:ee,__clearable:Z,__defaultRightSection:se,...j}=n,{styleProps:te,rest:ae}=dz(j),U=zD(),ve={offsetBottom:U==null?void 0:U.offsetBottom,offsetTop:U==null?void 0:U.offsetTop},ke=ni({name:["Input",c],props:d||n,classes:Ol,className:r,style:s,classNames:i,styles:o,unstyled:a,stylesCtx:ve,rootSelector:"wrapper",vars:F,varsResolver:IAe}),Ce=J?{required:l,disabled:v,"aria-invalid":!!m,"aria-describedby":U==null?void 0:U.describedBy,id:(U==null?void 0:U.inputId)||Q}:{},je=M||Z&&ee||se;return b.jsx(EAe,{value:{size:h||"sm"},children:b.jsxs(zt,{...ke("wrapper"),...te,...p,mod:[{error:!!m&&oe,pointer:q,disabled:v,multiline:B,"data-with-right-section":!!je,"data-with-left-section":!!S},ce],variant:$,size:h,children:[S&&b.jsx("div",{...A,"data-position":"left",...ke("section",{className:A==null?void 0:A.className,style:A==null?void 0:A.style}),children:S}),b.jsx(zt,{component:"input",...ae,...Ce,ref:e,required:l,mod:{disabled:v,error:!!m&&oe},variant:$,__size:le,...ke("input")}),je&&b.jsx("div",{...R,"data-position":"right",...ke("section",{className:R==null?void 0:R.className,style:R==null?void 0:R.style}),children:je})]})})});Dl.classes=Ol;Dl.Wrapper=Cz;Dl.Label=HD;Dl.Error=VD;Dl.Description=BD;Dl.Placeholder=Sz;Dl.ClearButton=LX;Dl.displayName="@mantine/core/Input";function FAe(t,e,n){const i=vt(t,e,n),{label:r,description:s,error:o,required:a,classNames:l,styles:c,className:d,unstyled:h,__staticSelector:p,__stylesApiProps:m,errorProps:v,labelProps:S,descriptionProps:A,wrapperProps:E,id:M,size:R,style:N,inputContainer:P,inputWrapperOrder:O,withAsterisk:$,variant:F,vars:q,mod:B,...X}=i,{styleProps:Q,rest:J}=dz(X),oe={label:r,description:s,error:o,required:a,classNames:l,className:d,__staticSelector:p,__stylesApiProps:m||i,errorProps:v,labelProps:S,descriptionProps:A,unstyled:h,styles:c,size:R,style:N,inputContainer:P,inputWrapperOrder:O,withAsterisk:$,variant:F,id:M,mod:B,...E};return{...J,classNames:l,styles:c,unstyled:h,wrapperProps:{...oe,...Q},inputProps:{required:a,classNames:l,styles:c,unstyled:h,size:R,__staticSelector:p,__stylesApiProps:m||i,error:o,variant:F,id:M}}}const $Ae={__staticSelector:"InputBase",withAria:!0},UD=Qp((t,e)=>{const{inputProps:n,wrapperProps:i,...r}=FAe("InputBase",$Ae,t);return b.jsx(Dl.Wrapper,{...i,children:b.jsx(Dl,{...n,...r,ref:e})})});UD.classes={...Dl.classes,...Dl.Wrapper.classes};UD.displayName="@mantine/core/InputBase";var u1={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const hH={orientation:"horizontal"},zAe=(t,{borderWidth:e})=>({group:{"--button-border-width":Re(e)}}),Az=Bn((t,e)=>{const n=vt("ButtonGroup",hH,t),{className:i,style:r,classNames:s,styles:o,unstyled:a,orientation:l,vars:c,borderWidth:d,variant:h,mod:p,...m}=vt("ButtonGroup",hH,t),v=ni({name:"ButtonGroup",props:n,classes:u1,className:i,style:r,classNames:s,styles:o,unstyled:a,vars:c,varsResolver:zAe,rootSelector:"group"});return b.jsx(zt,{...v("group"),ref:e,variant:h,mod:[{"data-orientation":l},p],role:"group",...m})});Az.classes=u1;Az.displayName="@mantine/core/ButtonGroup";const pH={},BAe=(t,{radius:e,color:n,gradient:i,variant:r,autoContrast:s,size:o})=>{const a=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:i,variant:r||"filled",autoContrast:s});return{groupSection:{"--section-height":Ar(o,"section-height"),"--section-padding-x":Ar(o,"section-padding-x"),"--section-fz":o!=null&&o.includes("compact")?_l(o.replace("compact-","")):_l(o),"--section-radius":e===void 0?void 0:zc(e),"--section-bg":n||r?a.background:void 0,"--section-color":a.color,"--section-bd":n||r?a.border:void 0}}},Ez=Bn((t,e)=>{const n=vt("ButtonGroupSection",pH,t),{className:i,style:r,classNames:s,styles:o,unstyled:a,vars:l,variant:c,gradient:d,radius:h,autoContrast:p,...m}=vt("ButtonGroupSection",pH,t),v=ni({name:"ButtonGroupSection",props:n,classes:u1,className:i,style:r,classNames:s,styles:o,unstyled:a,vars:l,varsResolver:BAe,rootSelector:"groupSection"});return b.jsx(zt,{...v("groupSection"),ref:e,variant:c,...m})});Ez.classes=u1;Ez.displayName="@mantine/core/ButtonGroupSection";const VAe={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Re(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},HAe={},UAe=(t,{radius:e,color:n,gradient:i,variant:r,size:s,justify:o,autoContrast:a})=>{const l=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:i,variant:r||"filled",autoContrast:a});return{root:{"--button-justify":o,"--button-height":Ar(s,"button-height"),"--button-padding-x":Ar(s,"button-padding-x"),"--button-fz":s!=null&&s.includes("compact")?_l(s.replace("compact-","")):_l(s),"--button-radius":e===void 0?void 0:zc(e),"--button-bg":n||r?l.background:void 0,"--button-hover":n||r?l.hover:void 0,"--button-color":l.color,"--button-bd":n||r?l.border:void 0,"--button-hover-color":n||r?l.hoverColor:void 0}}},dT=Qp((t,e)=>{const n=vt("Button",HAe,t),{style:i,vars:r,className:s,color:o,disabled:a,children:l,leftSection:c,rightSection:d,fullWidth:h,variant:p,radius:m,loading:v,loaderProps:S,gradient:A,classNames:E,styles:M,unstyled:R,"data-disabled":N,autoContrast:P,mod:O,...$}=n,F=ni({name:"Button",props:n,classes:u1,className:s,style:i,classNames:E,styles:M,unstyled:R,vars:r,varsResolver:UAe}),q=!!c,B=!!d;return b.jsxs(c0,{ref:e,...F("root",{active:!a&&!v&&!N}),unstyled:R,variant:p,disabled:a||v,mod:[{disabled:a||N,loading:v,block:h,"with-left-section":q,"with-right-section":B},O],...$,children:[b.jsx(l1,{mounted:!!v,transition:VAe,duration:150,children:X=>b.jsx(zt,{component:"span",...F("loader",{style:X}),"aria-hidden":!0,children:b.jsx(uT,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...S})})}),b.jsxs("span",{...F("inner"),children:[c&&b.jsx(zt,{component:"span",...F("section"),mod:{position:"left"},children:c}),b.jsx(zt,{component:"span",mod:{loading:v},...F("label"),children:l}),d&&b.jsx(zt,{component:"span",...F("section"),mod:{position:"right"},children:d})]})]})});dT.classes=u1;dT.displayName="@mantine/core/Button";dT.Group=Az;dT.GroupSection=Ez;var jX={root:"m_de3d2490",colorOverlay:"m_862f3d1b",shadowOverlay:"m_98ae7f22",alphaOverlay:"m_95709ac0",childrenOverlay:"m_93e74e3"};const mH={withShadow:!0},qAe=(t,{radius:e,size:n})=>({root:{"--cs-radius":e===void 0?void 0:zc(e),"--cs-size":Re(n)}}),Jy=Qp((t,e)=>{const n=vt("ColorSwatch",mH,t),{classNames:i,className:r,style:s,styles:o,unstyled:a,vars:l,color:c,size:d,radius:h,withShadow:p,children:m,variant:v,...S}=vt("ColorSwatch",mH,n),A=ni({name:"ColorSwatch",props:n,classes:jX,className:r,style:s,classNames:i,styles:o,unstyled:a,vars:l,varsResolver:qAe});return b.jsxs(zt,{ref:e,variant:v,size:d,...A("root",{focusable:!0}),...S,children:[b.jsx("span",{...A("alphaOverlay")}),p&&b.jsx("span",{...A("shadowOverlay")}),b.jsx("span",{...A("colorOverlay",{style:{backgroundColor:c}})}),b.jsx("span",{...A("childrenOverlay"),children:m})]})});Jy.classes=jX;Jy.displayName="@mantine/core/ColorSwatch";const[GAe,Tz]=iz(null),kz=k.forwardRef(({position:t,...e},n)=>b.jsx(zt,{ref:n,__vars:{"--thumb-y-offset":`${t.y*100}%`,"--thumb-x-offset":`${t.x*100}%`},...e}));kz.displayName="@mantine/core/ColorPickerThumb";var _z={wrapper:"m_fee9c77",preview:"m_9dddfbac",body:"m_bffecc3e",sliders:"m_3283bb96",thumb:"m_40d572ba",swatch:"m_d8ee6fd8",swatches:"m_5711e686",saturation:"m_202a296e",saturationOverlay:"m_11b3db02",slider:"m_d856d47d",sliderOverlay:"m_8f327113"};const WAe={},Mz=Bn((t,e)=>{var Z;const n=vt("ColorSlider",WAe,t),{classNames:i,className:r,style:s,styles:o,unstyled:a,vars:l,onChange:c,onChangeEnd:d,maxValue:h,round:p,size:m="md",focusable:v=!0,value:S,overlays:A,thumbColor:E="transparent",onScrubStart:M,onScrubEnd:R,__staticSelector:N="ColorPicker",...P}=n,O=ni({name:N,classes:_z,props:n,className:r,style:s,classNames:i,styles:o,unstyled:a}),F=((Z=Tz())==null?void 0:Z.getStyles)||O,q=Bc(),[B,X]=k.useState({y:0,x:S/h}),Q=k.useRef(B),J=se=>p?Math.round(se*h):se*h,{ref:oe}=lK(({x:se,y:j})=>{Q.current={x:se,y:j},c==null||c(J(se))},{onScrubEnd:()=>{const{x:se}=Q.current;d==null||d(J(se)),R==null||R()},onScrubStart:M});Ju(()=>{X({y:0,x:S/h})},[S]);const ce=(se,j)=>{se.preventDefault();const te=aK(j);c==null||c(J(te.x)),d==null||d(J(te.x))},le=se=>{switch(se.key){case"ArrowRight":{ce(se,{x:B.x+.05,y:B.y});break}case"ArrowLeft":{ce(se,{x:B.x-.05,y:B.y});break}}},ee=A.map((se,j)=>k.createElement("div",{...F("sliderOverlay"),style:se,key:j}));return b.jsxs(zt,{...P,ref:o1(oe,e),...F("slider"),role:"slider","aria-valuenow":S,"aria-valuemax":h,"aria-valuemin":0,tabIndex:v?0:-1,onKeyDown:le,"data-focus-ring":q.focusRing,__vars:{"--cp-thumb-size":`var(--cp-thumb-size-${m})`},children:[ee,b.jsx(kz,{position:B,...F("thumb",{style:{top:Re(1),background:E}})})]})});Mz.displayName="@mantine/core/ColorSlider";function Al(t,e=0,n=10**e){return Math.round(n*t)/n}function KAe({h:t,s:e,l:n,a:i}){const r=e*((n<50?n:100-n)/100);return{h:t,s:r>0?2*r/(n+r)*100:0,v:n+r,a:i}}const YAe={grad:360/400,turn:360,rad:360/(Math.PI*2)};function XAe(t,e="deg"){return Number(t)*(YAe[e]||1)}const JAe=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function gH(t){const e=JAe.exec(t);return e?KAe({h:XAe(e[1],e[2]),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)}):{h:0,s:0,v:0,a:1}}function Yj({r:t,g:e,b:n,a:i}){const r=Math.max(t,e,n),s=r-Math.min(t,e,n),o=s?r===t?(e-n)/s:r===e?2+(n-t)/s:4+(t-e)/s:0;return{h:Al(60*(o<0?o+6:o),3),s:Al(r?s/r*100:0,3),v:Al(r/255*100,3),a:i}}function Xj(t){const e=t[0]==="#"?t.slice(1):t;return e.length===3?Yj({r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:1}):Yj({r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:1})}function ZAe(t){const e=t[0]==="#"?t.slice(1):t,n=o=>Al(parseInt(o,16)/255,3);if(e.length===4){const o=e.slice(0,3),a=n(e[3]+e[3]);return{...Xj(o),a}}const i=e.slice(0,6),r=n(e.slice(6,8));return{...Xj(i),a:r}}const QAe=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function yH(t){const e=QAe.exec(t);return e?Yj({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):{h:0,s:0,v:0,a:1}}const IX={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},eEe={hex:Xj,hexa:ZAe,rgb:yH,rgba:yH,hsl:gH,hsla:gH};function tEe(t){for(const[,e]of Object.entries(IX))if(e.test(t))return!0;return!1}function iM(t){if(typeof t!="string")return{h:0,s:0,v:0,a:1};if(t==="transparent")return{h:0,s:0,v:0,a:0};const e=t.trim();for(const[n,i]of Object.entries(IX))if(i.test(e))return eEe[n](e);return{h:0,s:0,v:0,a:1}}const nEe={},FX=k.forwardRef((t,e)=>{const{value:n,onChange:i,onChangeEnd:r,color:s,...o}=vt("AlphaSlider",nEe,t);return b.jsx(Mz,{...o,ref:e,value:n,onChange:a=>i==null?void 0:i(Al(a,2)),onChangeEnd:a=>r==null?void 0:r(Al(a,2)),maxValue:1,round:!1,"data-alpha":!0,overlays:[{backgroundImage:"linear-gradient(45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(-45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--slider-checkers) 75%), linear-gradient(-45deg, var(--mantine-color-body) 75%, var(--slider-checkers) 75%)",backgroundSize:`${Re(8)} ${Re(8)}`,backgroundPosition:`0 0, 0 ${Re(4)}, ${Re(4)} ${Re(-4)}, ${Re(-4)} 0`},{backgroundImage:`linear-gradient(90deg, transparent, ${s})`},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${Re(1)} inset, rgb(0, 0, 0, .15) 0 0 ${Re(4)} inset`}]})});FX.displayName="@mantine/core/AlphaSlider";function $X({h:t,s:e,v:n,a:i}){const r=t/360*6,s=e/100,o=n/100,a=Math.floor(r),l=o*(1-s),c=o*(1-(r-a)*s),d=o*(1-(1-r+a)*s),h=a%6;return{r:Al([o,c,l,l,d,o][h]*255),g:Al([d,o,o,c,l,l][h]*255),b:Al([l,l,d,o,o,c][h]*255),a:Al(i,2)}}function bH(t,e){const{r:n,g:i,b:r,a:s}=$X(t);return e?`rgba(${n}, ${i}, ${r}, ${Al(s,2)})`:`rgb(${n}, ${i}, ${r})`}function vH({h:t,s:e,v:n,a:i},r){const s=(200-e)*n/100,o={h:Math.round(t),s:Math.round(s>0&&s<200?e*n/100/(s<=100?s:200-s)*100:0),l:Math.round(s/2)};return r?`hsla(${o.h}, ${o.s}%, ${o.l}%, ${Al(i,2)})`:`hsl(${o.h}, ${o.s}%, ${o.l}%)`}function IM(t){const e=t.toString(16);return e.length<2?`0${e}`:e}function zX(t){const{r:e,g:n,b:i}=$X(t);return`#${IM(e)}${IM(n)}${IM(i)}`}function iEe(t){const e=Math.round(t.a*255);return`${zX(t)}${IM(e)}`}const HO={hex:zX,hexa:t=>iEe(t),rgb:t=>bH(t,!1),rgba:t=>bH(t,!0),hsl:t=>vH(t,!1),hsla:t=>vH(t,!0)};function jh(t,e){return e?t in HO?HO[t](e):HO.hex(e):"#000000"}const BX=k.forwardRef((t,e)=>{const{value:n,onChange:i,onChangeEnd:r,color:s,...o}=vt("HueSlider",{},t);return b.jsx(Mz,{...o,ref:e,value:n,onChange:i,onChangeEnd:r,maxValue:360,thumbColor:`hsl(${n}, 100%, 50%)`,round:!0,"data-hue":!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${Re(1)} inset, rgb(0, 0, 0, .15) 0 0 ${Re(4)} inset`}]})});BX.displayName="@mantine/core/HueSlider";function VX({className:t,onChange:e,onChangeEnd:n,value:i,saturationLabel:r,focusable:s=!0,size:o,color:a,onScrubStart:l,onScrubEnd:c,...d}){const{getStyles:h}=Tz(),[p,m]=k.useState({x:i.s/100,y:1-i.v/100}),v=k.useRef(p),{ref:S}=lK(({x:M,y:R})=>{v.current={x:M,y:R},e({s:Math.round(M*100),v:Math.round((1-R)*100)})},{onScrubEnd:()=>{const{x:M,y:R}=v.current;n({s:Math.round(M*100),v:Math.round((1-R)*100)}),c==null||c()},onScrubStart:l});k.useEffect(()=>{m({x:i.s/100,y:1-i.v/100})},[i.s,i.v]);const A=(M,R)=>{M.preventDefault();const N=aK(R);e({s:Math.round(N.x*100),v:Math.round((1-N.y)*100)}),n({s:Math.round(N.x*100),v:Math.round((1-N.y)*100)})},E=M=>{switch(M.key){case"ArrowUp":{A(M,{y:p.y-.05,x:p.x});break}case"ArrowDown":{A(M,{y:p.y+.05,x:p.x});break}case"ArrowRight":{A(M,{x:p.x+.05,y:p.y});break}case"ArrowLeft":{A(M,{x:p.x-.05,y:p.y});break}}};return b.jsxs(zt,{...h("saturation"),ref:S,...d,role:"slider","aria-label":r,"aria-valuenow":p.x,"aria-valuetext":jh("rgba",i),tabIndex:s?0:-1,onKeyDown:E,children:[b.jsx("div",{...h("saturationOverlay",{style:{backgroundColor:`hsl(${i.h}, 100%, 50%)`}})}),b.jsx("div",{...h("saturationOverlay",{style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}})}),b.jsx("div",{...h("saturationOverlay",{style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}})}),b.jsx(kz,{position:p,...h("thumb",{style:{backgroundColor:a}})})]})}VX.displayName="@mantine/core/Saturation";const HX=k.forwardRef(({className:t,datatype:e,setValue:n,onChangeEnd:i,size:r,focusable:s,data:o,swatchesPerRow:a,...l},c)=>{const d=Tz(),h=o.map((p,m)=>k.createElement(Jy,{...d.getStyles("swatch"),unstyled:d.unstyled,component:"button",type:"button",color:p,key:m,radius:"sm",onClick:()=>{n(p),i==null||i(p)},"aria-label":p,tabIndex:s?0:-1,"data-swatch":!0}));return b.jsx(zt,{...d.getStyles("swatches"),ref:c,...l,children:h})});HX.displayName="@mantine/core/Swatches";const rEe={swatchesPerRow:7,withPicker:!0,focusable:!0,size:"md",__staticSelector:"ColorPicker"},sEe=(t,{size:e,swatchesPerRow:n})=>({wrapper:{"--cp-preview-size":Ar(e,"cp-preview-size"),"--cp-width":Ar(e,"cp-width"),"--cp-body-spacing":Mc(e),"--cp-swatch-size":`${100/n}%`,"--cp-thumb-size":Ar(e,"cp-thumb-size"),"--cp-saturation-height":Ar(e,"cp-saturation-height")}}),Rz=Bn((t,e)=>{const n=vt("ColorPicker",rEe,t),{classNames:i,className:r,style:s,styles:o,unstyled:a,vars:l,format:c,value:d,defaultValue:h,onChange:p,onChangeEnd:m,withPicker:v,size:S,saturationLabel:A,hueLabel:E,alphaLabel:M,focusable:R,swatches:N,swatchesPerRow:P,fullWidth:O,onColorSwatchClick:$,__staticSelector:F,mod:q,...B}=n,X=ni({name:F,props:n,classes:_z,className:r,style:s,classNames:i,styles:o,unstyled:a,rootSelector:"wrapper",vars:l,varsResolver:sEe}),Q=k.useRef(c),J=k.useRef(""),oe=k.useRef(-1),ce=k.useRef(!1),le=c==="hexa"||c==="rgba"||c==="hsla",[ee,Z,se]=cK({value:d,defaultValue:h,finalValue:"#FFFFFF",onChange:p}),[j,te]=k.useState(iM(ee)),ae=()=>{window.clearTimeout(oe.current),ce.current=!0},U=()=>{window.clearTimeout(oe.current),oe.current=window.setTimeout(()=>{ce.current=!1},200)},ve=ke=>{te(Ce=>{const je={...Ce,...ke};return J.current=jh(Q.current,je),je}),Z(J.current)};return Ju(()=>{tEe(d)&&!ce.current&&te(iM(d))},[d]),Ju(()=>{Q.current=c,Z(jh(c,j))},[c]),b.jsx(GAe,{value:{getStyles:X,unstyled:a},children:b.jsxs(zt,{ref:e,...X("wrapper"),size:S,mod:[{"full-width":O},q],...B,children:[v&&b.jsxs(b.Fragment,{children:[b.jsx(VX,{value:j,onChange:ve,onChangeEnd:({s:ke,v:Ce})=>m==null?void 0:m(jh(Q.current,{...j,s:ke,v:Ce})),color:ee,size:S,focusable:R,saturationLabel:A,onScrubStart:ae,onScrubEnd:U}),b.jsxs("div",{...X("body"),children:[b.jsxs("div",{...X("sliders"),children:[b.jsx(BX,{value:j.h,onChange:ke=>ve({h:ke}),onChangeEnd:ke=>m==null?void 0:m(jh(Q.current,{...j,h:ke})),size:S,focusable:R,"aria-label":E,onScrubStart:ae,onScrubEnd:U}),le&&b.jsx(FX,{value:j.a,onChange:ke=>ve({a:ke}),onChangeEnd:ke=>{m==null||m(jh(Q.current,{...j,a:ke}))},size:S,color:jh("hex",j),focusable:R,"aria-label":M,onScrubStart:ae,onScrubEnd:U})]}),le&&b.jsx(Jy,{color:ee,radius:"sm",size:"var(--cp-preview-size)",...X("preview")})]})]}),Array.isArray(N)&&b.jsx(HX,{data:N,swatchesPerRow:P,focusable:R,setValue:Z,onChangeEnd:ke=>{const Ce=jh(c,iM(ke));$==null||$(Ce),m==null||m(Ce),se||te(iM(ke))}})]})})});Rz.classes=_z;Rz.displayName="@mantine/core/ColorPicker";function oEe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var aEe=k.useLayoutEffect,lEe=function(e){var n=Se.useRef(e);return aEe(function(){n.current=e}),n},xH=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},cEe=function(e,n){var i=Se.useRef();return Se.useCallback(function(r){e.current=r,i.current&&xH(i.current,null),i.current=n,n&&xH(n,r)},[n])},wH={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},uEe=function(e){Object.keys(wH).forEach(function(n){e.style.setProperty(n,wH[n],"important")})},SH=uEe,oo=null,CH=function(e,n){var i=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?i+n.borderSize:i-n.paddingSize};function dEe(t,e,n,i){n===void 0&&(n=1),i===void 0&&(i=1/0),oo||(oo=document.createElement("textarea"),oo.setAttribute("tabindex","-1"),oo.setAttribute("aria-hidden","true"),SH(oo)),oo.parentNode===null&&document.body.appendChild(oo);var r=t.paddingSize,s=t.borderSize,o=t.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(p){var m=p;oo.style[m]=o[m]}),SH(oo),oo.value=e;var l=CH(oo,t);oo.value=e,l=CH(oo,t),oo.value="x";var c=oo.scrollHeight-r,d=c*n;a==="border-box"&&(d=d+r+s),l=Math.max(d,l);var h=c*i;return a==="border-box"&&(h=h+r+s),l=Math.min(h,l),[l,c]}var AH=function(){},fEe=function(e,n){return e.reduce(function(i,r){return i[r]=n[r],i},{})},hEe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],pEe=!!document.documentElement.currentStyle,mEe=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var i=fEe(hEe,n),r=i.boxSizing;if(r==="")return null;pEe&&r==="border-box"&&(i.width=parseFloat(i.width)+parseFloat(i.borderRightWidth)+parseFloat(i.borderLeftWidth)+parseFloat(i.paddingRight)+parseFloat(i.paddingLeft)+"px");var s=parseFloat(i.paddingBottom)+parseFloat(i.paddingTop),o=parseFloat(i.borderBottomWidth)+parseFloat(i.borderTopWidth);return{sizingStyle:i,paddingSize:s,borderSize:o}},gEe=mEe;function Dz(t,e,n){var i=lEe(n);k.useLayoutEffect(function(){var r=function(o){return i.current(o)};if(t)return t.addEventListener(e,r),function(){return t.removeEventListener(e,r)}},[])}var yEe=function(e,n){Dz(document.body,"reset",function(i){e.current.form===i.target&&n(i)})},bEe=function(e){Dz(window,"resize",e)},vEe=function(e){Dz(document.fonts,"loadingdone",e)},xEe=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],wEe=function(e,n){var i=e.cacheMeasurements,r=e.maxRows,s=e.minRows,o=e.onChange,a=o===void 0?AH:o,l=e.onHeightChange,c=l===void 0?AH:l,d=oEe(e,xEe),h=d.value!==void 0,p=k.useRef(null),m=cEe(p,n),v=k.useRef(0),S=k.useRef(),A=function(){var R=p.current,N=i&&S.current?S.current:gEe(R);if(N){S.current=N;var P=dEe(N,R.value||R.placeholder||"x",s,r),O=P[0],$=P[1];v.current!==O&&(v.current=O,R.style.setProperty("height",O+"px","important"),c(O,{rowHeight:$}))}},E=function(R){h||A(),a(R)};return k.useLayoutEffect(A),yEe(p,function(){if(!h){var M=p.current.value;requestAnimationFrame(function(){var R=p.current;R&&M!==R.value&&A()})}}),bEe(A),vEe(A),k.createElement("textarea",BC({},d,{onChange:E,ref:m}))},SEe=k.forwardRef(wEe);const CEe={duration:100,transition:"fade"};function AEe(t,e){return{...CEe,...e,...t}}function EEe({offset:t,position:e,defaultOpened:n}){const[i,r]=k.useState(n),s=k.useRef(null),{x:o,y:a,elements:l,refs:c,update:d,placement:h}=q$({placement:e,middleware:[B$({crossAxis:!0,padding:5,rootBoundary:"document"})]}),p=h.includes("right")?t:e.includes("left")?t*-1:0,m=h.includes("bottom")?t:e.includes("top")?t*-1:0,v=k.useCallback(({clientX:S,clientY:A})=>{c.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:S,y:A,left:S+p,top:A+m,right:S,bottom:A}}})},[l.reference]);return k.useEffect(()=>{if(c.floating.current){const S=s.current;S.addEventListener("mousemove",v);const A=yf(c.floating.current);return A.forEach(E=>{E.addEventListener("scroll",d)}),()=>{S.removeEventListener("mousemove",v),A.forEach(E=>{E.removeEventListener("scroll",d)})}}},[l.reference,c.floating.current,d,v,i]),{handleMouseMove:v,x:o,y:a,opened:i,setOpened:r,boundaryRef:s,floating:c.setFloating}}var qD={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const TEe={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:ID("popover")},kEe=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:zc(e),"--tooltip-bg":n?sA(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),Nz=Bn((t,e)=>{const n=vt("TooltipFloating",TEe,t),{children:i,refProp:r,withinPortal:s,style:o,className:a,classNames:l,styles:c,unstyled:d,radius:h,color:p,label:m,offset:v,position:S,multiline:A,zIndex:E,disabled:M,defaultOpened:R,variant:N,vars:P,portalProps:O,...$}=n,F=Bc(),q=ni({name:"TooltipFloating",props:n,classes:qD,className:a,style:o,classNames:l,styles:c,unstyled:d,rootSelector:"tooltip",vars:P,varsResolver:kEe}),{handleMouseMove:B,x:X,y:Q,opened:J,boundaryRef:oe,floating:ce,setOpened:le}=EEe({offset:v,position:S,defaultOpened:R});if(!jD(i))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const ee=o1(oe,rz(i),e),Z=i.props,se=te=>{var ae;(ae=Z.onMouseEnter)==null||ae.call(Z,te),B(te),le(!0)},j=te=>{var ae;(ae=Z.onMouseLeave)==null||ae.call(Z,te),le(!1)};return b.jsxs(b.Fragment,{children:[b.jsx(cT,{...O,withinPortal:s,children:b.jsx(zt,{...$,...q("tooltip",{style:{...hX(o,F),zIndex:E,display:!M&&J?"block":"none",top:(Q&&Math.round(Q))??"",left:(X&&Math.round(X))??""}}),variant:N,ref:ce,mod:{multiline:A},children:m})}),k.cloneElement(i,{...Z,[r]:ee,onMouseEnter:se,onMouseLeave:j})]})});Nz.classes=qD;Nz.displayName="@mantine/core/TooltipFloating";const UX=k.createContext(!1),_Ee=UX.Provider,MEe=()=>k.useContext(UX),REe={openDelay:0,closeDelay:0};function Pz(t){const{openDelay:e,closeDelay:n,children:i}=vt("TooltipGroup",REe,t);return b.jsx(_Ee,{value:!0,children:b.jsx(Tle,{delay:{open:e,close:n},children:i})})}Pz.displayName="@mantine/core/TooltipGroup";Pz.extend=t=>t;function DEe(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function NEe(t){const e=DEe(t.middlewares),n=[$q(t.offset)];return e.shift&&n.push(B$(typeof e.shift=="boolean"?{padding:8}:{padding:8,...e.shift})),e.flip&&n.push(typeof e.flip=="boolean"?_R():_R(e.flip)),n.push(zq({element:t.arrowRef,padding:t.arrowOffset})),e.inline?n.push(typeof e.inline=="boolean"?mC():mC(e.inline)):t.inline&&n.push(mC()),n}function PEe(t){var O,$,F;const[e,n]=k.useState(t.defaultOpened),r=typeof t.opened=="boolean"?t.opened:e,s=MEe(),o=_3(),a=k.useCallback(q=>{n(q),q&&M(o)},[o]),{x:l,y:c,context:d,refs:h,update:p,placement:m,middlewareData:{arrow:{x:v,y:S}={}}}=q$({strategy:t.strategy,placement:t.position,open:r,onOpenChange:a,middleware:NEe(t)}),{delay:A,currentId:E,setCurrentId:M}=kle(d,{id:o}),{getReferenceProps:R,getFloatingProps:N}=Ole([Ale(d,{enabled:(O=t.events)==null?void 0:O.hover,delay:s?A:{open:t.openDelay,close:t.closeDelay},mouseOnly:!(($=t.events)!=null&&$.touch)}),Ple(d,{enabled:(F=t.events)==null?void 0:F.focus,visibleOnly:!0}),jle(d,{role:"tooltip"}),Dle(d,{enabled:typeof t.opened>"u"})]);kX({opened:r,position:t.position,positionDependencies:t.positionDependencies,floating:{refs:h,update:p}}),Ju(()=>{var q;(q=t.onPositionChange)==null||q.call(t,m)},[m]);const P=r&&E&&E!==o;return{x:l,y:c,arrowX:v,arrowY:S,reference:h.setReference,floating:h.setFloating,getFloatingProps:N,getReferenceProps:R,isGroupPhase:P,opened:r,placement:m}}const EH={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:ID("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},OEe=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:zc(e),"--tooltip-bg":n?sA(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),d1=Bn((t,e)=>{const n=vt("Tooltip",EH,t),{children:i,position:r,refProp:s,label:o,openDelay:a,closeDelay:l,onPositionChange:c,opened:d,defaultOpened:h,withinPortal:p,radius:m,color:v,classNames:S,styles:A,unstyled:E,style:M,className:R,withArrow:N,arrowSize:P,arrowOffset:O,arrowRadius:$,arrowPosition:F,offset:q,transitionProps:B,multiline:X,events:Q,zIndex:J,disabled:oe,positionDependencies:ce,onClick:le,onMouseEnter:ee,onMouseLeave:Z,inline:se,variant:j,keepMounted:te,vars:ae,portalProps:U,mod:ve,floatingStrategy:ke,middlewares:Ce,...je}=vt("Tooltip",EH,n),{dir:Ue}=hz(),Ye=k.useRef(null),Ge=PEe({position:xX(Ue,r),closeDelay:l,openDelay:a,onPositionChange:c,opened:d,defaultOpened:h,events:Q,arrowRef:Ye,arrowOffset:O,offset:typeof q=="number"?q+(N?P/2:0):q,positionDependencies:[...ce,i],inline:se,strategy:ke,middlewares:Ce}),ft=ni({name:"Tooltip",props:n,classes:qD,className:R,style:M,classNames:S,styles:A,unstyled:E,rootSelector:"tooltip",vars:ae,varsResolver:OEe});if(!jD(i))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const mt=o1(Ge.reference,rz(i),e),xt=AEe(B,{duration:100,transition:"fade"}),Gt=i.props;return b.jsxs(b.Fragment,{children:[b.jsx(cT,{...U,withinPortal:p,children:b.jsx(l1,{...xt,keepMounted:te,mounted:!oe&&!!Ge.opened,duration:Ge.isGroupPhase?10:xt.duration,children:Mn=>b.jsxs(zt,{...je,"data-fixed":ke==="fixed"||void 0,variant:j,mod:[{multiline:X},ve],...Ge.getFloatingProps({ref:Ge.floating,className:ft("tooltip").className,style:{...ft("tooltip").style,...Mn,zIndex:J,top:Ge.y??0,left:Ge.x??0}}),children:[o,b.jsx(mz,{ref:Ye,arrowX:Ge.arrowX,arrowY:Ge.arrowY,visible:N,position:Ge.placement,arrowSize:P,arrowOffset:O,arrowRadius:$,arrowPosition:F,...ft("arrow")})]})})}),k.cloneElement(i,Ge.getReferenceProps({onClick:le,onMouseEnter:ee,onMouseLeave:Z,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:Ls(R,Gt.className),...Gt,[s]:mt}))]})});d1.classes=qD;d1.displayName="@mantine/core/Tooltip";d1.Floating=Nz;d1.Group=Pz;function LEe({spacing:t,verticalSpacing:e,cols:n,selector:i}){var d;const r=Bc(),s=e===void 0?t:e,o=aT({"--sg-spacing-x":Mc(wv(t)),"--sg-spacing-y":Mc(wv(s)),"--sg-cols":(d=wv(n))==null?void 0:d.toString()}),a=qo(r.breakpoints).reduce((h,p)=>(h[p]||(h[p]={}),typeof t=="object"&&t[p]!==void 0&&(h[p]["--sg-spacing-x"]=Mc(t[p])),typeof s=="object"&&s[p]!==void 0&&(h[p]["--sg-spacing-y"]=Mc(s[p])),typeof n=="object"&&n[p]!==void 0&&(h[p]["--sg-cols"]=n[p]),h),{}),c=FSe(qo(a),r.breakpoints).filter(h=>qo(a[h.value]).length>0).map(h=>({query:`(min-width: ${r.breakpoints[h.value]})`,styles:a[h.value]}));return b.jsx(uz,{styles:o,media:c,selector:i})}function UO(t){return typeof t=="object"&&t!==null?qo(t):[]}function jEe(t){return t.sort((e,n)=>iA(e)-iA(n))}function IEe({spacing:t,verticalSpacing:e,cols:n}){const i=Array.from(new Set([...UO(t),...UO(e),...UO(n)]));return jEe(i)}function FEe({spacing:t,verticalSpacing:e,cols:n,selector:i}){var c;const r=e===void 0?t:e,s=aT({"--sg-spacing-x":Mc(wv(t)),"--sg-spacing-y":Mc(wv(r)),"--sg-cols":(c=wv(n))==null?void 0:c.toString()}),o=IEe({spacing:t,verticalSpacing:e,cols:n}),a=o.reduce((d,h)=>(d[h]||(d[h]={}),typeof t=="object"&&t[h]!==void 0&&(d[h]["--sg-spacing-x"]=Mc(t[h])),typeof r=="object"&&r[h]!==void 0&&(d[h]["--sg-spacing-y"]=Mc(r[h])),typeof n=="object"&&n[h]!==void 0&&(d[h]["--sg-cols"]=n[h]),d),{}),l=o.map(d=>({query:`simple-grid (min-width: ${d})`,styles:a[d]}));return b.jsx(uz,{styles:s,container:l,selector:i})}var qX={container:"m_925c2d2c",root:"m_2415a157"};const $Ee={cols:1,spacing:"md",type:"media"},Oz=Bn((t,e)=>{const n=vt("SimpleGrid",$Ee,t),{classNames:i,className:r,style:s,styles:o,unstyled:a,vars:l,cols:c,verticalSpacing:d,spacing:h,type:p,...m}=n,v=ni({name:"SimpleGrid",classes:qX,props:n,className:r,style:s,classNames:i,styles:o,unstyled:a,vars:l}),S=fX();return p==="container"?b.jsxs(b.Fragment,{children:[b.jsx(FEe,{...n,selector:`.${S}`}),b.jsx("div",{...v("container"),children:b.jsx(zt,{ref:e,...v("root",{className:S}),...m})})]}):b.jsxs(b.Fragment,{children:[b.jsx(LEe,{...n,selector:`.${S}`}),b.jsx(zt,{ref:e,...v("root",{className:S}),...m})]})});Oz.classes=qX;Oz.displayName="@mantine/core/SimpleGrid";const zEe={},Lz=Bn((t,e)=>{const n=vt("TextInput",zEe,t);return b.jsx(UD,{component:"input",ref:e,...n,__staticSelector:"TextInput"})});Lz.classes=UD.classes;Lz.displayName="@mantine/core/TextInput";var GX={root:"m_d6493fad"};const BEe={},jz=Bn((t,e)=>{const n=vt("TypographyStylesProvider",BEe,t),{classNames:i,className:r,style:s,styles:o,unstyled:a,...l}=n,c=ni({name:"TypographyStylesProvider",classes:GX,props:n,className:r,style:s,classNames:i,styles:o,unstyled:a});return b.jsx(zt,{ref:e,...c("root"),...l})});jz.classes=GX;jz.displayName="@mantine/core/TypographyStylesProvider";const VEe={linkControlLabel:"Link",colorPickerControlLabel:"Text color",highlightControlLabel:"Highlight text",colorControlLabel:t=>`Set text color ${t}`,boldControlLabel:"Bold",italicControlLabel:"Italic",underlineControlLabel:"Underline",strikeControlLabel:"Strikethrough",clearFormattingControlLabel:"Clear formatting",unlinkControlLabel:"Remove link",bulletListControlLabel:"Bullet list",orderedListControlLabel:"Ordered list",h1ControlLabel:"Heading 1",h2ControlLabel:"Heading 2",h3ControlLabel:"Heading 3",h4ControlLabel:"Heading 4",h5ControlLabel:"Heading 5",h6ControlLabel:"Heading 6",blockquoteControlLabel:"Blockquote",alignLeftControlLabel:"Align text: left",alignCenterControlLabel:"Align text: center",alignRightControlLabel:"Align text: right",alignJustifyControlLabel:"Align text: justify",codeControlLabel:"Code",codeBlockControlLabel:"Code block",subscriptControlLabel:"Subscript",superscriptControlLabel:"Superscript",unsetColorControlLabel:"Unset color",hrControlLabel:"Horizontal line",undoControlLabel:"Undo",redoControlLabel:"Redo",tasksControlLabel:"Task list",tasksSinkLabel:"Decrease task level",tasksLiftLabel:"Increase task level",linkEditorInputLabel:"Enter URL",linkEditorInputPlaceholder:"https://example.com/",linkEditorExternalLink:"Open link in a new tab",linkEditorInternalLink:"Open link in the same tab",linkEditorSave:"Save",colorPickerCancel:"Cancel",colorPickerClear:"Clear color",colorPickerColorPicker:"Color picker",colorPickerPalette:"Color palette",colorPickerSave:"Save",colorPickerColorLabel:t=>`Set text color ${t}`},[HEe,Ff]=sX("RichTextEditor component was not found in tree"),UEe={},Iz=Bn((t,e)=>{const n=vt("RichTextEditorContent",UEe,t),{classNames:i,className:r,style:s,styles:o,vars:a,...l}=n,c=Ff();return c.withTypographyStyles?b.jsx(jz,{...c.getStyles("typographyStylesProvider",{className:r,style:s,styles:o,classNames:i}),unstyled:c.unstyled,ref:e,children:b.jsx(zt,{component:BV,editor:c.editor,...c.getStyles("content",{classNames:i,styles:o}),...l})}):b.jsx(zt,{component:BV,editor:c.editor,...c.getStyles("content",{classNames:i,styles:o,className:r,style:s}),...l})});Iz.classes=a0;Iz.displayName="@mantine/tiptap/RichTextEditorContent";function yn(t){return b.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})}function qEe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z"}),b.jsx("path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7"})]})}function GEe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M11 5l6 0"}),b.jsx("path",{d:"M7 19l6 0"}),b.jsx("path",{d:"M14 5l-4 14"})]})}function WEe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M7 5v5a5 5 0 0 0 10 0v-5"}),b.jsx("path",{d:"M5 19h14"})]})}function KEe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M5 12l14 0"}),b.jsx("path",{d:"M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7h2a3.5 3.5 0 0 1 0 7h-1.5a4 2 0 0 1 -4 -1.5"})]})}function YEe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M17 15l4 4m0 -4l-4 4"}),b.jsx("path",{d:"M7 6v-1h11v1"}),b.jsx("path",{d:"M7 19l4 0"}),b.jsx("path",{d:"M13 5l-4 14"})]})}function XEe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M19 18v-8l-2 2"}),b.jsx("path",{d:"M4 6v12"}),b.jsx("path",{d:"M12 6v12"}),b.jsx("path",{d:"M11 18h2"}),b.jsx("path",{d:"M3 18h2"}),b.jsx("path",{d:"M4 12h8"}),b.jsx("path",{d:"M3 6h2"}),b.jsx("path",{d:"M11 6h2"})]})}function JEe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M17 12a2 2 0 1 1 4 0c0 .591 -.417 1.318 -.816 1.858l-3.184 4.143l4 0"}),b.jsx("path",{d:"M4 6v12"}),b.jsx("path",{d:"M12 6v12"}),b.jsx("path",{d:"M11 18h2"}),b.jsx("path",{d:"M3 18h2"}),b.jsx("path",{d:"M4 12h8"}),b.jsx("path",{d:"M3 6h2"}),b.jsx("path",{d:"M11 6h2"})]})}function ZEe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M19 14a2 2 0 1 0 -2 -2"}),b.jsx("path",{d:"M17 16a2 2 0 1 0 2 -2"}),b.jsx("path",{d:"M4 6v12"}),b.jsx("path",{d:"M12 6v12"}),b.jsx("path",{d:"M11 18h2"}),b.jsx("path",{d:"M3 18h2"}),b.jsx("path",{d:"M4 12h8"}),b.jsx("path",{d:"M3 6h2"}),b.jsx("path",{d:"M11 6h2"})]})}function QEe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M20 18v-8l-4 6h5"}),b.jsx("path",{d:"M4 6v12"}),b.jsx("path",{d:"M12 6v12"}),b.jsx("path",{d:"M11 18h2"}),b.jsx("path",{d:"M3 18h2"}),b.jsx("path",{d:"M4 12h8"}),b.jsx("path",{d:"M3 6h2"}),b.jsx("path",{d:"M11 6h2"})]})}function eTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M17 18h2a2 2 0 1 0 0 -4h-2v-4h4"}),b.jsx("path",{d:"M4 6v12"}),b.jsx("path",{d:"M12 6v12"}),b.jsx("path",{d:"M11 18h2"}),b.jsx("path",{d:"M3 18h2"}),b.jsx("path",{d:"M4 12h8"}),b.jsx("path",{d:"M3 6h2"}),b.jsx("path",{d:"M11 6h2"})]})}function tTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M19 14a2 2 0 1 0 0 4a2 2 0 0 0 0 -4z"}),b.jsx("path",{d:"M21 12a2 2 0 1 0 -4 0v4"}),b.jsx("path",{d:"M4 6v12"}),b.jsx("path",{d:"M12 6v12"}),b.jsx("path",{d:"M11 18h2"}),b.jsx("path",{d:"M3 18h2"}),b.jsx("path",{d:"M4 12h8"}),b.jsx("path",{d:"M3 6h2"}),b.jsx("path",{d:"M11 6h2"})]})}function nTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M9 6l11 0"}),b.jsx("path",{d:"M9 12l11 0"}),b.jsx("path",{d:"M9 18l11 0"}),b.jsx("path",{d:"M5 6l0 .01"}),b.jsx("path",{d:"M5 12l0 .01"}),b.jsx("path",{d:"M5 18l0 .01"})]})}function iTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M11 6h9"}),b.jsx("path",{d:"M11 12h9"}),b.jsx("path",{d:"M12 18h8"}),b.jsx("path",{d:"M4 16a2 2 0 1 1 4 0c0 .591 -.5 1 -1 1.5l-3 2.5h4"}),b.jsx("path",{d:"M6 10v-6l-2 2"})]})}function rTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M17 22v-2"}),b.jsx("path",{d:"M9 15l6 -6"}),b.jsx("path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464"}),b.jsx("path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463"}),b.jsx("path",{d:"M20 17h2"}),b.jsx("path",{d:"M2 7h2"}),b.jsx("path",{d:"M7 2v2"})]})}function sTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M6 15h15"}),b.jsx("path",{d:"M21 19h-15"}),b.jsx("path",{d:"M15 11h6"}),b.jsx("path",{d:"M21 7h-6"}),b.jsx("path",{d:"M9 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2"}),b.jsx("path",{d:"M3 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2"})]})}function oTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M4 6l16 0"}),b.jsx("path",{d:"M4 12l10 0"}),b.jsx("path",{d:"M4 18l14 0"})]})}function aTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M4 6l16 0"}),b.jsx("path",{d:"M10 12l10 0"}),b.jsx("path",{d:"M6 18l14 0"})]})}function lTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M4 6l16 0"}),b.jsx("path",{d:"M8 12l8 0"}),b.jsx("path",{d:"M6 18l12 0"})]})}function cTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M4 6l16 0"}),b.jsx("path",{d:"M4 12l16 0"}),b.jsx("path",{d:"M4 18l12 0"})]})}function uTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M5 7l8 10m-8 0l8 -10"}),b.jsx("path",{d:"M21 20h-4l3.5 -4a1.73 1.73 0 0 0 -3.5 -2"})]})}function dTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M5 7l8 10m-8 0l8 -10"}),b.jsx("path",{d:"M21 11h-4l3.5 -4a1.73 1.73 0 0 0 -3.5 -2"})]})}function WX(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M7 8l-4 4l4 4"}),b.jsx("path",{d:"M17 8l4 4l-4 4"}),b.jsx("path",{d:"M14 4l-4 16"})]})}function fTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M3 19h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4"}),b.jsx("path",{d:"M12.5 5.5l4 4"}),b.jsx("path",{d:"M4.5 13.5l4 4"}),b.jsx("path",{d:"M21 15v4h-8l4 -4z"})]})}function hTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M5 12h2"}),b.jsx("path",{d:"M17 12h2"}),b.jsx("path",{d:"M11 12h2"})]})}function KX(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M20.042 16.045a9 9 0 0 0 -12.087 -12.087m-2.318 1.677a9 9 0 1 0 12.725 12.73"}),b.jsx("path",{d:"M3 3l18 18"})]})}function pTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M11 7l6 6"}),b.jsx("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]})}function mTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M18 6l-12 12"}),b.jsx("path",{d:"M6 6l12 12"})]})}function gTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M12 21a9 9 0 0 1 0 -18c4.97 0 9 3.582 9 8c0 1.06 -.474 2.078 -1.318 2.828c-.844 .75 -1.989 1.172 -3.182 1.172h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25"}),b.jsx("path",{d:"M8.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),b.jsx("path",{d:"M12.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),b.jsx("path",{d:"M16.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"})]})}function yTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M5 12l5 5l10 -10"})]})}function bTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M9 15l6 -6"}),b.jsx("path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464"}),b.jsx("path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463"})]})}function vTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6"}),b.jsx("path",{d:"M11 13l9 -9"}),b.jsx("path",{d:"M15 4h5v5"})]})}function xTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M9 14l-4 -4l4 -4"}),b.jsx("path",{d:"M5 10h11a4 4 0 1 1 0 8h-1"})]})}function wTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M15 14l4 -4l-4 -4"}),b.jsx("path",{d:"M19 10h-11a4 4 0 1 0 0 8h1"})]})}function STe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M3.5 5.5l1.5 1.5l2.5 -2.5"}),b.jsx("path",{d:"M3.5 11.5l1.5 1.5l2.5 -2.5"}),b.jsx("path",{d:"M3.5 17.5l1.5 1.5l2.5 -2.5"}),b.jsx("path",{d:"M11 6l9 0"}),b.jsx("path",{d:"M11 12l9 0"}),b.jsx("path",{d:"M11 18l9 0"})]})}function CTe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M20 6l-11 0"}),b.jsx("path",{d:"M20 12l-7 0"}),b.jsx("path",{d:"M20 18l-11 0"}),b.jsx("path",{d:"M4 8l4 4l-4 4"})]})}function ATe(t){return b.jsxs(yn,{...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M20 6l-7 0"}),b.jsx("path",{d:"M20 12l-9 0"}),b.jsx("path",{d:"M20 18l-7 0"}),b.jsx("path",{d:"M8 8l-4 4l4 4"})]})}const ETe={interactive:!0},f1=Bn((t,e)=>{const n=vt("RichTextEditorControl",ETe,t),{classNames:i,className:r,style:s,styles:o,vars:a,interactive:l,active:c,onMouseDown:d,disabled:h,...p}=n,m=Ff();return b.jsx(c0,{...p,...m.getStyles("control",{className:r,style:s,classNames:i,styles:o}),disabled:h,"data-rich-text-editor-control":!0,tabIndex:l?0:-1,"data-interactive":l||void 0,"data-disabled":h||void 0,"data-active":c||void 0,"aria-pressed":c&&l||void 0,"aria-hidden":!l||void 0,ref:e,unstyled:m.unstyled,variant:m.variant||"default",onMouseDown:v=>{v.preventDefault(),d==null||d(v)}})});f1.classes=a0;f1.displayName="@mantine/tiptap/RichTextEditorControl";const Fz=k.forwardRef(({className:t,icon:e,...n},i)=>{const r=Ff();return b.jsx(f1,{ref:i,...n,children:b.jsx(e,{...r.getStyles("controlIcon")})})});Fz.displayName="@mantine/tiptap/RichTextEditorControlBase";function Ln({label:t,isActive:e,operation:n,icon:i,isDisabled:r}){const s=k.forwardRef((o,a)=>{const{editor:l,labels:c}=Ff(),d=c[t];return b.jsx(Fz,{...o,"aria-label":d,title:d,active:e!=null&&e.name?l==null?void 0:l.isActive(e.name,e.attributes):!1,ref:a,onClick:()=>l==null?void 0:l.chain().focus()[n.name](n.attributes).run(),icon:o.icon||i,disabled:(r==null?void 0:r(l))||!1})});return s.displayName=`@mantine/tiptap/${t}`,s}const TTe=Ln({label:"boldControlLabel",icon:t=>b.jsx(qEe,{...t}),isActive:{name:"bold"},operation:{name:"toggleBold"}}),kTe=Ln({label:"italicControlLabel",icon:t=>b.jsx(GEe,{...t}),isActive:{name:"italic"},operation:{name:"toggleItalic"}}),_Te=Ln({label:"underlineControlLabel",icon:t=>b.jsx(WEe,{...t}),isActive:{name:"underline"},operation:{name:"toggleUnderline"}}),MTe=Ln({label:"strikeControlLabel",icon:t=>b.jsx(KEe,{...t}),isActive:{name:"strike"},operation:{name:"toggleStrike"}}),RTe=Ln({label:"clearFormattingControlLabel",icon:t=>b.jsx(YEe,{...t}),operation:{name:"unsetAllMarks"}}),DTe=Ln({label:"unlinkControlLabel",icon:t=>b.jsx(rTe,{...t}),operation:{name:"unsetLink"}}),NTe=Ln({label:"bulletListControlLabel",icon:t=>b.jsx(nTe,{...t}),isActive:{name:"bulletList"},operation:{name:"toggleBulletList"}}),PTe=Ln({label:"orderedListControlLabel",icon:t=>b.jsx(iTe,{...t}),isActive:{name:"orderedList"},operation:{name:"toggleOrderedList"}}),OTe=Ln({label:"h1ControlLabel",icon:t=>b.jsx(XEe,{...t}),isActive:{name:"heading",attributes:{level:1}},operation:{name:"toggleHeading",attributes:{level:1}}}),LTe=Ln({label:"h2ControlLabel",icon:t=>b.jsx(JEe,{...t}),isActive:{name:"heading",attributes:{level:2}},operation:{name:"toggleHeading",attributes:{level:2}}}),jTe=Ln({label:"h3ControlLabel",icon:t=>b.jsx(ZEe,{...t}),isActive:{name:"heading",attributes:{level:3}},operation:{name:"toggleHeading",attributes:{level:3}}}),ITe=Ln({label:"h4ControlLabel",icon:t=>b.jsx(QEe,{...t}),isActive:{name:"heading",attributes:{level:4}},operation:{name:"toggleHeading",attributes:{level:4}}}),FTe=Ln({label:"h5ControlLabel",icon:t=>b.jsx(eTe,{...t}),isActive:{name:"heading",attributes:{level:5}},operation:{name:"toggleHeading",attributes:{level:5}}}),$Te=Ln({label:"h6ControlLabel",icon:t=>b.jsx(tTe,{...t}),isActive:{name:"heading",attributes:{level:6}},operation:{name:"toggleHeading",attributes:{level:6}}}),zTe=Ln({label:"blockquoteControlLabel",icon:t=>b.jsx(sTe,{...t}),isActive:{name:"blockquote"},operation:{name:"toggleBlockquote"}}),BTe=Ln({label:"alignLeftControlLabel",icon:t=>b.jsx(oTe,{...t}),operation:{name:"setTextAlign",attributes:"left"}}),VTe=Ln({label:"alignRightControlLabel",icon:t=>b.jsx(aTe,{...t}),operation:{name:"setTextAlign",attributes:"right"}}),HTe=Ln({label:"alignCenterControlLabel",icon:t=>b.jsx(lTe,{...t}),operation:{name:"setTextAlign",attributes:"center"}}),UTe=Ln({label:"alignJustifyControlLabel",icon:t=>b.jsx(cTe,{...t}),operation:{name:"setTextAlign",attributes:"justify"}}),qTe=Ln({label:"subscriptControlLabel",icon:t=>b.jsx(uTe,{...t}),isActive:{name:"subscript"},operation:{name:"toggleSubscript"}}),GTe=Ln({label:"superscriptControlLabel",icon:t=>b.jsx(dTe,{...t}),isActive:{name:"superscript"},operation:{name:"toggleSuperscript"}}),WTe=Ln({label:"codeControlLabel",icon:t=>b.jsx(WX,{...t}),isActive:{name:"code"},operation:{name:"toggleCode"}}),KTe=Ln({label:"codeBlockControlLabel",icon:t=>b.jsx(WX,{...t}),isActive:{name:"codeBlock"},operation:{name:"toggleCodeBlock"}}),YTe=Ln({label:"highlightControlLabel",icon:t=>b.jsx(fTe,{...t}),isActive:{name:"highlight"},operation:{name:"toggleHighlight"}}),XTe=Ln({label:"hrControlLabel",icon:t=>b.jsx(hTe,{...t}),operation:{name:"setHorizontalRule"}}),JTe=Ln({label:"unsetColorControlLabel",icon:t=>b.jsx(KX,{...t}),operation:{name:"unsetColor"}}),ZTe=Ln({label:"undoControlLabel",icon:t=>b.jsx(xTe,{...t}),isDisabled:t=>!(t!=null&&t.can().undo()),operation:{name:"undo"}}),QTe=Ln({label:"redoControlLabel",icon:t=>b.jsx(wTe,{...t}),isDisabled:t=>!(t!=null&&t.can().redo()),operation:{name:"redo"}}),eke=Ln({label:"tasksControlLabel",icon:t=>b.jsx(STe,{...t}),isActive:{name:"taskList"},operation:{name:"toggleTaskList"}}),tke=Ln({label:"tasksSinkLabel",icon:t=>b.jsx(CTe,{...t}),operation:{name:"sinkListItem",attributes:"taskItem"},isDisabled:t=>!(t!=null&&t.can().sinkListItem("taskItem"))}),nke=Ln({label:"tasksLiftLabel",icon:t=>b.jsx(ATe,{...t}),operation:{name:"liftListItem",attributes:"taskItem"},isDisabled:t=>!(t!=null&&t.can().liftListItem("taskItem"))}),ike=t=>b.jsx(bTe,{...t}),rke={},$z=Bn((t,e)=>{var Q;const n=vt("RichTextEditorLinkControl",rke,t),{classNames:i,className:r,style:s,styles:o,vars:a,icon:l,popoverProps:c,disableTooltips:d,initialExternal:h,...p}=n,m=Ff(),v={classNames:i,styles:o},[S,A]=b0e(""),[E,M]=k.useState(h),[R,{open:N,close:P}]=uK(!1),O=()=>{var oe;N();const J=(oe=m.editor)==null?void 0:oe.getAttributes("link");A((J==null?void 0:J.href)||""),M(J!=null&&J.href?(J==null?void 0:J.target)==="_blank":h)},$=()=>{P(),A(""),M(h)},F=()=>{var J,oe;$(),S===""?(J=m.editor)==null||J.chain().focus().extendMarkRange("link").unsetLink().run():(oe=m.editor)==null||oe.chain().focus().extendMarkRange("link").setLink({href:S,target:E?"_blank":null}).run()},q=J=>{J.key==="Enter"&&(J.preventDefault(),F())};h0e("edit-link",O,!1);const{resolvedClassNames:B,resolvedStyles:X}=cz({classNames:i,styles:o,props:n});return b.jsxs(Gu,{trapFocus:!0,shadow:"md",withinPortal:!0,opened:R,onChange:J=>!J&&$(),offset:-44,zIndex:1e4,...c,children:[b.jsx(Gu.Target,{children:b.jsx(Fz,{icon:l||ike,...p,"aria-label":m.labels.linkControlLabel,title:m.labels.linkControlLabel,onClick:O,active:(Q=m.editor)==null?void 0:Q.isActive("link"),ref:e,classNames:B,styles:X,className:r,style:s,variant:m.variant})}),b.jsx(Gu.Dropdown,{...m.getStyles("linkEditorDropdown",v),children:b.jsxs("div",{...m.getStyles("linkEditor",v),children:[b.jsx(Lz,{placeholder:m.labels.linkEditorInputPlaceholder,"aria-label":m.labels.linkEditorInputLabel,type:"url",value:S,onChange:A,classNames:{input:m.getStyles("linkEditorInput",v).className},onKeyDown:q,rightSection:b.jsx(d1,{label:E?m.labels.linkEditorExternalLink:m.labels.linkEditorInternalLink,events:{hover:!0,focus:!0,touch:!0},withinPortal:!0,withArrow:!0,disabled:d,zIndex:1e4,children:b.jsx(c0,{onClick:()=>M(J=>!J),"data-active":E||void 0,...m.getStyles("linkEditorExternalControl",v),children:b.jsx(vTe,{style:{width:Re(14),height:Re(14)}})})})}),b.jsx(dT,{variant:"default",onClick:F,...m.getStyles("linkEditorSave",v),children:m.labels.linkEditorSave})]})})]})});$z.classes=a0;$z.displayName="@mantine/tiptap/RichTextEditorLinkControl";const ske={},YX=k.forwardRef((t,e)=>{const{popoverProps:n,colors:i,colorPickerProps:r,...s}=vt("RichTextEditorColorPickerControl",ske,t),{editor:o,labels:a,getStyles:l,variant:c}=Ff(),[d,{toggle:h,close:p}]=uK(!1),[m,v]=k.useState("palette"),S=(o==null?void 0:o.getAttributes("textStyle").color)||"var(--mantine-color-text)",A=(R,N=!0)=>{(o==null?void 0:o.chain()).focus().setColor(R).run(),N&&p()},E=()=>{(o==null?void 0:o.chain()).focus().unsetColor().run(),p()},M=i.map((R,N)=>b.jsx(Jy,{component:"button",color:R,onClick:()=>A(R),size:26,radius:"xs",style:{cursor:"pointer"},title:a.colorPickerColorLabel(R),"aria-label":a.colorPickerColorLabel(R)},N));return b.jsxs(Gu,{opened:d,withinPortal:!0,trapFocus:!0,onChange:R=>!R&&p(),...n,children:[b.jsx(Gu.Target,{children:b.jsx(f1,{...s,variant:c,"aria-label":a.colorPickerControlLabel,title:a.colorPickerControlLabel,ref:e,onClick:h,children:b.jsx(Jy,{color:S,size:14})})}),b.jsxs(Gu.Dropdown,{...l("linkEditorDropdown"),children:[m==="palette"&&b.jsx(Oz,{cols:7,spacing:2,children:M}),m==="colorPicker"&&b.jsx(Rz,{defaultValue:S,onChange:R=>A(R,!1),...r}),b.jsx(d1.Group,{closeDelay:200,children:b.jsxs($D,{justify:"flex-end",gap:"xs",mt:"sm",children:[m==="palette"&&b.jsx(ff,{variant:"default",onClick:p,title:a.colorPickerCancel,"aria-label":a.colorPickerCancel,children:b.jsx(mTe,{style:{width:Re(16),height:Re(16)}})}),b.jsx(ff,{variant:"default",onClick:E,title:a.colorPickerClear,"aria-label":a.colorPickerClear,children:b.jsx(KX,{style:{width:Re(16),height:Re(16)}})}),m==="palette"?b.jsx(ff,{variant:"default",onClick:()=>v("colorPicker"),title:a.colorPickerColorPicker,"aria-label":a.colorPickerColorPicker,children:b.jsx(pTe,{style:{width:Re(16),height:Re(16)}})}):b.jsx(ff,{variant:"default",onClick:()=>v("palette"),"aria-label":a.colorPickerPalette,title:a.colorPickerPalette,children:b.jsx(gTe,{style:{width:Re(16),height:Re(16)}})}),m==="colorPicker"&&b.jsx(ff,{variant:"default",onClick:p,title:a.colorPickerSave,"aria-label":a.colorPickerSave,children:b.jsx(yTe,{style:{width:Re(16),height:Re(16)}})})]})})]})]})});YX.displayName="@mantine/tiptap/ColorPickerControl";const oke={},XX=k.forwardRef((t,e)=>{const{color:n,...i}=vt("RichTextEditorColorControl",oke,t),{editor:r,labels:s,variant:o}=Ff(),a=(r==null?void 0:r.getAttributes("textStyle").color)||null,l=s.colorControlLabel(n);return b.jsx(f1,{...i,variant:o,active:a===n,"aria-label":l,title:l,onClick:()=>(r==null?void 0:r.chain()).focus().setColor(n).run(),ref:e,children:b.jsx(Jy,{color:n,size:14})})});XX.displayName="@mantine/tiptap/RichTextEditorColorControl";const ake={},zz=Bn((t,e)=>{const n=vt("RichTextEditorControlsGroup",ake,t),{classNames:i,className:r,style:s,styles:o,vars:a,variant:l,...c}=n,d=Ff();return b.jsx(zt,{ref:e,variant:l||d.variant,...d.getStyles("controlsGroup",{className:r,style:s,styles:o,classNames:i}),...c})});zz.classes=a0;zz.displayName="@mantine/tiptap/RichTextEditorControlsGroup";const lke={},Bz=Bn((t,e)=>{const n=vt("RichTextEditorToolbar",lke,t),{classNames:i,className:r,style:s,styles:o,vars:a,sticky:l,stickyOffset:c,mod:d,variant:h,...p}=n,m=Ff();return b.jsx(zt,{ref:e,mod:[{sticky:l},d],variant:h||m.variant,...m.getStyles("toolbar",{className:r,style:s,styles:o,classNames:i}),...p,__vars:{"--rte-sticky-offset":Re(c)}})});Bz.classes=a0;Bz.displayName="@mantine/tiptap/RichTextEditorToolbar";const cke={withCodeHighlightStyles:!0,withTypographyStyles:!0,variant:"default"},dt=Bn((t,e)=>{const n=vt("RichTextEditor",cke,t),{classNames:i,className:r,style:s,styles:o,unstyled:a,vars:l,editor:c,withCodeHighlightStyles:d,withTypographyStyles:h,labels:p,children:m,variant:v,...S}=n,A=ni({name:"RichTextEditor",classes:a0,props:n,className:r,style:s,classNames:i,styles:o,unstyled:a,vars:l}),E=k.useMemo(()=>({...VEe,...p}),[p]);return b.jsx(HEe,{value:{editor:c,getStyles:A,labels:E,withCodeHighlightStyles:d,withTypographyStyles:h,unstyled:a,variant:v},children:b.jsx(zt,{...A("root"),...S,ref:e,children:m})})});dt.classes=a0;dt.displayName="@mantine/tiptap/RichTextEditor";dt.Content=Iz;dt.Control=f1;dt.Toolbar=Bz;dt.ControlsGroup=zz;dt.Bold=TTe;dt.Italic=kTe;dt.Strikethrough=MTe;dt.Underline=_Te;dt.ClearFormatting=RTe;dt.H1=OTe;dt.H2=LTe;dt.H3=jTe;dt.H4=ITe;dt.H5=FTe;dt.H6=$Te;dt.BulletList=NTe;dt.OrderedList=PTe;dt.Link=$z;dt.Unlink=DTe;dt.Blockquote=zTe;dt.AlignLeft=BTe;dt.AlignRight=VTe;dt.AlignCenter=HTe;dt.AlignJustify=UTe;dt.Superscript=GTe;dt.Subscript=qTe;dt.Code=WTe;dt.CodeBlock=KTe;dt.ColorPicker=YX;dt.Color=XX;dt.Highlight=YTe;dt.Hr=XTe;dt.UnsetColor=JTe;dt.Undo=ZTe;dt.Redo=QTe;dt.TaskList=eke;dt.TaskListSink=tke;dt.TaskListLift=nke;function uke(t){return pi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"},child:[]},{tag:"path",attr:{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"},child:[]},{tag:"path",attr:{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"},child:[]},{tag:"path",attr:{d:"M17.599 6.5a3 3 0 0 0 .399-1.375"},child:[]},{tag:"path",attr:{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5"},child:[]},{tag:"path",attr:{d:"M3.477 10.896a4 4 0 0 1 .585-.396"},child:[]},{tag:"path",attr:{d:"M19.938 10.5a4 4 0 0 1 .585.396"},child:[]},{tag:"path",attr:{d:"M6 18a4 4 0 0 1-1.967-.516"},child:[]},{tag:"path",attr:{d:"M19.967 17.484A4 4 0 0 1 18 18"},child:[]}]})(t)}function dke(t){return pi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5"},child:[]},{tag:"line",attr:{x1:"13",x2:"19",y1:"19",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",x2:"20",y1:"16",y2:"20"},child:[]},{tag:"line",attr:{x1:"19",x2:"21",y1:"21",y2:"19"},child:[]}]})(t)}function fke(t){return pi({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M10.9759 9C10.9759 9.55228 10.5282 10 9.97589 10C9.42361 10 8.97589 9.55228 8.97589 9C8.97589 8.44771 9.42361 8 9.97589 8C10.5282 8 10.9759 8.44771 10.9759 9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M13.9712 10C14.5235 10 14.9712 9.55228 14.9712 9C14.9712 8.44771 14.5235 8 13.9712 8C13.4189 8 12.9712 8.44771 12.9712 9C12.9712 9.55228 13.4189 10 13.9712 10Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M19 20.9999V10C19 6.13401 15.866 3 12 3C8.13401 3 5 6.13401 5 10V21L7.82846 21L9.24264 19.5858L10.6569 21L13.3433 21L14.7574 19.5858L16.1717 21L19 20.9999ZM17 10C17 7.23858 14.7614 5 12 5C9.23858 5 7 7.23858 7 10V19L9.24264 16.7573L12 19.5147L14.7574 16.7573L17 18.9999V10Z",fill:"currentColor"},child:[]}]})(t)}const Jr=[];for(let t=0;t<256;++t)Jr.push((t+256).toString(16).slice(1));function hke(t,e=0){return(Jr[t[e+0]]+Jr[t[e+1]]+Jr[t[e+2]]+Jr[t[e+3]]+"-"+Jr[t[e+4]]+Jr[t[e+5]]+"-"+Jr[t[e+6]]+Jr[t[e+7]]+"-"+Jr[t[e+8]]+Jr[t[e+9]]+"-"+Jr[t[e+10]]+Jr[t[e+11]]+Jr[t[e+12]]+Jr[t[e+13]]+Jr[t[e+14]]+Jr[t[e+15]]).toLowerCase()}let qO;const pke=new Uint8Array(16);function mke(){if(!qO){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");qO=crypto.getRandomValues.bind(crypto)}return qO(pke)}const gke=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),TH={randomUUID:gke};function yke(t,e,n){var r;if(TH.randomUUID&&!t)return TH.randomUUID();t=t||{};const i=t.random??((r=t.rng)==null?void 0:r.call(t))??mke();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,hke(i)}const JX=()=>({id:yke(),chapter:"",project:"",title:"",sequence:0,summary:"",content:"",updated_content:"",characters:[],location:null,items:[],time:{time_of_day:"",date:""},weather:{condition:"",description:""},goals:[],conflict:{description:"",resolution:""},outcome:{description:""},mood:"",pov:"",notes:""}),ZX=async(t,e)=>await gn.post("/scenes/new/",e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),bke=async(t,e)=>await gn.delete(`scenes/${e}`,{headers:{Authorization:`Bearer ${t}`}}),i2=async(t,e,n)=>await gn.patch(`/scenes/${n}/`,e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),vke=async(t,e)=>await gn.post("/reorder/scenes/",e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),xke=({isCreateSceneOpen:t,setIsCreateSceneOpen:e,scene:n=JX(),project:i,chapter:r,handlers:s,scenesState:o})=>{const[a,l]=k.useState(n.title),[c,d]=k.useState(n.summary||""),[h,p]=k.useState(n.content||""),[m,v]=k.useState(n.characters||[]),[S,A]=k.useState(n.location||null),[E,M]=k.useState(n.items||[]),[R,N]=k.useState(n.time||{}),[P,O]=k.useState(n.weather||{}),[$,F]=k.useState(n.goals||[]),[q,B]=k.useState(""),[X,Q]=k.useState(n.conflict||{}),[J,oe]=k.useState(n.outcome||{}),[ce,le]=k.useState(n.mood||""),[ee,Z]=k.useState(n.pov||""),[se,j]=k.useState(n.notes||""),te=kt(ie=>ie.authData.accessToken),{id:ae}=ed(),U=$t(ie=>ie.updateChapterInProject),ve=$t(ie=>ie.addSceneToChapter),[ke,Ce]=k.useState(null),[je,Ue]=k.useState(null),Ye=()=>{if(q){const ie={description:q};F([...$,ie]),B("")}},Ge=ie=>{F($.filter(($e,Ee)=>Ee!==ie))},ft=()=>{ke&&!m.some(ie=>ie.id===ke.id)&&(v([...m,{id:ke.id}]),Ce(null))},mt=ie=>{const $e=i.characters.find(Ee=>Ee.id===ie);if($e)return $e},xt=ie=>{v(m.filter($e=>$e.id!==ie))},Gt=()=>{je&&!E.some(ie=>ie.id===je.id)&&(M([...E,{id:je.id}]),Ue(null))},Mn=ie=>{const $e=i.items.find(Ee=>Ee.id===ie);if($e)return $e},Vn=ie=>{M(E.filter($e=>$e.id!==ie))},Wt=ie=>{const $e=i.locations.find(Ee=>Ee.id.toString()===ie.toString());if($e)return $e},mi=async ie=>{if(n.id){const $e=await i2(te,ie,n.id),Ee={...r,scenes:r.scenes.map(be=>be.id===$e.data.id?$e.data:be)};U(r.project,Ee);const Xe=o.findIndex(be=>be.id===$e.data.id);s.remove(Xe),s.insert(Xe,$e.data)}},ii=async ie=>{const $e=await ZX(te,ie);Bt(),ae&&ve(i.id,r.id,$e.data)},Bt=()=>{l(""),d(""),p(""),v([]),A(null),M([]),N({}),O({}),F([]),Q({}),oe({}),le(""),Z(""),j("")},Hn=async()=>{try{const ie={id:n.id,chapter:r.id,project:i.id,title:a,sequence:n.sequence,summary:c,content:h,updated_content:n.updated_content,characters:m,location:S,items:E,time:R,weather:P,goals:$,conflict:X,outcome:J,mood:ce,pov:ee,notes:se};n.id?await mi(ie):await ii(ie),e(!1)}catch(ie){console.log(ie)}};return b.jsx(Kp,{open:t,onClose:()=>e(!1),transition:!0,className:"fixed inset-0 flex w-screen items-center justify-center bg-black/30 p-4 transition duration-300 ease-out data-[closed]:opacity-0",children:b.jsx("div",{className:"fixed inset-0 flex w-screen items-start mt-10 justify-center p-4",children:b.jsx(If,{transition:!0,className:"w-fit max-w-3xl",children:b.jsx("div",{className:"bg-zinc-300 p-0.5 rounded-xl shadow-2xl",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-inner overflow-hidden w-fit",children:[b.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-6 py-4 border-b border-indigo-100",children:b.jsx("h2",{className:"text-2xl font-bold text-center bg-clip-text text-transparent bg-gradient-to-r from-indigo-700 to-purple-700",children:n.title?`${n.title}`:"Create New Scene"})}),b.jsx("div",{className:"max-h-[75vh] overflow-y-auto",children:b.jsxs(Mt.Group,{children:[b.jsxs(Mt.List,{className:"flex space-x-1 border-b border-zinc-200 px-4 py-2",children:[b.jsx(Mt,{className:({selected:ie})=>`px-2 py-2 text-sm font-medium rounded-md transition-all outline-none
                                            ${ie?"bg-zinc-100 text-zinc-900":"text-zinc-500 hover:text-zinc-700 hover:bg-white/[0.5]"}`,children:b.jsx("p",{className:"",children:"Basic Information"})}),b.jsx(Mt,{className:({selected:ie})=>`px-2 py-2 text-sm font-medium rounded-md transition-all outline-none
                                            ${ie?"bg-zinc-100 text-zinc-900":"text-zinc-500 hover:text-zinc-700 hover:bg-white/[0.5]"}`,children:"Characters & Settings"}),b.jsx(Mt,{className:({selected:ie})=>`px-2 py-2 text-sm font-medium rounded-lg transition-all outline-none
                                            ${ie?"bg-zinc-100 text-zinc-900":"text-zinc-500 hover:text-zinc-700 hover:bg-white/[0.5]"}`,children:"Goals & Conflict"}),b.jsx(Mt,{className:({selected:ie})=>`px-2 py-2 text-sm font-medium rounded-lg transition-all outline-none
                                            ${ie?"bg-zinc-100 text-zinc-900 ":"text-zinc-500 hover:text-zinc-700 hover:bg-white/[0.5]"}`,children:"Details & Notes"})]}),b.jsxs(Mt.Panels,{className:"p-6 scrollbar-thin scrollbar-thumb-indigo-200 scrollbar-track-gray-100",children:[b.jsx(Mt.Panel,{children:b.jsx("section",{className:"rounded-lg",children:b.jsx("div",{className:"grid grid-cols-1 gap-6",children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Scene Title"}),b.jsx(Ot,{value:a,onChange:ie=>l(ie.target.value),className:"mb-2 text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter scene title"})]}),b.jsx("div",{className:"grid grid-cols-2 gap-4"}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Summary"}),b.jsx(Ft,{value:c,onChange:ie=>d(ie.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Brief summary of what happens in this scene",rows:3})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Content"}),b.jsx(Ft,{value:h,onChange:ie=>p(ie.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Full scene content or draft",rows:8})]})]})})})}),b.jsx(Mt.Panel,{children:b.jsx("section",{className:"",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs(Yn,{className:"",children:[b.jsx(Le,{className:"block text-lg font-medium font-semibold pb-2 text-gray-700",children:"Characters"}),b.jsx("div",{className:"space-y-4 max-h-[320px] overflow-y-auto pr-1 mb-3",children:m.map(ie=>{const $e=mt(ie.id);return b.jsx("div",{children:$e?b.jsxs("div",{className:"flex gap-2 items-start justify-between p-2 bg-white rounded-md border border-indigo-100",children:[b.jsx("div",{children:$e.image?b.jsx("img",{src:$e.image,alt:$e.name,className:"size-14 object-cover rounded-sm"}):b.jsx("div",{className:"size-14 bg-zinc-100 rounded-md"})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm font-semibold text-zinc-700",children:$e.name}),b.jsx("p",{className:"text-xs text-zinc-500",children:$e.role.type})]}),b.jsx("button",{onClick:()=>xt(ie.id),className:"text-zinc-400 hover:text-zinc-700 text-lg rounded-full transition",children:b.jsx(Xn,{})})]}):b.jsxs("div",{className:"flex gap-2 items-start justify-between p-2 bg-white rounded-md border border-indigo-100",children:[b.jsx("p",{className:"text-sm text-zinc-500",children:"Character was deleted"}),b.jsx("button",{onClick:()=>xt(ie.id),className:"text-zinc-400 hover:text-zinc-700 text-lg rounded-full transition",children:b.jsx(Xn,{})})]},ie.id)},ie.id)})}),b.jsx("div",{className:"space-y-2",children:b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-xs font-medium font-semibold pb-1 text-gray-700",children:"Add Character"}),b.jsxs("select",{value:(ke==null?void 0:ke.id)||"",onChange:ie=>{const $e=ie.target.value,Ee=i.characters.find(Xe=>Xe.id.toString()===$e)||null;Ce(Ee)},className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[b.jsx("option",{value:"",children:"Select a character"}),i.characters.map(ie=>b.jsx("option",{value:ie.id,children:ie.name},ie.id))]})]})}),b.jsxs("button",{onClick:ft,disabled:!ke,className:"w-full mt-3 py-2 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[b.jsx(Aa,{className:"mr-1"}),"Add Character to Scene"]})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs(Yn,{className:"",children:[b.jsx(Le,{className:"block text-lg font-medium font-semibold pb-2 text-gray-700",children:"Location"}),S?b.jsx(b.Fragment,{children:(()=>{var $e;const ie=Wt(S.id);return b.jsx(b.Fragment,{children:ie?b.jsxs("div",{className:"flex gap-2 items-start justify-between p-2 bg-white rounded-md border border-indigo-100 mb-3",children:[b.jsx("div",{children:ie.image?b.jsx("img",{src:ie.image,alt:ie.name,className:"size-14 object-cover rounded-sm"}):b.jsx("div",{className:"size-14 bg-zinc-100 rounded-md"})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm font-semibold text-zinc-700",children:ie.name}),b.jsx("p",{className:"text-xs text-zinc-500",children:ie.type}),b.jsxs("p",{className:"text-xs text-zinc-700",children:[($e=ie.description)==null?void 0:$e.substring(0,60),"..."]})]}),b.jsx("button",{onClick:()=>A(null),className:"text-zinc-400 hover:text-zinc-700 text-lg rounded-full transition",children:b.jsx(Xn,{})})]}):b.jsxs("div",{className:"flex gap-2 items-start justify-between p-2 bg-white rounded-md border border-indigo-100",children:[b.jsx("p",{className:"text-sm text-zinc-500",children:"Character was deleted"}),b.jsx("button",{onClick:()=>A(null),className:"text-zinc-400 hover:text-zinc-700 text-lg rounded-full transition",children:b.jsx(Xn,{})})]})})})()}):b.jsx("div",{className:"space-y-2",children:b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-xs font-medium font-semibold pb-1 text-gray-700",children:"Select Location"}),b.jsxs("select",{value:"",onChange:ie=>{const $e=ie.target.value;A({id:$e})},className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[b.jsx("option",{value:"",children:"Select a location"}),i.locations.map(ie=>b.jsx("option",{value:ie.id,children:ie.name},ie.id))]})]})})]}),b.jsxs(Yn,{className:"",children:[b.jsx(Le,{className:"block text-lg font-medium font-semibold pb-2 text-gray-700",children:"Items"}),b.jsx("div",{className:"space-y-4 max-h-[240px] overflow-y-auto pr-1 mb-3",children:E.map(ie=>{var Ee;const $e=Mn(ie.id);return b.jsx(b.Fragment,{children:$e?b.jsxs("div",{className:"flex gap-2 items-start justify-between p-2 bg-white rounded-md border border-indigo-100",children:[b.jsx("div",{children:$e.image?b.jsx("img",{src:$e.image,alt:$e.name,className:"size-12 object-cover rounded-sm"}):b.jsx("div",{className:"size-12 bg-zinc-100 rounded-md"})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm font-semibold text-zinc-700",children:$e.name}),b.jsxs("p",{className:"text-xs text-zinc-700",children:[(Ee=$e.description)==null?void 0:Ee.substring(0,40),"..."]})]}),b.jsx("button",{onClick:()=>Vn($e.id),className:"text-zinc-400 hover:text-zinc-700 text-lg rounded-full transition",children:b.jsx(Xn,{})})]},$e.id):b.jsxs("div",{className:"flex gap-2 items-start justify-between p-2 bg-white rounded-md border border-indigo-100",children:[b.jsx("p",{className:"text-sm text-zinc-500",children:"Item was deleted"}),b.jsx("button",{onClick:()=>Vn(ie.id),className:"text-zinc-400 hover:text-zinc-700 text-lg rounded-full transition",children:b.jsx(Xn,{})})]},ie.id)})})}),b.jsx("div",{className:"space-y-2",children:b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-xs font-medium font-semibold pb-1 text-gray-700",children:"Add Item"}),b.jsxs("select",{value:(je==null?void 0:je.id)||"",onChange:ie=>{const $e=ie.target.value,Ee=i.items.find(Xe=>Xe.id.toString()===$e)||null;Ue(Ee)},className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[b.jsx("option",{value:"",children:"Select an item"}),i.items.map(ie=>b.jsx("option",{value:ie.id,children:ie.name},ie.id))]})]})}),b.jsxs("button",{onClick:Gt,disabled:!je,className:"w-full mt-3 py-2 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[b.jsx(Aa,{className:"mr-1"}),"Add Item to Scene"]})]})]})]})})}),b.jsx(Mt.Panel,{children:b.jsx("section",{className:"",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs(Yn,{className:"",children:[b.jsx(Le,{className:"block text-lg font-medium font-semibold pb-2 text-gray-700",children:"Scene Goals"}),b.jsx("div",{className:"space-y-4 max-h-[320px] overflow-y-auto pr-1 mb-3",children:$.map((ie,$e)=>b.jsxs("div",{className:"flex items-start justify-between p-2 bg-white rounded-md border border-indigo-100",children:[b.jsx("div",{className:"flex-1",children:b.jsx("p",{className:"text-sm text-zinc-700",children:ie.description})}),b.jsx("button",{onClick:()=>Ge($e),className:"text-zinc-400 hover:text-zinc-700 text-lg rounded-full transition",children:b.jsx(Xn,{})})]},$e))}),b.jsx("div",{className:"space-y-2",children:b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-xs font-medium font-semibold pb-1 text-gray-700",children:"Goal Description"}),b.jsx(Ft,{value:q,onChange:ie=>B(ie.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"What needs to be accomplished",rows:3})]})}),b.jsxs("button",{onClick:Ye,className:"w-full mt-3 py-2 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 transition-colors flex items-center justify-center",children:[b.jsx(Aa,{className:"mr-1"}),"Add Goal"]})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs(Yn,{className:"",children:[b.jsx(Le,{className:"block text-lg font-medium font-semibold pb-2 text-gray-700",children:"Conflict"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Description"}),b.jsx(Ft,{value:X.description||"",onChange:ie=>Q({...X,description:ie.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"What is the central conflict",rows:4})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Resolution"}),b.jsx(Ft,{value:X.resolution||"",onChange:ie=>Q({...X,resolution:ie.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"How is the conflict resolved",rows:4})]})]})]}),b.jsxs(Yn,{className:"",children:[b.jsx(Le,{className:"block text-lg font-medium font-semibold pb-2 text-gray-700",children:"Outcome"}),b.jsx("div",{className:"space-y-4",children:b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Description"}),b.jsx(Ft,{value:J.description||"",onChange:ie=>oe({...J,description:ie.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"What is the result of this scene",rows:4})]})})]})]})]})})}),b.jsx(Mt.Panel,{children:b.jsx("section",{className:"",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-6",children:[b.jsxs(Yn,{className:"",children:[b.jsx(Le,{className:"block text-lg font-medium font-semibold pb-2 text-gray-700",children:"Time Details"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Time of Day"}),b.jsx(Ot,{value:R.time_of_day||"",onChange:ie=>N({...R,time_of_day:ie.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Morning, Noon, Evening, Night, etc."})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Date"}),b.jsx(Ot,{value:R.date||"",onChange:ie=>N({...R,date:ie.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Story date or calendar date"})]})]})]}),b.jsxs(Yn,{className:"",children:[b.jsx(Le,{className:"block text-lg font-medium font-semibold pb-2 text-gray-700",children:"Weather"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Condition"}),b.jsx(Ot,{value:P.condition||"",onChange:ie=>O({...P,condition:ie.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Clear, Stormy, Rainy, etc."})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Description"}),b.jsx(Ft,{value:P.description||"",onChange:ie=>O({...P,description:ie.target.value}),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Detailed weather description",rows:3})]})]})]})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs(Yn,{className:"",children:[b.jsx(Le,{className:"block text-lg font-medium font-semibold pb-2 text-gray-700",children:"Scene Atmosphere"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Mood"}),b.jsx(Ot,{value:ce,onChange:ie=>le(ie.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Tense, Joyful, Mysterious, etc."})]}),b.jsxs(Ve,{children:[b.jsx(Le,{className:"block text-sm font-medium font-semibold pb-1 text-gray-700",children:"Point of View"}),b.jsx(Ot,{value:ee,onChange:ie=>Z(ie.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"First person, Third limited, etc."})]})]})]}),b.jsxs(Yn,{className:"",children:[b.jsx(Le,{className:"block text-lg font-medium font-semibold pb-2 text-gray-700",children:"Notes"}),b.jsx(Ve,{children:b.jsx(Ft,{value:se,onChange:ie=>j(ie.target.value),className:"text-sm bg-white w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Additional notes, ideas, or reminders",rows:6})})]})]})]})})})]})]})}),b.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-6 py-4 border-t border-indigo-100 flex justify-end space-x-3",children:[b.jsx("button",{onClick:()=>e(!1),className:"py-2 px-4 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:Hn,className:"py-2 px-6 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-md hover:from-indigo-700 hover:to-purple-700 shadow-md transition-all transform hover:scale-[1.02]",children:"Save Scene"})]})]})})})})})};function wke({character:t,index:e,project:n}){const[i,r]=k.useState(!1),[s,o]=k.useState(!1);return b.jsxs("div",{className:"",onClick:()=>o(!0),children:[b.jsx(n3,{isCreateCharacterOpen:s,setIsCreateCharacterOpen:o,character:t,project:n}),t.image?b.jsx("img",{src:t.image,alt:t.name,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{left:`${e*11}px`},className:"size-4 bg-zinc-100 rounded-md border border-zinc-300 absolute hover:z-20 hover:border-zinc-400 object-cover"}):b.jsx("div",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{left:`${e*11}px`},className:"size-4 bg-zinc-100 rounded-md border border-zinc-300 absolute hover:z-20 hover:border-zinc-400"}),b.jsx("div",{className:"relative w-full",children:i&&b.jsx("div",{style:{left:`${e*11}px`},className:"absolute text-xs bg-zinc-100 top-5 min-w-30 py-1 px-2 rounded-lg z-50",children:t.name})})]})}function Ske({item:t,index:e,project:n}){const[i,r]=k.useState(!1),[s,o]=k.useState(!1);return b.jsxs("div",{className:"",onClick:()=>o(!0),children:[b.jsx(i3,{isCreateItemOpen:s,setIsCreateItemOpen:o,item:t,project:n}),t.image?b.jsx("img",{src:t.image,alt:t.name,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{left:`${e*11}px`},className:"size-4 bg-zinc-100 rounded-md border border-zinc-300 absolute hover:z-20 hover:border-zinc-400 object-cover"}):b.jsx("div",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{left:`${e*11}px`},className:"size-4 bg-zinc-100 rounded-md border border-zinc-300 absolute hover:z-20 hover:border-zinc-400"}),b.jsx("div",{className:"relative w-full",children:i&&b.jsx("div",{style:{left:`${e*11}px`},className:"absolute text-xs bg-zinc-100 top-5 min-w-30 py-1 px-2 rounded-lg z-50",children:t.name})})]},t.id)}function Cke(t){return pi({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"circle",attr:{cx:"4.5",cy:"2.5",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"4.5",cy:"4.5",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"4.5",cy:"6.499",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"4.5",cy:"8.499",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"4.5",cy:"10.498",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"4.5",cy:"12.498",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"2.5",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"4.5",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"6.499",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"8.499",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"10.498",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"12.498",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"8.499",cy:"2.5",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"8.499",cy:"4.5",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"8.499",cy:"6.499",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"8.499",cy:"8.499",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"8.499",cy:"10.498",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"8.499",cy:"12.498",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"10.499",cy:"2.5",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"10.499",cy:"4.5",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"10.499",cy:"6.499",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"10.499",cy:"8.499",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"10.499",cy:"10.498",r:".6",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"10.499",cy:"12.498",r:".6",fill:"currentColor"},child:[]}]})(t)}const Hh=eT(t=>({context:$C(),selectedText:"",contextProject:!1,setContext:e=>t(()=>({context:e})),setSelectedText:e=>t(()=>({selectedText:e})),setContextProject:e=>t(()=>({contextProject:e}))})),Ake=({children:t,setSelectedText:e})=>(k.useEffect(()=>{document.addEventListener("selectionchange",()=>{const n=document.getSelection(),i=n==null?void 0:n.toString();e(i)})},[]),b.jsx(b.Fragment,{children:t})),Eke=({scene:t,setUpdatedContent:e,updatedContentRef:n,project:i,chapter:r})=>{const s=k.useRef(null),o=kt(p=>p.authData.accessToken),a=$t(p=>p.updateSceneInChapter),l=YY({extensions:[nX,XY,JY],content:n==null?void 0:n.current,onUpdate:({editor:p})=>{e(p.getHTML())}});k.useEffect(()=>{l&&(t==null?void 0:t.updated_content)!==l.getHTML()&&l.commands.setContent(t.updated_content||"")},[t==null?void 0:t.id,t==null?void 0:t.updated_content,l]);const c=()=>{const p=s.current;if(p){const m=p.offsetHeight;window.scrollBy({top:-m*2,behavior:"smooth"})}},d=async()=>{c();const p={...t,content:t.updated_content,updated_content:""},m=await i2(o,p,p.id);a(i.id,r.id,m.data)},h=async()=>{c();const p={...t,updated_content:""},m=await i2(o,p,p.id);a(i.id,r.id,m.data)};return b.jsx(b.Fragment,{children:t.updated_content&&t.updated_content!==""&&t.updated_content!=="<p></p>"&&b.jsxs("div",{ref:s,className:"rounded-md border border-dashed border-orange-300 border-dashed w-full mt-4",children:[b.jsx("div",{className:" text-xs border border-orange-200 rounded-md w-fit px-2 bg-orange-50 m-2",children:"Updated content"}),b.jsx(dt,{style:{border:"none",padding:"0",margin:"0"},editor:l,className:"",children:b.jsx(dt.Content,{style:{margin:"0",padding:"0"},className:" rounded-md text-base"})},t.id),b.jsxs("div",{className:"w-full flex justify-end",children:[b.jsx("div",{onClick:h,className:" text-sm border border-red-300 rounded-md w-fit px-2 bg-red-50 m-2 text-red-700 cursor-pointer",children:"Delete"}),b.jsx("div",{onClick:d,className:" text-sm border border-green-300 rounded-md w-fit px-2 bg-green-50 m-2 text-green-700 cursor-pointer",children:"Accept"})]})]})})};function Tke({scene:t,index:e=null,chapter:n,handlers:i,scenesState:r,draggableProps:s}){const[o,a]=k.useState(t.content),[l,c]=k.useState(t.updated_content),[d,h]=k.useState(""),[p,m]=k.useState(!1),[v,S]=k.useState(!1),[A,E]=k.useState(!1),M=k.useRef(o),R=k.useRef(l),N=k.useRef(t.content),P=k.useRef(t.updated_content),{id:O}=ed(),$=kt(se=>se.authData.accessToken),F=$t(se=>se.projectsList.find(j=>j.id===(O==null?void 0:O.toString()))),q=$t(se=>se.updateChapterInProject),B=Hh(se=>se.setContext),X=Hh(se=>se.setSelectedText),Q=YY({extensions:[nX,XY,JY],content:M.current,onUpdate:({editor:se})=>{a(se.getHTML())}});k.useEffect(()=>{M.current=o},[o]),k.useEffect(()=>{N.current=t.content,P.current=t.updated_content,a(t.content)},[t==null?void 0:t.id,t==null?void 0:t.content,Q]),k.useEffect(()=>{R.current=l},[l]),k.useEffect(()=>()=>{(M.current!==N.current||R.current!==P.current)&&J(M.current,R.current)},[]),k.useEffect(()=>{Q&&(t==null?void 0:t.content)!==Q.getHTML()&&Q.commands.setContent(t.content||"")},[t==null?void 0:t.id,t==null?void 0:t.content,Q]),k.useEffect(()=>{const se=setTimeout(()=>{(o!==t.content||l!==t.updated_content)&&J(M.current,l)},500);return()=>{clearTimeout(se)}},[o,l]);const J=async(se,j)=>{try{const te={...t,content:se,updated_content:j},ae=await i2($,te,t.id),U={...n,scenes:n.scenes.map(ke=>ke.id===ae.data.id?ae.data:ke)},ve=r.findIndex(ke=>ke.id===ae.data.id);i.remove(ve),i.insert(ve,ae.data),q(n.project,U)}catch(te){console.log(te)}},oe=k.useMemo(()=>!F||!t.characters?[]:t.characters.map(se=>F.characters.find(j=>j.id===se.id)).filter(Boolean),[t.characters,F]),ce=k.useMemo(()=>!F||!t.items?[]:t.items.map(se=>F.items.find(j=>j.id===se.id)).filter(Boolean),[t.items,F]),le=k.useMemo(()=>!F||!t.location?null:F.locations.find(se=>{var j;return se.id===((j=t.location)==null?void 0:j.id)})||null,[t.location,F]),ee=async se=>{try{if(n&&r&&i){const j=r.findIndex(ae=>ae.id.toString()===se.id.toString());j!==-1&&i.remove(j);const te={...n,scenes:n.scenes.filter(ae=>ae.id!==se.id)};await bke($,se.id),q(n.project,te)}}catch(j){console.log(j)}},Z=()=>{const se={...n,scenes:[t],pages:[]};B(se),X(d)};return b.jsx("div",{className:"w-full ",children:b.jsxs(dt,{onClick:()=>Z(),editor:Q,className:"p-3 bg-white",children:[b.jsxs("div",{className:"flex justify-between bg-white rounded-md py-2",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex",...s,children:[b.jsx(Cke,{}),e!==null&&b.jsxs("p",{className:"text-xs font-semibold text-zinc-500 uppercase",children:["Scene ",e+1]})]}),b.jsxs("p",{className:"text-xs font-semibold text-zinc-800 uppercase mt-3",children:["Scene: ",t.title]})]}),b.jsx("div",{children:v?b.jsxs("div",{className:"flex justify-end w-full gap-1",children:[b.jsx("div",{onClick:()=>{S(!1)},className:"text-zinc-400 duration-300 hover:text-zinc-800 text-sm",children:b.jsx(Xn,{})}),b.jsx("div",{onClick:()=>{ee(t)},className:"text-zinc-400 duration-300 hover:text-zinc-800 text-sm",children:b.jsx(QE,{})})]}):b.jsx("div",{className:"flex justify-end w-full",children:b.jsx("div",{onClick:()=>{S(!0)},className:"text-zinc-400 duration-300 hover:text-zinc-800 text-sm",children:b.jsx(tT,{})})})})]}),b.jsx(Ake,{setSelectedText:h,children:b.jsx(dt.Content,{className:"border border-dashed border-zinc-300 rounded-md text-base",children:b.jsxs("div",{className:"flex p-3 gap-1",children:[b.jsxs(dt.ControlsGroup,{className:"z-0",children:[b.jsx(dt.Color,{color:"#F03E3E"}),b.jsx(dt.Color,{color:"#7048E8"}),b.jsx(dt.Color,{color:"#1098AD"}),b.jsx(dt.Color,{color:"#37B24D"}),b.jsx(dt.Color,{color:"#F59F00"}),b.jsx(dt.Color,{color:"#000000"})]}),b.jsxs(dt.ControlsGroup,{children:[b.jsx(dt.Bold,{}),b.jsx(dt.Italic,{}),b.jsx(dt.Strikethrough,{}),b.jsx(dt.ClearFormatting,{})]})]})})}),F&&b.jsx(Eke,{scene:t,setUpdatedContent:c,updatedContent:l,updatedContentRef:R,project:F,chapter:n}),b.jsxs("div",{className:"",children:[b.jsxs("div",{className:"flex mt-2",children:[b.jsxs("div",{className:"flex gap-2 w-full mt-2 items-start justify-start",children:[b.jsxs("div",{className:"flex flex-row",children:[b.jsx("div",{className:"opacity-70 hover:opacity-100 text-md",children:b.jsx(fke,{})}),b.jsx("div",{style:{width:`${t.characters.length*11+10}px`},className:"relative",children:oe.map((se,j)=>b.jsx("div",{children:se&&F&&b.jsx(wke,{character:se,index:j,project:F},se.id)},se==null?void 0:se.id))}),b.jsx("p",{className:"text-xs text-zinc-500",children:t.characters.length})]}),b.jsxs("div",{className:"flex flex-row",children:[b.jsx("span",{className:"opacity-70 hover:opacity-100 text-md",children:b.jsx(dke,{})}),b.jsx("div",{style:{width:`${t.items.length*11+10}px`},className:"relative",children:ce.map((se,j)=>b.jsx("div",{children:se&&F&&b.jsx(Ske,{item:se,index:j,project:F},se.id)},se==null?void 0:se.id))}),b.jsx("p",{className:"text-xs text-zinc-500",children:t.items.length})]}),b.jsxs("div",{className:"flex flex-row ",children:[b.jsx("span",{className:"opacity-70 hover:opacity-100 text-md",children:b.jsx(bfe,{})}),b.jsx("div",{className:"relative",children:le&&b.jsxs("div",{className:"text-xs text-zinc-500 ml-1",children:[le&&F&&b.jsx(r3,{isCreateLocationOpen:A,setIsCreateLocationOpen:E,location:le,project:F}),b.jsxs("p",{className:"hover:underline cursor-pointer",onClick:()=>E(!0),children:[le==null?void 0:le.name,", ",le==null?void 0:le.type]})]})})]})]}),p&&F&&b.jsx(xke,{isCreateSceneOpen:p,setIsCreateSceneOpen:m,project:F,scene:t,chapter:n,handlers:i,scenesState:r}),b.jsx("div",{onClick:()=>m(!0),className:"size-5 bg-zinc-50 rounded-lg flex flex-col justify-center items-center opacity-50 hover:opacity-100  mt-2",children:b.jsx("span",{className:"opacity-70 hover:opacity-100 text-lg",children:b.jsx(ffe,{})})})]}),e!==null&&b.jsx("div",{className:"w-full justify-end flex",children:b.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:["Seq: ",e+1]})})]})]},t.id)})}const kke=({chapter:t,project:e})=>{const n=kt(E=>E.authData.accessToken),i=$t(E=>E.updateChapterInProject),[r,s]=k.useState(!1),[o,a]=k.useState(!1),[l,c]=k.useState([]),[d,h]=k.useState(t==null?void 0:t.scenes.length),[p,m]=f0e(t==null?void 0:t.scenes),v=t?t.scenes:0,S=async()=>{try{let E=0;t.scenes.length>=1&&(E=t.scenes.reduce((P,O)=>O.sequence>P.sequence?O:P).sequence);const M={...JX(),title:"New scene",chapter:t.id,project:e.id,sequence:E+1},R=await ZX(n,M);m.append(R.data);const N={...t,scenes:[...t.scenes,R.data]};i(t.project,N)}catch(E){console.error(E)}},A=E=>{const M=[];for(let R=0;R<E.length;R++)M.push({id:E[R].id,sequence:R+1});return M};return k.useEffect(()=>{t!=null&&t.pages&&m.setState(t==null?void 0:t.scenes)},[t==null?void 0:t.scenes]),k.useEffect(()=>{t&&c(A(t.scenes))},[v]),k.useEffect(()=>{d&&p.length>d&&window.scrollBy({top:window.innerHeight*.4,behavior:"smooth"}),h(p.length)},[p]),k.useEffect(()=>{if(r)return;const E=async()=>{try{await vke(n,{order:N}),M(),c(N)}catch(P){console.log(P)}},M=()=>{const P={...t,scenes:p};i(e.id,P)},R=(P,O)=>{if(P.length!==O.length)return!0;for(let $=0;$<P.length;$++)if(P[$].id!==O[$].id||P[$].sequence!==O[$].sequence)return!0;return!1};if(!p.length||!l.length)return;const N=A(p);R(N,l)&&E()},[p]),b.jsx(b.Fragment,{children:e&&t&&b.jsxs(jfe,{label:`Chapter ${t.name}`,chapter:t,project:e,children:[b.jsx(fye,{onDragEnd:({destination:E,source:M})=>{s(!1),E&&m.reorder({from:M.index,to:E.index})},onDragStart:()=>s(!0),children:b.jsx(Zye,{droppableId:"dnd-list",direction:"vertical",children:E=>b.jsxs("div",{...E.droppableProps,ref:E.innerRef,className:"droppable-container w-full flex flex-col gap-4 items-center",children:[p.map((M,R)=>b.jsx(Dye,{index:R,draggableId:M.id.toString(),children:N=>k.createElement("div",{className:"mb-8 w-full flex justify-center flex-col items-center",ref:N.innerRef,...N.draggableProps,key:M.id},b.jsx("div",{className:"w-full flex max-w-260 ",children:b.jsx(Tke,{scene:M,index:R,chapter:t,handlers:m,scenesState:p,draggableProps:{...N.dragHandleProps}})}))},M.id)),E.placeholder]})})}),b.jsx("div",{className:"mb-8 w-full flex justify-center flex-col items-center",children:b.jsx("div",{className:"max-w-260 flex w-full",children:b.jsx("div",{className:"w-full mt-4",children:o?b.jsxs("div",{className:"flex gap-1",children:[b.jsx("div",{onClick:()=>{a(!1),S()},className:"bg-white text-xs px-2 py-1 border border-zinc-200 rounded-md w-fit hover:border-zinc-400 cursor-pointer",children:"New"}),b.jsx("div",{onClick:()=>{a(!0)},className:"bg-white text-xs px-2 py-1 border border-zinc-200 rounded-md w-fit hover:border-zinc-400 cursor-pointer",children:"Existing"}),b.jsx("div",{onClick:()=>{a(!1)},className:"bg-white text-xs px-2 py-1 border border-zinc-200 rounded-md w-fit hover:border-zinc-400 cursor-pointer",children:"x"})]}):b.jsx("div",{onClick:()=>{a(!0)},className:"bg-white text-xs px-2 py-1 mb-4 border border-zinc-200 rounded-md w-fit hover:border-zinc-400 cursor-pointer",children:"Add scene"})})})})]})})};var GO={exports:{}},WO,kH;function _ke(){if(kH)return WO;kH=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return WO=t,WO}var KO,_H;function Mke(){if(_H)return KO;_H=1;var t=_ke();function e(){}function n(){}return n.resetWarningCache=e,KO=function(){function i(o,a,l,c,d,h){if(h!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},KO}var MH;function Rke(){return MH||(MH=1,GO.exports=Mke()()),GO.exports}var Dke=Rke();const Qn=Gx(Dke),Nke=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Fx(t,e,n){const i=Pke(t),{webkitRelativePath:r}=t,s=typeof e=="string"?e:typeof r=="string"&&r.length>0?r:`./${t.name}`;return typeof i.path!="string"&&RH(i,"path",s),RH(i,"relativePath",s),i}function Pke(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const i=e.split(".").pop().toLowerCase(),r=Nke.get(i);r&&Object.defineProperty(t,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return t}function RH(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Oke=[".DS_Store","Thumbs.db"];function Lke(t){return l0(this,void 0,void 0,function*(){return r2(t)&&jke(t.dataTransfer)?zke(t.dataTransfer,t.type):Ike(t)?Fke(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?$ke(t):[]})}function jke(t){return r2(t)}function Ike(t){return r2(t)&&r2(t.target)}function r2(t){return typeof t=="object"&&t!==null}function Fke(t){return Jj(t.target.files).map(e=>Fx(e))}function $ke(t){return l0(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Fx(n))})}function zke(t,e){return l0(this,void 0,void 0,function*(){if(t.items){const n=Jj(t.items).filter(r=>r.kind==="file");if(e!=="drop")return n;const i=yield Promise.all(n.map(Bke));return DH(QX(i))}return DH(Jj(t.files).map(n=>Fx(n)))})}function DH(t){return t.filter(e=>Oke.indexOf(e.name)===-1)}function Jj(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const i=t[n];e.push(i)}return e}function Bke(t){if(typeof t.webkitGetAsEntry!="function")return NH(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?eJ(e):NH(t,e)}function QX(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?QX(n):[n]],[])}function NH(t,e){return l0(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,Fx(o)}}const i=t.getAsFile();if(!i)throw new Error(`${t} is not a File`);return Fx(i,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function Vke(t){return l0(this,void 0,void 0,function*(){return t.isDirectory?eJ(t):Hke(t)})}function eJ(t){const e=t.createReader();return new Promise((n,i)=>{const r=[];function s(){e.readEntries(o=>l0(this,void 0,void 0,function*(){if(o.length){const a=Promise.all(o.map(Vke));r.push(a),s()}else try{const a=yield Promise.all(r);n(a)}catch(a){i(a)}}),o=>{i(o)})}s()})}function Hke(t){return l0(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(i=>{const r=Fx(i,t.fullPath);e(r)},i=>{n(i)})})})}var rM={},PH;function Uke(){return PH||(PH=1,rM.__esModule=!0,rM.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var i=t.name||"",r=(t.type||"").toLowerCase(),s=r.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?i.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):r===a})}return!0}),rM}var qke=Uke();const YO=Gx(qke);function OH(t){return Kke(t)||Wke(t)||nJ(t)||Gke()}function Gke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kke(t){if(Array.isArray(t))return Zj(t)}function LH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function jH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LH(Object(n),!0).forEach(function(i){tJ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LH(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function tJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oA(t,e){return Jke(t)||Xke(t,e)||nJ(t,e)||Yke()}function Yke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nJ(t,e){if(t){if(typeof t=="string")return Zj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zj(t,e)}}function Zj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Xke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],r=!0,s=!1,o,a;try{for(n=n.call(t);!(r=(o=n.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw a}}return i}}function Jke(t){if(Array.isArray(t))return t}var Zke=typeof YO=="function"?YO:YO.default,Qke="file-invalid-type",e_e="file-too-large",t_e="file-too-small",n_e="too-many-files",i_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),i=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:Qke,message:"File type must be ".concat(i)}},IH=function(e){return{code:e_e,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},FH=function(e){return{code:t_e,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},r_e={code:n_e,message:"Too many files"};function iJ(t,e){var n=t.type==="application/x-moz-file"||Zke(t,e);return[n,n?null:i_e(e)]}function rJ(t,e,n){if(Ag(t.size))if(Ag(e)&&Ag(n)){if(t.size>n)return[!1,IH(n)];if(t.size<e)return[!1,FH(e)]}else{if(Ag(e)&&t.size<e)return[!1,FH(e)];if(Ag(n)&&t.size>n)return[!1,IH(n)]}return[!0,null]}function Ag(t){return t!=null}function s_e(t){var e=t.files,n=t.accept,i=t.minSize,r=t.maxSize,s=t.multiple,o=t.maxFiles,a=t.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(l){var c=iJ(l,n),d=oA(c,1),h=d[0],p=rJ(l,i,r),m=oA(p,1),v=m[0],S=a?a(l):null;return h&&v&&!S})}function s2(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function sM(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function $H(t){t.preventDefault()}function o_e(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function a_e(t){return t.indexOf("Edge/")!==-1}function l_e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return o_e(t)||a_e(t)}function xu(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return e.some(function(a){return!s2(i)&&a&&a.apply(void 0,[i].concat(s)),s2(i)})}}function c_e(){return"showOpenFilePicker"in window}function u_e(t){if(Ag(t)){var e=Object.entries(t).filter(function(n){var i=oA(n,2),r=i[0],s=i[1],o=!0;return sJ(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(oJ))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,i){var r=oA(i,2),s=r[0],o=r[1];return jH(jH({},n),{},tJ({},s,o))},{});return[{description:"Files",accept:e}]}return t}function d_e(t){if(Ag(t))return Object.entries(t).reduce(function(e,n){var i=oA(n,2),r=i[0],s=i[1];return[].concat(OH(e),[r],OH(s))},[]).filter(function(e){return sJ(e)||oJ(e)}).join(",")}function f_e(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function h_e(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function sJ(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function oJ(t){return/^.*\.[\w]+$/.test(t)}var p_e=["children"],m_e=["open"],g_e=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],y_e=["refKey","onChange","onClick"];function b_e(t){return w_e(t)||x_e(t)||aJ(t)||v_e()}function v_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w_e(t){if(Array.isArray(t))return Qj(t)}function XO(t,e){return A_e(t)||C_e(t,e)||aJ(t,e)||S_e()}function S_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aJ(t,e){if(t){if(typeof t=="string")return Qj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qj(t,e)}}function Qj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function C_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],r=!0,s=!1,o,a;try{for(n=n.call(t);!(r=(o=n.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw a}}return i}}function A_e(t){if(Array.isArray(t))return t}function zH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zH(Object(n),!0).forEach(function(i){eI(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zH(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function eI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o2(t,e){if(t==null)return{};var n=E_e(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function E_e(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var Vz=k.forwardRef(function(t,e){var n=t.children,i=o2(t,p_e),r=cJ(i),s=r.open,o=o2(r,m_e);return k.useImperativeHandle(e,function(){return{open:s}},[s]),Se.createElement(k.Fragment,null,n(Ii(Ii({},o),{},{open:s})))});Vz.displayName="Dropzone";var lJ={disabled:!1,getFilesFromEvent:Lke,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Vz.defaultProps=lJ;Vz.propTypes={children:Qn.func,accept:Qn.objectOf(Qn.arrayOf(Qn.string)),multiple:Qn.bool,preventDropOnDocument:Qn.bool,noClick:Qn.bool,noKeyboard:Qn.bool,noDrag:Qn.bool,noDragEventsBubbling:Qn.bool,minSize:Qn.number,maxSize:Qn.number,maxFiles:Qn.number,disabled:Qn.bool,getFilesFromEvent:Qn.func,onFileDialogCancel:Qn.func,onFileDialogOpen:Qn.func,useFsAccessApi:Qn.bool,autoFocus:Qn.bool,onDragEnter:Qn.func,onDragLeave:Qn.func,onDragOver:Qn.func,onDrop:Qn.func,onDropAccepted:Qn.func,onDropRejected:Qn.func,onError:Qn.func,validator:Qn.func};var tI={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function cJ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Ii(Ii({},lJ),t),n=e.accept,i=e.disabled,r=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,d=e.onDragLeave,h=e.onDragOver,p=e.onDrop,m=e.onDropAccepted,v=e.onDropRejected,S=e.onFileDialogCancel,A=e.onFileDialogOpen,E=e.useFsAccessApi,M=e.autoFocus,R=e.preventDropOnDocument,N=e.noClick,P=e.noKeyboard,O=e.noDrag,$=e.noDragEventsBubbling,F=e.onError,q=e.validator,B=k.useMemo(function(){return d_e(n)},[n]),X=k.useMemo(function(){return u_e(n)},[n]),Q=k.useMemo(function(){return typeof A=="function"?A:BH},[A]),J=k.useMemo(function(){return typeof S=="function"?S:BH},[S]),oe=k.useRef(null),ce=k.useRef(null),le=k.useReducer(T_e,tI),ee=XO(le,2),Z=ee[0],se=ee[1],j=Z.isFocused,te=Z.isFileDialogActive,ae=k.useRef(typeof window<"u"&&window.isSecureContext&&E&&c_e()),U=function(){!ae.current&&te&&setTimeout(function(){if(ce.current){var Xe=ce.current.files;Xe.length||(se({type:"closeDialog"}),J())}},300)};k.useEffect(function(){return window.addEventListener("focus",U,!1),function(){window.removeEventListener("focus",U,!1)}},[ce,te,J,ae]);var ve=k.useRef([]),ke=function(Xe){oe.current&&oe.current.contains(Xe.target)||(Xe.preventDefault(),ve.current=[])};k.useEffect(function(){return R&&(document.addEventListener("dragover",$H,!1),document.addEventListener("drop",ke,!1)),function(){R&&(document.removeEventListener("dragover",$H),document.removeEventListener("drop",ke))}},[oe,R]),k.useEffect(function(){return!i&&M&&oe.current&&oe.current.focus(),function(){}},[oe,M,i]);var Ce=k.useCallback(function(Ee){F?F(Ee):console.error(Ee)},[F]),je=k.useCallback(function(Ee){Ee.preventDefault(),Ee.persist(),Bt(Ee),ve.current=[].concat(b_e(ve.current),[Ee.target]),sM(Ee)&&Promise.resolve(r(Ee)).then(function(Xe){if(!(s2(Ee)&&!$)){var be=Xe.length,Ne=be>0&&s_e({files:Xe,accept:B,minSize:o,maxSize:s,multiple:a,maxFiles:l,validator:q}),de=be>0&&!Ne;se({isDragAccept:Ne,isDragReject:de,isDragActive:!0,type:"setDraggedFiles"}),c&&c(Ee)}}).catch(function(Xe){return Ce(Xe)})},[r,c,Ce,$,B,o,s,a,l,q]),Ue=k.useCallback(function(Ee){Ee.preventDefault(),Ee.persist(),Bt(Ee);var Xe=sM(Ee);if(Xe&&Ee.dataTransfer)try{Ee.dataTransfer.dropEffect="copy"}catch{}return Xe&&h&&h(Ee),!1},[h,$]),Ye=k.useCallback(function(Ee){Ee.preventDefault(),Ee.persist(),Bt(Ee);var Xe=ve.current.filter(function(Ne){return oe.current&&oe.current.contains(Ne)}),be=Xe.indexOf(Ee.target);be!==-1&&Xe.splice(be,1),ve.current=Xe,!(Xe.length>0)&&(se({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),sM(Ee)&&d&&d(Ee))},[oe,d,$]),Ge=k.useCallback(function(Ee,Xe){var be=[],Ne=[];Ee.forEach(function(de){var Ke=iJ(de,B),rt=XO(Ke,2),sn=rt[0],rr=rt[1],ri=rJ(de,o,s),Rn=XO(ri,2),Tr=Rn[0],An=Rn[1],Dn=q?q(de):null;if(sn&&Tr&&!Dn)be.push(de);else{var sr=[rr,An];Dn&&(sr=sr.concat(Dn)),Ne.push({file:de,errors:sr.filter(function(zf){return zf})})}}),(!a&&be.length>1||a&&l>=1&&be.length>l)&&(be.forEach(function(de){Ne.push({file:de,errors:[r_e]})}),be.splice(0)),se({acceptedFiles:be,fileRejections:Ne,isDragReject:Ne.length>0,type:"setFiles"}),p&&p(be,Ne,Xe),Ne.length>0&&v&&v(Ne,Xe),be.length>0&&m&&m(be,Xe)},[se,a,B,o,s,l,p,m,v,q]),ft=k.useCallback(function(Ee){Ee.preventDefault(),Ee.persist(),Bt(Ee),ve.current=[],sM(Ee)&&Promise.resolve(r(Ee)).then(function(Xe){s2(Ee)&&!$||Ge(Xe,Ee)}).catch(function(Xe){return Ce(Xe)}),se({type:"reset"})},[r,Ge,Ce,$]),mt=k.useCallback(function(){if(ae.current){se({type:"openDialog"}),Q();var Ee={multiple:a,types:X};window.showOpenFilePicker(Ee).then(function(Xe){return r(Xe)}).then(function(Xe){Ge(Xe,null),se({type:"closeDialog"})}).catch(function(Xe){f_e(Xe)?(J(Xe),se({type:"closeDialog"})):h_e(Xe)?(ae.current=!1,ce.current?(ce.current.value=null,ce.current.click()):Ce(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ce(Xe)});return}ce.current&&(se({type:"openDialog"}),Q(),ce.current.value=null,ce.current.click())},[se,Q,J,E,Ge,Ce,X,a]),xt=k.useCallback(function(Ee){!oe.current||!oe.current.isEqualNode(Ee.target)||(Ee.key===" "||Ee.key==="Enter"||Ee.keyCode===32||Ee.keyCode===13)&&(Ee.preventDefault(),mt())},[oe,mt]),Gt=k.useCallback(function(){se({type:"focus"})},[]),Mn=k.useCallback(function(){se({type:"blur"})},[]),Vn=k.useCallback(function(){N||(l_e()?setTimeout(mt,0):mt())},[N,mt]),Wt=function(Xe){return i?null:Xe},mi=function(Xe){return P?null:Wt(Xe)},ii=function(Xe){return O?null:Wt(Xe)},Bt=function(Xe){$&&Xe.stopPropagation()},Hn=k.useMemo(function(){return function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Xe=Ee.refKey,be=Xe===void 0?"ref":Xe,Ne=Ee.role,de=Ee.onKeyDown,Ke=Ee.onFocus,rt=Ee.onBlur,sn=Ee.onClick,rr=Ee.onDragEnter,ri=Ee.onDragOver,Rn=Ee.onDragLeave,Tr=Ee.onDrop,An=o2(Ee,g_e);return Ii(Ii(eI({onKeyDown:mi(xu(de,xt)),onFocus:mi(xu(Ke,Gt)),onBlur:mi(xu(rt,Mn)),onClick:Wt(xu(sn,Vn)),onDragEnter:ii(xu(rr,je)),onDragOver:ii(xu(ri,Ue)),onDragLeave:ii(xu(Rn,Ye)),onDrop:ii(xu(Tr,ft)),role:typeof Ne=="string"&&Ne!==""?Ne:"presentation"},be,oe),!i&&!P?{tabIndex:0}:{}),An)}},[oe,xt,Gt,Mn,Vn,je,Ue,Ye,ft,P,O,i]),ie=k.useCallback(function(Ee){Ee.stopPropagation()},[]),$e=k.useMemo(function(){return function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Xe=Ee.refKey,be=Xe===void 0?"ref":Xe,Ne=Ee.onChange,de=Ee.onClick,Ke=o2(Ee,y_e),rt=eI({accept:B,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Wt(xu(Ne,ft)),onClick:Wt(xu(de,ie)),tabIndex:-1},be,ce);return Ii(Ii({},rt),Ke)}},[ce,n,a,ft,i]);return Ii(Ii({},Z),{},{isFocused:j&&!i,getRootProps:Hn,getInputProps:$e,rootRef:oe,inputRef:ce,open:Wt(mt)})}function T_e(t,e){switch(e.type){case"focus":return Ii(Ii({},t),{},{isFocused:!0});case"blur":return Ii(Ii({},t),{},{isFocused:!1});case"openDialog":return Ii(Ii({},tI),{},{isFileDialogActive:!0});case"closeDialog":return Ii(Ii({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Ii(Ii({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Ii(Ii({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Ii({},tI);default:return t}}function BH(){}function k_e(t){return pi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function __e(t){return pi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z"},child:[]}]})(t)}function Hz(t){return pi({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m7 17.013 4.413-.015 9.632-9.54c.378-.378.586-.88.586-1.414s-.208-1.036-.586-1.414l-1.586-1.586c-.756-.756-2.075-.752-2.825-.003L7 12.583v4.43zM18.045 4.458l1.589 1.583-1.597 1.582-1.586-1.585 1.594-1.58zM9 13.417l6.03-5.973 1.586 1.586-6.029 5.971L9 15.006v-1.589z"},child:[]},{tag:"path",attr:{d:"M5 21h14c1.103 0 2-.897 2-2v-8.668l-2 2V19H8.158c-.026 0-.053.01-.079.01-.033 0-.066-.009-.1-.01H5V5h6.847l2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2z"},child:[]}]})(t)}const M_e=({character:t,project:e})=>{const[n,i]=k.useState(!1),[r,s]=k.useState(!1),o=kt(d=>d.authData.accessToken),{id:a}=ed(),l=$t(d=>d.deleteCharacterFromProject),c=async d=>{try{await gfe(o,d.id),l(a||"",d),s(!1)}catch(h){console.log(h)}};return b.jsxs("div",{className:"flex flex-row justify-between gap-2 w-full",children:[b.jsxs("div",{className:"flex flex-row gap-2",children:[t.image?b.jsx("img",{src:t.image,alt:t.name,className:"size-10 object-cover rounded-sm"}):b.jsx("div",{className:"size-10 bg-zinc-100 rounded-md"}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs",children:t.name}),b.jsx("div",{className:"text-xs text-zinc-700",children:t.role.type})]})]}),b.jsxs("div",{className:"flex flex-col justify-between items-end",children:[r?b.jsxs("div",{className:"flex justify-end w-full gap-1",children:[b.jsx("div",{onClick:()=>{s(!1)},className:"text-zinc-400 duration-300 hover:text-zinc-700 text-sm opacity-40 hover:opacity-60",children:b.jsx(Xn,{})}),b.jsx("div",{onClick:()=>{c(t)},className:"text-zinc-400 duration-300 hover:text-zinc-700 text-sm opacity-40 hover:opacity-60 ",children:b.jsx(QE,{})})]}):b.jsx("div",{className:"flex justify-end w-full",children:b.jsx("div",{onClick:()=>{s(!0)},className:"text-zinc-400 duration-300 hover:text-zinc-700 text-sm opacity-40 hover:opacity-60",children:b.jsx(tT,{})})}),b.jsx("div",{onClick:()=>{i(!0)},className:"text-zinc-400 duration-300 hover:text-zinc-700 text-base opacity-40 hover:opacity-60",children:b.jsx(Hz,{})})]}),b.jsx(n3,{isCreateCharacterOpen:n,setIsCreateCharacterOpen:i,character:t,project:e})]})};function Uz(t){return pi({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},child:[]}]})(t)}const R_e=({character:t,isExtracting:e,project:n})=>{const i=kt(p=>p.authData.accessToken),r=$t(p=>p.updateProjectInList),s=$t(p=>p.addMergeExtractedCharacter),o=$t(p=>p.deleteCharacterFromProjectJson),a=async p=>{const m=new FormData;m.append("characters_json",JSON.stringify(p.characters_json));try{await ZE(i,n.id.toString(),m)}catch(v){console.log(v)}},l=async p=>{if(e)return;const m=El.from(n);try{const v=await hfe(i,p);m.addCharacter(v.data),m.removeCharacterFromJson(v.data.name),r(m.toJSON()),await a(m)}catch(v){console.log(v)}},c=async p=>{if(e)return;const m=El.from(n),v=n.id;try{s(v,p),o(v,p),m.removeCharacterFromJson(p.name),await a(m)}catch(S){console.log(S)}},d=p=>{if(n.characters.find(v=>v.name.toLowerCase()===p.toLowerCase()))return!0},h=async p=>{if(e)return;const m=El.from(n);try{m.removeCharacterFromJson(p.name),r(m.toJSON()),await a(m)}catch(v){console.log(v)}};return b.jsxs("div",{className:"flex gap-2 justify-between w-full relative",children:[b.jsxs("div",{className:"flex flex-row gap-2",children:[t.image?b.jsx("img",{src:t.image,alt:t.name,className:"size-10 object-cover"}):b.jsx("div",{className:"size-10 bg-zinc-100 rounded-md"}),b.jsxs("div",{className:"",children:[b.jsx("div",{className:"text-xs",children:t.name}),b.jsx("div",{className:"text-xs text-zinc-700",children:t.role.type})]})]}),d(t.name)?b.jsxs("div",{className:" flex h-fit justify-end items-end h-full gap-1",children:[b.jsx("div",{onClick:()=>h(t),className:"  text-xs text-red-400 cursor-pointer hover:text-red-700 px-2 py-1 border border-red-400 rounded-xl",children:"Discard"}),b.jsx("div",{onClick:()=>{c(t)},className:" text-xs text-green-400  cursor-pointer hover:text-green-700 px-2 py-1 border border-gree-400 rounded-xl",children:"Merge"})]}):b.jsxs("div",{className:" flex h-fit justify-end items-end h-full",children:[b.jsx("div",{onClick:()=>h(t),className:"  text-xl text-red-400 cursor-pointer hover:text-red-700",children:b.jsx(t3,{})}),b.jsx("div",{onClick:()=>{l(t)},className:" text-xl text-green-400  cursor-pointer hover:text-green-700",children:b.jsx(Uz,{})})]})]})},qz=k.createContext({});function Gz(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const GD=k.createContext(null),Wz=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class D_e extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=i instanceof HTMLElement&&i.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function N_e({children:t,isPresent:e,anchorX:n}){const i=k.useId(),r=k.useRef(null),s=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=k.useContext(Wz);return k.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d,right:h}=s.current;if(e||!r.current||!a||!l)return;const p=n==="left"?`left: ${d}`:`right: ${h}`;r.current.dataset.motionPopId=i;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${p}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),b.jsx(D_e,{isPresent:e,childRef:r,sizeRef:s,children:k.cloneElement(t,{ref:r})})}const P_e=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=Gz(O_e),c=k.useId(),d=k.useCallback(p=>{l.set(p,!0);for(const m of l.values())if(!m)return;i&&i()},[l,i]),h=k.useMemo(()=>({id:c,initial:e,isPresent:n,custom:r,onExitComplete:d,register:p=>(l.set(p,!1),()=>l.delete(p))}),s?[Math.random(),d]:[n,d]);return k.useMemo(()=>{l.forEach((p,m)=>l.set(m,!1))},[n]),k.useEffect(()=>{!n&&!l.size&&i&&i()},[n]),o==="popLayout"&&(t=b.jsx(N_e,{isPresent:n,anchorX:a,children:t})),b.jsx(GD.Provider,{value:h,children:t})};function O_e(){return new Map}function uJ(t=!0){const e=k.useContext(GD);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=k.useId();k.useEffect(()=>{if(t)return r(s)},[t]);const o=k.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,o]:[!0]}const oM=t=>t.key||"";function VH(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const Kz=typeof window<"u",dJ=Kz?k.useLayoutEffect:k.useEffect,Yz=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=uJ(o),d=k.useMemo(()=>VH(t),[t]),h=o&&!l?[]:d.map(oM),p=k.useRef(!0),m=k.useRef(d),v=Gz(()=>new Map),[S,A]=k.useState(d),[E,M]=k.useState(d);dJ(()=>{p.current=!1,m.current=d;for(let P=0;P<E.length;P++){const O=oM(E[P]);h.includes(O)?v.delete(O):v.get(O)!==!0&&v.set(O,!1)}},[E,h.length,h.join("-")]);const R=[];if(d!==S){let P=[...d];for(let O=0;O<E.length;O++){const $=E[O],F=oM($);h.includes(F)||(P.splice(O,0,$),R.push($))}return s==="wait"&&R.length&&(P=R),M(VH(P)),A(d),null}const{forceRender:N}=k.useContext(qz);return b.jsx(b.Fragment,{children:E.map(P=>{const O=oM(P),$=o&&!l?!1:d===E||h.includes(O),F=()=>{if(v.has(O))v.set(O,!0);else return;let q=!0;v.forEach(B=>{B||(q=!1)}),q&&(N==null||N(),M(m.current),o&&(c==null||c()),i&&i())};return b.jsx(P_e,{isPresent:$,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:s,onExitComplete:$?void 0:F,anchorX:a,children:P},O)})})},Na=t=>t;let fJ=Na;function Xz(t){let e;return()=>(e===void 0&&(e=t()),e)}const $x=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},xf=t=>t*1e3,wf=t=>t/1e3,L_e={useManualTiming:!1},aM=["read","resolveKeyframes","update","preRender","render","postRender"],HH={value:null};function j_e(t,e){let n=new Set,i=new Set,r=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),t()),l++,h(a)}const d={schedule:(h,p=!1,m=!1)=>{const S=m&&r?n:i;return p&&o.add(h),S.has(h)||S.add(h),h},cancel:h=>{i.delete(h),o.delete(h)},process:h=>{if(a=h,r){s=!0;return}r=!0,[n,i]=[i,n],n.forEach(c),e&&HH.value&&HH.value.frameloop[e].push(l),l=0,n.clear(),r=!1,s&&(s=!1,d.process(h))}};return d}const I_e=40;function hJ(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=aM.reduce((E,M)=>(E[M]=j_e(s,e?M:void 0),E),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:p}=o,m=()=>{const E=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(E-r.timestamp,I_e),1),r.timestamp=E,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),d.process(r),h.process(r),p.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(m))},v=()=>{n=!0,i=!0,r.isProcessing||t(m)};return{schedule:aM.reduce((E,M)=>{const R=o[M];return E[M]=(N,P=!1,O=!1)=>(n||v(),R.schedule(N,P,O)),E},{}),cancel:E=>{for(let M=0;M<aM.length;M++)o[aM[M]].cancel(E)},state:r,steps:o}}const{schedule:di,cancel:jp,state:is,steps:JO}=hJ(typeof requestAnimationFrame<"u"?requestAnimationFrame:Na,!0),pJ=k.createContext({strict:!1}),UH={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zx={};for(const t in UH)zx[t]={isEnabled:e=>UH[t].some(n=>!!e[n])};function F_e(t){for(const e in t)zx[e]={...zx[e],...t[e]}}const $_e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function a2(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$_e.has(t)}let mJ=t=>!a2(t);function z_e(t){t&&(mJ=e=>e.startsWith("on")?!a2(e):t(e))}try{z_e(require("@emotion/is-prop-valid").default)}catch{}function B_e(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(mJ(r)||n===!0&&a2(r)||!e&&!a2(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function V_e(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const WD=k.createContext({});function KD(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function aA(t){return typeof t=="string"||Array.isArray(t)}const Jz=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zz=["initial",...Jz];function YD(t){return KD(t.animate)||Zz.some(e=>aA(t[e]))}function gJ(t){return!!(YD(t)||t.variants)}function H_e(t,e){if(YD(t)){const{initial:n,animate:i}=t;return{initial:n===!1||aA(n)?n:void 0,animate:aA(i)?i:void 0}}return t.inherit!==!1?e:{}}function U_e(t){const{initial:e,animate:n}=H_e(t,k.useContext(WD));return k.useMemo(()=>({initial:e,animate:n}),[qH(e),qH(n)])}function qH(t){return Array.isArray(t)?t.join(" "):t}const q_e=Symbol.for("motionComponentSymbol");function ov(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function G_e(t,e,n){return k.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):ov(n)&&(n.current=i))},[e])}const Qz=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),W_e="framerAppearId",yJ="data-"+Qz(W_e),{schedule:eB}=hJ(queueMicrotask,!1),bJ=k.createContext({});function K_e(t,e,n,i,r){var s,o;const{visualElement:a}=k.useContext(WD),l=k.useContext(pJ),c=k.useContext(GD),d=k.useContext(Wz).reducedMotion,h=k.useRef(null);i=i||l.renderer,!h.current&&i&&(h.current=i(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,m=k.useContext(bJ);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&Y_e(h.current,n,r,m);const v=k.useRef(!1);k.useInsertionEffect(()=>{p&&v.current&&p.update(n,c)});const S=n[yJ],A=k.useRef(!!S&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,S))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,S)));return dJ(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),eB.render(p.render),A.current&&p.animationState&&p.animationState.animateChanges())}),k.useEffect(()=>{p&&(!A.current&&p.animationState&&p.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)===null||E===void 0||E.call(window,S)}),A.current=!1))}),p}function Y_e(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:vJ(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&ov(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function vJ(t){if(t)return t.options.allowProjection!==!1?t.projection:vJ(t.parent)}function X_e({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var s,o;t&&F_e(t);function a(c,d){let h;const p={...k.useContext(Wz),...c,layoutId:J_e(c)},{isStatic:m}=p,v=U_e(c),S=i(c,m);if(!m&&Kz){Z_e();const A=Q_e(p);h=A.MeasureLayout,v.visualElement=K_e(r,S,p,e,A.ProjectionNode)}return b.jsxs(WD.Provider,{value:v,children:[h&&v.visualElement?b.jsx(h,{visualElement:v.visualElement,...p}):null,n(r,c,G_e(S,v.visualElement,d),S,m,v.visualElement)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${(o=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&o!==void 0?o:""})`}`;const l=k.forwardRef(a);return l[q_e]=r,l}function J_e({layoutId:t}){const e=k.useContext(qz).id;return e&&t!==void 0?e+"-"+t:t}function Z_e(t,e){k.useContext(pJ).strict}function Q_e(t){const{drag:e,layout:n}=zx;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const xJ=t=>e=>typeof e=="string"&&e.startsWith(t),tB=xJ("--"),eMe=xJ("var(--"),nB=t=>eMe(t)?tMe.test(t.split("/*")[0].trim()):!1,tMe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,lA={};function nMe(t){for(const e in t)lA[e]=t[e],tB(e)&&(lA[e].isCSSVariable=!0)}const h1=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],u0=new Set(h1);function wJ(t,{layout:e,layoutId:n}){return u0.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!lA[t]||t==="opacity")}const Ds=t=>!!(t&&t.getVelocity),SJ=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Df=(t,e,n)=>n>e?e:n<t?t:n,p1={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cA={...p1,transform:t=>Df(0,1,t)},lM={...p1,default:1},fT=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ih=fT("deg"),Wu=fT("%"),Ct=fT("px"),iMe=fT("vh"),rMe=fT("vw"),GH={...Wu,parse:t=>Wu.parse(t)/100,transform:t=>Wu.transform(t*100)},sMe={borderWidth:Ct,borderTopWidth:Ct,borderRightWidth:Ct,borderBottomWidth:Ct,borderLeftWidth:Ct,borderRadius:Ct,radius:Ct,borderTopLeftRadius:Ct,borderTopRightRadius:Ct,borderBottomRightRadius:Ct,borderBottomLeftRadius:Ct,width:Ct,maxWidth:Ct,height:Ct,maxHeight:Ct,top:Ct,right:Ct,bottom:Ct,left:Ct,padding:Ct,paddingTop:Ct,paddingRight:Ct,paddingBottom:Ct,paddingLeft:Ct,margin:Ct,marginTop:Ct,marginRight:Ct,marginBottom:Ct,marginLeft:Ct,backgroundPositionX:Ct,backgroundPositionY:Ct},oMe={rotate:Ih,rotateX:Ih,rotateY:Ih,rotateZ:Ih,scale:lM,scaleX:lM,scaleY:lM,scaleZ:lM,skew:Ih,skewX:Ih,skewY:Ih,distance:Ct,translateX:Ct,translateY:Ct,translateZ:Ct,x:Ct,y:Ct,z:Ct,perspective:Ct,transformPerspective:Ct,opacity:cA,originX:GH,originY:GH,originZ:Ct},WH={...p1,transform:Math.round},iB={...sMe,...oMe,zIndex:WH,size:Ct,fillOpacity:cA,strokeOpacity:cA,numOctaves:WH},aMe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lMe=h1.length;function cMe(t,e,n){let i="",r=!0;for(let s=0;s<lMe;s++){const o=h1[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=SJ(a,iB[o]);if(!l){r=!1;const d=aMe[o]||o;i+=`${d}(${c}) `}n&&(e[o]=c)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function rB(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(u0.has(l)){o=!0;continue}else if(tB(l)){r[l]=c;continue}else{const d=SJ(c,iB[l]);l.startsWith("origin")?(a=!0,s[l]=d):i[l]=d}}if(e.transform||(o||n?i.transform=cMe(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;i.transformOrigin=`${l} ${c} ${d}`}}const sB=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function CJ(t,e,n){for(const i in e)!Ds(e[i])&&!wJ(i,n)&&(t[i]=e[i])}function uMe({transformTemplate:t},e){return k.useMemo(()=>{const n=sB();return rB(n,e,t),Object.assign({},n.vars,n.style)},[e])}function dMe(t,e){const n=t.style||{},i={};return CJ(i,n,t),Object.assign(i,uMe(t,e)),i}function fMe(t,e){const n={},i=dMe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const hMe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oB(t){return typeof t!="string"||t.includes("-")?!1:!!(hMe.indexOf(t)>-1||/[A-Z]/u.test(t))}const pMe={offset:"stroke-dashoffset",array:"stroke-dasharray"},mMe={offset:"strokeDashoffset",array:"strokeDasharray"};function gMe(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?pMe:mMe;t[s.offset]=Ct.transform(-i);const o=Ct.transform(e),a=Ct.transform(n);t[s.array]=`${o} ${a}`}function KH(t,e,n){return typeof t=="string"?t:Ct.transform(e+n*t)}function yMe(t,e,n){const i=KH(e,t.x,t.width),r=KH(n,t.y,t.height);return`${i} ${r}`}function aB(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(rB(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:v}=t;p.transform&&(v&&(m.transform=p.transform),delete p.transform),v&&(r!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=yMe(v,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),o!==void 0&&gMe(p,o,a,l,!1)}const AJ=()=>({...sB(),attrs:{}}),lB=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bMe(t,e,n,i){const r=k.useMemo(()=>{const s=AJ();return aB(s,e,lB(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};CJ(s,t.style,t),r.style={...s,...r.style}}return r}function vMe(t=!1){return(n,i,r,{latestValues:s},o)=>{const l=(oB(n)?bMe:fMe)(i,s,o,n),c=B_e(i,typeof n=="string",t),d=n!==k.Fragment?{...c,...l,ref:r}:{},{children:h}=i,p=k.useMemo(()=>Ds(h)?h.get():h,[h]);return k.createElement(n,{...d,children:p})}}function YH(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function cB(t,e,n,i){if(typeof e=="function"){const[r,s]=YH(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=YH(i);e=e(n!==void 0?n:t.custom,r,s)}return e}const nI=t=>Array.isArray(t),xMe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),wMe=t=>nI(t)?t[t.length-1]||0:t;function FM(t){const e=Ds(t)?t.get():t;return xMe(e)?e.toValue():e}function SMe({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,s){const o={latestValues:CMe(i,r,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:i,current:a,...o}),o.onUpdate=a=>n(a)),o}const EJ=t=>(e,n)=>{const i=k.useContext(WD),r=k.useContext(GD),s=()=>SMe(t,e,i,r);return n?s():Gz(s)};function CMe(t,e,n,i){const r={},s=i(t,{});for(const p in s)r[p]=FM(s[p]);let{initial:o,animate:a}=t;const l=YD(t),c=gJ(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!KD(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const v=cB(t,p[m]);if(v){const{transitionEnd:S,transition:A,...E}=v;for(const M in E){let R=E[M];if(Array.isArray(R)){const N=d?R.length-1:0;R=R[N]}R!==null&&(r[M]=R)}for(const M in S)r[M]=S[M]}}}return r}function uB(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Ds(r[o])||e.style&&Ds(e.style[o])||wJ(o,t)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const AMe={useVisualState:EJ({scrapeMotionValuesFromProps:uB,createRenderState:sB})};function TJ(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function kJ(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const _J=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function MJ(t,e,n,i){kJ(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(_J.has(r)?r:Qz(r),e.attrs[r])}function RJ(t,e,n){const i=uB(t,e,n);for(const r in t)if(Ds(t[r])||Ds(e[r])){const s=h1.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}const XH=["x","y","width","height","cx","cy","r"],EMe={useVisualState:EJ({scrapeMotionValuesFromProps:RJ,createRenderState:AJ,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in r)if(u0.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<XH.length;a++){const l=XH[a];t[l]!==e[l]&&(o=!0)}o&&di.read(()=>{TJ(n,i),di.render(()=>{aB(i,r,lB(n.tagName),t.transformTemplate),MJ(n,i)})})}})};function TMe(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...oB(i)?EMe:AMe,preloadedFeatures:t,useRender:vMe(r),createVisualElement:e,Component:i};return X_e(o)}}function uA(t,e,n){const i=t.getProps();return cB(i,e,n!==void 0?n:i.custom,t)}const kMe=Xz(()=>window.ScrollTimeline!==void 0);let _Me=class{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(kMe()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}},MMe=class extends _Me{then(e,n){return Promise.all(this.animations).then(e).catch(n)}};function dB(t,e){return t?t[e]||t.default||t:void 0}const iI=2e4;function DJ(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<iI;)e+=n,i=t.next(e);return e>=iI?1/0:e}function fB(t){return typeof t=="function"}function JH(t,e){t.timeline=e,t.onfinish=null}const hB=t=>Array.isArray(t)&&typeof t[0]=="number",RMe={linearEasing:void 0};function DMe(t,e){const n=Xz(t);return()=>{var i;return(i=RMe[e])!==null&&i!==void 0?i:n()}}const l2=DMe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),NJ=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=t($x(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function PJ(t){return!!(typeof t=="function"&&l2()||!t||typeof t=="string"&&(t in rI||l2())||hB(t)||Array.isArray(t)&&t.every(PJ))}const WS=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,rI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:WS([0,.65,.55,1]),circOut:WS([.55,0,1,.45]),backIn:WS([.31,.01,.66,-.59]),backOut:WS([.33,1.53,.69,.99])};function OJ(t,e){if(t)return typeof t=="function"&&l2()?NJ(t,e):hB(t)?WS(t):Array.isArray(t)?t.map(n=>OJ(n,e)||rI.easeOut):rI[t]}const ac={x:!1,y:!1};function LJ(){return ac.x||ac.y}function NMe(t,e,n){var i;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function jJ(t,e){const n=NMe(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function ZH(t){return!(t.pointerType==="touch"||LJ())}function PMe(t,e,n={}){const[i,r,s]=jJ(t,n),o=a=>{if(!ZH(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=h=>{ZH(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,r)};return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}function QH(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const IJ=(t,e)=>e?t===e?!0:IJ(t,e.parentElement):!1,pB=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,OMe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function LMe(t){return OMe.has(t.tagName)||t.tabIndex!==-1}const KS=new WeakSet;function e7(t){return e=>{e.key==="Enter"&&t(e)}}function ZO(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jMe=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=e7(()=>{if(KS.has(n))return;ZO(n,"down");const r=e7(()=>{ZO(n,"up")}),s=()=>ZO(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function t7(t){return pB(t)&&!LJ()}function IMe(t,e,n={}){const[i,r,s]=jJ(t,n),o=a=>{const l=a.currentTarget;if(!l||!t7(a)||KS.has(l))return;KS.add(l),QH(a,"set");const c=e(l,a),d=(m,v)=>{l.removeEventListener("pointerup",h),l.removeEventListener("pointercancel",p),QH(m,"release"),!(!t7(m)||!KS.has(l))&&(KS.delete(l),typeof c=="function"&&c(m,{success:v}))},h=m=>{(m.isTrusted?FMe(m,l instanceof Element?l.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?d(m,!1):d(m,!(l instanceof Element)||IJ(l,m.target))},p=m=>{d(m,!1)};l.addEventListener("pointerup",h,r),l.addEventListener("pointercancel",p,r),l.addEventListener("lostpointercapture",p,r)};return i.forEach(a=>{a=n.useGlobalTarget?window:a;let l=!1;a instanceof HTMLElement&&(l=!0,!LMe(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0)),a.addEventListener("pointerdown",o,r),l&&a.addEventListener("focus",c=>jMe(c,r),r)}),s}function FMe(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}function $Me(t){return t==="x"||t==="y"?ac[t]?null:(ac[t]=!0,()=>{ac[t]=!1}):ac.x||ac.y?null:(ac.x=ac.y=!0,()=>{ac.x=ac.y=!1})}const FJ=new Set(["width","height","top","left","right","bottom",...h1]);let $M;function zMe(){$M=void 0}const Ku={now:()=>($M===void 0&&Ku.set(is.isProcessing||L_e.useManualTiming?is.timestamp:performance.now()),$M),set:t=>{$M=t,queueMicrotask(zMe)}};function mB(t,e){t.indexOf(e)===-1&&t.push(e)}function gB(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let yB=class{constructor(){this.subscriptions=[]}add(e){return mB(this.subscriptions,e),()=>gB(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};function $J(t,e){return e?t*(1e3/e):0}const n7=30,BMe=t=>!isNaN(parseFloat(t));let VMe=class{constructor(e,n={}){this.version="12.4.13",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Ku.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ku.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=BMe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new yB);const i=this.events[e].add(n);return e==="change"?()=>{i(),di.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ku.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>n7)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,n7);return $J(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function dA(t,e){return new VMe(t,e)}function HMe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,dA(n))}function UMe(t,e){const n=uA(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=wMe(s[o]);HMe(t,o,a)}}function qMe(t){return!!(Ds(t)&&t.add)}function sI(t,e){const n=t.getValue("willChange");if(qMe(n))return n.add(e)}function zJ(t){return t.props[yJ]}const BJ=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,GMe=1e-7,WMe=12;function KMe(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=BJ(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>GMe&&++a<WMe);return o}function hT(t,e,n,i){if(t===e&&n===i)return Na;const r=s=>KMe(s,0,1,t,n);return s=>s===0||s===1?s:BJ(r(s),e,i)}const VJ=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,HJ=t=>e=>1-t(1-e),UJ=hT(.33,1.53,.69,.99),bB=HJ(UJ),qJ=VJ(bB),GJ=t=>(t*=2)<1?.5*bB(t):.5*(2-Math.pow(2,-10*(t-1))),vB=t=>1-Math.sin(Math.acos(t)),WJ=HJ(vB),KJ=VJ(vB),YJ=t=>/^0[^.\s]+$/u.test(t);function YMe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||YJ(t):!0}const wC=t=>Math.round(t*1e5)/1e5,xB=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function XMe(t){return t==null}const JMe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wB=(t,e)=>n=>!!(typeof n=="string"&&JMe.test(n)&&n.startsWith(t)||e&&!XMe(n)&&Object.prototype.hasOwnProperty.call(n,e)),XJ=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(xB);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},ZMe=t=>Df(0,255,t),QO={...p1,transform:t=>Math.round(ZMe(t))},Lg={test:wB("rgb","red"),parse:XJ("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+QO.transform(t)+", "+QO.transform(e)+", "+QO.transform(n)+", "+wC(cA.transform(i))+")"};function QMe(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const oI={test:wB("#"),parse:QMe,transform:Lg.transform},av={test:wB("hsl","hue"),parse:XJ("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Wu.transform(wC(e))+", "+Wu.transform(wC(n))+", "+wC(cA.transform(i))+")"},Ts={test:t=>Lg.test(t)||oI.test(t)||av.test(t),parse:t=>Lg.test(t)?Lg.parse(t):av.test(t)?av.parse(t):oI.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Lg.transform(t):av.transform(t)},eRe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tRe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(xB))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(eRe))===null||n===void 0?void 0:n.length)||0)>0}const JJ="number",ZJ="color",nRe="var",iRe="var(",i7="${}",rRe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fA(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(rRe,l=>(Ts.test(l)?(i.color.push(s),r.push(ZJ),n.push(Ts.parse(l))):l.startsWith(iRe)?(i.var.push(s),r.push(nRe),n.push(l)):(i.number.push(s),r.push(JJ),n.push(parseFloat(l))),++s,i7)).split(i7);return{values:n,split:a,indexes:i,types:r}}function QJ(t){return fA(t).values}function eZ(t){const{split:e,types:n}=fA(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===JJ?s+=wC(r[o]):a===ZJ?s+=Ts.transform(r[o]):s+=r[o]}return s}}const sRe=t=>typeof t=="number"?0:t;function oRe(t){const e=QJ(t);return eZ(t)(e.map(sRe))}const Ip={test:tRe,parse:QJ,createTransformer:eZ,getAnimatableNone:oRe},aRe=new Set(["brightness","contrast","saturate","opacity"]);function lRe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(xB)||[];if(!i)return t;const r=n.replace(i,"");let s=aRe.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const cRe=/\b([a-z-]*)\(.*?\)/gu,aI={...Ip,getAnimatableNone:t=>{const e=t.match(cRe);return e?e.map(lRe).join(" "):t}},uRe={...iB,color:Ts,backgroundColor:Ts,outlineColor:Ts,fill:Ts,stroke:Ts,borderColor:Ts,borderTopColor:Ts,borderRightColor:Ts,borderBottomColor:Ts,borderLeftColor:Ts,filter:aI,WebkitFilter:aI},tZ=t=>uRe[t];function nZ(t,e){let n=tZ(t);return n!==aI&&(n=Ip),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const dRe=new Set(["auto","none","0"]);function fRe(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!dRe.has(s)&&fA(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=nZ(n,r)}const jg=t=>t*180/Math.PI,lI=t=>{const e=jg(Math.atan2(t[1],t[0]));return cI(e)},hRe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:lI,rotateZ:lI,skewX:t=>jg(Math.atan(t[1])),skewY:t=>jg(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},cI=t=>(t=t%360,t<0&&(t+=360),t),r7=lI,s7=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),o7=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),pRe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:s7,scaleY:o7,scale:t=>(s7(t)+o7(t))/2,rotateX:t=>cI(jg(Math.atan2(t[6],t[5]))),rotateY:t=>cI(jg(Math.atan2(-t[2],t[0]))),rotateZ:r7,rotate:r7,skewX:t=>jg(Math.atan(t[4])),skewY:t=>jg(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function a7(t){return t.includes("scale")?1:0}function uI(t,e){if(!t||t==="none")return a7(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=pRe,r=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=hRe,r=a}if(!r)return a7(e);const s=i[e],o=r[1].split(",").map(gRe);return typeof s=="function"?s(o):o[s]}const mRe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return uI(n,e)};function gRe(t){return parseFloat(t.trim())}const l7=t=>t===p1||t===Ct,yRe=new Set(["x","y","z"]),bRe=h1.filter(t=>!yRe.has(t));function vRe(t){const e=[];return bRe.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Bx={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>uI(e,"x"),y:(t,{transform:e})=>uI(e,"y")};Bx.translateX=Bx.x;Bx.translateY=Bx.y;const Vy=new Set;let dI=!1,fI=!1;function iZ(){if(fI){const t=Array.from(Vy).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=vRe(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}fI=!1,dI=!1,Vy.forEach(t=>t.complete()),Vy.clear()}function rZ(){Vy.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(fI=!0)})}function xRe(){rZ(),iZ()}let SB=class{constructor(e,n,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Vy.add(this),dI||(dI=!0,di.read(rZ),di.resolveKeyframes(iZ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const l=i.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Vy.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Vy.delete(this))}resume(){this.isComplete||this.scheduleResolve()}};const sZ=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),wRe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SRe(t){const e=wRe.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function oZ(t,e,n=1){const[i,r]=SRe(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return sZ(o)?parseFloat(o):o}return nB(r)?oZ(r,e,n+1):r}const aZ=t=>e=>e.test(t),CRe={test:t=>t==="auto",parse:t=>t},lZ=[p1,Ct,Wu,Ih,rMe,iMe,CRe],c7=t=>lZ.find(aZ(t));let cZ=class extends SB{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),nB(c))){const d=oZ(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!FJ.has(i)||e.length!==2)return;const[r,s]=e,o=c7(r),a=c7(s);if(o!==a)if(l7(o)&&l7(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)YMe(e[r])&&i.push(r);i.length&&fRe(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bx[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Bx[i](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}};const u7=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ip.test(t)||t==="0")&&!t.startsWith("url("));function ARe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ERe(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=u7(r,e),a=u7(s,e);return!o||!a?!1:ARe(t)||(n==="spring"||fB(n))&&i}const TRe=t=>t!==null;function XD(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(TRe),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const kRe=40;let uZ=class{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ku.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>kRe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&xRe(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ku.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!ERe(e,i,r,s))if(o)this.options.duration=0;else{l&&l(XD(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}};const Fi=(t,e,n)=>t+(e-t)*n;function eL(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _Re({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=eL(l,a,t+1/3),s=eL(l,a,t),o=eL(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function c2(t,e){return n=>n>0?e:t}const tL=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},MRe=[oI,Lg,av],RRe=t=>MRe.find(e=>e.test(t));function d7(t){const e=RRe(t);if(!e)return!1;let n=e.parse(t);return e===av&&(n=_Re(n)),n}const f7=(t,e)=>{const n=d7(t),i=d7(e);if(!n||!i)return c2(t,e);const r={...n};return s=>(r.red=tL(n.red,i.red,s),r.green=tL(n.green,i.green,s),r.blue=tL(n.blue,i.blue,s),r.alpha=Fi(n.alpha,i.alpha,s),Lg.transform(r))},DRe=(t,e)=>n=>e(t(n)),pT=(...t)=>t.reduce(DRe),hI=new Set(["none","hidden"]);function NRe(t,e){return hI.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function PRe(t,e){return n=>Fi(t,e,n)}function CB(t){return typeof t=="number"?PRe:typeof t=="string"?nB(t)?c2:Ts.test(t)?f7:jRe:Array.isArray(t)?dZ:typeof t=="object"?Ts.test(t)?f7:ORe:c2}function dZ(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>CB(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function ORe(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=CB(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function LRe(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;i[s]=l,r[o]++}return i}const jRe=(t,e)=>{const n=Ip.createTransformer(e),i=fA(t),r=fA(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?hI.has(t)&&!r.values.length||hI.has(e)&&!i.values.length?NRe(t,e):pT(dZ(LRe(i,r),r.values),n):c2(t,e)};function fZ(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Fi(t,e,n):CB(t)(t,e)}const IRe=5;function hZ(t,e,n){const i=Math.max(e-IRe,0);return $J(n-t(i),e-i)}const qi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},h7=.001;function FRe({duration:t=qi.duration,bounce:e=qi.bounce,velocity:n=qi.velocity,mass:i=qi.mass}){let r,s,o=1-e;o=Df(qi.minDamping,qi.maxDamping,o),t=Df(qi.minDuration,qi.maxDuration,wf(t)),o<1?(r=c=>{const d=c*o,h=d*t,p=d-n,m=pI(c,o),v=Math.exp(-h);return h7-p/m*v},s=c=>{const h=c*o*t,p=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-h),S=pI(Math.pow(c,2),o);return(-r(c)+h7>0?-1:1)*((p-m)*v)/S}):(r=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-.001+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=zRe(r,s,a);if(t=xf(t),isNaN(l))return{stiffness:qi.stiffness,damping:qi.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const $Re=12;function zRe(t,e,n){let i=n;for(let r=1;r<$Re;r++)i=i-t(i)/e(i);return i}function pI(t,e){return t*Math.sqrt(1-e*e)}const BRe=["duration","bounce"],VRe=["stiffness","damping","mass"];function p7(t,e){return e.some(n=>t[n]!==void 0)}function HRe(t){let e={velocity:qi.velocity,stiffness:qi.stiffness,damping:qi.damping,mass:qi.mass,isResolvedFromDuration:!1,...t};if(!p7(t,VRe)&&p7(t,BRe))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*Df(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:qi.mass,stiffness:r,damping:s}}else{const n=FRe(t);e={...e,...n,mass:qi.mass},e.isResolvedFromDuration=!0}return e}function pZ(t=qi.visualDuration,e=qi.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:m}=HRe({...n,velocity:-wf(n.velocity||0)}),v=p||0,S=c/(2*Math.sqrt(l*d)),A=o-s,E=wf(Math.sqrt(l/d)),M=Math.abs(A)<5;i||(i=M?qi.restSpeed.granular:qi.restSpeed.default),r||(r=M?qi.restDelta.granular:qi.restDelta.default);let R;if(S<1){const P=pI(E,S);R=O=>{const $=Math.exp(-S*E*O);return o-$*((v+S*E*A)/P*Math.sin(P*O)+A*Math.cos(P*O))}}else if(S===1)R=P=>o-Math.exp(-E*P)*(A+(v+E*A)*P);else{const P=E*Math.sqrt(S*S-1);R=O=>{const $=Math.exp(-S*E*O),F=Math.min(P*O,300);return o-$*((v+S*E*A)*Math.sinh(F)+P*A*Math.cosh(F))/P}}const N={calculatedDuration:m&&h||null,next:P=>{const O=R(P);if(m)a.done=P>=h;else{let $=0;S<1&&($=P===0?xf(v):hZ(R,P,O));const F=Math.abs($)<=i,q=Math.abs(o-O)<=r;a.done=F&&q}return a.value=a.done?o:O,a},toString:()=>{const P=Math.min(DJ(N),iI),O=NJ($=>N.next(P*$).value,P,30);return P+"ms "+O}};return N}function m7({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},m=F=>a!==void 0&&F<a||l!==void 0&&F>l,v=F=>a===void 0?l:l===void 0||Math.abs(a-F)<Math.abs(l-F)?a:l;let S=n*e;const A=h+S,E=o===void 0?A:o(A);E!==A&&(S=E-h);const M=F=>-S*Math.exp(-F/i),R=F=>E+M(F),N=F=>{const q=M(F),B=R(F);p.done=Math.abs(q)<=c,p.value=p.done?E:B};let P,O;const $=F=>{m(p.value)&&(P=F,O=pZ({keyframes:[p.value,v(p.value)],velocity:hZ(R,F,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:d}))};return $(0),{calculatedDuration:null,next:F=>{let q=!1;return!O&&P===void 0&&(q=!0,N(F),$(F)),P!==void 0&&F>=P?O.next(F-P):(!q&&N(F),p)}}}const URe=hT(.42,0,1,1),qRe=hT(0,0,.58,1),mZ=hT(.42,0,.58,1),GRe=t=>Array.isArray(t)&&typeof t[0]!="number",WRe={linear:Na,easeIn:URe,easeInOut:mZ,easeOut:qRe,circIn:vB,circInOut:KJ,circOut:WJ,backIn:bB,backInOut:qJ,backOut:UJ,anticipate:GJ},g7=t=>{if(hB(t)){fJ(t.length===4);const[e,n,i,r]=t;return hT(e,n,i,r)}else if(typeof t=="string")return WRe[t];return t};function KRe(t,e,n){const i=[],r=n||fZ,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Na:e;a=pT(l,a)}i.push(a)}return i}function YRe(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(fJ(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=KRe(e,i,r),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const p=$x(t[h],t[h+1],d);return a[h](p)};return n?d=>c(Df(t[0],t[s-1],d)):c}function XRe(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=$x(0,e,i);t.push(Fi(n,1,r))}}function JRe(t){const e=[0];return XRe(e,t.length-1),e}function ZRe(t,e){return t.map(n=>n*e)}function QRe(t,e){return t.map(()=>e||mZ).splice(0,t.length-1)}function u2({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=GRe(i)?i.map(g7):g7(i),s={done:!1,value:e[0]},o=ZRe(n&&n.length===e.length?n:JRe(e),t),a=YRe(o,e,{ease:Array.isArray(r)?r:QRe(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const e2e=t=>{const e=({timestamp:n})=>t(n);return{start:()=>di.update(e,!0),stop:()=>jp(e),now:()=>is.isProcessing?is.timestamp:Ku.now()}},t2e={decay:m7,inertia:m7,tween:u2,keyframes:u2,spring:pZ},n2e=t=>t/100;let AB=class extends uZ{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||SB,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=fB(n)?n:t2e[n]||u2;let l,c;a!==u2&&typeof e[0]!="number"&&(l=pT(n2e,fZ(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=DJ(d));const{calculatedDuration:h}=d,p=h+r,m=p*(i+1)-r;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:F}=this.options;return{done:!0,value:F[F.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=i;if(this.startTime===null)return s.next(0);const{delay:p,repeat:m,repeatType:v,repeatDelay:S,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const E=this.currentTime-p*(this.speed>=0?1:-1),M=this.speed>=0?E<0:E>d;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let R=this.currentTime,N=s;if(m){const F=Math.min(this.currentTime,d)/h;let q=Math.floor(F),B=F%1;!B&&F>=1&&(B=1),B===1&&q--,q=Math.min(q,m+1),!!(q%2)&&(v==="reverse"?(B=1-B,S&&(B-=S/h)):v==="mirror"&&(N=o)),R=Df(0,1,B)*h}const P=M?{done:!1,value:l[0]}:N.next(R);a&&(P.value=a(P.value));let{done:O}=P;!M&&c!==null&&(O=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return $&&r!==void 0&&(P.value=XD(l,this.options,r)),A&&A(P.value),$&&this.finish(),P}get duration(){const{resolved:e}=this;return e?wf(e.calculatedDuration):0}get time(){return wf(this.currentTime)}set time(e){e=xf(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=wf(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=e2e,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}};const i2e=new Set(["opacity","clipPath","filter","transform"]);function r2e(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=OJ(a,r);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const s2e=Xz(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),d2=10,o2e=2e4;function a2e(t){return fB(t.type)||t.type==="spring"||!PJ(t.ease)}function l2e(t,e){const n=new AB({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let s=0;for(;!i.done&&s<o2e;)i=n.sample(s),r.push(i.value),s+=d2;return{times:void 0,keyframes:r,duration:s-d2,ease:"linear"}}const gZ={anticipate:GJ,backInOut:qJ,circInOut:KJ};function c2e(t){return t in gZ}let y7=class extends uZ{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new cZ(s,(o,a)=>this.onKeyframesResolved(o,a),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&l2()&&c2e(s)&&(s=gZ[s]),a2e(this.options)){const{onComplete:h,onUpdate:p,motionValue:m,element:v,...S}=this.options,A=l2e(e,S);e=A.keyframes,e.length===1&&(e[1]=e[0]),i=A.duration,r=A.times,s=A.ease,o="keyframes"}const d=r2e(a.owner.current,l,e,{...this.options,duration:i,times:r,ease:s});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(JH(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(XD(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:r,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return wf(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return wf(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=xf(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Na;const{animation:i}=n;JH(i,e)}return Na}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:p,...m}=this.options,v=new AB({...m,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),S=xf(this.time);c.setWithVelocity(v.sample(S-d2).value,v.sample(S).value,d2)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return s2e()&&i&&i2e.has(i)&&!l&&!c&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}};const u2e={type:"spring",stiffness:500,damping:25,restSpeed:10},d2e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),f2e={type:"keyframes",duration:.8},h2e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},p2e=(t,{keyframes:e})=>e.length>2?f2e:u0.has(t)?t.startsWith("scale")?d2e(e[1]):u2e:h2e;function m2e({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const EB=(t,e,n,i={},r,s)=>o=>{const a=dB(i,t)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-xf(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:r};m2e(a)||(d={...d,...p2e(t,d)}),d.duration&&(d.duration=xf(d.duration)),d.repeatDelay&&(d.repeatDelay=xf(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),d.allowFlatten=!a.type&&!a.ease,h&&!s&&e.get()!==void 0){const p=XD(d.keyframes,a);if(p!==void 0)return di.update(()=>{d.onUpdate(p),d.onComplete()}),new MMe([])}return!s&&y7.supports(d)?new y7(d):new AB(d)};function g2e({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function yZ(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(o=i);const c=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const h in l){const p=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),m=l[h];if(m===void 0||d&&g2e(d,h))continue;const v={delay:n,...dB(o||{},h)};let S=!1;if(window.MotionHandoffAnimation){const E=zJ(t);if(E){const M=window.MotionHandoffAnimation(E,h,di);M!==null&&(v.startTime=M,S=!0)}}sI(t,h),p.start(EB(h,p,m,t.shouldReduceMotion&&FJ.has(h)?{type:!1}:v,t,S));const A=p.animation;A&&c.push(A)}return a&&Promise.all(c).then(()=>{di.update(()=>{a&&UMe(t,a)})}),c}function mI(t,e,n={}){var i;const r=uA(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(yZ(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=s;return y2e(t,e,d+c,h,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function y2e(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(b2e).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(mI(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function b2e(t,e){return t.sortNodePosition(e)}function v2e(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>mI(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=mI(t,e,n);else{const r=typeof e=="function"?uA(t,e,n.custom):e;i=Promise.all(yZ(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function bZ(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const x2e=Zz.length;function vZ(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?vZ(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<x2e;n++){const i=Zz[n],r=t.props[i];(aA(r)||r===!1)&&(e[i]=r)}return e}const w2e=[...Jz].reverse(),S2e=Jz.length;function C2e(t){return e=>Promise.all(e.map(({animation:n,options:i})=>v2e(t,n,i)))}function A2e(t){let e=C2e(t),n=b7(),i=!0;const r=l=>(c,d)=>{var h;const p=uA(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:m,transitionEnd:v,...S}=p;c={...c,...S,...v}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=vZ(t.parent)||{},h=[],p=new Set;let m={},v=1/0;for(let A=0;A<S2e;A++){const E=w2e[A],M=n[E],R=c[E]!==void 0?c[E]:d[E],N=aA(R),P=E===l?M.isActive:null;P===!1&&(v=A);let O=R===d[E]&&R!==c[E]&&N;if(O&&i&&t.manuallyAnimateOnMount&&(O=!1),M.protectedKeys={...m},!M.isActive&&P===null||!R&&!M.prevProp||KD(R)||typeof R=="boolean")continue;const $=E2e(M.prevProp,R);let F=$||E===l&&M.isActive&&!O&&N||A>v&&N,q=!1;const B=Array.isArray(R)?R:[R];let X=B.reduce(r(E),{});P===!1&&(X={});const{prevResolvedValues:Q={}}=M,J={...Q,...X},oe=ee=>{F=!0,p.has(ee)&&(q=!0,p.delete(ee)),M.needsAnimating[ee]=!0;const Z=t.getValue(ee);Z&&(Z.liveStyle=!1)};for(const ee in J){const Z=X[ee],se=Q[ee];if(m.hasOwnProperty(ee))continue;let j=!1;nI(Z)&&nI(se)?j=!bZ(Z,se):j=Z!==se,j?Z!=null?oe(ee):p.add(ee):Z!==void 0&&p.has(ee)?oe(ee):M.protectedKeys[ee]=!0}M.prevProp=R,M.prevResolvedValues=X,M.isActive&&(m={...m,...X}),i&&t.blockInitialAnimation&&(F=!1),F&&(!(O&&$)||q)&&h.push(...B.map(ee=>({animation:ee,options:{type:E}})))}if(p.size){const A={};if(typeof c.initial!="boolean"){const E=uA(t,Array.isArray(c.initial)?c.initial[0]:c.initial);E&&E.transition&&(A.transition=E.transition)}p.forEach(E=>{const M=t.getBaseTarget(E),R=t.getValue(E);R&&(R.liveStyle=!0),A[E]=M??null}),h.push({animation:A})}let S=!!h.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(S=!1),i=!1,S?e(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=b7(),i=!0}}}function E2e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!bZ(e,t):!1}function ug(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function b7(){return{animate:ug(!0),whileInView:ug(),whileHover:ug(),whileTap:ug(),whileDrag:ug(),whileFocus:ug(),exit:ug()}}let em=class{constructor(e){this.isMounted=!1,this.node=e}update(){}},T2e=class extends em{constructor(e){super(e),e.animationState||(e.animationState=A2e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();KD(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}},k2e=0,_2e=class extends em{constructor(){super(...arguments),this.id=k2e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}};const M2e={animation:{Feature:T2e},exit:{Feature:_2e}};function hA(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function mT(t){return{point:{x:t.pageX,y:t.pageY}}}const R2e=t=>e=>pB(e)&&t(e,mT(e));function SC(t,e,n,i){return hA(t,e,R2e(n),i)}function xZ({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function D2e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function N2e(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const wZ=1e-4,P2e=1-wZ,O2e=1+wZ,SZ=.01,L2e=0-SZ,j2e=0+SZ;function ho(t){return t.max-t.min}function I2e(t,e,n){return Math.abs(t-e)<=n}function v7(t,e,n,i=.5){t.origin=i,t.originPoint=Fi(e.min,e.max,t.origin),t.scale=ho(n)/ho(e),t.translate=Fi(n.min,n.max,t.origin)-t.originPoint,(t.scale>=P2e&&t.scale<=O2e||isNaN(t.scale))&&(t.scale=1),(t.translate>=L2e&&t.translate<=j2e||isNaN(t.translate))&&(t.translate=0)}function CC(t,e,n,i){v7(t.x,e.x,n.x,i?i.originX:void 0),v7(t.y,e.y,n.y,i?i.originY:void 0)}function x7(t,e,n){t.min=n.min+e.min,t.max=t.min+ho(e)}function F2e(t,e,n){x7(t.x,e.x,n.x),x7(t.y,e.y,n.y)}function w7(t,e,n){t.min=e.min-n.min,t.max=t.min+ho(e)}function AC(t,e,n){w7(t.x,e.x,n.x),w7(t.y,e.y,n.y)}const S7=()=>({translate:0,scale:1,origin:0,originPoint:0}),lv=()=>({x:S7(),y:S7()}),C7=()=>({min:0,max:0}),tr=()=>({x:C7(),y:C7()});function ll(t){return[t("x"),t("y")]}function nL(t){return t===void 0||t===1}function gI({scale:t,scaleX:e,scaleY:n}){return!nL(t)||!nL(e)||!nL(n)}function mg(t){return gI(t)||CZ(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function CZ(t){return A7(t.x)||A7(t.y)}function A7(t){return t&&t!=="0%"}function f2(t,e,n){const i=t-n,r=e*i;return n+r}function E7(t,e,n,i,r){return r!==void 0&&(t=f2(t,r,i)),f2(t,n,i)+e}function yI(t,e=0,n=1,i,r){t.min=E7(t.min,e,n,i,r),t.max=E7(t.max,e,n,i,r)}function AZ(t,{x:e,y:n}){yI(t.x,e.translate,e.scale,e.originPoint),yI(t.y,n.translate,n.scale,n.originPoint)}const T7=.999999999999,k7=1.0000000000001;function $2e(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&uv(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,AZ(t,o)),i&&mg(s.latestValues)&&uv(t,s.latestValues))}e.x<k7&&e.x>T7&&(e.x=1),e.y<k7&&e.y>T7&&(e.y=1)}function cv(t,e){t.min=t.min+e,t.max=t.max+e}function _7(t,e,n,i,r=.5){const s=Fi(t.min,t.max,r);yI(t,e,n,s,i)}function uv(t,e){_7(t.x,e.x,e.scaleX,e.scale,e.originX),_7(t.y,e.y,e.scaleY,e.scale,e.originY)}function EZ(t,e){return xZ(N2e(t.getBoundingClientRect(),e))}function z2e(t,e,n){const i=EZ(t,n),{scroll:r}=e;return r&&(cv(i.x,r.offset.x),cv(i.y,r.offset.y)),i}const TZ=({current:t})=>t?t.ownerDocument.defaultView:null,M7=(t,e)=>Math.abs(t-e);function B2e(t,e){const n=M7(t.x,e.x),i=M7(t.y,e.y);return Math.sqrt(n**2+i**2)}let kZ=class{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=rL(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=B2e(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:v}=h,{timestamp:S}=is;this.history.push({...v,timestamp:S});const{onStart:A,onMove:E}=this.handlers;p||(A&&A(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=iL(p,this.transformPagePoint),di.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=rL(h.type==="pointercancel"?this.lastMoveEventInfo:iL(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,A),v&&v(h,A)},!pB(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const o=mT(e),a=iL(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=is;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,rL(a,this.history)),this.removeListeners=pT(SC(this.contextWindow,"pointermove",this.handlePointerMove),SC(this.contextWindow,"pointerup",this.handlePointerUp),SC(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),jp(this.updatePoint)}};function iL(t,e){return e?{point:e(t.point)}:t}function R7(t,e){return{x:t.x-e.x,y:t.y-e.y}}function rL({point:t},e){return{point:t,delta:R7(t,_Z(e)),offset:R7(t,V2e(e)),velocity:H2e(e,.1)}}function V2e(t){return t[0]}function _Z(t){return t[t.length-1]}function H2e(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=_Z(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>xf(e)));)n--;if(!i)return{x:0,y:0};const s=wf(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function U2e(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Fi(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Fi(n,t,i.max):Math.min(t,n)),t}function D7(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function q2e(t,{top:e,left:n,bottom:i,right:r}){return{x:D7(t.x,n,r),y:D7(t.y,e,i)}}function N7(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function G2e(t,e){return{x:N7(t.x,e.x),y:N7(t.y,e.y)}}function W2e(t,e){let n=.5;const i=ho(t),r=ho(e);return r>i?n=$x(e.min,e.max-i,t.min):i>r&&(n=$x(t.min,t.max-r,e.min)),Df(0,1,n)}function K2e(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const bI=.35;function Y2e(t=bI){return t===!1?t=0:t===!0&&(t=bI),{x:P7(t,"left","right"),y:P7(t,"top","bottom")}}function P7(t,e,n){return{min:O7(t,e),max:O7(t,n)}}function O7(t,e){return typeof t=="number"?t:t[e]||0}const X2e=new WeakMap;let J2e=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mT(d).point)},s=(d,h)=>{const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$Me(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ll(A=>{let E=this.getAxisMotionValue(A).get()||0;if(Wu.test(E)){const{projection:M}=this.visualElement;if(M&&M.layout){const R=M.layout.layoutBox[A];R&&(E=ho(R)*(parseFloat(E)/100))}}this.originPoint[A]=E}),v&&di.postRender(()=>v(d,h)),sI(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:S}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:A}=h;if(m&&this.currentDirection===null){this.currentDirection=Z2e(A),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,A),this.updateAxis("y",h.point,A),this.visualElement.render(),S&&S(d,h)},a=(d,h)=>this.stop(d,h),l=()=>ll(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new kZ(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:TZ(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&di.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!cM(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=U2e(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&ov(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=q2e(r.layoutBox,n):this.constraints=!1,this.elastic=Y2e(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ll(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=K2e(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ov(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=z2e(i,r.root,this.visualElement.getTransformPagePoint());let o=G2e(r.layout.layoutBox,s);if(n){const a=n(D2e(o));this.hasMutatedConstraints=!!a,a&&(o=xZ(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ll(d=>{if(!cM(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return sI(this.visualElement,e),i.start(EB(e,i,0,n,this.visualElement,!1))}stopAnimation(){ll(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ll(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ll(n=>{const{drag:i}=this.getProps();if(!cM(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-Fi(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!ov(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ll(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=W2e({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ll(o=>{if(!cM(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Fi(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;X2e.set(this.visualElement,this);const e=this.visualElement.current,n=SC(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();ov(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),di.read(i);const o=hA(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ll(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=bI,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}};function cM(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Z2e(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}let Q2e=class extends em{constructor(e){super(e),this.removeGroupControls=Na,this.removeListeners=Na,this.controls=new J2e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Na}unmount(){this.removeGroupControls(),this.removeListeners()}};const L7=t=>(e,n)=>{t&&di.postRender(()=>t(e,n))};let eDe=class extends em{constructor(){super(...arguments),this.removePointerDownListener=Na}onPointerDown(e){this.session=new kZ(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TZ(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:L7(e),onStart:L7(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&di.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=SC(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const zM={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function j7(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const PS={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ct.test(t))t=parseFloat(t);else return t;const n=j7(t,e.target.x),i=j7(t,e.target.y);return`${n}% ${i}%`}},tDe={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Ip.parse(t);if(r.length>5)return i;const s=Ip.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=Fi(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};let nDe=class extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;nMe(iDe),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),zM.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||di.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),eB.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}};function MZ(t){const[e,n]=uJ(),i=k.useContext(qz);return b.jsx(nDe,{...t,layoutGroup:i,switchLayoutGroup:k.useContext(bJ),isPresent:e,safeToRemove:n})}const iDe={borderRadius:{...PS,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:PS,borderTopRightRadius:PS,borderBottomLeftRadius:PS,borderBottomRightRadius:PS,boxShadow:tDe};function rDe(t,e,n){const i=Ds(t)?t:dA(t);return i.start(EB("",i,e,n)),i.animation}function sDe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const oDe=(t,e)=>t.depth-e.depth;let aDe=class{constructor(){this.children=[],this.isDirty=!1}add(e){mB(this.children,e),this.isDirty=!0}remove(e){gB(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(oDe),this.isDirty=!1,this.children.forEach(e)}};function lDe(t,e){const n=Ku.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(jp(i),t(s-e))};return di.read(i,!0),()=>jp(i)}const RZ=["TopLeft","TopRight","BottomLeft","BottomRight"],cDe=RZ.length,I7=t=>typeof t=="string"?parseFloat(t):t,F7=t=>typeof t=="number"||Ct.test(t);function uDe(t,e,n,i,r,s){r?(t.opacity=Fi(0,n.opacity!==void 0?n.opacity:1,dDe(i)),t.opacityExit=Fi(e.opacity!==void 0?e.opacity:1,0,fDe(i))):s&&(t.opacity=Fi(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<cDe;o++){const a=`border${RZ[o]}Radius`;let l=$7(e,a),c=$7(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||F7(l)===F7(c)?(t[a]=Math.max(Fi(I7(l),I7(c),i),0),(Wu.test(c)||Wu.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Fi(e.rotate||0,n.rotate||0,i))}function $7(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const dDe=DZ(0,.5,WJ),fDe=DZ(.5,.95,Na);function DZ(t,e,n){return i=>i<t?0:i>e?1:n($x(t,e,i))}function z7(t,e){t.min=e.min,t.max=e.max}function rl(t,e){z7(t.x,e.x),z7(t.y,e.y)}function B7(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function V7(t,e,n,i,r){return t-=e,t=f2(t,1/n,i),r!==void 0&&(t=f2(t,1/r,i)),t}function hDe(t,e=0,n=1,i=.5,r,s=t,o=t){if(Wu.test(e)&&(e=parseFloat(e),e=Fi(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Fi(s.min,s.max,i);t===s&&(a-=e),t.min=V7(t.min,e,n,a,r),t.max=V7(t.max,e,n,a,r)}function H7(t,e,[n,i,r],s,o){hDe(t,e[n],e[i],e[r],e.scale,s,o)}const pDe=["x","scaleX","originX"],mDe=["y","scaleY","originY"];function U7(t,e,n,i){H7(t.x,e,pDe,n?n.x:void 0,i?i.x:void 0),H7(t.y,e,mDe,n?n.y:void 0,i?i.y:void 0)}function q7(t){return t.translate===0&&t.scale===1}function NZ(t){return q7(t.x)&&q7(t.y)}function G7(t,e){return t.min===e.min&&t.max===e.max}function gDe(t,e){return G7(t.x,e.x)&&G7(t.y,e.y)}function W7(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function PZ(t,e){return W7(t.x,e.x)&&W7(t.y,e.y)}function K7(t){return ho(t.x)/ho(t.y)}function Y7(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}let yDe=class{constructor(){this.members=[]}add(e){mB(this.members,e),e.scheduleRender()}remove(e){if(gB(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function bDe(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:p,skewX:m,skewY:v}=n;c&&(i=`perspective(${c}px) ${i}`),d&&(i+=`rotate(${d}deg) `),h&&(i+=`rotateX(${h}deg) `),p&&(i+=`rotateY(${p}deg) `),m&&(i+=`skewX(${m}deg) `),v&&(i+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const sL=["","X","Y","Z"],vDe={visibility:"hidden"},X7=1e3;let xDe=0;function oL(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function OZ(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=zJ(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",di,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&OZ(i)}function LZ({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=xDe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CDe),this.nodes.forEach(_De),this.nodes.forEach(MDe),this.nodes.forEach(ADe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new aDe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yB),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sDe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=lDe(p,250),zM.hasAnimatedSinceResize&&(zM.hasAnimatedSinceResize=!1,this.nodes.forEach(Z7))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||d.getDefaultTransition()||ODe,{onLayoutAnimationStart:A,onLayoutAnimationComplete:E}=d.getProps(),M=!this.targetLayout||!PZ(this.targetLayout,v),R=!p&&m;if(this.options.layoutRoot||this.resumeFrom||R||p&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,R);const N={...dB(S,"layout"),onPlay:A,onComplete:E};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else p||Z7(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,jp(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(RDe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&OZ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(J7);return}this.isUpdating||this.nodes.forEach(TDe),this.isUpdating=!1,this.nodes.forEach(kDe),this.nodes.forEach(wDe),this.nodes.forEach(SDe),this.clearAllSnapshots();const a=Ku.now();is.delta=Df(0,1e3/60,a-is.timestamp),is.timestamp=a,is.isProcessing=!0,JO.update.process(is),JO.preRender.process(is),JO.render.process(is),is.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eB.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(EDe),this.sharedNodes.forEach(DDe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,di.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){di.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ho(this.snapshot.measuredBox.x)&&!ho(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!NZ(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||mg(this.latestValues)||d)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),LDe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return tr();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(jDe))){const{scroll:d}=this.root;d&&(cv(l.x,d.offset.x),cv(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=tr();if(rl(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&rl(l,o),cv(l.x,h.offset.x),cv(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=tr();rl(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&uv(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),mg(d.latestValues)&&uv(l,d.latestValues)}return mg(this.latestValues)&&uv(l,this.latestValues),l}removeTransform(o){const a=tr();rl(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!mg(c.latestValues))continue;gI(c.latestValues)&&c.updateSnapshot();const d=tr(),h=c.measurePageBox();rl(d,h),U7(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return mg(this.latestValues)&&U7(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==is.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=is.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tr(),this.relativeTargetOrigin=tr(),AC(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),rl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tr(),this.targetWithTransforms=tr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),F2e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rl(this.target,this.layout.layoutBox),AZ(this.target,this.targetDelta)):rl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tr(),this.relativeTargetOrigin=tr(),AC(this.relativeTargetOrigin,this.target,m.target),rl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gI(this.parent.latestValues)||CZ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===is.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;rl(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;$2e(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=tr());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(B7(this.prevProjectionDelta.x,this.projectionDelta.x),B7(this.prevProjectionDelta.y,this.projectionDelta.y)),CC(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!Y7(this.projectionDelta.x,this.prevProjectionDelta.x)||!Y7(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lv(),this.projectionDelta=lv(),this.projectionDeltaWithTransform=lv()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=lv();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=tr(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,S=m!==v,A=this.getStack(),E=!A||A.members.length<=1,M=!!(S&&!E&&this.options.crossfade===!0&&!this.path.some(PDe));this.animationProgress=0;let R;this.mixTargetDelta=N=>{const P=N/1e3;Q7(h.x,o.x,P),Q7(h.y,o.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(AC(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),NDe(this.relativeTarget,this.relativeTargetOrigin,p,P),R&&gDe(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=tr()),rl(R,this.relativeTarget)),S&&(this.animationValues=d,uDe(d,c,this.latestValues,P,M,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(jp(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=di.update(()=>{zM.hasAnimatedSinceResize=!0,this.currentAnimation=rDe(0,X7,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(X7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&jZ(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||tr();const h=ho(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=ho(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}rl(a,l),uv(a,d),CC(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new yDe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&oL("z",o,c,this.animationValues);for(let d=0;d<sL.length;d++)oL(`rotate${sL[d]}`,o,c,this.animationValues),oL(`skew${sL[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vDe;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=FM(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=FM(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!mg(this.latestValues)&&(S.transform=d?d({},""):"none",this.hasProjected=!1),S}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=bDe(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in lA){if(p[S]===void 0)continue;const{correct:A,applyTo:E,isCSSVariable:M}=lA[S],R=c.transform==="none"?p[S]:A(p[S],h);if(E){const N=E.length;for(let P=0;P<N;P++)c[E[P]]=R}else M?this.options.visualElement.renderState.vars[S]=R:c[S]=R}return this.options.layoutId&&(c.pointerEvents=h===this?FM(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(J7),this.root.sharedNodes.clear()}}}function wDe(t){t.updateLayout()}function SDe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?ll(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],m=ho(p);p.min=i[h].min,p.max=p.min+m}):jZ(s,n.layoutBox,i)&&ll(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],m=ho(i[h]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=lv();CC(a,i,n.layoutBox);const l=lv();o?CC(l,t.applyTransform(r,!0),n.measuredBox):CC(l,i,n.layoutBox);const c=!NZ(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const v=tr();AC(v,n.layoutBox,p.layoutBox);const S=tr();AC(S,i,m.layoutBox),PZ(v,S)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function CDe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ADe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function EDe(t){t.clearSnapshot()}function J7(t){t.clearMeasurements()}function TDe(t){t.isLayoutDirty=!1}function kDe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Z7(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _De(t){t.resolveTargetDelta()}function MDe(t){t.calcProjection()}function RDe(t){t.resetSkewAndRotation()}function DDe(t){t.removeLeadSnapshot()}function Q7(t,e,n){t.translate=Fi(e.translate,0,n),t.scale=Fi(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function e8(t,e,n,i){t.min=Fi(e.min,n.min,i),t.max=Fi(e.max,n.max,i)}function NDe(t,e,n,i){e8(t.x,e.x,n.x,i),e8(t.y,e.y,n.y,i)}function PDe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ODe={duration:.45,ease:[.4,0,.1,1]},t8=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),n8=t8("applewebkit/")&&!t8("chrome/")?Math.round:Na;function i8(t){t.min=n8(t.min),t.max=n8(t.max)}function LDe(t){i8(t.x),i8(t.y)}function jZ(t,e,n){return t==="position"||t==="preserve-aspect"&&!I2e(K7(e),K7(n),.2)}function jDe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const IDe=LZ({attachResizeListener:(t,e)=>hA(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),aL={current:void 0},IZ=LZ({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!aL.current){const t=new IDe({});t.mount(window),t.setOptions({layoutScroll:!0}),aL.current=t}return aL.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),FDe={pan:{Feature:eDe},drag:{Feature:Q2e,ProjectionNode:IZ,MeasureLayout:MZ}};function r8(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&di.postRender(()=>s(e,mT(e)))}let $De=class extends em{mount(){const{current:e}=this.node;e&&(this.unmount=PMe(e,(n,i)=>(r8(this.node,i,"Start"),r=>r8(this.node,r,"End"))))}unmount(){}},zDe=class extends em{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pT(hA(this.node.current,"focus",()=>this.onFocus()),hA(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function s8(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&di.postRender(()=>s(e,mT(e)))}let BDe=class extends em{mount(){const{current:e}=this.node;e&&(this.unmount=IMe(e,(n,i)=>(s8(this.node,i,"Start"),(r,{success:s})=>s8(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const vI=new WeakMap,lL=new WeakMap,VDe=t=>{const e=vI.get(t.target);e&&e(t)},HDe=t=>{t.forEach(VDe)};function UDe({root:t,...e}){const n=t||document;lL.has(n)||lL.set(n,{});const i=lL.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(HDe,{root:t,...e})),i[r]}function qDe(t,e,n){const i=UDe(e);return vI.set(t,n),i.observe(t),()=>{vI.delete(t),i.unobserve(t)}}const GDe={some:0,all:1};let WDe=class extends em{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:GDe[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return qDe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(KDe(e,n))&&this.startObserver()}unmount(){}};function KDe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const YDe={inView:{Feature:WDe},tap:{Feature:BDe},focus:{Feature:zDe},hover:{Feature:$De}},XDe={layout:{ProjectionNode:IZ,MeasureLayout:MZ}},xI={current:null},FZ={current:!1};function JDe(){if(FZ.current=!0,!!Kz)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xI.current=t.matches;t.addListener(e),e()}else xI.current=!1}const ZDe=[...lZ,Ts,Ip],QDe=t=>ZDe.find(aZ(t)),eNe=new WeakMap;function tNe(t,e,n){for(const i in e){const r=e[i],s=n[i];if(Ds(r))t.addValue(i,r);else if(Ds(s))t.addValue(i,dA(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,dA(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const o8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let nNe=class{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=SB,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ku.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,di.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=YD(n),this.isVariantNode=gJ(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in p){const v=p[m];l[m]!==void 0&&Ds(v)&&v.set(l[m],!1)}}mount(e){this.current=e,eNe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),FZ.current||JDe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xI.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),jp(this.notifyUpdate),jp(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=u0.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&di.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in zx){const n=zx[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<o8.length;i++){const r=o8[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=tNe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=dA(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(sZ(r)||YJ(r))?r=parseFloat(r):!QDe(r)&&Ip.test(n)&&(r=nZ(e,n)),this.setBaseTarget(e,Ds(r)?r.get():r)),Ds(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=cB(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ds(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new yB),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}},$Z=class extends nNe{constructor(){super(...arguments),this.KeyframeResolver=cZ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ds(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}};function iNe(t){return window.getComputedStyle(t)}let rNe=class extends $Z{constructor(){super(...arguments),this.type="html",this.renderInstance=kJ}readValueFromInstance(e,n){if(u0.has(n))return mRe(e,n);{const i=iNe(e),r=(tB(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return EZ(e,n)}build(e,n,i){rB(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return uB(e,n,i)}},sNe=class extends $Z{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tr,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&TJ(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(u0.has(n)){const i=tZ(n);return i&&i.default||0}return n=_J.has(n)?n:Qz(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return RJ(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&di.postRender(this.updateDimensions)}build(e,n,i){aB(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){MJ(e,n,i,r)}mount(e){this.isSVGTag=lB(e.tagName),super.mount(e)}};const oNe=(t,e)=>oB(t)?new sNe(e):new rNe(e,{allowProjection:t!==k.Fragment}),aNe=TMe({...M2e,...YDe,...FDe,...XDe},oNe),Fp=V_e(aNe),TB=({children:t,label:e})=>{const[n,i]=k.useState(!1);return b.jsxs("div",{className:"flex w-full flex-col",children:[b.jsxs("div",{onClick:()=>{i(!n)},className:` flex w-full h-8 justify-center ${n?"block opacity-100 h-full":"h-8 bg-zinc-50 rounded-lg"}`,children:[n?b.jsx("div",{className:"text-sm duration-300 transition w-8 h-8 flex items-center justify-center text-zinc-500 cursor-pointer",children:b.jsx(WG,{})}):b.jsx("div",{className:"text-sm duration-300 transition w-8 h-8 flex items-center justify-center text-zinc-500 cursor-pointer",children:b.jsx(GG,{})}),b.jsx("div",{onClick:()=>i(!n),className:`w-full ${n?"h-8 text-zinc-700":"h-8"} transition-discrete duration-100 
                                    items-center flex cursor-pointer text-zinc-500 text-sm`,children:e})]}),b.jsx("div",{className:"w-full  duration-300",children:n&&b.jsx("div",{className:"characters-section flex flex-col w-full h-full justify-start items-start",children:t})})]})},lNe=({project:t,isExtracting:e})=>{const n=k.useCallback(o=>{console.log(o)},[]),{getRootProps:i,getInputProps:r,isDragActive:s}=cJ({onDrop:n});return b.jsx(TB,{label:`Characters ${t.characters.length}`,children:t&&t.characters?b.jsx(Yz,{children:b.jsx("div",{className:"flex flex-row w-full justify-start items-start gap-4 ",children:b.jsxs("div",{className:"grid grid-cols-1 gap-2 w-full justify-center transition overflow:hidden duration-300 overflow-auto",children:[t.characters_json&&b.jsx(b.Fragment,{children:t.characters_json.map((o,a)=>b.jsx(Fp.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.001,delay:a*.02},layout:!0,className:`${e&&"animate-pulse"} flex w-full duration-300 flex-row border-1 
                                rounded-sm p-1 bg-linear-to-t from-white to-zinc-50 border-gray-300`,children:b.jsx(R_e,{isExtracting:e,character:o,project:t})},a))}),t&&b.jsx(b.Fragment,{children:t.characters.map((o,a)=>b.jsx(Fp.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.001,delay:a*.02},layout:!0,className:" flex w-full duration-300 flex-row border-1 rounded-sm p-1 bg-linear-to-t from-white to-zinc-50 border-gray-300 hover:shadow-md",children:b.jsx(M_e,{character:o,project:t})},a))})]})})}):b.jsx("div",{...i(),className:"flex w-full h-full items-center justify-center",children:b.jsxs("div",{children:[b.jsx("input",{...r()}),!s&&b.jsxs("div",{className:"h-60 w-60 bg-zinc-50 rounded-2xl flex flex-col justify-center items-center border-zinc-200 border-dashed border-4",children:[b.jsx("p",{className:"text-zinc-600 mb-2",children:"Drop your book here..."}),b.jsx("div",{className:"text-6xl p-5 text-zinc-500 border-4 border-gray-100 rounded-2xl",children:b.jsx(__e,{})})]})]})})})},cNe=({item:t,project:e})=>{var d;const[n,i]=k.useState(!1),[r,s]=k.useState(!1),o=kt(h=>h.authData.accessToken),{id:a}=ed(),l=$t(h=>h.deleteItemFromProject),c=async h=>{try{await Afe(o,h.id),l(a||"",h),s(!1)}catch(p){console.log(p)}};return b.jsxs("div",{className:"flex flex-row justify-between gap-2 w-full",children:[b.jsxs("div",{className:"flex flex-row gap-2",children:[t.image?b.jsx("img",{src:t.image,alt:t.name,className:"size-10 object-cover rounded-sm"}):b.jsx("div",{className:"size-10 bg-zinc-100 rounded-md"}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-zinc-900",children:t.name}),b.jsxs("div",{className:"text-xs text-zinc-500 max-w-46",children:[(d=t.description)==null?void 0:d.substring(0,54),"..."]})]})]}),b.jsxs("div",{className:"flex flex-col justify-between items-end",children:[r?b.jsxs("div",{className:"flex justify-end w-full gap-1",children:[b.jsx("div",{onClick:()=>{s(!1)},className:"text-zinc-400 duration-300 hover:text-zinc-700 text-sm opacity-40 hover:opacity-60",children:b.jsx(Xn,{})}),b.jsx("div",{onClick:()=>{c(t)},className:"text-zinc-400 duration-300 hover:text-zinc-700 text-sm opacity-40 hover:opacity-60 ",children:b.jsx(QE,{})})]}):b.jsx("div",{className:"flex justify-end w-full",children:b.jsx("div",{onClick:()=>{s(!0)},className:"text-zinc-400 duration-300 hover:text-zinc-700 text-sm opacity-40 hover:opacity-60",children:b.jsx(tT,{})})}),b.jsx("div",{onClick:()=>{i(!0)},className:"text-zinc-400 duration-300 hover:text-zinc-700 text-base opacity-40 hover:opacity-60",children:b.jsx(Hz,{})})]}),b.jsx(i3,{isCreateItemOpen:n,setIsCreateItemOpen:i,item:t,project:e})]})},uNe=({item:t,isExtracting:e,project:n})=>{const i=kt(p=>p.authData.accessToken),r=$t(p=>p.updateProjectInList),s=$t(p=>p.addMergeExtractedItem),o=$t(p=>p.deleteItemFromProjectJson),a=async p=>{const m=new FormData;m.append("characters_json",JSON.stringify(p.characters_json));try{await ZE(i,n.id.toString(),m)}catch(v){console.log(v)}},l=async p=>{if(e)return;const m=El.from(n);try{const v=await wfe(i,p);m.addItem(v.data),m.removeItemFromJson(v.data.name),r(m.toJSON()),await a(m)}catch(v){console.log(v)}},c=async p=>{if(e)return;const m=El.from(n),v=n.id;try{s(v,p),o(v,p),m.removeItemFromJson(p.name),await a(m)}catch(S){console.log(S)}},d=p=>{if(n.characters.find(v=>v.name.toLowerCase()===p.toLowerCase()))return!0},h=async p=>{if(e)return;const m=El.from(n);try{m.removeItemFromJson(p.name),r(m.toJSON()),await a(m)}catch(v){console.log(v)}};return b.jsxs("div",{className:"flex gap-2 justify-between w-full relative",children:[b.jsxs("div",{className:"flex flex-row gap-2",children:[t.image?b.jsx("img",{src:t.image,alt:t.name,className:"size-10 object-cover"}):b.jsx("div",{className:"size-10 bg-zinc-100 rounded-md"}),b.jsxs("div",{className:"",children:[b.jsx("div",{className:"text-xs",children:t.name}),b.jsx("div",{className:"text-xs text-zinc-700",children:t.description})]})]}),d(t.name)?b.jsxs("div",{className:" flex h-fit justify-end items-end h-full gap-1",children:[b.jsx("div",{onClick:()=>h(t),className:"  text-xs text-red-400 cursor-pointer hover:text-red-700 px-2 py-1 border border-red-400 rounded-xl",children:"Discard"}),b.jsx("div",{onClick:()=>{c(t)},className:" text-xs text-green-400  cursor-pointer hover:text-green-700 px-2 py-1 border border-gree-400 rounded-xl",children:"Merge"})]}):b.jsxs("div",{className:" flex h-fit justify-end items-end h-full",children:[b.jsx("div",{onClick:()=>h(t),className:"  text-xl text-red-400 cursor-pointer hover:text-red-700",children:b.jsx(t3,{})}),b.jsx("div",{onClick:()=>{l(t)},className:" text-xl text-green-400  cursor-pointer hover:text-green-700",children:b.jsx(Uz,{})})]})]})},dNe=({project:t,isExtracting:e})=>b.jsx(TB,{label:`Items ${t.items.length}`,children:t&&t.items?b.jsx(Yz,{children:b.jsx("div",{className:"flex flex-row w-full justify-start items-start gap-4 ",children:b.jsxs("div",{className:"grid grid-cols-1 gap-3 w-full justify-center transition overflow:hidden duration-300 overflow-auto",children:[t.items_json&&b.jsx(b.Fragment,{children:t.items_json.map((n,i)=>b.jsx(Fp.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.001,delay:i*.02},layout:!0,className:`${e&&"animate-pulse"} flex w-full duration-300 flex-row border-1 rounded-sm p-1 
                                bg-linear-to-t from-white to-zinc-50 border-gray-300 hover:shadow-md`,children:b.jsx(uNe,{isExtracting:e,item:n,project:t})},i))}),t&&b.jsx(b.Fragment,{children:t.items.map((n,i)=>b.jsx(Fp.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.001,delay:i*.02},layout:!0,className:"flex w-full duration-300 flex-row border-1 rounded-sm p-1 bg-linear-to-t from-white to-zinc-50 border-gray-300 hover:shadow-md",children:b.jsx(cNe,{item:n,project:t})},i))})]})})}):b.jsx(b.Fragment,{})}),fNe=({location:t,project:e})=>{var d;const[n,i]=k.useState(!1),[r,s]=k.useState(!1),o=kt(h=>h.authData.accessToken),{id:a}=ed(),l=$t(h=>h.deleteLocationFromProject),c=async h=>{try{await Nfe(o,h.id),l(a||"",h),s(!1)}catch(p){console.log(p)}};return b.jsxs("div",{className:"flex flex-row justify-between gap-2 w-full",children:[b.jsxs("div",{className:"flex flex-row gap-2",children:[t.image?b.jsx("img",{src:t.image,alt:t.name,className:"size-10 object-cover rounded-sm"}):b.jsx("div",{className:"size-10 bg-zinc-100 rounded-md"}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs",children:t.name}),b.jsx("div",{className:"text-xs text-zinc-700 max-w-46",children:(d=t.description)==null?void 0:d.substring(0,54)})]})]}),b.jsxs("div",{className:"flex flex-col justify-between items-end",children:[r?b.jsxs("div",{className:"flex justify-end w-full gap-1",children:[b.jsx("div",{onClick:()=>{s(!1)},className:"text-zinc-400 duration-300 hover:text-zinc-700 text-sm opacity-40 hover:opacity-60",children:b.jsx(Xn,{})}),b.jsx("div",{onClick:()=>{c(t)},className:"text-zinc-400 duration-300 hover:text-zinc-700 text-sm opacity-40 hover:opacity-60 ",children:b.jsx(QE,{})})]}):b.jsx("div",{className:"flex justify-end w-full",children:b.jsx("div",{onClick:()=>{s(!0)},className:"text-zinc-400 duration-300 hover:text-zinc-700 text-sm opacity-40 hover:opacity-60",children:b.jsx(tT,{})})}),b.jsx("div",{onClick:()=>{i(!0)},className:"text-zinc-400 duration-300 hover:text-zinc-700 text-base opacity-40 hover:opacity-60",children:b.jsx(Hz,{})})]}),b.jsx(r3,{isCreateLocationOpen:n,setIsCreateLocationOpen:i,location:t,project:e})]})},hNe=({location:t,isExtracting:e,project:n})=>{const i=kt(p=>p.authData.accessToken),r=$t(p=>p.updateProjectInList),s=$t(p=>p.addMergeExtractedLocation),o=$t(p=>p.deleteLocationFromProjectJson),a=async p=>{const m=new FormData;m.append("characters_json",JSON.stringify(p.characters_json));try{await ZE(i,n.id.toString(),m)}catch(v){console.log(v)}},l=async p=>{if(e)return;const m=El.from(n);try{const v=await Mfe(i,p);m.addLocation(v.data),m.removeLocationFromJson(v.data.name),r(m.toJSON()),await a(m)}catch(v){console.log(v)}},c=async p=>{if(e)return;const m=El.from(n),v=n.id;try{s(v,p),o(v,p),m.removeLocationFromJson(p.name),await a(m)}catch(S){console.log(S)}},d=p=>{if(n.locations.find(v=>v.name.toLowerCase()===p.toLowerCase()))return!0},h=async p=>{if(e)return;const m=El.from(n);try{m.removeLocationFromJson(p.name),r(m.toJSON()),await a(m)}catch(v){console.log(v)}};return b.jsxs("div",{className:"flex gap-2 justify-between w-full relative",children:[b.jsxs("div",{className:"flex flex-row gap-2",children:[t.image?b.jsx("img",{src:t.image,alt:t.name,className:"size-10 object-cover"}):b.jsx("div",{className:"size-10 bg-zinc-100 rounded-md"}),b.jsxs("div",{className:"",children:[b.jsx("div",{className:"text-xs",children:t.name}),b.jsx("div",{className:"text-xs text-zinc-700",children:t.description})]})]}),d(t.name)?b.jsxs("div",{className:" flex h-fit justify-end items-end h-full gap-1",children:[b.jsx("div",{onClick:()=>h(t),className:"  text-xs text-red-400 cursor-pointer hover:text-red-700 px-2 py-1 border border-red-400 rounded-xl",children:"Discard"}),b.jsx("div",{onClick:()=>{c(t)},className:" text-xs text-green-400  cursor-pointer hover:text-green-700 px-2 py-1 border border-gree-400 rounded-xl",children:"Merge"})]}):b.jsxs("div",{className:" flex h-fit justify-end items-end h-full",children:[b.jsx("div",{onClick:()=>h(t),className:"  text-xl text-red-400 cursor-pointer hover:text-red-700",children:b.jsx(t3,{})}),b.jsx("div",{onClick:()=>{l(t)},className:" text-xl text-green-400  cursor-pointer hover:text-green-700",children:b.jsx(Uz,{})})]})]})},pNe=({project:t,isExtracting:e})=>b.jsx(TB,{label:`Locations ${t.locations.length}`,children:t&&t.locations?b.jsx(Yz,{children:b.jsx("div",{className:"flex flex-row w-full justify-start items-start gap-4 ",children:b.jsxs("div",{className:"grid grid-cols-1 gap-3 w-full justify-center transition overflow:hidden duration-300 overflow-auto ",children:[t.locations_json&&b.jsx(b.Fragment,{children:t.locations_json.map((n,i)=>b.jsx(Fp.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.001,delay:i*.02},layout:!0,className:`${e&&"animate-pulse"} flex w-full duration-300 flex-row border-1 rounded-sm p-1 
                                bg-linear-to-t from-white to-zinc-50 border-gray-300 hover:shadow-md`,children:b.jsx(hNe,{isExtracting:e,location:n,project:t})},i))}),t&&b.jsx(b.Fragment,{children:t.locations.map((n,i)=>b.jsx(Fp.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.001,delay:i*.02},layout:!0,className:"flex w-full duration-300 flex-row border-1 rounded-sm p-1 bg-linear-to-t from-white to-zinc-50 border-gray-300 hover:shadow-md",children:b.jsx(fNe,{location:n,project:t})},i))})]})})}):b.jsx(b.Fragment,{})});function JD(t){return pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm106.5 150.5L228.8 332.8h-.1c-1.7 1.7-6.3 5.5-11.6 5.5-3.8 0-8.1-2.1-11.7-5.7l-56-56c-1.6-1.6-1.6-4.1 0-5.7l17.8-17.8c.8-.8 1.8-1.2 2.8-1.2 1 0 2 .4 2.8 1.2l44.4 44.4 122-122.9c.8-.8 1.8-1.2 2.8-1.2 1.1 0 2.1.4 2.8 1.2l17.5 18.1c1.8 1.7 1.8 4.2.2 5.8z"},child:[]}]})(t)}function mNe(t){return pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 384h384v-42.666H64V384zm0-106.666h384v-42.667H64v42.667zM64 128v42.665h384V128H64z"},child:[]}]})(t)}const gNe=({project:t,isExtracting:e})=>{const[n,i]=k.useState(!1),[r,s]=k.useState(!1),[o,a]=k.useState(!1),l=kt(A=>A.authData),c=jf(),d=kt(A=>A.saveAuthData),h=kt(A=>A.setLoggedIn),p=kt(A=>A.saveAccessToken),m=()=>{s(!0),setTimeout(()=>{a(!0)},310)},v=()=>{a(!1),s(!1)},S=()=>{d({id:"",email:"",username:"",ws_chanel_code:"",open_router_api_key:""}),p(""),h(!1),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),c("/")};return b.jsx(b.Fragment,{children:b.jsxs("section",{className:`overflow:hidden overflow-auto flex duration-300 ${r?"w-76":"w-12"} transform bg-white flex-col flex-shrink-0 top-16 left-0 bottom-0  border-r-1 border-zinc-200 p-3 gap-3 fixed  lg:block z-10`,children:[!r&&b.jsx("div",{onClick:m,className:"w-full flex justify-center cursor-pointer",children:b.jsx(mNe,{})}),o&&b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between mb-6",children:[b.jsx("div",{className:"w-10"}),b.jsx("div",{className:"cursor-pointer",onClick:v,children:b.jsx(tfe,{})})]}),b.jsxs("div",{className:"flex items-center gap-2 w-full mb-5 px-2  justify-between",children:[b.jsx("p",{onClick:()=>{i(!0)},className:"text-sm font-semibold cursor-pointer",children:l.username}),b.jsx("div",{onClick:()=>{S()},className:"text-lg",children:b.jsx(FG,{})})]}),b.jsx(FC,{isUserProfileOpen:n,setIsUserProfileOpen:i,userData:l}),b.jsxs("div",{className:"grid grid-cols-1  gap-3 w-full justify-center transition overflow-auto ",children:[t&&b.jsx("div",{className:"w-full items-start justify-start flex ",children:b.jsx(lNe,{project:t,isExtracting:e})}),t&&b.jsx("div",{className:"w-full items-start justify-start flex ",children:b.jsx(dNe,{project:t,isExtracting:e})}),t&&b.jsx("div",{className:"w-full items-start justify-start flex ",children:b.jsx(pNe,{project:t,isExtracting:e})})]})]})]})})},yNe=async(t,e)=>await gn.post("/prompts/em-prompt/",e,{headers:{Authorization:`Bearer ${t}`}}),bNe=async(t,e)=>await gn.post("/prompts/stop/",e,{headers:{Authorization:`Bearer ${t}`}}),Gh=eT(t=>({chat:[],addUserPrompt:(e,n)=>t(i=>{const r={request_id:n,process_id:"",status:"succeeded",type:"user_prompt",user_prompt:e,processes:[],stream_message:[]};return{chat:[...i.chat,r]}}),addUpdateProcess:e=>t(n=>{const{request_id:i,process:r}=e,s=n.chat.find(o=>o.request_id===i&&o.type===r.type);if(s)return s&&(s.status=r.status,s.processes=r.sub_processes),{chat:n.chat.map(a=>a.request_id===i&&a.type===r.type?s:a)};{const o={request_id:i,process_id:r.id,status:r.status,type:r.type,user_prompt:"",processes:r.sub_processes,stream_message:[]};return{chat:[...n.chat,o]}}}),setChat:e=>t(()=>({chat:e})),addUpdateStreamMessage:(e,n,i)=>t(r=>{const s=r.chat.findIndex(o=>o.request_id===n&&o.type===e.type);if(s===-1){const o={request_id:n,process_id:e.id,status:e.status,type:e.type,user_prompt:"",processes:[],stream_message:[i]};return{chat:[...r.chat,o]}}else{const o=r.chat[s],a={...o,stream_message:[...o.stream_message,i]};return a.status=e.status,{chat:r.chat.map(l=>l.request_id===n&&l.type===e.type?a:l)}}})})),zZ=k.createContext({});function vNe(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const kB=k.createContext(null),BZ=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function xNe(t=!0){const e=k.useContext(kB);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=k.useId();k.useEffect(()=>{if(t)return r(s)},[t]);const o=k.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,o]:[!0]}const _B=typeof window<"u",wNe=_B?k.useLayoutEffect:k.useEffect,Pa=t=>t;let VZ=Pa;const SNe={useManualTiming:!1},uM=["read","resolveKeyframes","update","preRender","render","postRender"],a8={value:null};function CNe(t,e){let n=new Set,i=new Set,r=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),t()),l++,h(a)}const d={schedule:(h,p=!1,m=!1)=>{const S=m&&r?n:i;return p&&o.add(h),S.has(h)||S.add(h),h},cancel:h=>{i.delete(h),o.delete(h)},process:h=>{if(a=h,r){s=!0;return}r=!0,[n,i]=[i,n],n.forEach(c),e&&a8.value&&a8.value.frameloop[e].push(l),l=0,n.clear(),r=!1,s&&(s=!1,d.process(h))}};return d}const ANe=40;function HZ(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=uM.reduce((E,M)=>(E[M]=CNe(s,e?M:void 0),E),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:p}=o,m=()=>{const E=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(E-r.timestamp,ANe),1),r.timestamp=E,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),d.process(r),h.process(r),p.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(m))},v=()=>{n=!0,i=!0,r.isProcessing||t(m)};return{schedule:uM.reduce((E,M)=>{const R=o[M];return E[M]=(N,P=!1,O=!1)=>(n||v(),R.schedule(N,P,O)),E},{}),cancel:E=>{for(let M=0;M<uM.length;M++)o[uM[M]].cancel(E)},state:r,steps:o}}const{schedule:fi,cancel:$p,state:rs,steps:cL}=HZ(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pa,!0),UZ=k.createContext({strict:!1}),l8={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vx={};for(const t in l8)Vx[t]={isEnabled:e=>l8[t].some(n=>!!e[n])};function ENe(t){for(const e in t)Vx[e]={...Vx[e],...t[e]}}const TNe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function h2(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||TNe.has(t)}let qZ=t=>!h2(t);function kNe(t){t&&(qZ=e=>e.startsWith("on")?!h2(e):t(e))}try{kNe(require("@emotion/is-prop-valid").default)}catch{}function _Ne(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(qZ(r)||n===!0&&h2(r)||!e&&!h2(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function MNe(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const ZD=k.createContext({});function QD(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pA(t){return typeof t=="string"||Array.isArray(t)}const MB=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],RB=["initial",...MB];function eN(t){return QD(t.animate)||RB.some(e=>pA(t[e]))}function GZ(t){return!!(eN(t)||t.variants)}function RNe(t,e){if(eN(t)){const{initial:n,animate:i}=t;return{initial:n===!1||pA(n)?n:void 0,animate:pA(i)?i:void 0}}return t.inherit!==!1?e:{}}function DNe(t){const{initial:e,animate:n}=RNe(t,k.useContext(ZD));return k.useMemo(()=>({initial:e,animate:n}),[c8(e),c8(n)])}function c8(t){return Array.isArray(t)?t.join(" "):t}const NNe=Symbol.for("motionComponentSymbol");function dv(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function PNe(t,e,n){return k.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):dv(n)&&(n.current=i))},[e])}const DB=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ONe="framerAppearId",WZ="data-"+DB(ONe),{schedule:NB}=HZ(queueMicrotask,!1),KZ=k.createContext({});function LNe(t,e,n,i,r){var s,o;const{visualElement:a}=k.useContext(ZD),l=k.useContext(UZ),c=k.useContext(kB),d=k.useContext(BZ).reducedMotion,h=k.useRef(null);i=i||l.renderer,!h.current&&i&&(h.current=i(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,m=k.useContext(KZ);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&jNe(h.current,n,r,m);const v=k.useRef(!1);k.useInsertionEffect(()=>{p&&v.current&&p.update(n,c)});const S=n[WZ],A=k.useRef(!!S&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,S))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,S)));return wNe(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),NB.render(p.render),A.current&&p.animationState&&p.animationState.animateChanges())}),k.useEffect(()=>{p&&(!A.current&&p.animationState&&p.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)===null||E===void 0||E.call(window,S)}),A.current=!1))}),p}function jNe(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:YZ(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&dv(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function YZ(t){if(t)return t.options.allowProjection!==!1?t.projection:YZ(t.parent)}function INe({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var s,o;t&&ENe(t);function a(c,d){let h;const p={...k.useContext(BZ),...c,layoutId:FNe(c)},{isStatic:m}=p,v=DNe(c),S=i(c,m);if(!m&&_B){$Ne();const A=zNe(p);h=A.MeasureLayout,v.visualElement=LNe(r,S,p,e,A.ProjectionNode)}return b.jsxs(ZD.Provider,{value:v,children:[h&&v.visualElement?b.jsx(h,{visualElement:v.visualElement,...p}):null,n(r,c,PNe(S,v.visualElement,d),S,m,v.visualElement)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${(o=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&o!==void 0?o:""})`}`;const l=k.forwardRef(a);return l[NNe]=r,l}function FNe({layoutId:t}){const e=k.useContext(zZ).id;return e&&t!==void 0?e+"-"+t:t}function $Ne(t,e){k.useContext(UZ).strict}function zNe(t){const{drag:e,layout:n}=Vx;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const XZ=t=>e=>typeof e=="string"&&e.startsWith(t),PB=XZ("--"),BNe=XZ("var(--"),OB=t=>BNe(t)?VNe.test(t.split("/*")[0].trim()):!1,VNe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,mA={};function HNe(t){for(const e in t)mA[e]=t[e],PB(e)&&(mA[e].isCSSVariable=!0)}const m1=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],d0=new Set(m1);function JZ(t,{layout:e,layoutId:n}){return d0.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mA[t]||t==="opacity")}const Ns=t=>!!(t&&t.getVelocity),ZZ=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Nf=(t,e,n)=>n>e?e:n<t?t:n,g1={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gA={...g1,transform:t=>Nf(0,1,t)},dM={...g1,default:1},gT=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fh=gT("deg"),Yu=gT("%"),At=gT("px"),UNe=gT("vh"),qNe=gT("vw"),u8={...Yu,parse:t=>Yu.parse(t)/100,transform:t=>Yu.transform(t*100)},GNe={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At},WNe={rotate:Fh,rotateX:Fh,rotateY:Fh,rotateZ:Fh,scale:dM,scaleX:dM,scaleY:dM,scaleZ:dM,skew:Fh,skewX:Fh,skewY:Fh,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:gA,originX:u8,originY:u8,originZ:At},d8={...g1,transform:Math.round},LB={...GNe,...WNe,zIndex:d8,size:At,fillOpacity:gA,strokeOpacity:gA,numOctaves:d8},KNe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YNe=m1.length;function XNe(t,e,n){let i="",r=!0;for(let s=0;s<YNe;s++){const o=m1[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=ZZ(a,LB[o]);if(!l){r=!1;const d=KNe[o]||o;i+=`${d}(${c}) `}n&&(e[o]=c)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function jB(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(d0.has(l)){o=!0;continue}else if(PB(l)){r[l]=c;continue}else{const d=ZZ(c,LB[l]);l.startsWith("origin")?(a=!0,s[l]=d):i[l]=d}}if(e.transform||(o||n?i.transform=XNe(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;i.transformOrigin=`${l} ${c} ${d}`}}const IB=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function QZ(t,e,n){for(const i in e)!Ns(e[i])&&!JZ(i,n)&&(t[i]=e[i])}function JNe({transformTemplate:t},e){return k.useMemo(()=>{const n=IB();return jB(n,e,t),Object.assign({},n.vars,n.style)},[e])}function ZNe(t,e){const n=t.style||{},i={};return QZ(i,n,t),Object.assign(i,JNe(t,e)),i}function QNe(t,e){const n={},i=ZNe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const ePe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function FB(t){return typeof t!="string"||t.includes("-")?!1:!!(ePe.indexOf(t)>-1||/[A-Z]/u.test(t))}const tPe={offset:"stroke-dashoffset",array:"stroke-dasharray"},nPe={offset:"strokeDashoffset",array:"strokeDasharray"};function iPe(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?tPe:nPe;t[s.offset]=At.transform(-i);const o=At.transform(e),a=At.transform(n);t[s.array]=`${o} ${a}`}function f8(t,e,n){return typeof t=="string"?t:At.transform(e+n*t)}function rPe(t,e,n){const i=f8(e,t.x,t.width),r=f8(n,t.y,t.height);return`${i} ${r}`}function $B(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(jB(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:v}=t;p.transform&&(v&&(m.transform=p.transform),delete p.transform),v&&(r!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=rPe(v,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),o!==void 0&&iPe(p,o,a,l,!1)}const eQ=()=>({...IB(),attrs:{}}),zB=t=>typeof t=="string"&&t.toLowerCase()==="svg";function sPe(t,e,n,i){const r=k.useMemo(()=>{const s=eQ();return $B(s,e,zB(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};QZ(s,t.style,t),r.style={...s,...r.style}}return r}function oPe(t=!1){return(n,i,r,{latestValues:s},o)=>{const l=(FB(n)?sPe:QNe)(i,s,o,n),c=_Ne(i,typeof n=="string",t),d=n!==k.Fragment?{...c,...l,ref:r}:{},{children:h}=i,p=k.useMemo(()=>Ns(h)?h.get():h,[h]);return k.createElement(n,{...d,children:p})}}function h8(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function BB(t,e,n,i){if(typeof e=="function"){const[r,s]=h8(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=h8(i);e=e(n!==void 0?n:t.custom,r,s)}return e}const wI=t=>Array.isArray(t),aPe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),lPe=t=>wI(t)?t[t.length-1]||0:t;function BM(t){const e=Ns(t)?t.get():t;return aPe(e)?e.toValue():e}function cPe({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,s){const o={latestValues:uPe(i,r,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:i,current:a,...o}),o.onUpdate=a=>n(a)),o}const tQ=t=>(e,n)=>{const i=k.useContext(ZD),r=k.useContext(kB),s=()=>cPe(t,e,i,r);return n?s():vNe(s)};function uPe(t,e,n,i){const r={},s=i(t,{});for(const p in s)r[p]=BM(s[p]);let{initial:o,animate:a}=t;const l=eN(t),c=GZ(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!QD(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const v=BB(t,p[m]);if(v){const{transitionEnd:S,transition:A,...E}=v;for(const M in E){let R=E[M];if(Array.isArray(R)){const N=d?R.length-1:0;R=R[N]}R!==null&&(r[M]=R)}for(const M in S)r[M]=S[M]}}}return r}function VB(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Ns(r[o])||e.style&&Ns(e.style[o])||JZ(o,t)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const dPe={useVisualState:tQ({scrapeMotionValuesFromProps:VB,createRenderState:IB})};function nQ(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function iQ(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const rQ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sQ(t,e,n,i){iQ(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(rQ.has(r)?r:DB(r),e.attrs[r])}function oQ(t,e,n){const i=VB(t,e,n);for(const r in t)if(Ns(t[r])||Ns(e[r])){const s=m1.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}const p8=["x","y","width","height","cx","cy","r"],fPe={useVisualState:tQ({scrapeMotionValuesFromProps:oQ,createRenderState:eQ,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in r)if(d0.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<p8.length;a++){const l=p8[a];t[l]!==e[l]&&(o=!0)}o&&fi.read(()=>{nQ(n,i),fi.render(()=>{$B(i,r,zB(n.tagName),t.transformTemplate),sQ(n,i)})})}})};function hPe(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...FB(i)?fPe:dPe,preloadedFeatures:t,useRender:oPe(r),createVisualElement:e,Component:i};return INe(o)}}function yA(t,e,n){const i=t.getProps();return BB(i,e,n!==void 0?n:i.custom,t)}function HB(t,e){return t?t[e]||t.default||t:void 0}const aQ=new Set(["width","height","top","left","right","bottom",...m1]);let VM;function pPe(){VM=void 0}const Xu={now:()=>(VM===void 0&&Xu.set(rs.isProcessing||SNe.useManualTiming?rs.timestamp:performance.now()),VM),set:t=>{VM=t,queueMicrotask(pPe)}};function UB(t,e){t.indexOf(e)===-1&&t.push(e)}function qB(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class GB{constructor(){this.subscriptions=[]}add(e){return UB(this.subscriptions,e),()=>qB(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function lQ(t,e){return e?t*(1e3/e):0}const m8=30,mPe=t=>!isNaN(parseFloat(t));class gPe{constructor(e,n={}){this.version="12.4.13",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Xu.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Xu.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=mPe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new GB);const i=this.events[e].add(n);return e==="change"?()=>{i(),fi.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Xu.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>m8)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,m8);return lQ(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bA(t,e){return new gPe(t,e)}function yPe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,bA(n))}function bPe(t,e){const n=yA(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=lPe(s[o]);yPe(t,o,a)}}function vPe(t){return!!(Ns(t)&&t.add)}function SI(t,e){const n=t.getValue("willChange");if(vPe(n))return n.add(e)}function cQ(t){return t.props[WZ]}function WB(t){let e;return()=>(e===void 0&&(e=t()),e)}const xPe=WB(()=>window.ScrollTimeline!==void 0);class wPe{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(xPe()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class SPe extends wPe{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}const Sf=t=>t*1e3,Cf=t=>t/1e3;function KB(t){return typeof t=="function"}function g8(t,e){t.timeline=e,t.onfinish=null}const YB=t=>Array.isArray(t)&&typeof t[0]=="number",CPe={linearEasing:void 0};function APe(t,e){const n=WB(t);return()=>{var i;return(i=CPe[e])!==null&&i!==void 0?i:n()}}const p2=APe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hx=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},uQ=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=t(Hx(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function dQ(t){return!!(typeof t=="function"&&p2()||!t||typeof t=="string"&&(t in CI||p2())||YB(t)||Array.isArray(t)&&t.every(dQ))}const YS=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,CI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:YS([0,.65,.55,1]),circOut:YS([.55,0,1,.45]),backIn:YS([.31,.01,.66,-.59]),backOut:YS([.33,1.53,.69,.99])};function fQ(t,e){if(t)return typeof t=="function"&&p2()?uQ(t,e):YB(t)?YS(t):Array.isArray(t)?t.map(n=>fQ(n,e)||CI.easeOut):CI[t]}const hQ=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,EPe=1e-7,TPe=12;function kPe(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=hQ(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>EPe&&++a<TPe);return o}function yT(t,e,n,i){if(t===e&&n===i)return Pa;const r=s=>kPe(s,0,1,t,n);return s=>s===0||s===1?s:hQ(r(s),e,i)}const pQ=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,mQ=t=>e=>1-t(1-e),gQ=yT(.33,1.53,.69,.99),XB=mQ(gQ),yQ=pQ(XB),bQ=t=>(t*=2)<1?.5*XB(t):.5*(2-Math.pow(2,-10*(t-1))),JB=t=>1-Math.sin(Math.acos(t)),vQ=mQ(JB),xQ=pQ(JB),wQ=t=>/^0[^.\s]+$/u.test(t);function _Pe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||wQ(t):!0}const EC=t=>Math.round(t*1e5)/1e5,ZB=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function MPe(t){return t==null}const RPe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,QB=(t,e)=>n=>!!(typeof n=="string"&&RPe.test(n)&&n.startsWith(t)||e&&!MPe(n)&&Object.prototype.hasOwnProperty.call(n,e)),SQ=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(ZB);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},DPe=t=>Nf(0,255,t),uL={...g1,transform:t=>Math.round(DPe(t))},Ig={test:QB("rgb","red"),parse:SQ("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+uL.transform(t)+", "+uL.transform(e)+", "+uL.transform(n)+", "+EC(gA.transform(i))+")"};function NPe(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const AI={test:QB("#"),parse:NPe,transform:Ig.transform},fv={test:QB("hsl","hue"),parse:SQ("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Yu.transform(EC(e))+", "+Yu.transform(EC(n))+", "+EC(gA.transform(i))+")"},ks={test:t=>Ig.test(t)||AI.test(t)||fv.test(t),parse:t=>Ig.test(t)?Ig.parse(t):fv.test(t)?fv.parse(t):AI.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ig.transform(t):fv.transform(t)},PPe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OPe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ZB))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(PPe))===null||n===void 0?void 0:n.length)||0)>0}const CQ="number",AQ="color",LPe="var",jPe="var(",y8="${}",IPe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vA(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(IPe,l=>(ks.test(l)?(i.color.push(s),r.push(AQ),n.push(ks.parse(l))):l.startsWith(jPe)?(i.var.push(s),r.push(LPe),n.push(l)):(i.number.push(s),r.push(CQ),n.push(parseFloat(l))),++s,y8)).split(y8);return{values:n,split:a,indexes:i,types:r}}function EQ(t){return vA(t).values}function TQ(t){const{split:e,types:n}=vA(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===CQ?s+=EC(r[o]):a===AQ?s+=ks.transform(r[o]):s+=r[o]}return s}}const FPe=t=>typeof t=="number"?0:t;function $Pe(t){const e=EQ(t);return TQ(t)(e.map(FPe))}const zp={test:OPe,parse:EQ,createTransformer:TQ,getAnimatableNone:$Pe},zPe=new Set(["brightness","contrast","saturate","opacity"]);function BPe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(ZB)||[];if(!i)return t;const r=n.replace(i,"");let s=zPe.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const VPe=/\b([a-z-]*)\(.*?\)/gu,EI={...zp,getAnimatableNone:t=>{const e=t.match(VPe);return e?e.map(BPe).join(" "):t}},HPe={...LB,color:ks,backgroundColor:ks,outlineColor:ks,fill:ks,stroke:ks,borderColor:ks,borderTopColor:ks,borderRightColor:ks,borderBottomColor:ks,borderLeftColor:ks,filter:EI,WebkitFilter:EI},kQ=t=>HPe[t];function _Q(t,e){let n=kQ(t);return n!==EI&&(n=zp),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const UPe=new Set(["auto","none","0"]);function qPe(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!UPe.has(s)&&vA(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=_Q(n,r)}const Fg=t=>t*180/Math.PI,TI=t=>{const e=Fg(Math.atan2(t[1],t[0]));return kI(e)},GPe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:TI,rotateZ:TI,skewX:t=>Fg(Math.atan(t[1])),skewY:t=>Fg(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},kI=t=>(t=t%360,t<0&&(t+=360),t),b8=TI,v8=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),x8=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),WPe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:v8,scaleY:x8,scale:t=>(v8(t)+x8(t))/2,rotateX:t=>kI(Fg(Math.atan2(t[6],t[5]))),rotateY:t=>kI(Fg(Math.atan2(-t[2],t[0]))),rotateZ:b8,rotate:b8,skewX:t=>Fg(Math.atan(t[4])),skewY:t=>Fg(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function w8(t){return t.includes("scale")?1:0}function _I(t,e){if(!t||t==="none")return w8(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=WPe,r=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=GPe,r=a}if(!r)return w8(e);const s=i[e],o=r[1].split(",").map(YPe);return typeof s=="function"?s(o):o[s]}const KPe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return _I(n,e)};function YPe(t){return parseFloat(t.trim())}const S8=t=>t===g1||t===At,XPe=new Set(["x","y","z"]),JPe=m1.filter(t=>!XPe.has(t));function ZPe(t){const e=[];return JPe.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ux={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>_I(e,"x"),y:(t,{transform:e})=>_I(e,"y")};Ux.translateX=Ux.x;Ux.translateY=Ux.y;const Hy=new Set;let MI=!1,RI=!1;function MQ(){if(RI){const t=Array.from(Hy).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=ZPe(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}RI=!1,MI=!1,Hy.forEach(t=>t.complete()),Hy.clear()}function RQ(){Hy.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(RI=!0)})}function QPe(){RQ(),MQ()}class e5{constructor(e,n,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Hy.add(this),MI||(MI=!0,fi.read(RQ),fi.resolveKeyframes(MQ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const l=i.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Hy.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Hy.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const DQ=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),eOe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tOe(t){const e=eOe.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function NQ(t,e,n=1){const[i,r]=tOe(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return DQ(o)?parseFloat(o):o}return OB(r)?NQ(r,e,n+1):r}const PQ=t=>e=>e.test(t),nOe={test:t=>t==="auto",parse:t=>t},OQ=[g1,At,Yu,Fh,qNe,UNe,nOe],C8=t=>OQ.find(PQ(t));class LQ extends e5{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),OB(c))){const d=NQ(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!aQ.has(i)||e.length!==2)return;const[r,s]=e,o=C8(r),a=C8(s);if(o!==a)if(S8(o)&&S8(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)_Pe(e[r])&&i.push(r);i.length&&qPe(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ux[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Ux[i](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const A8=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(zp.test(t)||t==="0")&&!t.startsWith("url("));function iOe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function rOe(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=A8(r,e),a=A8(s,e);return!o||!a?!1:iOe(t)||(n==="spring"||KB(n))&&i}const sOe=t=>t!==null;function tN(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(sOe),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const oOe=40;class jQ{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Xu.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>oOe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&QPe(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Xu.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!rOe(e,i,r,s))if(o)this.options.duration=0;else{l&&l(tN(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const DI=2e4;function IQ(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<DI;)e+=n,i=t.next(e);return e>=DI?1/0:e}const $i=(t,e,n)=>t+(e-t)*n;function dL(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function aOe({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=dL(l,a,t+1/3),s=dL(l,a,t),o=dL(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function m2(t,e){return n=>n>0?e:t}const fL=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},lOe=[AI,Ig,fv],cOe=t=>lOe.find(e=>e.test(t));function E8(t){const e=cOe(t);if(!e)return!1;let n=e.parse(t);return e===fv&&(n=aOe(n)),n}const T8=(t,e)=>{const n=E8(t),i=E8(e);if(!n||!i)return m2(t,e);const r={...n};return s=>(r.red=fL(n.red,i.red,s),r.green=fL(n.green,i.green,s),r.blue=fL(n.blue,i.blue,s),r.alpha=$i(n.alpha,i.alpha,s),Ig.transform(r))},uOe=(t,e)=>n=>e(t(n)),bT=(...t)=>t.reduce(uOe),NI=new Set(["none","hidden"]);function dOe(t,e){return NI.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function fOe(t,e){return n=>$i(t,e,n)}function t5(t){return typeof t=="number"?fOe:typeof t=="string"?OB(t)?m2:ks.test(t)?T8:mOe:Array.isArray(t)?FQ:typeof t=="object"?ks.test(t)?T8:hOe:m2}function FQ(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>t5(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function hOe(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=t5(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function pOe(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;i[s]=l,r[o]++}return i}const mOe=(t,e)=>{const n=zp.createTransformer(e),i=vA(t),r=vA(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?NI.has(t)&&!r.values.length||NI.has(e)&&!i.values.length?dOe(t,e):bT(FQ(pOe(i,r),r.values),n):m2(t,e)};function $Q(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?$i(t,e,n):t5(t)(t,e)}const gOe=5;function zQ(t,e,n){const i=Math.max(e-gOe,0);return lQ(n-t(i),e-i)}const Gi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},k8=.001;function yOe({duration:t=Gi.duration,bounce:e=Gi.bounce,velocity:n=Gi.velocity,mass:i=Gi.mass}){let r,s,o=1-e;o=Nf(Gi.minDamping,Gi.maxDamping,o),t=Nf(Gi.minDuration,Gi.maxDuration,Cf(t)),o<1?(r=c=>{const d=c*o,h=d*t,p=d-n,m=PI(c,o),v=Math.exp(-h);return k8-p/m*v},s=c=>{const h=c*o*t,p=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-h),S=PI(Math.pow(c,2),o);return(-r(c)+k8>0?-1:1)*((p-m)*v)/S}):(r=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-.001+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=vOe(r,s,a);if(t=Sf(t),isNaN(l))return{stiffness:Gi.stiffness,damping:Gi.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const bOe=12;function vOe(t,e,n){let i=n;for(let r=1;r<bOe;r++)i=i-t(i)/e(i);return i}function PI(t,e){return t*Math.sqrt(1-e*e)}const xOe=["duration","bounce"],wOe=["stiffness","damping","mass"];function _8(t,e){return e.some(n=>t[n]!==void 0)}function SOe(t){let e={velocity:Gi.velocity,stiffness:Gi.stiffness,damping:Gi.damping,mass:Gi.mass,isResolvedFromDuration:!1,...t};if(!_8(t,wOe)&&_8(t,xOe))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*Nf(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Gi.mass,stiffness:r,damping:s}}else{const n=yOe(t);e={...e,...n,mass:Gi.mass},e.isResolvedFromDuration=!0}return e}function BQ(t=Gi.visualDuration,e=Gi.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:m}=SOe({...n,velocity:-Cf(n.velocity||0)}),v=p||0,S=c/(2*Math.sqrt(l*d)),A=o-s,E=Cf(Math.sqrt(l/d)),M=Math.abs(A)<5;i||(i=M?Gi.restSpeed.granular:Gi.restSpeed.default),r||(r=M?Gi.restDelta.granular:Gi.restDelta.default);let R;if(S<1){const P=PI(E,S);R=O=>{const $=Math.exp(-S*E*O);return o-$*((v+S*E*A)/P*Math.sin(P*O)+A*Math.cos(P*O))}}else if(S===1)R=P=>o-Math.exp(-E*P)*(A+(v+E*A)*P);else{const P=E*Math.sqrt(S*S-1);R=O=>{const $=Math.exp(-S*E*O),F=Math.min(P*O,300);return o-$*((v+S*E*A)*Math.sinh(F)+P*A*Math.cosh(F))/P}}const N={calculatedDuration:m&&h||null,next:P=>{const O=R(P);if(m)a.done=P>=h;else{let $=0;S<1&&($=P===0?Sf(v):zQ(R,P,O));const F=Math.abs($)<=i,q=Math.abs(o-O)<=r;a.done=F&&q}return a.value=a.done?o:O,a},toString:()=>{const P=Math.min(IQ(N),DI),O=uQ($=>N.next(P*$).value,P,30);return P+"ms "+O}};return N}function M8({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},m=F=>a!==void 0&&F<a||l!==void 0&&F>l,v=F=>a===void 0?l:l===void 0||Math.abs(a-F)<Math.abs(l-F)?a:l;let S=n*e;const A=h+S,E=o===void 0?A:o(A);E!==A&&(S=E-h);const M=F=>-S*Math.exp(-F/i),R=F=>E+M(F),N=F=>{const q=M(F),B=R(F);p.done=Math.abs(q)<=c,p.value=p.done?E:B};let P,O;const $=F=>{m(p.value)&&(P=F,O=BQ({keyframes:[p.value,v(p.value)],velocity:zQ(R,F,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:d}))};return $(0),{calculatedDuration:null,next:F=>{let q=!1;return!O&&P===void 0&&(q=!0,N(F),$(F)),P!==void 0&&F>=P?O.next(F-P):(!q&&N(F),p)}}}const COe=yT(.42,0,1,1),AOe=yT(0,0,.58,1),VQ=yT(.42,0,.58,1),EOe=t=>Array.isArray(t)&&typeof t[0]!="number",TOe={linear:Pa,easeIn:COe,easeInOut:VQ,easeOut:AOe,circIn:JB,circInOut:xQ,circOut:vQ,backIn:XB,backInOut:yQ,backOut:gQ,anticipate:bQ},R8=t=>{if(YB(t)){VZ(t.length===4);const[e,n,i,r]=t;return yT(e,n,i,r)}else if(typeof t=="string")return TOe[t];return t};function kOe(t,e,n){const i=[],r=n||$Q,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Pa:e;a=bT(l,a)}i.push(a)}return i}function _Oe(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(VZ(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=kOe(e,i,r),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const p=Hx(t[h],t[h+1],d);return a[h](p)};return n?d=>c(Nf(t[0],t[s-1],d)):c}function MOe(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=Hx(0,e,i);t.push($i(n,1,r))}}function ROe(t){const e=[0];return MOe(e,t.length-1),e}function DOe(t,e){return t.map(n=>n*e)}function NOe(t,e){return t.map(()=>e||VQ).splice(0,t.length-1)}function g2({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=EOe(i)?i.map(R8):R8(i),s={done:!1,value:e[0]},o=DOe(n&&n.length===e.length?n:ROe(e),t),a=_Oe(o,e,{ease:Array.isArray(r)?r:NOe(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const POe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>fi.update(e,!0),stop:()=>$p(e),now:()=>rs.isProcessing?rs.timestamp:Xu.now()}},OOe={decay:M8,inertia:M8,tween:g2,keyframes:g2,spring:BQ},LOe=t=>t/100;class n5 extends jQ{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||e5,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=KB(n)?n:OOe[n]||g2;let l,c;a!==g2&&typeof e[0]!="number"&&(l=bT(LOe,$Q(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=IQ(d));const{calculatedDuration:h}=d,p=h+r,m=p*(i+1)-r;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:F}=this.options;return{done:!0,value:F[F.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=i;if(this.startTime===null)return s.next(0);const{delay:p,repeat:m,repeatType:v,repeatDelay:S,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const E=this.currentTime-p*(this.speed>=0?1:-1),M=this.speed>=0?E<0:E>d;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let R=this.currentTime,N=s;if(m){const F=Math.min(this.currentTime,d)/h;let q=Math.floor(F),B=F%1;!B&&F>=1&&(B=1),B===1&&q--,q=Math.min(q,m+1),!!(q%2)&&(v==="reverse"?(B=1-B,S&&(B-=S/h)):v==="mirror"&&(N=o)),R=Nf(0,1,B)*h}const P=M?{done:!1,value:l[0]}:N.next(R);a&&(P.value=a(P.value));let{done:O}=P;!M&&c!==null&&(O=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return $&&r!==void 0&&(P.value=tN(l,this.options,r)),A&&A(P.value),$&&this.finish(),P}get duration(){const{resolved:e}=this;return e?Cf(e.calculatedDuration):0}get time(){return Cf(this.currentTime)}set time(e){e=Sf(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Cf(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=POe,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const jOe=new Set(["opacity","clipPath","filter","transform"]);function IOe(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=fQ(a,r);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const FOe=WB(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),y2=10,$Oe=2e4;function zOe(t){return KB(t.type)||t.type==="spring"||!dQ(t.ease)}function BOe(t,e){const n=new n5({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let s=0;for(;!i.done&&s<$Oe;)i=n.sample(s),r.push(i.value),s+=y2;return{times:void 0,keyframes:r,duration:s-y2,ease:"linear"}}const HQ={anticipate:bQ,backInOut:yQ,circInOut:xQ};function VOe(t){return t in HQ}class D8 extends jQ{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new LQ(s,(o,a)=>this.onKeyframesResolved(o,a),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&p2()&&VOe(s)&&(s=HQ[s]),zOe(this.options)){const{onComplete:h,onUpdate:p,motionValue:m,element:v,...S}=this.options,A=BOe(e,S);e=A.keyframes,e.length===1&&(e[1]=e[0]),i=A.duration,r=A.times,s=A.ease,o="keyframes"}const d=IOe(a.owner.current,l,e,{...this.options,duration:i,times:r,ease:s});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(g8(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(tN(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:r,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Cf(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Cf(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Sf(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Pa;const{animation:i}=n;g8(i,e)}return Pa}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:p,...m}=this.options,v=new n5({...m,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),S=Sf(this.time);c.setWithVelocity(v.sample(S-y2).value,v.sample(S).value,y2)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return FOe()&&i&&jOe.has(i)&&!l&&!c&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}const HOe={type:"spring",stiffness:500,damping:25,restSpeed:10},UOe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),qOe={type:"keyframes",duration:.8},GOe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WOe=(t,{keyframes:e})=>e.length>2?qOe:d0.has(t)?t.startsWith("scale")?UOe(e[1]):HOe:GOe;function KOe({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const i5=(t,e,n,i={},r,s)=>o=>{const a=HB(i,t)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-Sf(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:r};KOe(a)||(d={...d,...WOe(t,d)}),d.duration&&(d.duration=Sf(d.duration)),d.repeatDelay&&(d.repeatDelay=Sf(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),d.allowFlatten=!a.type&&!a.ease,h&&!s&&e.get()!==void 0){const p=tN(d.keyframes,a);if(p!==void 0)return fi.update(()=>{d.onUpdate(p),d.onComplete()}),new SPe([])}return!s&&D8.supports(d)?new D8(d):new n5(d)};function YOe({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function UQ(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(o=i);const c=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const h in l){const p=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),m=l[h];if(m===void 0||d&&YOe(d,h))continue;const v={delay:n,...HB(o||{},h)};let S=!1;if(window.MotionHandoffAnimation){const E=cQ(t);if(E){const M=window.MotionHandoffAnimation(E,h,fi);M!==null&&(v.startTime=M,S=!0)}}SI(t,h),p.start(i5(h,p,m,t.shouldReduceMotion&&aQ.has(h)?{type:!1}:v,t,S));const A=p.animation;A&&c.push(A)}return a&&Promise.all(c).then(()=>{fi.update(()=>{a&&bPe(t,a)})}),c}function OI(t,e,n={}){var i;const r=yA(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(UQ(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=s;return XOe(t,e,d+c,h,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function XOe(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(JOe).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(OI(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function JOe(t,e){return t.sortNodePosition(e)}function ZOe(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>OI(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=OI(t,e,n);else{const r=typeof e=="function"?yA(t,e,n.custom):e;i=Promise.all(UQ(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function qQ(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const QOe=RB.length;function GQ(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?GQ(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<QOe;n++){const i=RB[n],r=t.props[i];(pA(r)||r===!1)&&(e[i]=r)}return e}const eLe=[...MB].reverse(),tLe=MB.length;function nLe(t){return e=>Promise.all(e.map(({animation:n,options:i})=>ZOe(t,n,i)))}function iLe(t){let e=nLe(t),n=N8(),i=!0;const r=l=>(c,d)=>{var h;const p=yA(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:m,transitionEnd:v,...S}=p;c={...c,...S,...v}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=GQ(t.parent)||{},h=[],p=new Set;let m={},v=1/0;for(let A=0;A<tLe;A++){const E=eLe[A],M=n[E],R=c[E]!==void 0?c[E]:d[E],N=pA(R),P=E===l?M.isActive:null;P===!1&&(v=A);let O=R===d[E]&&R!==c[E]&&N;if(O&&i&&t.manuallyAnimateOnMount&&(O=!1),M.protectedKeys={...m},!M.isActive&&P===null||!R&&!M.prevProp||QD(R)||typeof R=="boolean")continue;const $=rLe(M.prevProp,R);let F=$||E===l&&M.isActive&&!O&&N||A>v&&N,q=!1;const B=Array.isArray(R)?R:[R];let X=B.reduce(r(E),{});P===!1&&(X={});const{prevResolvedValues:Q={}}=M,J={...Q,...X},oe=ee=>{F=!0,p.has(ee)&&(q=!0,p.delete(ee)),M.needsAnimating[ee]=!0;const Z=t.getValue(ee);Z&&(Z.liveStyle=!1)};for(const ee in J){const Z=X[ee],se=Q[ee];if(m.hasOwnProperty(ee))continue;let j=!1;wI(Z)&&wI(se)?j=!qQ(Z,se):j=Z!==se,j?Z!=null?oe(ee):p.add(ee):Z!==void 0&&p.has(ee)?oe(ee):M.protectedKeys[ee]=!0}M.prevProp=R,M.prevResolvedValues=X,M.isActive&&(m={...m,...X}),i&&t.blockInitialAnimation&&(F=!1),F&&(!(O&&$)||q)&&h.push(...B.map(ee=>({animation:ee,options:{type:E}})))}if(p.size){const A={};if(typeof c.initial!="boolean"){const E=yA(t,Array.isArray(c.initial)?c.initial[0]:c.initial);E&&E.transition&&(A.transition=E.transition)}p.forEach(E=>{const M=t.getBaseTarget(E),R=t.getValue(E);R&&(R.liveStyle=!0),A[E]=M??null}),h.push({animation:A})}let S=!!h.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(S=!1),i=!1,S?e(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=N8(),i=!0}}}function rLe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qQ(e,t):!1}function dg(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function N8(){return{animate:dg(!0),whileInView:dg(),whileHover:dg(),whileTap:dg(),whileDrag:dg(),whileFocus:dg(),exit:dg()}}class tm{constructor(e){this.isMounted=!1,this.node=e}update(){}}class sLe extends tm{constructor(e){super(e),e.animationState||(e.animationState=iLe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();QD(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let oLe=0;class aLe extends tm{constructor(){super(...arguments),this.id=oLe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const lLe={animation:{Feature:sLe},exit:{Feature:aLe}},lc={x:!1,y:!1};function WQ(){return lc.x||lc.y}function cLe(t){return t==="x"||t==="y"?lc[t]?null:(lc[t]=!0,()=>{lc[t]=!1}):lc.x||lc.y?null:(lc.x=lc.y=!0,()=>{lc.x=lc.y=!1})}function xA(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const r5=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function vT(t){return{point:{x:t.pageX,y:t.pageY}}}const uLe=t=>e=>r5(e)&&t(e,vT(e));function TC(t,e,n,i){return xA(t,e,uLe(n),i)}function KQ({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function dLe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function fLe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const YQ=1e-4,hLe=1-YQ,pLe=1+YQ,XQ=.01,mLe=0-XQ,gLe=0+XQ;function po(t){return t.max-t.min}function yLe(t,e,n){return Math.abs(t-e)<=n}function P8(t,e,n,i=.5){t.origin=i,t.originPoint=$i(e.min,e.max,t.origin),t.scale=po(n)/po(e),t.translate=$i(n.min,n.max,t.origin)-t.originPoint,(t.scale>=hLe&&t.scale<=pLe||isNaN(t.scale))&&(t.scale=1),(t.translate>=mLe&&t.translate<=gLe||isNaN(t.translate))&&(t.translate=0)}function kC(t,e,n,i){P8(t.x,e.x,n.x,i?i.originX:void 0),P8(t.y,e.y,n.y,i?i.originY:void 0)}function O8(t,e,n){t.min=n.min+e.min,t.max=t.min+po(e)}function bLe(t,e,n){O8(t.x,e.x,n.x),O8(t.y,e.y,n.y)}function L8(t,e,n){t.min=e.min-n.min,t.max=t.min+po(e)}function _C(t,e,n){L8(t.x,e.x,n.x),L8(t.y,e.y,n.y)}const j8=()=>({translate:0,scale:1,origin:0,originPoint:0}),hv=()=>({x:j8(),y:j8()}),I8=()=>({min:0,max:0}),nr=()=>({x:I8(),y:I8()});function cl(t){return[t("x"),t("y")]}function hL(t){return t===void 0||t===1}function LI({scale:t,scaleX:e,scaleY:n}){return!hL(t)||!hL(e)||!hL(n)}function gg(t){return LI(t)||JQ(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function JQ(t){return F8(t.x)||F8(t.y)}function F8(t){return t&&t!=="0%"}function b2(t,e,n){const i=t-n,r=e*i;return n+r}function $8(t,e,n,i,r){return r!==void 0&&(t=b2(t,r,i)),b2(t,n,i)+e}function jI(t,e=0,n=1,i,r){t.min=$8(t.min,e,n,i,r),t.max=$8(t.max,e,n,i,r)}function ZQ(t,{x:e,y:n}){jI(t.x,e.translate,e.scale,e.originPoint),jI(t.y,n.translate,n.scale,n.originPoint)}const z8=.999999999999,B8=1.0000000000001;function vLe(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&mv(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,ZQ(t,o)),i&&gg(s.latestValues)&&mv(t,s.latestValues))}e.x<B8&&e.x>z8&&(e.x=1),e.y<B8&&e.y>z8&&(e.y=1)}function pv(t,e){t.min=t.min+e,t.max=t.max+e}function V8(t,e,n,i,r=.5){const s=$i(t.min,t.max,r);jI(t,e,n,s,i)}function mv(t,e){V8(t.x,e.x,e.scaleX,e.scale,e.originX),V8(t.y,e.y,e.scaleY,e.scale,e.originY)}function QQ(t,e){return KQ(fLe(t.getBoundingClientRect(),e))}function xLe(t,e,n){const i=QQ(t,n),{scroll:r}=e;return r&&(pv(i.x,r.offset.x),pv(i.y,r.offset.y)),i}const eee=({current:t})=>t?t.ownerDocument.defaultView:null,H8=(t,e)=>Math.abs(t-e);function wLe(t,e){const n=H8(t.x,e.x),i=H8(t.y,e.y);return Math.sqrt(n**2+i**2)}class tee{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=mL(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=wLe(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:v}=h,{timestamp:S}=rs;this.history.push({...v,timestamp:S});const{onStart:A,onMove:E}=this.handlers;p||(A&&A(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=pL(p,this.transformPagePoint),fi.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=mL(h.type==="pointercancel"?this.lastMoveEventInfo:pL(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,A),v&&v(h,A)},!r5(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const o=vT(e),a=pL(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=rs;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,mL(a,this.history)),this.removeListeners=bT(TC(this.contextWindow,"pointermove",this.handlePointerMove),TC(this.contextWindow,"pointerup",this.handlePointerUp),TC(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$p(this.updatePoint)}}function pL(t,e){return e?{point:e(t.point)}:t}function U8(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mL({point:t},e){return{point:t,delta:U8(t,nee(e)),offset:U8(t,SLe(e)),velocity:CLe(e,.1)}}function SLe(t){return t[0]}function nee(t){return t[t.length-1]}function CLe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=nee(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Sf(e)));)n--;if(!i)return{x:0,y:0};const s=Cf(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ALe(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?$i(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?$i(n,t,i.max):Math.min(t,n)),t}function q8(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ELe(t,{top:e,left:n,bottom:i,right:r}){return{x:q8(t.x,n,r),y:q8(t.y,e,i)}}function G8(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function TLe(t,e){return{x:G8(t.x,e.x),y:G8(t.y,e.y)}}function kLe(t,e){let n=.5;const i=po(t),r=po(e);return r>i?n=Hx(e.min,e.max-i,t.min):i>r&&(n=Hx(t.min,t.max-r,e.min)),Nf(0,1,n)}function _Le(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const II=.35;function MLe(t=II){return t===!1?t=0:t===!0&&(t=II),{x:W8(t,"left","right"),y:W8(t,"top","bottom")}}function W8(t,e,n){return{min:K8(t,e),max:K8(t,n)}}function K8(t,e){return typeof t=="number"?t:t[e]||0}const RLe=new WeakMap;class DLe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vT(d).point)},s=(d,h)=>{const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cLe(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cl(A=>{let E=this.getAxisMotionValue(A).get()||0;if(Yu.test(E)){const{projection:M}=this.visualElement;if(M&&M.layout){const R=M.layout.layoutBox[A];R&&(E=po(R)*(parseFloat(E)/100))}}this.originPoint[A]=E}),v&&fi.postRender(()=>v(d,h)),SI(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:S}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:A}=h;if(m&&this.currentDirection===null){this.currentDirection=NLe(A),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,A),this.updateAxis("y",h.point,A),this.visualElement.render(),S&&S(d,h)},a=(d,h)=>this.stop(d,h),l=()=>cl(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new tee(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:eee(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&fi.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!fM(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=ALe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&dv(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=ELe(r.layoutBox,n):this.constraints=!1,this.elastic=MLe(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&cl(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=_Le(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!dv(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=xLe(i,r.root,this.visualElement.getTransformPagePoint());let o=TLe(r.layout.layoutBox,s);if(n){const a=n(dLe(o));this.hasMutatedConstraints=!!a,a&&(o=KQ(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=cl(d=>{if(!fM(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return SI(this.visualElement,e),i.start(i5(e,i,0,n,this.visualElement,!1))}stopAnimation(){cl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){cl(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){cl(n=>{const{drag:i}=this.getProps();if(!fM(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-$i(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!dv(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};cl(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=kLe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),cl(o=>{if(!fM(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set($i(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;RLe.set(this.visualElement,this);const e=this.visualElement.current,n=TC(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();dv(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),fi.read(i);const o=xA(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(cl(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=II,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function fM(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function NLe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class PLe extends tm{constructor(e){super(e),this.removeGroupControls=Pa,this.removeListeners=Pa,this.controls=new DLe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pa}unmount(){this.removeGroupControls(),this.removeListeners()}}const Y8=t=>(e,n)=>{t&&fi.postRender(()=>t(e,n))};class OLe extends tm{constructor(){super(...arguments),this.removePointerDownListener=Pa}onPointerDown(e){this.session=new tee(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eee(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:Y8(e),onStart:Y8(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&fi.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=TC(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const HM={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function X8(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const OS={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(At.test(t))t=parseFloat(t);else return t;const n=X8(t,e.target.x),i=X8(t,e.target.y);return`${n}% ${i}%`}},LLe={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=zp.parse(t);if(r.length>5)return i;const s=zp.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=$i(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class jLe extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;HNe(ILe),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),HM.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||fi.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),NB.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iee(t){const[e,n]=xNe(),i=k.useContext(zZ);return b.jsx(jLe,{...t,layoutGroup:i,switchLayoutGroup:k.useContext(KZ),isPresent:e,safeToRemove:n})}const ILe={borderRadius:{...OS,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:OS,borderTopRightRadius:OS,borderBottomLeftRadius:OS,borderBottomRightRadius:OS,boxShadow:LLe};function FLe(t,e,n){const i=Ns(t)?t:bA(t);return i.start(i5("",i,e,n)),i.animation}function $Le(t){return t instanceof SVGElement&&t.tagName!=="svg"}const zLe=(t,e)=>t.depth-e.depth;class BLe{constructor(){this.children=[],this.isDirty=!1}add(e){UB(this.children,e),this.isDirty=!0}remove(e){qB(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zLe),this.isDirty=!1,this.children.forEach(e)}}function VLe(t,e){const n=Xu.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&($p(i),t(s-e))};return fi.read(i,!0),()=>$p(i)}const ree=["TopLeft","TopRight","BottomLeft","BottomRight"],HLe=ree.length,J8=t=>typeof t=="string"?parseFloat(t):t,Z8=t=>typeof t=="number"||At.test(t);function ULe(t,e,n,i,r,s){r?(t.opacity=$i(0,n.opacity!==void 0?n.opacity:1,qLe(i)),t.opacityExit=$i(e.opacity!==void 0?e.opacity:1,0,GLe(i))):s&&(t.opacity=$i(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<HLe;o++){const a=`border${ree[o]}Radius`;let l=Q8(e,a),c=Q8(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Z8(l)===Z8(c)?(t[a]=Math.max($i(J8(l),J8(c),i),0),(Yu.test(c)||Yu.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=$i(e.rotate||0,n.rotate||0,i))}function Q8(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const qLe=see(0,.5,vQ),GLe=see(.5,.95,Pa);function see(t,e,n){return i=>i<t?0:i>e?1:n(Hx(t,e,i))}function eU(t,e){t.min=e.min,t.max=e.max}function sl(t,e){eU(t.x,e.x),eU(t.y,e.y)}function tU(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function nU(t,e,n,i,r){return t-=e,t=b2(t,1/n,i),r!==void 0&&(t=b2(t,1/r,i)),t}function WLe(t,e=0,n=1,i=.5,r,s=t,o=t){if(Yu.test(e)&&(e=parseFloat(e),e=$i(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=$i(s.min,s.max,i);t===s&&(a-=e),t.min=nU(t.min,e,n,a,r),t.max=nU(t.max,e,n,a,r)}function iU(t,e,[n,i,r],s,o){WLe(t,e[n],e[i],e[r],e.scale,s,o)}const KLe=["x","scaleX","originX"],YLe=["y","scaleY","originY"];function rU(t,e,n,i){iU(t.x,e,KLe,n?n.x:void 0,i?i.x:void 0),iU(t.y,e,YLe,n?n.y:void 0,i?i.y:void 0)}function sU(t){return t.translate===0&&t.scale===1}function oee(t){return sU(t.x)&&sU(t.y)}function oU(t,e){return t.min===e.min&&t.max===e.max}function XLe(t,e){return oU(t.x,e.x)&&oU(t.y,e.y)}function aU(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function aee(t,e){return aU(t.x,e.x)&&aU(t.y,e.y)}function lU(t){return po(t.x)/po(t.y)}function cU(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class JLe{constructor(){this.members=[]}add(e){UB(this.members,e),e.scheduleRender()}remove(e){if(qB(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ZLe(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:p,skewX:m,skewY:v}=n;c&&(i=`perspective(${c}px) ${i}`),d&&(i+=`rotate(${d}deg) `),h&&(i+=`rotateX(${h}deg) `),p&&(i+=`rotateY(${p}deg) `),m&&(i+=`skewX(${m}deg) `),v&&(i+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const gL=["","X","Y","Z"],QLe={visibility:"hidden"},uU=1e3;let eje=0;function yL(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function lee(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=cQ(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",fi,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&lee(i)}function cee({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=eje++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ije),this.nodes.forEach(lje),this.nodes.forEach(cje),this.nodes.forEach(rje)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new BLe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new GB),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$Le(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=VLe(p,250),HM.hasAnimatedSinceResize&&(HM.hasAnimatedSinceResize=!1,this.nodes.forEach(fU))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||d.getDefaultTransition()||pje,{onLayoutAnimationStart:A,onLayoutAnimationComplete:E}=d.getProps(),M=!this.targetLayout||!aee(this.targetLayout,v),R=!p&&m;if(this.options.layoutRoot||this.resumeFrom||R||p&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,R);const N={...HB(S,"layout"),onPlay:A,onComplete:E};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else p||fU(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$p(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uje),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lee(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dU);return}this.isUpdating||this.nodes.forEach(oje),this.isUpdating=!1,this.nodes.forEach(aje),this.nodes.forEach(tje),this.nodes.forEach(nje),this.clearAllSnapshots();const a=Xu.now();rs.delta=Nf(0,1e3/60,a-rs.timestamp),rs.timestamp=a,rs.isProcessing=!0,cL.update.process(rs),cL.preRender.process(rs),cL.render.process(rs),rs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,NB.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sje),this.sharedNodes.forEach(dje)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!po(this.snapshot.measuredBox.x)&&!po(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!oee(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||gg(this.latestValues)||d)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),mje(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return nr();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(gje))){const{scroll:d}=this.root;d&&(pv(l.x,d.offset.x),pv(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=nr();if(sl(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&sl(l,o),pv(l.x,h.offset.x),pv(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=nr();sl(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&mv(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),gg(d.latestValues)&&mv(l,d.latestValues)}return gg(this.latestValues)&&mv(l,this.latestValues),l}removeTransform(o){const a=nr();sl(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!gg(c.latestValues))continue;LI(c.latestValues)&&c.updateSnapshot();const d=nr(),h=c.measurePageBox();sl(d,h),rU(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return gg(this.latestValues)&&rU(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=rs.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nr(),this.relativeTargetOrigin=nr(),_C(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),sl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nr(),this.targetWithTransforms=nr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bLe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):sl(this.target,this.layout.layoutBox),ZQ(this.target,this.targetDelta)):sl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nr(),this.relativeTargetOrigin=nr(),_C(this.relativeTargetOrigin,this.target,m.target),sl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||LI(this.parent.latestValues)||JQ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===rs.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;sl(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;vLe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=nr());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tU(this.prevProjectionDelta.x,this.projectionDelta.x),tU(this.prevProjectionDelta.y,this.projectionDelta.y)),kC(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!cU(this.projectionDelta.x,this.prevProjectionDelta.x)||!cU(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hv(),this.projectionDelta=hv(),this.projectionDeltaWithTransform=hv()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=hv();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=nr(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,S=m!==v,A=this.getStack(),E=!A||A.members.length<=1,M=!!(S&&!E&&this.options.crossfade===!0&&!this.path.some(hje));this.animationProgress=0;let R;this.mixTargetDelta=N=>{const P=N/1e3;hU(h.x,o.x,P),hU(h.y,o.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_C(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fje(this.relativeTarget,this.relativeTargetOrigin,p,P),R&&XLe(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=nr()),sl(R,this.relativeTarget)),S&&(this.animationValues=d,ULe(d,c,this.latestValues,P,M,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($p(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fi.update(()=>{HM.hasAnimatedSinceResize=!0,this.currentAnimation=FLe(0,uU,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&uee(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||nr();const h=po(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=po(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}sl(a,l),mv(a,d),kC(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new JLe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&yL("z",o,c,this.animationValues);for(let d=0;d<gL.length;d++)yL(`rotate${gL[d]}`,o,c,this.animationValues),yL(`skew${gL[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return QLe;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=BM(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=BM(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!gg(this.latestValues)&&(S.transform=d?d({},""):"none",this.hasProjected=!1),S}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=ZLe(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in mA){if(p[S]===void 0)continue;const{correct:A,applyTo:E,isCSSVariable:M}=mA[S],R=c.transform==="none"?p[S]:A(p[S],h);if(E){const N=E.length;for(let P=0;P<N;P++)c[E[P]]=R}else M?this.options.visualElement.renderState.vars[S]=R:c[S]=R}return this.options.layoutId&&(c.pointerEvents=h===this?BM(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(dU),this.root.sharedNodes.clear()}}}function tje(t){t.updateLayout()}function nje(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?cl(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],m=po(p);p.min=i[h].min,p.max=p.min+m}):uee(s,n.layoutBox,i)&&cl(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],m=po(i[h]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=hv();kC(a,i,n.layoutBox);const l=hv();o?kC(l,t.applyTransform(r,!0),n.measuredBox):kC(l,i,n.layoutBox);const c=!oee(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const v=nr();_C(v,n.layoutBox,p.layoutBox);const S=nr();_C(S,i,m.layoutBox),aee(v,S)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function ije(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function rje(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sje(t){t.clearSnapshot()}function dU(t){t.clearMeasurements()}function oje(t){t.isLayoutDirty=!1}function aje(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fU(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function lje(t){t.resolveTargetDelta()}function cje(t){t.calcProjection()}function uje(t){t.resetSkewAndRotation()}function dje(t){t.removeLeadSnapshot()}function hU(t,e,n){t.translate=$i(e.translate,0,n),t.scale=$i(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pU(t,e,n,i){t.min=$i(e.min,n.min,i),t.max=$i(e.max,n.max,i)}function fje(t,e,n,i){pU(t.x,e.x,n.x,i),pU(t.y,e.y,n.y,i)}function hje(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const pje={duration:.45,ease:[.4,0,.1,1]},mU=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),gU=mU("applewebkit/")&&!mU("chrome/")?Math.round:Pa;function yU(t){t.min=gU(t.min),t.max=gU(t.max)}function mje(t){yU(t.x),yU(t.y)}function uee(t,e,n){return t==="position"||t==="preserve-aspect"&&!yLe(lU(e),lU(n),.2)}function gje(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const yje=cee({attachResizeListener:(t,e)=>xA(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bL={current:void 0},dee=cee({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!bL.current){const t=new yje({});t.mount(window),t.setOptions({layoutScroll:!0}),bL.current=t}return bL.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),bje={pan:{Feature:OLe},drag:{Feature:PLe,ProjectionNode:dee,MeasureLayout:iee}};function vje(t,e,n){var i;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function fee(t,e){const n=vje(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function bU(t){return!(t.pointerType==="touch"||WQ())}function xje(t,e,n={}){const[i,r,s]=fee(t,n),o=a=>{if(!bU(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=h=>{bU(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,r)};return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}function vU(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&fi.postRender(()=>s(e,vT(e)))}class wje extends tm{mount(){const{current:e}=this.node;e&&(this.unmount=xje(e,(n,i)=>(vU(this.node,i,"Start"),r=>vU(this.node,r,"End"))))}unmount(){}}class Sje extends tm{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bT(xA(this.node.current,"focus",()=>this.onFocus()),xA(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xU(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const hee=(t,e)=>e?t===e?!0:hee(t,e.parentElement):!1,Cje=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Aje(t){return Cje.has(t.tagName)||t.tabIndex!==-1}const XS=new WeakSet;function wU(t){return e=>{e.key==="Enter"&&t(e)}}function vL(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Eje=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=wU(()=>{if(XS.has(n))return;vL(n,"down");const r=wU(()=>{vL(n,"up")}),s=()=>vL(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function SU(t){return r5(t)&&!WQ()}function Tje(t,e,n={}){const[i,r,s]=fee(t,n),o=a=>{const l=a.currentTarget;if(!l||!SU(a)||XS.has(l))return;XS.add(l),xU(a,"set");const c=e(l,a),d=(m,v)=>{l.removeEventListener("pointerup",h),l.removeEventListener("pointercancel",p),xU(m,"release"),!(!SU(m)||!XS.has(l))&&(XS.delete(l),typeof c=="function"&&c(m,{success:v}))},h=m=>{(m.isTrusted?kje(m,l instanceof Element?l.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?d(m,!1):d(m,!(l instanceof Element)||hee(l,m.target))},p=m=>{d(m,!1)};l.addEventListener("pointerup",h,r),l.addEventListener("pointercancel",p,r),l.addEventListener("lostpointercapture",p,r)};return i.forEach(a=>{a=n.useGlobalTarget?window:a;let l=!1;a instanceof HTMLElement&&(l=!0,!Aje(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0)),a.addEventListener("pointerdown",o,r),l&&a.addEventListener("focus",c=>Eje(c,r),r)}),s}function kje(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}function CU(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&fi.postRender(()=>s(e,vT(e)))}class _je extends tm{mount(){const{current:e}=this.node;e&&(this.unmount=Tje(e,(n,i)=>(CU(this.node,i,"Start"),(r,{success:s})=>CU(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const FI=new WeakMap,xL=new WeakMap,Mje=t=>{const e=FI.get(t.target);e&&e(t)},Rje=t=>{t.forEach(Mje)};function Dje({root:t,...e}){const n=t||document;xL.has(n)||xL.set(n,{});const i=xL.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(Rje,{root:t,...e})),i[r]}function Nje(t,e,n){const i=Dje(e);return FI.set(t,n),i.observe(t),()=>{FI.delete(t),i.unobserve(t)}}const Pje={some:0,all:1};class Oje extends tm{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:Pje[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return Nje(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Lje(e,n))&&this.startObserver()}unmount(){}}function Lje({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const jje={inView:{Feature:Oje},tap:{Feature:_je},focus:{Feature:Sje},hover:{Feature:wje}},Ije={layout:{ProjectionNode:dee,MeasureLayout:iee}},$I={current:null},pee={current:!1};function Fje(){if(pee.current=!0,!!_B)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$I.current=t.matches;t.addListener(e),e()}else $I.current=!1}const $je=[...OQ,ks,zp],zje=t=>$je.find(PQ(t)),Bje=new WeakMap;function Vje(t,e,n){for(const i in e){const r=e[i],s=n[i];if(Ns(r))t.addValue(i,r);else if(Ns(s))t.addValue(i,bA(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,bA(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const AU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Hje{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=e5,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Xu.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,fi.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=eN(n),this.isVariantNode=GZ(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in p){const v=p[m];l[m]!==void 0&&Ns(v)&&v.set(l[m],!1)}}mount(e){this.current=e,Bje.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),pee.current||Fje(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$I.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),$p(this.notifyUpdate),$p(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=d0.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&fi.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Vx){const n=Vx[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<AU.length;i++){const r=AU[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=Vje(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=bA(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(DQ(r)||wQ(r))?r=parseFloat(r):!zje(r)&&zp.test(n)&&(r=_Q(e,n)),this.setBaseTarget(e,Ns(r)?r.get():r)),Ns(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=BB(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ns(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new GB),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class mee extends Hje{constructor(){super(...arguments),this.KeyframeResolver=LQ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ns(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Uje(t){return window.getComputedStyle(t)}class qje extends mee{constructor(){super(...arguments),this.type="html",this.renderInstance=iQ}readValueFromInstance(e,n){if(d0.has(n))return KPe(e,n);{const i=Uje(e),r=(PB(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return QQ(e,n)}build(e,n,i){jB(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return VB(e,n,i)}}class Gje extends mee{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nr,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&nQ(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(d0.has(n)){const i=kQ(n);return i&&i.default||0}return n=rQ.has(n)?n:DB(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return oQ(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&fi.postRender(this.updateDimensions)}build(e,n,i){$B(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){sQ(e,n,i,r)}mount(e){this.isSVGTag=zB(e.tagName),super.mount(e)}}const Wje=(t,e)=>FB(t)?new Gje(e):new qje(e,{allowProjection:t!==k.Fragment}),Kje=hPe({...lLe,...jje,...bje,...Ije},Wje),hM=MNe(Kje);function gv(){const t={pulse:{scale:[1,1.5,1],transition:{duration:.5,repeat:1/0,ease:"easeInOut"}}};return b.jsxs(hM.div,{animate:"pulse",transition:{staggerChildren:-.2,staggerDirection:-1},className:"container",children:[b.jsx(hM.div,{className:"dot",variants:t}),b.jsx(hM.div,{className:"dot",variants:t}),b.jsx(hM.div,{className:"dot",variants:t}),b.jsx(Yje,{})]})}function Yje(){return b.jsx("style",{children:`
            .container {
                display: flex;
                gap: 6px;
            }

            .dot {
                width: 4px;
                height: 4px;
                border-radius: 50%;
                background-color: #525252;
                will-change: transform;
            }
            `})}function Xje(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Jje=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Zje=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Qje={};function EU(t,e){return(Qje.jsx?Zje:Jje).test(t)}const eIe=/[ \t\n\f\r]/g;function tIe(t){return typeof t=="object"?t.type==="text"?TU(t.value):!1:TU(t)}function TU(t){return t.replace(eIe,"")===""}class xT{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}xT.prototype.normal={};xT.prototype.property={};xT.prototype.space=void 0;function gee(t,e){const n={},i={};for(const r of t)Object.assign(n,r.property),Object.assign(i,r.normal);return new xT(n,i,e)}function zI(t){return t.toLowerCase()}class Wo{constructor(e,n){this.attribute=n,this.property=e}}Wo.prototype.attribute="";Wo.prototype.booleanish=!1;Wo.prototype.boolean=!1;Wo.prototype.commaOrSpaceSeparated=!1;Wo.prototype.commaSeparated=!1;Wo.prototype.defined=!1;Wo.prototype.mustUseProperty=!1;Wo.prototype.number=!1;Wo.prototype.overloadedBoolean=!1;Wo.prototype.property="";Wo.prototype.spaceSeparated=!1;Wo.prototype.space=void 0;let nIe=0;const Ht=f0(),lr=f0(),yee=f0(),He=f0(),ui=f0(),Sv=f0(),ha=f0();function f0(){return 2**++nIe}const BI=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ht,booleanish:lr,commaOrSpaceSeparated:ha,commaSeparated:Sv,number:He,overloadedBoolean:yee,spaceSeparated:ui},Symbol.toStringTag,{value:"Module"})),wL=Object.keys(BI);class s5 extends Wo{constructor(e,n,i,r){let s=-1;if(super(e,n),kU(this,"space",r),typeof i=="number")for(;++s<wL.length;){const o=wL[s];kU(this,wL[s],(i&BI[o])===BI[o])}}}s5.prototype.defined=!0;function kU(t,e,n){n&&(t[e]=n)}function y1(t){const e={},n={};for(const[i,r]of Object.entries(t.properties)){const s=new s5(i,t.transform(t.attributes||{},i),r,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),e[i]=s,n[zI(i)]=i,n[zI(s.attribute)]=i}return new xT(e,n,t.space)}const bee=y1({properties:{ariaActiveDescendant:null,ariaAtomic:lr,ariaAutoComplete:null,ariaBusy:lr,ariaChecked:lr,ariaColCount:He,ariaColIndex:He,ariaColSpan:He,ariaControls:ui,ariaCurrent:null,ariaDescribedBy:ui,ariaDetails:null,ariaDisabled:lr,ariaDropEffect:ui,ariaErrorMessage:null,ariaExpanded:lr,ariaFlowTo:ui,ariaGrabbed:lr,ariaHasPopup:null,ariaHidden:lr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ui,ariaLevel:He,ariaLive:null,ariaModal:lr,ariaMultiLine:lr,ariaMultiSelectable:lr,ariaOrientation:null,ariaOwns:ui,ariaPlaceholder:null,ariaPosInSet:He,ariaPressed:lr,ariaReadOnly:lr,ariaRelevant:null,ariaRequired:lr,ariaRoleDescription:ui,ariaRowCount:He,ariaRowIndex:He,ariaRowSpan:He,ariaSelected:lr,ariaSetSize:He,ariaSort:null,ariaValueMax:He,ariaValueMin:He,ariaValueNow:He,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function vee(t,e){return e in t?t[e]:e}function xee(t,e){return vee(t,e.toLowerCase())}const iIe=y1({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Sv,acceptCharset:ui,accessKey:ui,action:null,allow:null,allowFullScreen:Ht,allowPaymentRequest:Ht,allowUserMedia:Ht,alt:null,as:null,async:Ht,autoCapitalize:null,autoComplete:ui,autoFocus:Ht,autoPlay:Ht,blocking:ui,capture:null,charSet:null,checked:Ht,cite:null,className:ui,cols:He,colSpan:null,content:null,contentEditable:lr,controls:Ht,controlsList:ui,coords:He|Sv,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ht,defer:Ht,dir:null,dirName:null,disabled:Ht,download:yee,draggable:lr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ht,formTarget:null,headers:ui,height:He,hidden:Ht,high:He,href:null,hrefLang:null,htmlFor:ui,httpEquiv:ui,id:null,imageSizes:null,imageSrcSet:null,inert:Ht,inputMode:null,integrity:null,is:null,isMap:Ht,itemId:null,itemProp:ui,itemRef:ui,itemScope:Ht,itemType:ui,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ht,low:He,manifest:null,max:null,maxLength:He,media:null,method:null,min:null,minLength:He,multiple:Ht,muted:Ht,name:null,nonce:null,noModule:Ht,noValidate:Ht,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ht,optimum:He,pattern:null,ping:ui,placeholder:null,playsInline:Ht,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ht,referrerPolicy:null,rel:ui,required:Ht,reversed:Ht,rows:He,rowSpan:He,sandbox:ui,scope:null,scoped:Ht,seamless:Ht,selected:Ht,shadowRootClonable:Ht,shadowRootDelegatesFocus:Ht,shadowRootMode:null,shape:null,size:He,sizes:null,slot:null,span:He,spellCheck:lr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:He,step:null,style:null,tabIndex:He,target:null,title:null,translate:null,type:null,typeMustMatch:Ht,useMap:null,value:lr,width:He,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ui,axis:null,background:null,bgColor:null,border:He,borderColor:null,bottomMargin:He,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ht,declare:Ht,event:null,face:null,frame:null,frameBorder:null,hSpace:He,leftMargin:He,link:null,longDesc:null,lowSrc:null,marginHeight:He,marginWidth:He,noResize:Ht,noHref:Ht,noShade:Ht,noWrap:Ht,object:null,profile:null,prompt:null,rev:null,rightMargin:He,rules:null,scheme:null,scrolling:lr,standby:null,summary:null,text:null,topMargin:He,valueType:null,version:null,vAlign:null,vLink:null,vSpace:He,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ht,disableRemotePlayback:Ht,prefix:null,property:null,results:He,security:null,unselectable:null},space:"html",transform:xee}),rIe=y1({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ha,accentHeight:He,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:He,amplitude:He,arabicForm:null,ascent:He,attributeName:null,attributeType:null,azimuth:He,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:He,by:null,calcMode:null,capHeight:He,className:ui,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:He,diffuseConstant:He,direction:null,display:null,dur:null,divisor:He,dominantBaseline:null,download:Ht,dx:null,dy:null,edgeMode:null,editable:null,elevation:He,enableBackground:null,end:null,event:null,exponent:He,externalResourcesRequired:null,fill:null,fillOpacity:He,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Sv,g2:Sv,glyphName:Sv,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:He,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:He,horizOriginX:He,horizOriginY:He,id:null,ideographic:He,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:He,k:He,k1:He,k2:He,k3:He,k4:He,kernelMatrix:ha,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:He,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:He,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:He,overlineThickness:He,paintOrder:null,panose1:null,path:null,pathLength:He,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ui,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:He,pointsAtY:He,pointsAtZ:He,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ha,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ha,rev:ha,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ha,requiredFeatures:ha,requiredFonts:ha,requiredFormats:ha,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:He,specularExponent:He,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:He,strikethroughThickness:He,string:null,stroke:null,strokeDashArray:ha,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:He,strokeOpacity:He,strokeWidth:null,style:null,surfaceScale:He,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ha,tabIndex:He,tableValues:null,target:null,targetX:He,targetY:He,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ha,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:He,underlineThickness:He,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:He,values:null,vAlphabetic:He,vMathematical:He,vectorEffect:null,vHanging:He,vIdeographic:He,version:null,vertAdvY:He,vertOriginX:He,vertOriginY:He,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:He,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:vee}),wee=y1({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),See=y1({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:xee}),Cee=y1({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),sIe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},oIe=/[A-Z]/g,_U=/-[a-z]/g,aIe=/^data[-\w.:]+$/i;function lIe(t,e){const n=zI(e);let i=e,r=Wo;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&aIe.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(_U,uIe);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!_U.test(s)){let o=s.replace(oIe,cIe);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}r=s5}return new r(i,e)}function cIe(t){return"-"+t.toLowerCase()}function uIe(t){return t.charAt(1).toUpperCase()}const dIe=gee([bee,iIe,wee,See,Cee],"html"),o5=gee([bee,rIe,wee,See,Cee],"svg");function fIe(t){return t.join(" ").trim()}var Vb={},SL,MU;function hIe(){if(MU)return SL;MU=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,c="/",d="*",h="",p="comment",m="declaration";SL=function(S,A){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];A=A||{};var E=1,M=1;function R(J){var oe=J.match(e);oe&&(E+=oe.length);var ce=J.lastIndexOf(l);M=~ce?J.length-ce:M+J.length}function N(){var J={line:E,column:M};return function(oe){return oe.position=new P(J),F(),oe}}function P(J){this.start=J,this.end={line:E,column:M},this.source=A.source}P.prototype.content=S;function O(J){var oe=new Error(A.source+":"+E+":"+M+": "+J);if(oe.reason=J,oe.filename=A.source,oe.line=E,oe.column=M,oe.source=S,!A.silent)throw oe}function $(J){var oe=J.exec(S);if(oe){var ce=oe[0];return R(ce),S=S.slice(ce.length),oe}}function F(){$(n)}function q(J){var oe;for(J=J||[];oe=B();)oe!==!1&&J.push(oe);return J}function B(){var J=N();if(!(c!=S.charAt(0)||d!=S.charAt(1))){for(var oe=2;h!=S.charAt(oe)&&(d!=S.charAt(oe)||c!=S.charAt(oe+1));)++oe;if(oe+=2,h===S.charAt(oe-1))return O("End of comment missing");var ce=S.slice(2,oe-2);return M+=2,R(ce),S=S.slice(oe),M+=2,J({type:p,comment:ce})}}function X(){var J=N(),oe=$(i);if(oe){if(B(),!$(r))return O("property missing ':'");var ce=$(s),le=J({type:m,property:v(oe[0].replace(t,h)),value:ce?v(ce[0].replace(t,h)):h});return $(o),le}}function Q(){var J=[];q(J);for(var oe;oe=X();)oe!==!1&&(J.push(oe),q(J));return J}return F(),Q()};function v(S){return S?S.replace(a,h):h}return SL}var RU;function pIe(){if(RU)return Vb;RU=1;var t=Vb&&Vb.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Vb,"__esModule",{value:!0}),Vb.default=n;var e=t(hIe());function n(i,r){var s=null;if(!i||typeof i!="string")return s;var o=(0,e.default)(i),a=typeof r=="function";return o.forEach(function(l){if(l.type==="declaration"){var c=l.property,d=l.value;a?r(c,d,l):d&&(s=s||{},s[c]=d)}}),s}return Vb}var LS={},DU;function mIe(){if(DU)return LS;DU=1,Object.defineProperty(LS,"__esModule",{value:!0}),LS.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,s=function(c){return!c||n.test(c)||t.test(c)},o=function(c,d){return d.toUpperCase()},a=function(c,d){return"".concat(d,"-")},l=function(c,d){return d===void 0&&(d={}),s(c)?c:(c=c.toLowerCase(),d.reactCompat?c=c.replace(r,a):c=c.replace(i,a),c.replace(e,o))};return LS.camelCase=l,LS}var jS,NU;function gIe(){if(NU)return jS;NU=1;var t=jS&&jS.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=t(pIe()),n=mIe();function i(r,s){var o={};return!r||typeof r!="string"||(0,e.default)(r,function(a,l){a&&l&&(o[(0,n.camelCase)(a,s)]=l)}),o}return i.default=i,jS=i,jS}var yIe=gIe();const bIe=Gx(yIe),Aee=Eee("end"),a5=Eee("start");function Eee(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function vIe(t){const e=a5(t),n=Aee(t);if(e&&n)return{start:e,end:n}}function MC(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?PU(t.position):"start"in t||"end"in t?PU(t):"line"in t||"column"in t?VI(t):""}function VI(t){return OU(t&&t.line)+":"+OU(t&&t.column)}function PU(t){return VI(t&&t.start)+"-"+VI(t&&t.end)}function OU(t){return t&&typeof t=="number"?t:1}class $s extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let r="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?r=e:!s.cause&&e&&(o=!0,r=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof i=="string"){const l=i.indexOf(":");l===-1?s.ruleId=i:(s.source=i.slice(0,l),s.ruleId=i.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=a?a.line:void 0,this.name=MC(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}$s.prototype.file="";$s.prototype.name="";$s.prototype.reason="";$s.prototype.message="";$s.prototype.stack="";$s.prototype.column=void 0;$s.prototype.line=void 0;$s.prototype.ancestors=void 0;$s.prototype.cause=void 0;$s.prototype.fatal=void 0;$s.prototype.place=void 0;$s.prototype.ruleId=void 0;$s.prototype.source=void 0;const l5={}.hasOwnProperty,xIe=new Map,wIe=/[A-Z]/g,SIe=new Set(["table","tbody","thead","tfoot","tr"]),CIe=new Set(["td","th"]),Tee="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function AIe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=NIe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=DIe(n,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?o5:dIe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=kee(r,t,void 0);return s&&typeof s!="string"?s:r.create(t,r.Fragment,{children:s||void 0},void 0)}function kee(t,e,n){if(e.type==="element")return EIe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return TIe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return _Ie(t,e,n);if(e.type==="mdxjsEsm")return kIe(t,e);if(e.type==="root")return MIe(t,e,n);if(e.type==="text")return RIe(t,e)}function EIe(t,e,n){const i=t.schema;let r=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=o5,t.schema=r),t.ancestors.push(e);const s=Mee(t,e.tagName,!1),o=PIe(t,e);let a=u5(t,e);return SIe.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!tIe(l):!0})),_ee(t,o,s,e),c5(o,a),t.ancestors.pop(),t.schema=i,t.create(e,s,o,n)}function TIe(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}wA(t,e.position)}function kIe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);wA(t,e.position)}function _Ie(t,e,n){const i=t.schema;let r=i;e.name==="svg"&&i.space==="html"&&(r=o5,t.schema=r),t.ancestors.push(e);const s=e.name===null?t.Fragment:Mee(t,e.name,!0),o=OIe(t,e),a=u5(t,e);return _ee(t,o,s,e),c5(o,a),t.ancestors.pop(),t.schema=i,t.create(e,s,o,n)}function MIe(t,e,n){const i={};return c5(i,u5(t,e)),t.create(e,t.Fragment,i,n)}function RIe(t,e){return e.value}function _ee(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function c5(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function DIe(t,e,n){return i;function i(r,s,o,a){const c=Array.isArray(o.children)?n:e;return a?c(s,o,a):c(s,o)}}function NIe(t,e){return n;function n(i,r,s,o){const a=Array.isArray(s.children),l=a5(i);return e(r,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function PIe(t,e){const n={};let i,r;for(r in e.properties)if(r!=="children"&&l5.call(e.properties,r)){const s=LIe(t,r,e.properties[r]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&CIe.has(e.tagName)?i=a:n[o]=a}}if(i){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function OIe(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const s=i.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else wA(t,e.position);else{const r=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const a=i.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else wA(t,e.position);else s=i.value===null?!0:i.value;n[r]=s}return n}function u5(t,e){const n=[];let i=-1;const r=t.passKeys?new Map:xIe;for(;++i<e.children.length;){const s=e.children[i];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=r.get(l)||0;o=l+"-"+c,r.set(l,c+1)}}const a=kee(t,s,o);a!==void 0&&n.push(a)}return n}function LIe(t,e,n){const i=lIe(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?Xje(n):fIe(n)),i.property==="style"){let r=typeof n=="object"?n:jIe(t,String(n));return t.stylePropertyNameCase==="css"&&(r=IIe(r)),["style",r]}return[t.elementAttributeNameCase==="react"&&i.space?sIe[i.property]||i.property:i.attribute,n]}}function jIe(t,e){try{return bIe(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,r=new $s("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=Tee+"#cannot-parse-style-attribute",r}}function Mee(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let s=-1,o;for(;++s<r.length;){const a=EU(r[s])?{type:"Identifier",name:r[s]}:{type:"Literal",value:r[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}i=o}else i=EU(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const r=i.value;return l5.call(t.components,r)?t.components[r]:r}if(t.evaluater)return t.evaluater.evaluateExpression(i);wA(t)}function wA(t,e){const n=new $s("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Tee+"#cannot-handle-mdx-estrees-without-createevaluater",n}function IIe(t){const e={};let n;for(n in t)l5.call(t,n)&&(e[FIe(n)]=t[n]);return e}function FIe(t){let e=t.replace(wIe,$Ie);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function $Ie(t){return"-"+t.toLowerCase()}const CL={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},zIe={};function d5(t,e){const n=zIe,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Ree(t,i,r)}function Ree(t,e,n){if(BIe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return LU(t.children,e,n)}return Array.isArray(t)?LU(t,e,n):""}function LU(t,e,n){const i=[];let r=-1;for(;++r<t.length;)i[r]=Ree(t[r],e,n);return i.join("")}function BIe(t){return!!(t&&typeof t=="object")}const jU=document.createElement("i");function f5(t){const e="&"+t+";";jU.innerHTML=e;const n=jU.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Oa(t,e,n,i){const r=t.length;let s=0,o;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,n=n>0?n:0,i.length<1e4)o=Array.from(i),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<i.length;)o=i.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function yl(t,e){return t.length>0?(Oa(t,t.length,0,e),t):e}const IU={}.hasOwnProperty;function Dee(t){const e={};let n=-1;for(;++n<t.length;)VIe(e,t[n]);return e}function VIe(t,e){let n;for(n in e){const r=(IU.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){IU.call(r,o)||(r[o]=[]);const a=s[o];HIe(r[o],Array.isArray(a)?a:a?[a]:[])}}}function HIe(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);Oa(t,0,0,i)}function Nee(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Nc(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const fo=nm(/[A-Za-z]/),Ps=nm(/[\dA-Za-z]/),UIe=nm(/[#-'*+\--9=?A-Z^-~]/);function v2(t){return t!==null&&(t<32||t===127)}const HI=nm(/\d/),qIe=nm(/[\dA-Fa-f]/),GIe=nm(/[!-/:-@[-`{-~]/);function bt(t){return t!==null&&t<-2}function ti(t){return t!==null&&(t<0||t===32)}function dn(t){return t===-2||t===-1||t===32}const nN=nm(new RegExp("\\p{P}|\\p{S}","u")),Zy=nm(/\s/);function nm(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function b1(t){const e=[];let n=-1,i=0,r=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Ps(t.charCodeAt(n+1))&&Ps(t.charCodeAt(n+2)))r=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),r=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(i,n),encodeURIComponent(o)),i=n+r+1,o=""),r&&(n+=r,r=0)}return e.join("")+t.slice(i)}function Sn(t,e,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return dn(l)?(t.enter(n),a(l)):e(l)}function a(l){return dn(l)&&s++<r?(t.consume(l),a):(t.exit(n),e(l))}}const WIe={tokenize:KIe};function KIe(t){const e=t.attempt(this.parser.constructs.contentInitial,i,r);let n;return e;function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Sn(t,e,"linePrefix")}function r(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return bt(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const YIe={tokenize:XIe},FU={tokenize:JIe};function XIe(t){const e=this,n=[];let i=0,r,s,o;return a;function a(R){if(i<n.length){const N=n[i];return e.containerState=N[1],t.attempt(N[0].continuation,l,c)(R)}return c(R)}function l(R){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&M();const N=e.events.length;let P=N,O;for(;P--;)if(e.events[P][0]==="exit"&&e.events[P][1].type==="chunkFlow"){O=e.events[P][1].end;break}E(i);let $=N;for(;$<e.events.length;)e.events[$][1].end={...O},$++;return Oa(e.events,P+1,0,e.events.slice(N)),e.events.length=$,c(R)}return a(R)}function c(R){if(i===n.length){if(!r)return p(R);if(r.currentConstruct&&r.currentConstruct.concrete)return v(R);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(FU,d,h)(R)}function d(R){return r&&M(),E(i),p(R)}function h(R){return e.parser.lazy[e.now().line]=i!==n.length,o=e.now().offset,v(R)}function p(R){return e.containerState={},t.attempt(FU,m,v)(R)}function m(R){return i++,n.push([e.currentConstruct,e.containerState]),p(R)}function v(R){if(R===null){r&&M(),E(0),t.consume(R);return}return r=r||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),S(R)}function S(R){if(R===null){A(t.exit("chunkFlow"),!0),E(0),t.consume(R);return}return bt(R)?(t.consume(R),A(t.exit("chunkFlow")),i=0,e.interrupt=void 0,a):(t.consume(R),S)}function A(R,N){const P=e.sliceStream(R);if(N&&P.push(null),R.previous=s,s&&(s.next=R),s=R,r.defineSkip(R.start),r.write(P),e.parser.lazy[R.start.line]){let O=r.events.length;for(;O--;)if(r.events[O][1].start.offset<o&&(!r.events[O][1].end||r.events[O][1].end.offset>o))return;const $=e.events.length;let F=$,q,B;for(;F--;)if(e.events[F][0]==="exit"&&e.events[F][1].type==="chunkFlow"){if(q){B=e.events[F][1].end;break}q=!0}for(E(i),O=$;O<e.events.length;)e.events[O][1].end={...B},O++;Oa(e.events,F+1,0,e.events.slice($)),e.events.length=O}}function E(R){let N=n.length;for(;N-- >R;){const P=n[N];e.containerState=P[1],P[0].exit.call(e,t)}n.length=R}function M(){r.write([null]),s=void 0,r=void 0,e.containerState._closeFlow=void 0}}function JIe(t,e,n){return Sn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function qx(t){if(t===null||ti(t)||Zy(t))return 1;if(nN(t))return 2}function iN(t,e,n){const i=[];let r=-1;for(;++r<t.length;){const s=t[r].resolveAll;s&&!i.includes(s)&&(e=s(e,n),i.push(s))}return e}const UI={name:"attention",resolveAll:ZIe,tokenize:QIe};function ZIe(t,e){let n=-1,i,r,s,o,a,l,c,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h={...t[i][1].end},p={...t[n][1].start};$U(h,-l),$U(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...t[i][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:p},s={type:l>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},r={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[i][1].end={...o.start},t[n][1].start={...a.end},c=[],t[i][1].end.offset-t[i][1].start.offset&&(c=yl(c,[["enter",t[i][1],e],["exit",t[i][1],e]])),c=yl(c,[["enter",r,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=yl(c,iN(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),c=yl(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",r,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,c=yl(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,Oa(t,i-1,n-i+3,c),n=i+c.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function QIe(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=qx(i);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),d=qx(l),h=!d||d===2&&r||n.includes(l),p=!r||r===2&&d||n.includes(i);return c._open=!!(s===42?h:h&&(r||!p)),c._close=!!(s===42?p:p&&(d||!h)),e(l)}}function $U(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const eFe={name:"autolink",tokenize:tFe};function tFe(t,e,n){let i=0;return r;function r(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(m){return fo(m)?(t.consume(m),o):m===64?n(m):c(m)}function o(m){return m===43||m===45||m===46||Ps(m)?(i=1,a(m)):c(m)}function a(m){return m===58?(t.consume(m),i=0,l):(m===43||m===45||m===46||Ps(m))&&i++<32?(t.consume(m),a):(i=0,c(m))}function l(m){return m===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):m===null||m===32||m===60||v2(m)?n(m):(t.consume(m),l)}function c(m){return m===64?(t.consume(m),d):UIe(m)?(t.consume(m),c):n(m)}function d(m){return Ps(m)?h(m):n(m)}function h(m){return m===46?(t.consume(m),i=0,d):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):p(m)}function p(m){if((m===45||Ps(m))&&i++<63){const v=m===45?p:h;return t.consume(m),v}return n(m)}}const wT={partial:!0,tokenize:nFe};function nFe(t,e,n){return i;function i(s){return dn(s)?Sn(t,r,"linePrefix")(s):r(s)}function r(s){return s===null||bt(s)?e(s):n(s)}}const Pee={continuation:{tokenize:rFe},exit:sFe,name:"blockQuote",tokenize:iFe};function iFe(t,e,n){const i=this;return r;function r(o){if(o===62){const a=i.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return dn(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function rFe(t,e,n){const i=this;return r;function r(o){return dn(o)?Sn(t,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(Pee,e,n)(o)}}function sFe(t){t.exit("blockQuote")}const Oee={name:"characterEscape",tokenize:oFe};function oFe(t,e,n){return i;function i(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),r}function r(s){return GIe(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const Lee={name:"characterReference",tokenize:aFe};function aFe(t,e,n){const i=this;let r=0,s,o;return a;function a(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=Ps,d(h))}function c(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=qIe,d):(t.enter("characterReferenceValue"),s=7,o=HI,d(h))}function d(h){if(h===59&&r){const p=t.exit("characterReferenceValue");return o===Ps&&!f5(i.sliceSerialize(p))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(h)&&r++<s?(t.consume(h),d):n(h)}}const zU={partial:!0,tokenize:cFe},BU={concrete:!0,name:"codeFenced",tokenize:lFe};function lFe(t,e,n){const i=this,r={partial:!0,tokenize:P};let s=0,o=0,a;return l;function l(O){return c(O)}function c(O){const $=i.events[i.events.length-1];return s=$&&$[1].type==="linePrefix"?$[2].sliceSerialize($[1],!0).length:0,a=O,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(O)}function d(O){return O===a?(o++,t.consume(O),d):o<3?n(O):(t.exit("codeFencedFenceSequence"),dn(O)?Sn(t,h,"whitespace")(O):h(O))}function h(O){return O===null||bt(O)?(t.exit("codeFencedFence"),i.interrupt?e(O):t.check(zU,S,N)(O)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(O))}function p(O){return O===null||bt(O)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(O)):dn(O)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Sn(t,m,"whitespace")(O)):O===96&&O===a?n(O):(t.consume(O),p)}function m(O){return O===null||bt(O)?h(O):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(O))}function v(O){return O===null||bt(O)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(O)):O===96&&O===a?n(O):(t.consume(O),v)}function S(O){return t.attempt(r,N,A)(O)}function A(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),E}function E(O){return s>0&&dn(O)?Sn(t,M,"linePrefix",s+1)(O):M(O)}function M(O){return O===null||bt(O)?t.check(zU,S,N)(O):(t.enter("codeFlowValue"),R(O))}function R(O){return O===null||bt(O)?(t.exit("codeFlowValue"),M(O)):(t.consume(O),R)}function N(O){return t.exit("codeFenced"),e(O)}function P(O,$,F){let q=0;return B;function B(ce){return O.enter("lineEnding"),O.consume(ce),O.exit("lineEnding"),X}function X(ce){return O.enter("codeFencedFence"),dn(ce)?Sn(O,Q,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ce):Q(ce)}function Q(ce){return ce===a?(O.enter("codeFencedFenceSequence"),J(ce)):F(ce)}function J(ce){return ce===a?(q++,O.consume(ce),J):q>=o?(O.exit("codeFencedFenceSequence"),dn(ce)?Sn(O,oe,"whitespace")(ce):oe(ce)):F(ce)}function oe(ce){return ce===null||bt(ce)?(O.exit("codeFencedFence"),$(ce)):F(ce)}}}function cFe(t,e,n){const i=this;return r;function r(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return i.parser.lazy[i.now().line]?n(o):e(o)}}const AL={name:"codeIndented",tokenize:dFe},uFe={partial:!0,tokenize:fFe};function dFe(t,e,n){const i=this;return r;function r(c){return t.enter("codeIndented"),Sn(t,s,"linePrefix",5)(c)}function s(c){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):bt(c)?t.attempt(uFe,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||bt(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function fFe(t,e,n){const i=this;return r;function r(o){return i.parser.lazy[i.now().line]?n(o):bt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),r):Sn(t,s,"linePrefix",5)(o)}function s(o){const a=i.events[i.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):bt(o)?r(o):n(o)}}const hFe={name:"codeText",previous:mFe,resolve:pFe,tokenize:gFe};function pFe(t){let e=t.length-4,n=3,i,r;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)r===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(r=i):(i===e||t[i][1].type==="lineEnding")&&(t[r][1].type="codeTextData",i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return t}function mFe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function gFe(t,e,n){let i=0,r,s;return o;function o(h){return t.enter("codeText"),t.enter("codeTextSequence"),a(h)}function a(h){return h===96?(t.consume(h),i++,a):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):h===96?(s=t.enter("codeTextSequence"),r=0,d(h)):bt(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||bt(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),c)}function d(h){return h===96?(t.consume(h),r++,d):r===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(s.type="codeTextData",c(h))}}class yFe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const r=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&IS(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),IS(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),IS(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);IS(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);IS(this.left,n.reverse())}}}function IS(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function jee(t){const e={};let n=-1,i,r,s,o,a,l,c;const d=new yFe(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(i=d.get(n),n&&i[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=i[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,bFe(d,n)),n=e[n],c=!0);else if(i[1]._container){for(s=n,r=void 0;s--;)if(o=d.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(r&&(d.get(r)[1].type="lineEndingBlank"),o[1].type="lineEnding",r=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;r&&(i[1].end={...d.get(r)[1].start},a=d.slice(r,n),a.unshift(i),d.splice(r,n-r+1,a))}}return Oa(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function bFe(t,e){const n=t.get(e)[1],i=t.get(e)[2];let r=e-1;const s=[];let o=n._tokenizer;o||(o=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let d,h,p=-1,m=n,v=0,S=0;const A=[S];for(;m;){for(;t.get(++r)[1]!==m;);s.push(r),m._tokenizer||(d=i.sliceStream(m),m.next||d.push(null),h&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(S=p+1,A.push(S),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):A.pop(),p=A.length;p--;){const E=a.slice(A[p],A[p+1]),M=s.pop();l.push([M,M+E.length-1]),t.splice(M,2,E)}for(l.reverse(),p=-1;++p<l.length;)c[v+l[p][0]]=v+l[p][1],v+=l[p][1]-l[p][0]-1;return c}const vFe={resolve:wFe,tokenize:SFe},xFe={partial:!0,tokenize:CFe};function wFe(t){return jee(t),t}function SFe(t,e){let n;return i;function i(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),r(a)}function r(a){return a===null?s(a):bt(a)?t.check(xFe,o,s)(a):(t.consume(a),r)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function CFe(t,e,n){const i=this;return r;function r(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Sn(t,s,"linePrefix")}function s(o){if(o===null||bt(o))return n(o);const a=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(i.parser.constructs.flow,n,e)(o)}}function Iee(t,e,n,i,r,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(E){return E===60?(t.enter(i),t.enter(r),t.enter(s),t.consume(E),t.exit(s),p):E===null||E===32||E===41||v2(E)?n(E):(t.enter(i),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),S(E))}function p(E){return E===62?(t.enter(s),t.consume(E),t.exit(s),t.exit(r),t.exit(i),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===62?(t.exit("chunkString"),t.exit(a),p(E)):E===null||E===60||bt(E)?n(E):(t.consume(E),E===92?v:m)}function v(E){return E===60||E===62||E===92?(t.consume(E),m):m(E)}function S(E){return!d&&(E===null||E===41||ti(E))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(i),e(E)):d<c&&E===40?(t.consume(E),d++,S):E===41?(t.consume(E),d--,S):E===null||E===32||E===40||v2(E)?n(E):(t.consume(E),E===92?A:S)}function A(E){return E===40||E===41||E===92?(t.consume(E),S):S(E)}}function Fee(t,e,n,i,r,s){const o=this;let a=0,l;return c;function c(m){return t.enter(i),t.enter(r),t.consume(m),t.exit(r),t.enter(s),d}function d(m){return a>999||m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(t.exit(s),t.enter(r),t.consume(m),t.exit(r),t.exit(i),e):bt(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||bt(m)||a++>999?(t.exit("chunkString"),d(m)):(t.consume(m),l||(l=!dn(m)),m===92?p:h)}function p(m){return m===91||m===92||m===93?(t.consume(m),a++,h):h(m)}}function $ee(t,e,n,i,r,s){let o;return a;function a(p){return p===34||p===39||p===40?(t.enter(i),t.enter(r),t.consume(p),t.exit(r),o=p===40?41:p,l):n(p)}function l(p){return p===o?(t.enter(r),t.consume(p),t.exit(r),t.exit(i),e):(t.enter(s),c(p))}function c(p){return p===o?(t.exit(s),l(o)):p===null?n(p):bt(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),Sn(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||bt(p)?(t.exit("chunkString"),c(p)):(t.consume(p),p===92?h:d)}function h(p){return p===o||p===92?(t.consume(p),d):d(p)}}function RC(t,e){let n;return i;function i(r){return bt(r)?(t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),n=!0,i):dn(r)?Sn(t,i,n?"linePrefix":"lineSuffix")(r):e(r)}}const AFe={name:"definition",tokenize:TFe},EFe={partial:!0,tokenize:kFe};function TFe(t,e,n){const i=this;let r;return s;function s(m){return t.enter("definition"),o(m)}function o(m){return Fee.call(i,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return r=Nc(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),l):n(m)}function l(m){return ti(m)?RC(t,c)(m):c(m)}function c(m){return Iee(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return t.attempt(EFe,h,h)(m)}function h(m){return dn(m)?Sn(t,p,"whitespace")(m):p(m)}function p(m){return m===null||bt(m)?(t.exit("definition"),i.parser.defined.push(r),e(m)):n(m)}}function kFe(t,e,n){return i;function i(a){return ti(a)?RC(t,r)(a):n(a)}function r(a){return $ee(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return dn(a)?Sn(t,o,"whitespace")(a):o(a)}function o(a){return a===null||bt(a)?e(a):n(a)}}const _Fe={name:"hardBreakEscape",tokenize:MFe};function MFe(t,e,n){return i;function i(s){return t.enter("hardBreakEscape"),t.consume(s),r}function r(s){return bt(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const RFe={name:"headingAtx",resolve:DFe,tokenize:NFe};function DFe(t,e){let n=t.length-2,i=3,r,s;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(r={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},s={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},Oa(t,i,n-i+1,[["enter",r,e],["enter",s,e],["exit",s,e],["exit",r,e]])),t}function NFe(t,e,n){let i=0;return r;function r(d){return t.enter("atxHeading"),s(d)}function s(d){return t.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&i++<6?(t.consume(d),o):d===null||ti(d)?(t.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(t.enter("atxHeadingSequence"),l(d)):d===null||bt(d)?(t.exit("atxHeading"),e(d)):dn(d)?Sn(t,a,"whitespace")(d):(t.enter("atxHeadingText"),c(d))}function l(d){return d===35?(t.consume(d),l):(t.exit("atxHeadingSequence"),a(d))}function c(d){return d===null||d===35||ti(d)?(t.exit("atxHeadingText"),a(d)):(t.consume(d),c)}}const PFe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],VU=["pre","script","style","textarea"],OFe={concrete:!0,name:"htmlFlow",resolveTo:IFe,tokenize:FFe},LFe={partial:!0,tokenize:zFe},jFe={partial:!0,tokenize:$Fe};function IFe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function FFe(t,e,n){const i=this;let r,s,o,a,l;return c;function c(U){return d(U)}function d(U){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(U),h}function h(U){return U===33?(t.consume(U),p):U===47?(t.consume(U),s=!0,S):U===63?(t.consume(U),r=3,i.interrupt?e:j):fo(U)?(t.consume(U),o=String.fromCharCode(U),A):n(U)}function p(U){return U===45?(t.consume(U),r=2,m):U===91?(t.consume(U),r=5,a=0,v):fo(U)?(t.consume(U),r=4,i.interrupt?e:j):n(U)}function m(U){return U===45?(t.consume(U),i.interrupt?e:j):n(U)}function v(U){const ve="CDATA[";return U===ve.charCodeAt(a++)?(t.consume(U),a===ve.length?i.interrupt?e:Q:v):n(U)}function S(U){return fo(U)?(t.consume(U),o=String.fromCharCode(U),A):n(U)}function A(U){if(U===null||U===47||U===62||ti(U)){const ve=U===47,ke=o.toLowerCase();return!ve&&!s&&VU.includes(ke)?(r=1,i.interrupt?e(U):Q(U)):PFe.includes(o.toLowerCase())?(r=6,ve?(t.consume(U),E):i.interrupt?e(U):Q(U)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(U):s?M(U):R(U))}return U===45||Ps(U)?(t.consume(U),o+=String.fromCharCode(U),A):n(U)}function E(U){return U===62?(t.consume(U),i.interrupt?e:Q):n(U)}function M(U){return dn(U)?(t.consume(U),M):B(U)}function R(U){return U===47?(t.consume(U),B):U===58||U===95||fo(U)?(t.consume(U),N):dn(U)?(t.consume(U),R):B(U)}function N(U){return U===45||U===46||U===58||U===95||Ps(U)?(t.consume(U),N):P(U)}function P(U){return U===61?(t.consume(U),O):dn(U)?(t.consume(U),P):R(U)}function O(U){return U===null||U===60||U===61||U===62||U===96?n(U):U===34||U===39?(t.consume(U),l=U,$):dn(U)?(t.consume(U),O):F(U)}function $(U){return U===l?(t.consume(U),l=null,q):U===null||bt(U)?n(U):(t.consume(U),$)}function F(U){return U===null||U===34||U===39||U===47||U===60||U===61||U===62||U===96||ti(U)?P(U):(t.consume(U),F)}function q(U){return U===47||U===62||dn(U)?R(U):n(U)}function B(U){return U===62?(t.consume(U),X):n(U)}function X(U){return U===null||bt(U)?Q(U):dn(U)?(t.consume(U),X):n(U)}function Q(U){return U===45&&r===2?(t.consume(U),le):U===60&&r===1?(t.consume(U),ee):U===62&&r===4?(t.consume(U),te):U===63&&r===3?(t.consume(U),j):U===93&&r===5?(t.consume(U),se):bt(U)&&(r===6||r===7)?(t.exit("htmlFlowData"),t.check(LFe,ae,J)(U)):U===null||bt(U)?(t.exit("htmlFlowData"),J(U)):(t.consume(U),Q)}function J(U){return t.check(jFe,oe,ae)(U)}function oe(U){return t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),ce}function ce(U){return U===null||bt(U)?J(U):(t.enter("htmlFlowData"),Q(U))}function le(U){return U===45?(t.consume(U),j):Q(U)}function ee(U){return U===47?(t.consume(U),o="",Z):Q(U)}function Z(U){if(U===62){const ve=o.toLowerCase();return VU.includes(ve)?(t.consume(U),te):Q(U)}return fo(U)&&o.length<8?(t.consume(U),o+=String.fromCharCode(U),Z):Q(U)}function se(U){return U===93?(t.consume(U),j):Q(U)}function j(U){return U===62?(t.consume(U),te):U===45&&r===2?(t.consume(U),j):Q(U)}function te(U){return U===null||bt(U)?(t.exit("htmlFlowData"),ae(U)):(t.consume(U),te)}function ae(U){return t.exit("htmlFlow"),e(U)}}function $Fe(t,e,n){const i=this;return r;function r(o){return bt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return i.parser.lazy[i.now().line]?n(o):e(o)}}function zFe(t,e,n){return i;function i(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),t.attempt(wT,e,n)}}const BFe={name:"htmlText",tokenize:VFe};function VFe(t,e,n){const i=this;let r,s,o;return a;function a(j){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(j),l}function l(j){return j===33?(t.consume(j),c):j===47?(t.consume(j),P):j===63?(t.consume(j),R):fo(j)?(t.consume(j),F):n(j)}function c(j){return j===45?(t.consume(j),d):j===91?(t.consume(j),s=0,v):fo(j)?(t.consume(j),M):n(j)}function d(j){return j===45?(t.consume(j),m):n(j)}function h(j){return j===null?n(j):j===45?(t.consume(j),p):bt(j)?(o=h,ee(j)):(t.consume(j),h)}function p(j){return j===45?(t.consume(j),m):h(j)}function m(j){return j===62?le(j):j===45?p(j):h(j)}function v(j){const te="CDATA[";return j===te.charCodeAt(s++)?(t.consume(j),s===te.length?S:v):n(j)}function S(j){return j===null?n(j):j===93?(t.consume(j),A):bt(j)?(o=S,ee(j)):(t.consume(j),S)}function A(j){return j===93?(t.consume(j),E):S(j)}function E(j){return j===62?le(j):j===93?(t.consume(j),E):S(j)}function M(j){return j===null||j===62?le(j):bt(j)?(o=M,ee(j)):(t.consume(j),M)}function R(j){return j===null?n(j):j===63?(t.consume(j),N):bt(j)?(o=R,ee(j)):(t.consume(j),R)}function N(j){return j===62?le(j):R(j)}function P(j){return fo(j)?(t.consume(j),O):n(j)}function O(j){return j===45||Ps(j)?(t.consume(j),O):$(j)}function $(j){return bt(j)?(o=$,ee(j)):dn(j)?(t.consume(j),$):le(j)}function F(j){return j===45||Ps(j)?(t.consume(j),F):j===47||j===62||ti(j)?q(j):n(j)}function q(j){return j===47?(t.consume(j),le):j===58||j===95||fo(j)?(t.consume(j),B):bt(j)?(o=q,ee(j)):dn(j)?(t.consume(j),q):le(j)}function B(j){return j===45||j===46||j===58||j===95||Ps(j)?(t.consume(j),B):X(j)}function X(j){return j===61?(t.consume(j),Q):bt(j)?(o=X,ee(j)):dn(j)?(t.consume(j),X):q(j)}function Q(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),r=j,J):bt(j)?(o=Q,ee(j)):dn(j)?(t.consume(j),Q):(t.consume(j),oe)}function J(j){return j===r?(t.consume(j),r=void 0,ce):j===null?n(j):bt(j)?(o=J,ee(j)):(t.consume(j),J)}function oe(j){return j===null||j===34||j===39||j===60||j===61||j===96?n(j):j===47||j===62||ti(j)?q(j):(t.consume(j),oe)}function ce(j){return j===47||j===62||ti(j)?q(j):n(j)}function le(j){return j===62?(t.consume(j),t.exit("htmlTextData"),t.exit("htmlText"),e):n(j)}function ee(j){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),Z}function Z(j){return dn(j)?Sn(t,se,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):se(j)}function se(j){return t.enter("htmlTextData"),o(j)}}const h5={name:"labelEnd",resolveAll:GFe,resolveTo:WFe,tokenize:KFe},HFe={tokenize:YFe},UFe={tokenize:XFe},qFe={tokenize:JFe};function GFe(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",e+=r}}return t.length!==n.length&&Oa(t,0,t.length,n),t}function WFe(t,e){let n=t.length,i=0,r,s,o,a;for(;n--;)if(r=t[n][1],s){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;t[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(s=n,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},d={type:"labelText",start:{...t[s+i+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",c,e]],a=yl(a,t.slice(s+1,s+i+3)),a=yl(a,[["enter",d,e]]),a=yl(a,iN(e.parser.constructs.insideSpan.null,t.slice(s+i+4,o-3),e)),a=yl(a,[["exit",d,e],t[o-2],t[o-1],["exit",c,e]]),a=yl(a,t.slice(o+1)),a=yl(a,[["exit",l,e]]),Oa(t,s,t.length,a),t}function KFe(t,e,n){const i=this;let r=i.events.length,s,o;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){s=i.events[r][1];break}return a;function a(p){return s?s._inactive?h(p):(o=i.parser.defined.includes(Nc(i.sliceSerialize({start:s.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),l):n(p)}function l(p){return p===40?t.attempt(HFe,d,o?d:h)(p):p===91?t.attempt(UFe,d,o?c:h)(p):o?d(p):h(p)}function c(p){return t.attempt(qFe,d,h)(p)}function d(p){return e(p)}function h(p){return s._balanced=!0,n(p)}}function YFe(t,e,n){return i;function i(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),r}function r(h){return ti(h)?RC(t,s)(h):s(h)}function s(h){return h===41?d(h):Iee(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return ti(h)?RC(t,l)(h):d(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?$ee(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function c(h){return ti(h)?RC(t,d)(h):d(h)}function d(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function XFe(t,e,n){const i=this;return r;function r(a){return Fee.call(i,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return i.parser.defined.includes(Nc(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function JFe(t,e,n){return i;function i(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),r}function r(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const ZFe={name:"labelStartImage",resolveAll:h5.resolveAll,tokenize:QFe};function QFe(t,e,n){const i=this;return r;function r(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(a):e(a)}}const e$e={name:"labelStartLink",resolveAll:h5.resolveAll,tokenize:t$e};function t$e(t,e,n){const i=this;return r;function r(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(o):e(o)}}const EL={name:"lineEnding",tokenize:n$e};function n$e(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),Sn(t,e,"linePrefix")}}const UM={name:"thematicBreak",tokenize:i$e};function i$e(t,e,n){let i=0,r;return s;function s(c){return t.enter("thematicBreak"),o(c)}function o(c){return r=c,a(c)}function a(c){return c===r?(t.enter("thematicBreakSequence"),l(c)):i>=3&&(c===null||bt(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===r?(t.consume(c),i++,l):(t.exit("thematicBreakSequence"),dn(c)?Sn(t,a,"whitespace")(c):a(c))}}const Lo={continuation:{tokenize:a$e},exit:c$e,name:"list",tokenize:o$e},r$e={partial:!0,tokenize:u$e},s$e={partial:!0,tokenize:l$e};function o$e(t,e,n){const i=this,r=i.events[i.events.length-1];let s=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,o=0;return a;function a(m){const v=i.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!i.containerState.marker||m===i.containerState.marker:HI(m)){if(i.containerState.type||(i.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(UM,n,c)(m):c(m);if(!i.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(m)}return n(m)}function l(m){return HI(m)&&++o<10?(t.consume(m),l):(!i.interrupt||o<2)&&(i.containerState.marker?m===i.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),c(m)):n(m)}function c(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||m,t.check(wT,i.interrupt?n:d,t.attempt(r$e,p,h))}function d(m){return i.containerState.initialBlankLine=!0,s++,p(m)}function h(m){return dn(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return i.containerState.size=s+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function a$e(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(wT,r,s);function r(a){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Sn(t,e,"listItemIndent",i.containerState.size+1)(a)}function s(a){return i.containerState.furtherBlankLines||!dn(a)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,o(a)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(s$e,e,o)(a))}function o(a){return i.containerState._closeFlow=!0,i.interrupt=void 0,Sn(t,t.attempt(Lo,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function l$e(t,e,n){const i=this;return Sn(t,r,"listItemIndent",i.containerState.size+1);function r(s){const o=i.events[i.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===i.containerState.size?e(s):n(s)}}function c$e(t){t.exit(this.containerState.type)}function u$e(t,e,n){const i=this;return Sn(t,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(s){const o=i.events[i.events.length-1];return!dn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const HU={name:"setextUnderline",resolveTo:d$e,tokenize:f$e};function d$e(t,e){let n=t.length,i,r,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(r=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[r][1].type="setextHeadingText",s?(t.splice(r,0,["enter",o,e]),t.splice(s+1,0,["exit",t[i][1],e]),t[i][1].end={...t[s][1].end}):t[i][1]=o,t.push(["exit",o,e]),t}function f$e(t,e,n){const i=this;let r;return s;function s(c){let d=i.events.length,h;for(;d--;)if(i.events[d][1].type!=="lineEnding"&&i.events[d][1].type!=="linePrefix"&&i.events[d][1].type!=="content"){h=i.events[d][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||h)?(t.enter("setextHeadingLine"),r=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===r?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),dn(c)?Sn(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||bt(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const h$e={tokenize:p$e};function p$e(t){const e=this,n=t.attempt(wT,i,t.attempt(this.parser.constructs.flowInitial,r,Sn(t,t.attempt(this.parser.constructs.flow,r,t.attempt(vFe,r)),"linePrefix")));return n;function i(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function r(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const m$e={resolveAll:Bee()},g$e=zee("string"),y$e=zee("text");function zee(t){return{resolveAll:Bee(t==="text"?b$e:void 0),tokenize:e};function e(n){const i=this,r=this.parser.constructs[t],s=n.attempt(r,o,a);return o;function o(d){return c(d)?s(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),s(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const h=r[d];let p=-1;if(h)for(;++p<h.length;){const m=h[p];if(!m.previous||m.previous.call(i,i.previous))return!0}return!1}}}function Bee(t){return e;function e(n,i){let r=-1,s;for(;++r<=n.length;)s===void 0?n[r]&&n[r][1].type==="data"&&(s=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==s+2&&(n[s][1].end=n[r-1][1].end,n.splice(s+2,r-s-2),r=s+2),s=void 0);return t?t(n,i):n}}function b$e(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],r=e.sliceStream(i);let s=r.length,o=-1,a=0,l;for(;s--;){const c=r[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:i.start._bufferIndex+o,_index:i.start._index+s,line:i.end.line,column:i.end.column-a,offset:i.end.offset-a},end:{...i.end}};i.end={...c.start},i.start.offset===i.end.offset?Object.assign(i,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const v$e={42:Lo,43:Lo,45:Lo,48:Lo,49:Lo,50:Lo,51:Lo,52:Lo,53:Lo,54:Lo,55:Lo,56:Lo,57:Lo,62:Pee},x$e={91:AFe},w$e={[-2]:AL,[-1]:AL,32:AL},S$e={35:RFe,42:UM,45:[HU,UM],60:OFe,61:HU,95:UM,96:BU,126:BU},C$e={38:Lee,92:Oee},A$e={[-5]:EL,[-4]:EL,[-3]:EL,33:ZFe,38:Lee,42:UI,60:[eFe,BFe],91:e$e,92:[_Fe,Oee],93:h5,95:UI,96:hFe},E$e={null:[UI,m$e]},T$e={null:[42,95]},k$e={null:[]},_$e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:T$e,contentInitial:x$e,disable:k$e,document:v$e,flow:S$e,flowInitial:w$e,insideSpan:E$e,string:C$e,text:A$e},Symbol.toStringTag,{value:"Module"}));function M$e(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},s=[];let o=[],a=[];const l={attempt:$(P),check:$(O),consume:M,enter:R,exit:N,interrupt:$(O,{interrupt:!0})},c={code:null,containerState:{},defineSkip:S,events:[],now:v,parser:t,previous:null,sliceSerialize:p,sliceStream:m,write:h};let d=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function h(X){return o=yl(o,X),A(),o[o.length-1]!==null?[]:(F(e,0),c.events=iN(s,c.events,c),c.events)}function p(X,Q){return D$e(m(X),Q)}function m(X){return R$e(o,X)}function v(){const{_bufferIndex:X,_index:Q,line:J,column:oe,offset:ce}=i;return{_bufferIndex:X,_index:Q,line:J,column:oe,offset:ce}}function S(X){r[X.line]=X.column,B()}function A(){let X;for(;i._index<o.length;){const Q=o[i._index];if(typeof Q=="string")for(X=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===X&&i._bufferIndex<Q.length;)E(Q.charCodeAt(i._bufferIndex));else E(Q)}}function E(X){d=d(X)}function M(X){bt(X)?(i.line++,i.column=1,i.offset+=X===-3?2:1,B()):X!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===o[i._index].length&&(i._bufferIndex=-1,i._index++)),c.previous=X}function R(X,Q){const J=Q||{};return J.type=X,J.start=v(),c.events.push(["enter",J,c]),a.push(J),J}function N(X){const Q=a.pop();return Q.end=v(),c.events.push(["exit",Q,c]),Q}function P(X,Q){F(X,Q.from)}function O(X,Q){Q.restore()}function $(X,Q){return J;function J(oe,ce,le){let ee,Z,se,j;return Array.isArray(oe)?ae(oe):"tokenize"in oe?ae([oe]):te(oe);function te(Ce){return je;function je(Ue){const Ye=Ue!==null&&Ce[Ue],Ge=Ue!==null&&Ce.null,ft=[...Array.isArray(Ye)?Ye:Ye?[Ye]:[],...Array.isArray(Ge)?Ge:Ge?[Ge]:[]];return ae(ft)(Ue)}}function ae(Ce){return ee=Ce,Z=0,Ce.length===0?le:U(Ce[Z])}function U(Ce){return je;function je(Ue){return j=q(),se=Ce,Ce.partial||(c.currentConstruct=Ce),Ce.name&&c.parser.constructs.disable.null.includes(Ce.name)?ke():Ce.tokenize.call(Q?Object.assign(Object.create(c),Q):c,l,ve,ke)(Ue)}}function ve(Ce){return X(se,j),ce}function ke(Ce){return j.restore(),++Z<ee.length?U(ee[Z]):le}}}function F(X,Q){X.resolveAll&&!s.includes(X)&&s.push(X),X.resolve&&Oa(c.events,Q,c.events.length-Q,X.resolve(c.events.slice(Q),c)),X.resolveTo&&(c.events=X.resolveTo(c.events,c))}function q(){const X=v(),Q=c.previous,J=c.currentConstruct,oe=c.events.length,ce=Array.from(a);return{from:oe,restore:le};function le(){i=X,c.previous=Q,c.currentConstruct=J,c.events.length=oe,a=ce,B()}}function B(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function R$e(t,e){const n=e.start._index,i=e.start._bufferIndex,r=e.end._index,s=e.end._bufferIndex;let o;if(n===r)o=[t[n].slice(i,s)];else{if(o=t.slice(n,r),i>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(i):o.shift()}s>0&&o.push(t[r].slice(0,s))}return o}function D$e(t,e){let n=-1;const i=[];let r;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&r)continue;o=" ";break}default:o=String.fromCharCode(s)}r=s===-2,i.push(o)}return i.join("")}function N$e(t){const i={constructs:Dee([_$e,...(t||{}).extensions||[]]),content:r(WIe),defined:[],document:r(YIe),flow:r(h$e),lazy:{},string:r(g$e),text:r(y$e)};return i;function r(s){return o;function o(a){return M$e(i,s,a)}}}function P$e(t){for(;!jee(t););return t}const UU=/[\0\t\n\r]/g;function O$e(){let t=1,e="",n=!0,i;return r;function r(s,o,a){const l=[];let c,d,h,p,m;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,e="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(UU.lastIndex=h,c=UU.exec(s),p=c&&c.index!==void 0?c.index:s.length,m=s.charCodeAt(p),!c){e=s.slice(h);break}if(m===10&&h===p&&i)l.push(-3),i=void 0;else switch(i&&(l.push(-5),i=void 0),h<p&&(l.push(s.slice(h,p)),t+=p-h),m){case 0:{l.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,l.push(-2);t++<d;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:i=!0,t=1}h=p+1}return a&&(i&&l.push(-5),e&&l.push(e),l.push(null)),l}}const L$e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function j$e(t){return t.replace(L$e,I$e)}function I$e(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),s=r===120||r===88;return Nee(n.slice(s?2:1),s?16:10)}return f5(n)||t}const Vee={}.hasOwnProperty;function F$e(t,e,n){return typeof e!="string"&&(n=e,e=void 0),$$e(n)(P$e(N$e(n).document().write(O$e()(t,e,!0))))}function $$e(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ii),autolinkProtocol:q,autolinkEmail:q,atxHeading:s(Mn),blockQuote:s(Ge),characterEscape:q,characterReference:q,codeFenced:s(ft),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ft,o),codeText:s(mt,o),codeTextData:q,data:q,codeFlowValue:q,definition:s(xt),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Gt),hardBreakEscape:s(Vn),hardBreakTrailing:s(Vn),htmlFlow:s(Wt,o),htmlFlowData:q,htmlText:s(Wt,o),htmlTextData:q,image:s(mi),label:o,link:s(ii),listItem:s(Hn),listItemValue:p,listOrdered:s(Bt,h),listUnordered:s(Bt),paragraph:s(ie),reference:U,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Mn),strong:s($e),thematicBreak:s(Xe)},exit:{atxHeading:l(),atxHeadingSequence:P,autolink:l(),autolinkEmail:Ye,autolinkProtocol:Ue,blockQuote:l(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:ke,characterReferenceMarkerNumeric:ke,characterReferenceValue:Ce,characterReference:je,codeFenced:l(A),codeFencedFence:S,codeFencedFenceInfo:m,codeFencedFenceMeta:v,codeFlowValue:B,codeIndented:l(E),codeText:l(ce),codeTextData:B,data:B,definition:l(),definitionDestinationString:N,definitionLabelString:M,definitionTitleString:R,emphasis:l(),hardBreakEscape:l(Q),hardBreakTrailing:l(Q),htmlFlow:l(J),htmlFlowData:B,htmlText:l(oe),htmlTextData:B,image:l(ee),label:se,labelText:Z,lineEnding:X,link:l(le),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ve,resourceDestinationString:j,resourceTitleString:te,resource:ae,setextHeading:l(F),setextHeadingLineSequence:$,setextHeadingText:O,strong:l(),thematicBreak:l()}};Hee(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(be){let Ne={type:"root",children:[]};const de={stack:[Ne],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:d,data:n},Ke=[];let rt=-1;for(;++rt<be.length;)if(be[rt][1].type==="listOrdered"||be[rt][1].type==="listUnordered")if(be[rt][0]==="enter")Ke.push(rt);else{const sn=Ke.pop();rt=r(be,sn,rt)}for(rt=-1;++rt<be.length;){const sn=e[be[rt][0]];Vee.call(sn,be[rt][1].type)&&sn[be[rt][1].type].call(Object.assign({sliceSerialize:be[rt][2].sliceSerialize},de),be[rt][1])}if(de.tokenStack.length>0){const sn=de.tokenStack[de.tokenStack.length-1];(sn[1]||qU).call(de,void 0,sn[0])}for(Ne.position={start:Ph(be.length>0?be[0][1].start:{line:1,column:1,offset:0}),end:Ph(be.length>0?be[be.length-2][1].end:{line:1,column:1,offset:0})},rt=-1;++rt<e.transforms.length;)Ne=e.transforms[rt](Ne)||Ne;return Ne}function r(be,Ne,de){let Ke=Ne-1,rt=-1,sn=!1,rr,ri,Rn,Tr;for(;++Ke<=de;){const An=be[Ke];switch(An[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{An[0]==="enter"?rt++:rt--,Tr=void 0;break}case"lineEndingBlank":{An[0]==="enter"&&(rr&&!Tr&&!rt&&!Rn&&(Rn=Ke),Tr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Tr=void 0}if(!rt&&An[0]==="enter"&&An[1].type==="listItemPrefix"||rt===-1&&An[0]==="exit"&&(An[1].type==="listUnordered"||An[1].type==="listOrdered")){if(rr){let Dn=Ke;for(ri=void 0;Dn--;){const sr=be[Dn];if(sr[1].type==="lineEnding"||sr[1].type==="lineEndingBlank"){if(sr[0]==="exit")continue;ri&&(be[ri][1].type="lineEndingBlank",sn=!0),sr[1].type="lineEnding",ri=Dn}else if(!(sr[1].type==="linePrefix"||sr[1].type==="blockQuotePrefix"||sr[1].type==="blockQuotePrefixWhitespace"||sr[1].type==="blockQuoteMarker"||sr[1].type==="listItemIndent"))break}Rn&&(!ri||Rn<ri)&&(rr._spread=!0),rr.end=Object.assign({},ri?be[ri][1].start:An[1].end),be.splice(ri||Ke,0,["exit",rr,An[2]]),Ke++,de++}if(An[1].type==="listItemPrefix"){const Dn={type:"listItem",_spread:!1,start:Object.assign({},An[1].start),end:void 0};rr=Dn,be.splice(Ke,0,["enter",Dn,An[2]]),Ke++,de++,Rn=void 0,Tr=!0}}}return be[Ne][1]._spread=sn,de}function s(be,Ne){return de;function de(Ke){a.call(this,be(Ke),Ke),Ne&&Ne.call(this,Ke)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(be,Ne,de){this.stack[this.stack.length-1].children.push(be),this.stack.push(be),this.tokenStack.push([Ne,de||void 0]),be.position={start:Ph(Ne.start),end:void 0}}function l(be){return Ne;function Ne(de){be&&be.call(this,de),c.call(this,de)}}function c(be,Ne){const de=this.stack.pop(),Ke=this.tokenStack.pop();if(Ke)Ke[0].type!==be.type&&(Ne?Ne.call(this,be,Ke[0]):(Ke[1]||qU).call(this,be,Ke[0]));else throw new Error("Cannot close `"+be.type+"` ("+MC({start:be.start,end:be.end})+"): its not open");de.position.end=Ph(be.end)}function d(){return d5(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(be){if(this.data.expectingFirstListItemValue){const Ne=this.stack[this.stack.length-2];Ne.start=Number.parseInt(this.sliceSerialize(be),10),this.data.expectingFirstListItemValue=void 0}}function m(){const be=this.resume(),Ne=this.stack[this.stack.length-1];Ne.lang=be}function v(){const be=this.resume(),Ne=this.stack[this.stack.length-1];Ne.meta=be}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function A(){const be=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=be.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const be=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=be.replace(/(\r?\n|\r)$/g,"")}function M(be){const Ne=this.resume(),de=this.stack[this.stack.length-1];de.label=Ne,de.identifier=Nc(this.sliceSerialize(be)).toLowerCase()}function R(){const be=this.resume(),Ne=this.stack[this.stack.length-1];Ne.title=be}function N(){const be=this.resume(),Ne=this.stack[this.stack.length-1];Ne.url=be}function P(be){const Ne=this.stack[this.stack.length-1];if(!Ne.depth){const de=this.sliceSerialize(be).length;Ne.depth=de}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function $(be){const Ne=this.stack[this.stack.length-1];Ne.depth=this.sliceSerialize(be).codePointAt(0)===61?1:2}function F(){this.data.setextHeadingSlurpLineEnding=void 0}function q(be){const de=this.stack[this.stack.length-1].children;let Ke=de[de.length-1];(!Ke||Ke.type!=="text")&&(Ke=Ee(),Ke.position={start:Ph(be.start),end:void 0},de.push(Ke)),this.stack.push(Ke)}function B(be){const Ne=this.stack.pop();Ne.value+=this.sliceSerialize(be),Ne.position.end=Ph(be.end)}function X(be){const Ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const de=Ne.children[Ne.children.length-1];de.position.end=Ph(be.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ne.type)&&(q.call(this,be),B.call(this,be))}function Q(){this.data.atHardBreak=!0}function J(){const be=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=be}function oe(){const be=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=be}function ce(){const be=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=be}function le(){const be=this.stack[this.stack.length-1];if(this.data.inReference){const Ne=this.data.referenceType||"shortcut";be.type+="Reference",be.referenceType=Ne,delete be.url,delete be.title}else delete be.identifier,delete be.label;this.data.referenceType=void 0}function ee(){const be=this.stack[this.stack.length-1];if(this.data.inReference){const Ne=this.data.referenceType||"shortcut";be.type+="Reference",be.referenceType=Ne,delete be.url,delete be.title}else delete be.identifier,delete be.label;this.data.referenceType=void 0}function Z(be){const Ne=this.sliceSerialize(be),de=this.stack[this.stack.length-2];de.label=j$e(Ne),de.identifier=Nc(Ne).toLowerCase()}function se(){const be=this.stack[this.stack.length-1],Ne=this.resume(),de=this.stack[this.stack.length-1];if(this.data.inReference=!0,de.type==="link"){const Ke=be.children;de.children=Ke}else de.alt=Ne}function j(){const be=this.resume(),Ne=this.stack[this.stack.length-1];Ne.url=be}function te(){const be=this.resume(),Ne=this.stack[this.stack.length-1];Ne.title=be}function ae(){this.data.inReference=void 0}function U(){this.data.referenceType="collapsed"}function ve(be){const Ne=this.resume(),de=this.stack[this.stack.length-1];de.label=Ne,de.identifier=Nc(this.sliceSerialize(be)).toLowerCase(),this.data.referenceType="full"}function ke(be){this.data.characterReferenceType=be.type}function Ce(be){const Ne=this.sliceSerialize(be),de=this.data.characterReferenceType;let Ke;de?(Ke=Nee(Ne,de==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ke=f5(Ne);const rt=this.stack[this.stack.length-1];rt.value+=Ke}function je(be){const Ne=this.stack.pop();Ne.position.end=Ph(be.end)}function Ue(be){B.call(this,be);const Ne=this.stack[this.stack.length-1];Ne.url=this.sliceSerialize(be)}function Ye(be){B.call(this,be);const Ne=this.stack[this.stack.length-1];Ne.url="mailto:"+this.sliceSerialize(be)}function Ge(){return{type:"blockquote",children:[]}}function ft(){return{type:"code",lang:null,meta:null,value:""}}function mt(){return{type:"inlineCode",value:""}}function xt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Gt(){return{type:"emphasis",children:[]}}function Mn(){return{type:"heading",depth:0,children:[]}}function Vn(){return{type:"break"}}function Wt(){return{type:"html",value:""}}function mi(){return{type:"image",title:null,url:"",alt:null}}function ii(){return{type:"link",title:null,url:"",children:[]}}function Bt(be){return{type:"list",ordered:be.type==="listOrdered",start:null,spread:be._spread,children:[]}}function Hn(be){return{type:"listItem",spread:be._spread,checked:null,children:[]}}function ie(){return{type:"paragraph",children:[]}}function $e(){return{type:"strong",children:[]}}function Ee(){return{type:"text",value:""}}function Xe(){return{type:"thematicBreak"}}}function Ph(t){return{line:t.line,column:t.column,offset:t.offset}}function Hee(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?Hee(t,i):z$e(t,i)}}function z$e(t,e){let n;for(n in e)if(Vee.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function qU(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+MC({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+MC({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+MC({start:e.start,end:e.end})+") is still open")}function B$e(t){const e=this;e.parser=n;function n(i){return F$e(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function V$e(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function H$e(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function U$e(t,e){const n=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(r.data={meta:e.meta}),t.patch(e,r),r=t.applyData(e,r),r={type:"element",tagName:"pre",properties:{},children:[r]},t.patch(e,r),r}function q$e(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function G$e(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function W$e(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),r=b1(i.toLowerCase()),s=t.footnoteOrder.indexOf(i);let o,a=t.footnoteCounts.get(i);a===void 0?(a=0,t.footnoteOrder.push(i),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(i,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function K$e(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Y$e(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Uee(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const r=t.all(e),s=r[0];s&&s.type==="text"?s.value="["+s.value:r.unshift({type:"text",value:"["});const o=r[r.length-1];return o&&o.type==="text"?o.value+=i:r.push({type:"text",value:i}),r}function X$e(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return Uee(t,e);const r={src:b1(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,s),t.applyData(e,s)}function J$e(t,e){const n={src:b1(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function Z$e(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function Q$e(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return Uee(t,e);const r={href:b1(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function e3e(t,e){const n={href:b1(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function t3e(t,e,n){const i=t.all(e),r=n?n3e(n):qee(e),s={},o=[];if(typeof e.checked=="boolean"){const d=i[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},i.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<i.length;){const d=i[a];(r||a!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!r?o.push(...d.children):o.push(d)}const l=i[i.length-1];l&&(r||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function n3e(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=qee(n[i])}return e}function qee(t){const e=t.spread;return e??t.children.length>1}function i3e(t,e){const n={},i=t.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++r<i.length;){const o=i[r];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function r3e(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function s3e(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function o3e(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function a3e(t,e){const n=t.all(e),i=n.shift(),r=[];if(i){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],o),r.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=a5(e.children[1]),l=Aee(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),r.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function l3e(t,e,n){const i=n?n.children:void 0,s=(i?i.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const h=e.children[l],p={},m=o?o[l]:void 0;m&&(p.align=m);let v={type:"element",tagName:s,properties:p,children:[]};h&&(v.children=t.all(h),t.patch(h,v),v=t.applyData(h,v)),c.push(v)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,d),t.applyData(e,d)}function c3e(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const GU=9,WU=32;function u3e(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),r=0;const s=[];for(;i;)s.push(KU(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=n.exec(e);return s.push(KU(e.slice(r),r>0,!1)),s.join("")}function KU(t,e,n){let i=0,r=t.length;if(e){let s=t.codePointAt(i);for(;s===GU||s===WU;)i++,s=t.codePointAt(i)}if(n){let s=t.codePointAt(r-1);for(;s===GU||s===WU;)r--,s=t.codePointAt(r-1)}return r>i?t.slice(i,r):""}function d3e(t,e){const n={type:"text",value:u3e(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function f3e(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const h3e={blockquote:V$e,break:H$e,code:U$e,delete:q$e,emphasis:G$e,footnoteReference:W$e,heading:K$e,html:Y$e,imageReference:X$e,image:J$e,inlineCode:Z$e,linkReference:Q$e,link:e3e,listItem:t3e,list:i3e,paragraph:r3e,root:s3e,strong:o3e,table:a3e,tableCell:c3e,tableRow:l3e,text:d3e,thematicBreak:f3e,toml:pM,yaml:pM,definition:pM,footnoteDefinition:pM};function pM(){}const Gee=-1,rN=0,DC=1,x2=2,p5=3,m5=4,g5=5,y5=6,Wee=7,Kee=8,YU=typeof self=="object"?self:globalThis,p3e=(t,e)=>{const n=(r,s)=>(t.set(s,r),r),i=r=>{if(t.has(r))return t.get(r);const[s,o]=e[r];switch(s){case rN:case Gee:return n(o,r);case DC:{const a=n([],r);for(const l of o)a.push(i(l));return a}case x2:{const a=n({},r);for(const[l,c]of o)a[i(l)]=i(c);return a}case p5:return n(new Date(o),r);case m5:{const{source:a,flags:l}=o;return n(new RegExp(a,l),r)}case g5:{const a=n(new Map,r);for(const[l,c]of o)a.set(i(l),i(c));return a}case y5:{const a=n(new Set,r);for(const l of o)a.add(i(l));return a}case Wee:{const{name:a,message:l}=o;return n(new YU[a](l),r)}case Kee:return n(BigInt(o),r);case"BigInt":return n(Object(BigInt(o)),r);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new YU[s](o),r)};return i},XU=t=>p3e(new Map,t)(0),Hb="",{toString:m3e}={},{keys:g3e}=Object,FS=t=>{const e=typeof t;if(e!=="object"||!t)return[rN,e];const n=m3e.call(t).slice(8,-1);switch(n){case"Array":return[DC,Hb];case"Object":return[x2,Hb];case"Date":return[p5,Hb];case"RegExp":return[m5,Hb];case"Map":return[g5,Hb];case"Set":return[y5,Hb];case"DataView":return[DC,n]}return n.includes("Array")?[DC,n]:n.includes("Error")?[Wee,n]:[x2,n]},mM=([t,e])=>t===rN&&(e==="function"||e==="symbol"),y3e=(t,e,n,i)=>{const r=(o,a)=>{const l=i.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=FS(o);switch(a){case rN:{let d=o;switch(l){case"bigint":a=Kee,d=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return r([Gee],o)}return r([a,d],o)}case DC:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),r([l,[...p]],o)}const d=[],h=r([a,d],o);for(const p of o)d.push(s(p));return h}case x2:{if(l)switch(l){case"BigInt":return r([l,o.toString()],o);case"Boolean":case"Number":case"String":return r([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const d=[],h=r([a,d],o);for(const p of g3e(o))(t||!mM(FS(o[p])))&&d.push([s(p),s(o[p])]);return h}case p5:return r([a,o.toISOString()],o);case m5:{const{source:d,flags:h}=o;return r([a,{source:d,flags:h}],o)}case g5:{const d=[],h=r([a,d],o);for(const[p,m]of o)(t||!(mM(FS(p))||mM(FS(m))))&&d.push([s(p),s(m)]);return h}case y5:{const d=[],h=r([a,d],o);for(const p of o)(t||!mM(FS(p)))&&d.push(s(p));return h}}const{message:c}=o;return r([a,{name:l,message:c}],o)};return s},JU=(t,{json:e,lossy:n}={})=>{const i=[];return y3e(!(e||n),!!e,new Map,i)(t),i},w2=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?XU(JU(t,e)):structuredClone(t):(t,e)=>XU(JU(t,e));function b3e(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function v3e(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function x3e(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||b3e,i=t.options.footnoteBackLabel||v3e,r=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const d=t.all(c),h=String(c.identifier).toUpperCase(),p=b1(h.toLowerCase());let m=0;const v=[],S=t.footnoteCounts.get(h);for(;S!==void 0&&++m<=S;){v.length>0&&v.push({type:"text",value:" "});let M=typeof n=="string"?n:n(l,m);typeof M=="string"&&(M={type:"text",value:M}),v.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(l,m),className:["data-footnote-backref"]},children:Array.isArray(M)?M:[M]})}const A=d[d.length-1];if(A&&A.type==="element"&&A.tagName==="p"){const M=A.children[A.children.length-1];M&&M.type==="text"?M.value+=" ":A.children.push({type:"text",value:" "}),A.children.push(...v)}else d.push(...v);const E={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:t.wrap(d,!0)};t.patch(c,E),a.push(E)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...w2(o),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const sN=function(t){if(t==null)return A3e;if(typeof t=="function")return oN(t);if(typeof t=="object")return Array.isArray(t)?w3e(t):S3e(t);if(typeof t=="string")return C3e(t);throw new Error("Expected function, string, or object as test")};function w3e(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=sN(t[n]);return oN(i);function i(...r){let s=-1;for(;++s<e.length;)if(e[s].apply(this,r))return!0;return!1}}function S3e(t){const e=t;return oN(n);function n(i){const r=i;let s;for(s in t)if(r[s]!==e[s])return!1;return!0}}function C3e(t){return oN(e);function e(n){return n&&n.type===t}}function oN(t){return e;function e(n,i,r){return!!(E3e(n)&&t.call(this,n,typeof i=="number"?i:void 0,r||void 0))}}function A3e(){return!0}function E3e(t){return t!==null&&typeof t=="object"&&"type"in t}const Yee=[],T3e=!0,qI=!1,k3e="skip";function Xee(t,e,n,i){let r;typeof e=="function"&&typeof n!="function"?(i=n,n=e):r=e;const s=sN(r),o=i?-1:1;a(t,void 0,[])();function a(l,c,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=Yee,v,S,A;if((!e||s(l,c,d[d.length-1]||void 0))&&(m=_3e(n(l,d)),m[0]===qI))return m;if("children"in l&&l.children){const E=l;if(E.children&&m[0]!==k3e)for(S=(i?E.children.length:-1)+o,A=d.concat(E);S>-1&&S<E.children.length;){const M=E.children[S];if(v=a(M,S,A)(),v[0]===qI)return v;S=typeof v[1]=="number"?v[1]:S+o}}return m}}}function _3e(t){return Array.isArray(t)?t:typeof t=="number"?[T3e,t]:t==null?Yee:[t]}function b5(t,e,n,i){let r,s,o;typeof e=="function"?(s=void 0,o=e,r=n):(s=e,o=n,r=i),Xee(t,s,a,r);function a(l,c){const d=c[c.length-1],h=d?d.children.indexOf(l):void 0;return o(l,h,d)}}const GI={}.hasOwnProperty,M3e={};function R3e(t,e){const n=e||M3e,i=new Map,r=new Map,s=new Map,o={...h3e,...n.handlers},a={all:c,applyData:N3e,definitionById:i,footnoteById:r,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:D3e,wrap:O3e};return b5(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?i:r,p=String(d.identifier).toUpperCase();h.has(p)||h.set(p,d)}}),a;function l(d,h){const p=d.type,m=a.handlers[p];if(GI.call(a.handlers,p)&&m)return m(a,d,h);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in d){const{children:S,...A}=d,E=w2(A);return E.children=a.all(d),E}return w2(d)}return(a.options.unknownHandler||P3e)(a,d,h)}function c(d){const h=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const v=a.one(p[m],d);if(v){if(m&&p[m-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=ZU(v.value)),!Array.isArray(v)&&v.type==="element")){const S=v.children[0];S&&S.type==="text"&&(S.value=ZU(S.value))}Array.isArray(v)?h.push(...v):h.push(v)}}}return h}}function D3e(t,e){t.position&&(e.position=vIe(t))}function N3e(t,e){let n=e;if(t&&t.data){const i=t.data.hName,r=t.data.hChildren,s=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const o="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,w2(s)),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function P3e(t,e){const n=e.data||{},i="value"in e&&!(GI.call(n,"hProperties")||GI.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function O3e(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function ZU(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function QU(t,e){const n=R3e(t,e),i=n.one(t,void 0),r=x3e(n),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&s.children.push({type:"text",value:`
`},r),s}function L3e(t,e){return t&&"run"in t?async function(n,i){const r=QU(n,{file:i,...e});await t.run(r,i)}:function(n,i){return QU(n,{file:i,...t||e})}}function e9(t){if(t)throw t}var TL,t9;function j3e(){if(t9)return TL;t9=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(c){return typeof Array.isArray=="function"?Array.isArray(c):e.call(c)==="[object Array]"},s=function(c){if(!c||e.call(c)!=="[object Object]")return!1;var d=t.call(c,"constructor"),h=c.constructor&&c.constructor.prototype&&t.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!h)return!1;var p;for(p in c);return typeof p>"u"||t.call(c,p)},o=function(c,d){n&&d.name==="__proto__"?n(c,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):c[d.name]=d.newValue},a=function(c,d){if(d==="__proto__")if(t.call(c,d)){if(i)return i(c,d).value}else return;return c[d]};return TL=function l(){var c,d,h,p,m,v,S=arguments[0],A=1,E=arguments.length,M=!1;for(typeof S=="boolean"&&(M=S,S=arguments[1]||{},A=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});A<E;++A)if(c=arguments[A],c!=null)for(d in c)h=a(S,d),p=a(c,d),S!==p&&(M&&p&&(s(p)||(m=r(p)))?(m?(m=!1,v=h&&r(h)?h:[]):v=h&&s(h)?h:{},o(S,{name:d,newValue:l(M,v,p)})):typeof p<"u"&&o(S,{name:d,newValue:p}));return S},TL}var I3e=j3e();const kL=Gx(I3e);function WI(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function F3e(){const t=[],e={run:n,use:i};return e;function n(...r){let s=-1;const o=r.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...r);function a(l,...c){const d=t[++s];let h=-1;if(l){o(l);return}for(;++h<r.length;)(c[h]===null||c[h]===void 0)&&(c[h]=r[h]);r=c,d?$3e(d,a)(...c):o(null,...c)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return t.push(r),e}}function $3e(t,e){let n;return i;function i(...o){const a=t.length>o.length;let l;a&&o.push(r);try{l=t.apply(this,o)}catch(c){const d=c;if(a&&n)throw d;return r(d)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,r):l instanceof Error?r(l):s(l))}function r(o,...a){n||(n=!0,e(o,...a))}function s(o){r(null,o)}}const Au={basename:z3e,dirname:B3e,extname:V3e,join:H3e,sep:"/"};function z3e(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');ST(t);let n=0,i=-1,r=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;r--;)if(t.codePointAt(r)===47){if(s){n=r+1;break}}else i<0&&(s=!0,i=r+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let o=-1,a=e.length-1;for(;r--;)if(t.codePointAt(r)===47){if(s){n=r+1;break}}else o<0&&(s=!0,o=r+1),a>-1&&(t.codePointAt(r)===e.codePointAt(a--)?a<0&&(i=r):(a=-1,i=o));return n===i?i=o:i<0&&(i=t.length),t.slice(n,i)}function B3e(t){if(ST(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function V3e(t){ST(t);let e=t.length,n=-1,i=0,r=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){i=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?r<0?r=e:s!==1&&(s=1):r>-1&&(s=-1)}return r<0||n<0||s===0||s===1&&r===n-1&&r===i+1?"":t.slice(r,n)}function H3e(...t){let e=-1,n;for(;++e<t.length;)ST(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":U3e(n)}function U3e(t){ST(t);const e=t.codePointAt(0)===47;let n=q3e(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function q3e(t,e){let n="",i=0,r=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(r===o-1||s===1))if(r!==o-1&&s===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",i=0):(n=n.slice(0,l),i=n.length-1-n.lastIndexOf("/")),r=o,s=0;continue}}else if(n.length>0){n="",i=0,r=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(r+1,o):n=t.slice(r+1,o),i=o-r-1;r=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function ST(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const G3e={cwd:W3e};function W3e(){return"/"}function KI(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function K3e(t){if(typeof t=="string")t=new URL(t);else if(!KI(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Y3e(t)}function Y3e(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const _L=["history","path","basename","stem","extname","dirname"];class Jee{constructor(e){let n;e?KI(e)?n={path:e}:typeof e=="string"||X3e(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":G3e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<_L.length;){const s=_L[i];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let r;for(r in n)_L.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?Au.basename(this.path):void 0}set basename(e){RL(e,"basename"),ML(e,"basename"),this.path=Au.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Au.dirname(this.path):void 0}set dirname(e){n9(this.basename,"dirname"),this.path=Au.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Au.extname(this.path):void 0}set extname(e){if(ML(e,"extname"),n9(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Au.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){KI(e)&&(e=K3e(e)),RL(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Au.basename(this.path,this.extname):void 0}set stem(e){RL(e,"stem"),ML(e,"stem"),this.path=Au.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const r=this.message(e,n,i);throw r.fatal=!0,r}info(e,n,i){const r=this.message(e,n,i);return r.fatal=void 0,r}message(e,n,i){const r=new $s(e,n,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function ML(t,e){if(t&&t.includes(Au.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Au.sep+"`")}function RL(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function n9(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function X3e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const J3e=function(t){const i=this.constructor.prototype,r=i[t],s=function(){return r.apply(s,arguments)};return Object.setPrototypeOf(s,i),s},Z3e={}.hasOwnProperty;class v5 extends J3e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=F3e()}copy(){const e=new v5;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(kL(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(PL("data",this.frozen),this.namespace[e]=n,this):Z3e.call(this.namespace,e)&&this.namespace[e]||void 0:e?(PL("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=n.call(e,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=gM(e),i=this.parser||this.Parser;return DL("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),DL("process",this.parser||this.Parser),NL("process",this.compiler||this.Compiler),n?r(void 0,n):new Promise(r);function r(s,o){const a=gM(e),l=i.parse(a);i.run(l,a,function(d,h,p){if(d||!h||!p)return c(d);const m=h,v=i.stringify(m,p);tze(v)?p.value=v:p.result=v,c(d,p)});function c(d,h){d||!h?o(d):s?s(h):n(void 0,h)}}}processSync(e){let n=!1,i;return this.freeze(),DL("processSync",this.parser||this.Parser),NL("processSync",this.compiler||this.Compiler),this.process(e,r),r9("processSync","process",n),i;function r(s,o){n=!0,e9(s),i=o}}run(e,n,i){i9(e),this.freeze();const r=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?s(void 0,i):new Promise(s);function s(o,a){const l=gM(n);r.run(e,l,c);function c(d,h,p){const m=h||e;d?a(d):o?o(m):i(void 0,m,p)}}}runSync(e,n){let i=!1,r;return this.run(e,n,s),r9("runSync","run",i),r;function s(o,a){e9(o),r=a,i=!0}}stringify(e,n){this.freeze();const i=gM(n),r=this.compiler||this.Compiler;return NL("stringify",r),i9(e),r(e,i)}use(e,...n){const i=this.attachers,r=this.namespace;if(PL("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...h]=c;l(d,h)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(r.settings=kL(!0,r.settings,c.settings))}function a(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const h=c[d];s(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let h=-1,p=-1;for(;++h<i.length;)if(i[h][0]===c){p=h;break}if(p===-1)i.push([c,...d]);else if(d.length>0){let[m,...v]=d;const S=i[p][1];WI(S)&&WI(m)&&(m=kL(!0,S,m)),i[p]=[c,m,...v]}}}}const Q3e=new v5().freeze();function DL(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function NL(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function PL(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function i9(t){if(!WI(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function r9(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function gM(t){return eze(t)?t:new Jee(t)}function eze(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function tze(t){return typeof t=="string"||nze(t)}function nze(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const ize="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",s9=[],o9={allowDangerousHtml:!0},rze=/^(https?|ircs?|mailto|xmpp)$/i,sze=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function oze(t){const e=aze(t),n=lze(t);return cze(e.runSync(e.parse(n),n),t)}function aze(t){const e=t.rehypePlugins||s9,n=t.remarkPlugins||s9,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...o9}:o9;return Q3e().use(B$e).use(n).use(L3e,i).use(e)}function lze(t){const e=t.children||"",n=new Jee;return typeof e=="string"&&(n.value=e),n}function cze(t,e){const n=e.allowedElements,i=e.allowElement,r=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||uze;for(const d of sze)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+ize+d.id,void 0);return b5(t,c),AIe(t,{Fragment:b.Fragment,components:r,ignoreInvalidStyle:!0,jsx:b.jsx,jsxs:b.jsxs,passKeys:!0,passNode:!0});function c(d,h,p){if(d.type==="raw"&&p&&typeof h=="number")return o?p.children.splice(h,1):p.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let m;for(m in CL)if(Object.hasOwn(CL,m)&&Object.hasOwn(d.properties,m)){const v=d.properties[m],S=CL[m];(S===null||S.includes(d.tagName))&&(d.properties[m]=l(String(v||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!m&&i&&typeof h=="number"&&(m=!i(d,h,p)),m&&p&&typeof h=="number")return a&&d.children?p.children.splice(h,1,...d.children):p.children.splice(h,1),h}}}function uze(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),r=t.indexOf("/");return e===-1||r!==-1&&e>r||n!==-1&&e>n||i!==-1&&e>i||rze.test(t.slice(0,e))?t:""}function dze(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Zee(t,e,n){const r=sN((n||{}).ignore||[]),s=fze(e);let o=-1;for(;++o<s.length;)Xee(t,"text",a);function a(c,d){let h=-1,p;for(;++h<d.length;){const m=d[h],v=p?p.children:void 0;if(r(m,v?v.indexOf(m):void 0,p))return;p=m}if(p)return l(c,d)}function l(c,d){const h=d[d.length-1],p=s[o][0],m=s[o][1];let v=0;const A=h.children.indexOf(c);let E=!1,M=[];p.lastIndex=0;let R=p.exec(c.value);for(;R;){const N=R.index,P={index:R.index,input:R.input,stack:[...d,c]};let O=m(...R,P);if(typeof O=="string"&&(O=O.length>0?{type:"text",value:O}:void 0),O===!1?p.lastIndex=N+1:(v!==N&&M.push({type:"text",value:c.value.slice(v,N)}),Array.isArray(O)?M.push(...O):O&&M.push(O),v=N+R[0].length,E=!0),!p.global)break;R=p.exec(c.value)}return E?(v<c.value.length&&M.push({type:"text",value:c.value.slice(v)}),h.children.splice(A,1,...M)):M=[c],A+M.length}}function fze(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let i=-1;for(;++i<n.length;){const r=n[i];e.push([hze(r[0]),pze(r[1])])}return e}function hze(t){return typeof t=="string"?new RegExp(dze(t),"g"):t}function pze(t){return typeof t=="function"?t:function(){return t}}function mze(t){Zee(t,[/\r?\n|\r/g,gze])}function gze(){return{type:"break"}}function yze(){return function(t){mze(t)}}function a9(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let i=0,r=n.indexOf(e);for(;r!==-1;)i++,r=n.indexOf(e,r+e.length);return i}const OL="phrasing",LL=["autolink","link","image","label"];function bze(){return{transforms:[Eze],enter:{literalAutolink:xze,literalAutolinkEmail:jL,literalAutolinkHttp:jL,literalAutolinkWww:jL},exit:{literalAutolink:Aze,literalAutolinkEmail:Cze,literalAutolinkHttp:wze,literalAutolinkWww:Sze}}}function vze(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:OL,notInConstruct:LL},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:OL,notInConstruct:LL},{character:":",before:"[ps]",after:"\\/",inConstruct:OL,notInConstruct:LL}]}}function xze(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function jL(t){this.config.enter.autolinkProtocol.call(this,t)}function wze(t){this.config.exit.autolinkProtocol.call(this,t)}function Sze(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function Cze(t){this.config.exit.autolinkEmail.call(this,t)}function Aze(t){this.exit(t)}function Eze(t){Zee(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Tze],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),kze]],{ignore:["link","linkReference"]})}function Tze(t,e,n,i,r){let s="";if(!Qee(r)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!_ze(n)))return!1;const o=Mze(n+i);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function kze(t,e,n,i){return!Qee(i,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function _ze(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Mze(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],i=n.indexOf(")");const r=a9(t,"(");let s=a9(t,")");for(;i!==-1&&r>s;)t+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),s++;return[t,n]}function Qee(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Zy(n)||nN(n))&&(!e||n!==47)}ete.peek=Fze;function Rze(){this.buffer()}function Dze(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Nze(){this.buffer()}function Pze(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function Oze(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Nc(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Lze(t){this.exit(t)}function jze(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Nc(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Ize(t){this.exit(t)}function Fze(){return"["}function ete(t,e,n,i){const r=n.createTracker(i);let s=r.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=r.move(n.safe(n.associationId(t),{after:"]",before:s})),a(),o(),s+=r.move("]"),s}function $ze(){return{enter:{gfmFootnoteCallString:Rze,gfmFootnoteCall:Dze,gfmFootnoteDefinitionLabelString:Nze,gfmFootnoteDefinition:Pze},exit:{gfmFootnoteCallString:Oze,gfmFootnoteCall:Lze,gfmFootnoteDefinitionLabelString:jze,gfmFootnoteDefinition:Ize}}}function zze(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:ete},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(i,r,s,o){const a=s.createTracker(o);let l=a.move("[^");const c=s.enter("footnoteDefinition"),d=s.enter("label");return l+=a.move(s.safe(s.associationId(i),{before:l,after:"]"})),d(),l+=a.move("]:"),i.children&&i.children.length>0&&(a.shift(4),l+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(i,a.current()),e?tte:Bze))),c(),l}}function Bze(t,e,n){return e===0?t:tte(t,e,n)}function tte(t,e,n){return(n?"":"    ")+t}const Vze=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];nte.peek=Wze;function Hze(){return{canContainEols:["delete"],enter:{strikethrough:qze},exit:{strikethrough:Gze}}}function Uze(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Vze}],handlers:{delete:nte}}}function qze(t){this.enter({type:"delete",children:[]},t)}function Gze(t){this.exit(t)}function nte(t,e,n,i){const r=n.createTracker(i),s=n.enter("strikethrough");let o=r.move("~~");return o+=n.containerPhrasing(t,{...r.current(),before:o,after:"~"}),o+=r.move("~~"),s(),o}function Wze(){return"~"}function Kze(t){return t.length}function Yze(t,e){const n=e||{},i=(n.align||[]).concat(),r=n.stringLength||Kze,s=[],o=[],a=[],l=[];let c=0,d=-1;for(;++d<t.length;){const S=[],A=[];let E=-1;for(t[d].length>c&&(c=t[d].length);++E<t[d].length;){const M=Xze(t[d][E]);if(n.alignDelimiters!==!1){const R=r(M);A[E]=R,(l[E]===void 0||R>l[E])&&(l[E]=R)}S.push(M)}o[d]=S,a[d]=A}let h=-1;if(typeof i=="object"&&"length"in i)for(;++h<c;)s[h]=l9(i[h]);else{const S=l9(i);for(;++h<c;)s[h]=S}h=-1;const p=[],m=[];for(;++h<c;){const S=s[h];let A="",E="";S===99?(A=":",E=":"):S===108?A=":":S===114&&(E=":");let M=n.alignDelimiters===!1?1:Math.max(1,l[h]-A.length-E.length);const R=A+"-".repeat(M)+E;n.alignDelimiters!==!1&&(M=A.length+M+E.length,M>l[h]&&(l[h]=M),m[h]=M),p[h]=R}o.splice(1,0,p),a.splice(1,0,m),d=-1;const v=[];for(;++d<o.length;){const S=o[d],A=a[d];h=-1;const E=[];for(;++h<c;){const M=S[h]||"";let R="",N="";if(n.alignDelimiters!==!1){const P=l[h]-(A[h]||0),O=s[h];O===114?R=" ".repeat(P):O===99?P%2?(R=" ".repeat(P/2+.5),N=" ".repeat(P/2-.5)):(R=" ".repeat(P/2),N=R):N=" ".repeat(P)}n.delimiterStart!==!1&&!h&&E.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&M==="")&&(n.delimiterStart!==!1||h)&&E.push(" "),n.alignDelimiters!==!1&&E.push(R),E.push(M),n.alignDelimiters!==!1&&E.push(N),n.padding!==!1&&E.push(" "),(n.delimiterEnd!==!1||h!==c-1)&&E.push("|")}v.push(n.delimiterEnd===!1?E.join("").replace(/ +$/,""):E.join(""))}return v.join(`
`)}function Xze(t){return t==null?"":String(t)}function l9(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Jze(t,e,n,i){const r=n.enter("blockquote"),s=n.createTracker(i);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),Zze);return r(),o}function Zze(t,e,n){return">"+(n?"":" ")+t}function Qze(t,e){return c9(t,e.inConstruct,!0)&&!c9(t,e.notInConstruct,!1)}function c9(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let i=-1;for(;++i<e.length;)if(t.includes(e[i]))return!0;return!1}function u9(t,e,n,i){let r=-1;for(;++r<n.unsafe.length;)if(n.unsafe[r].character===`
`&&Qze(n.stack,n.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function eBe(t,e){const n=String(t);let i=n.indexOf(e),r=i,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===r?++s>o&&(o=s):s=1,r=i+e.length,i=n.indexOf(e,r);return o}function tBe(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function nBe(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function iBe(t,e,n,i){const r=nBe(n),s=t.value||"",o=r==="`"?"GraveAccent":"Tilde";if(tBe(t,n)){const h=n.enter("codeIndented"),p=n.indentLines(s,rBe);return h(),p}const a=n.createTracker(i),l=r.repeat(Math.max(eBe(s,r)+1,3)),c=n.enter("codeFenced");let d=a.move(l);if(t.lang){const h=n.enter(`codeFencedLang${o}`);d+=a.move(n.safe(t.lang,{before:d,after:" ",encode:["`"],...a.current()})),h()}if(t.lang&&t.meta){const h=n.enter(`codeFencedMeta${o}`);d+=a.move(" "),d+=a.move(n.safe(t.meta,{before:d,after:`
`,encode:["`"],...a.current()})),h()}return d+=a.move(`
`),s&&(d+=a.move(s+`
`)),d+=a.move(l),c(),d}function rBe(t,e,n){return(n?"":"    ")+t}function x5(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function sBe(t,e,n,i){const r=x5(n),s=r==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(i);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+r),c+=l.move(n.safe(t.title,{before:c,after:r,...l.current()})),c+=l.move(r),a()),o(),c}function oBe(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function SA(t){return"&#x"+t.toString(16).toUpperCase()+";"}function S2(t,e,n){const i=qx(t),r=qx(e);return i===void 0?r===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}ite.peek=aBe;function ite(t,e,n,i){const r=oBe(n),s=n.enter("emphasis"),o=n.createTracker(i),a=o.move(r);let l=o.move(n.containerPhrasing(t,{after:r,before:a,...o.current()}));const c=l.charCodeAt(0),d=S2(i.before.charCodeAt(i.before.length-1),c,r);d.inside&&(l=SA(c)+l.slice(1));const h=l.charCodeAt(l.length-1),p=S2(i.after.charCodeAt(0),h,r);p.inside&&(l=l.slice(0,-1)+SA(h));const m=o.move(r);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},a+l+m}function aBe(t,e,n){return n.options.emphasis||"*"}function lBe(t,e){let n=!1;return b5(t,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,qI}),!!((!t.depth||t.depth<3)&&d5(t)&&(e.options.setext||n))}function cBe(t,e,n,i){const r=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(i);if(lBe(t,n)){const d=n.enter("headingSetext"),h=n.enter("phrasing"),p=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return h(),d(),p+`
`+(r===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(r),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=SA(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),a(),c}rte.peek=uBe;function rte(t){return t.value||""}function uBe(){return"<"}ste.peek=dBe;function ste(t,e,n,i){const r=x5(n),s=r==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(i);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+r),c+=l.move(n.safe(t.title,{before:c,after:r,...l.current()})),c+=l.move(r),a()),c+=l.move(")"),o(),c}function dBe(){return"!"}ote.peek=fBe;function ote(t,e,n,i){const r=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(i);let l=a.move("![");const c=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=d,s(),r==="full"||!c||c!==h?l+=a.move(h+"]"):r==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function fBe(){return"!"}ate.peek=hBe;function ate(t,e,n){let i=t.value||"",r="`",s=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(i);){let c=l.index;i.charCodeAt(c)===10&&i.charCodeAt(c-1)===13&&c--,i=i.slice(0,c)+" "+i.slice(l.index+1)}}return r+i+r}function hBe(){return"`"}function lte(t,e){const n=d5(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}cte.peek=pBe;function cte(t,e,n,i){const r=x5(n),s=r==='"'?"Quote":"Apostrophe",o=n.createTracker(i);let a,l;if(lte(t,n)){const d=n.stack;n.stack=[],a=n.enter("autolink");let h=o.move("<");return h+=o.move(n.containerPhrasing(t,{before:h,after:">",...o.current()})),h+=o.move(">"),a(),n.stack=d,h}a=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(t,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(t.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(t.url,{before:c,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=o.move(" "+r),c+=o.move(n.safe(t.title,{before:c,after:r,...o.current()})),c+=o.move(r),l()),c+=o.move(")"),a(),c}function pBe(t,e,n){return lte(t,n)?"<":"["}ute.peek=mBe;function ute(t,e,n,i){const r=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(i);let l=a.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=d,s(),r==="full"||!c||c!==h?l+=a.move(h+"]"):r==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function mBe(){return"["}function w5(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function gBe(t){const e=w5(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function yBe(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function dte(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function bBe(t,e,n,i){const r=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?yBe(n):w5(n);const a=t.ordered?o==="."?")":".":gBe(n);let l=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const d=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),dte(n)===o&&d){let h=-1;for(;++h<t.children.length;){const p=t.children[h];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(t,i);return n.bulletLastUsed=o,n.bulletCurrent=s,r(),c}function vBe(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function xBe(t,e,n,i){const r=vBe(n);let s=n.bulletCurrent||w5(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(r==="tab"||r==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(i);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,a.current()),d);return l(),c;function d(h,p,m){return p?(m?"":" ".repeat(o))+h:(m?s:s+" ".repeat(o-s.length))+h}}function wBe(t,e,n,i){const r=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,i);return s(),r(),o}const SBe=sN(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function CBe(t,e,n,i){return(t.children.some(function(o){return SBe(o)})?n.containerPhrasing:n.containerFlow).call(n,t,i)}function ABe(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}fte.peek=EBe;function fte(t,e,n,i){const r=ABe(n),s=n.enter("strong"),o=n.createTracker(i),a=o.move(r+r);let l=o.move(n.containerPhrasing(t,{after:r,before:a,...o.current()}));const c=l.charCodeAt(0),d=S2(i.before.charCodeAt(i.before.length-1),c,r);d.inside&&(l=SA(c)+l.slice(1));const h=l.charCodeAt(l.length-1),p=S2(i.after.charCodeAt(0),h,r);p.inside&&(l=l.slice(0,-1)+SA(h));const m=o.move(r+r);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},a+l+m}function EBe(t,e,n){return n.options.strong||"*"}function TBe(t,e,n,i){return n.safe(t.value,i)}function kBe(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function _Be(t,e,n){const i=(dte(n)+(n.options.ruleSpaces?" ":"")).repeat(kBe(n));return n.options.ruleSpaces?i.slice(0,-1):i}const hte={blockquote:Jze,break:u9,code:iBe,definition:sBe,emphasis:ite,hardBreak:u9,heading:cBe,html:rte,image:ste,imageReference:ote,inlineCode:ate,link:cte,linkReference:ute,list:bBe,listItem:xBe,paragraph:wBe,root:CBe,strong:fte,text:TBe,thematicBreak:_Be};function MBe(){return{enter:{table:RBe,tableData:d9,tableHeader:d9,tableRow:NBe},exit:{codeText:PBe,table:DBe,tableData:IL,tableHeader:IL,tableRow:IL}}}function RBe(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function DBe(t){this.exit(t),this.data.inTable=void 0}function NBe(t){this.enter({type:"tableRow",children:[]},t)}function IL(t){this.exit(t)}function d9(t){this.enter({type:"tableCell",children:[]},t)}function PBe(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,OBe));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function OBe(t,e){return e==="|"?e:t}function LBe(t){const e=t||{},n=e.tableCellPadding,i=e.tablePipeAlign,r=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:a}};function o(m,v,S,A){return c(d(m,S,A),m.align)}function a(m,v,S,A){const E=h(m,S,A),M=c([E]);return M.slice(0,M.indexOf(`
`))}function l(m,v,S,A){const E=S.enter("tableCell"),M=S.enter("phrasing"),R=S.containerPhrasing(m,{...A,before:s,after:s});return M(),E(),R}function c(m,v){return Yze(m,{align:v,alignDelimiters:i,padding:n,stringLength:r})}function d(m,v,S){const A=m.children;let E=-1;const M=[],R=v.enter("table");for(;++E<A.length;)M[E]=h(A[E],v,S);return R(),M}function h(m,v,S){const A=m.children;let E=-1;const M=[],R=v.enter("tableRow");for(;++E<A.length;)M[E]=l(A[E],m,v,S);return R(),M}function p(m,v,S){let A=hte.inlineCode(m,v,S);return S.stack.includes("tableCell")&&(A=A.replace(/\|/g,"\\$&")),A}}function jBe(){return{exit:{taskListCheckValueChecked:f9,taskListCheckValueUnchecked:f9,paragraph:FBe}}}function IBe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:$Be}}}function f9(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function FBe(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const i=n.children[0];if(i&&i.type==="text"){const r=e.children;let s=-1,o;for(;++s<r.length;){const a=r[s];if(a.type==="paragraph"){o=a;break}}o===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}}this.exit(t)}function $Be(t,e,n,i){const r=t.children[0],s=typeof t.checked=="boolean"&&r&&r.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(i);s&&a.move(o);let l=hte.listItem(t,e,n,{...i,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+o}}function zBe(){return[bze(),$ze(),Hze(),MBe(),jBe()]}function BBe(t){return{extensions:[vze(),zze(t),Uze(),LBe(t),IBe()]}}const VBe={tokenize:KBe,partial:!0},pte={tokenize:YBe,partial:!0},mte={tokenize:XBe,partial:!0},gte={tokenize:JBe,partial:!0},HBe={tokenize:ZBe,partial:!0},yte={name:"wwwAutolink",tokenize:GBe,previous:vte},bte={name:"protocolAutolink",tokenize:WBe,previous:xte},$f={name:"emailAutolink",tokenize:qBe,previous:wte},id={};function UBe(){return{text:id}}let fg=48;for(;fg<123;)id[fg]=$f,fg++,fg===58?fg=65:fg===91&&(fg=97);id[43]=$f;id[45]=$f;id[46]=$f;id[95]=$f;id[72]=[$f,bte];id[104]=[$f,bte];id[87]=[$f,yte];id[119]=[$f,yte];function qBe(t,e,n){const i=this;let r,s;return o;function o(h){return!YI(h)||!wte.call(i,i.previous)||S5(i.events)?n(h):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(h))}function a(h){return YI(h)?(t.consume(h),a):h===64?(t.consume(h),l):n(h)}function l(h){return h===46?t.check(HBe,d,c)(h):h===45||h===95||Ps(h)?(s=!0,t.consume(h),l):d(h)}function c(h){return t.consume(h),r=!0,l}function d(h){return s&&r&&fo(i.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(h)):n(h)}}function GBe(t,e,n){const i=this;return r;function r(o){return o!==87&&o!==119||!vte.call(i,i.previous)||S5(i.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(VBe,t.attempt(pte,t.attempt(mte,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function WBe(t,e,n){const i=this;let r="",s=!1;return o;function o(h){return(h===72||h===104)&&xte.call(i,i.previous)&&!S5(i.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),r+=String.fromCodePoint(h),t.consume(h),a):n(h)}function a(h){if(fo(h)&&r.length<5)return r+=String.fromCodePoint(h),t.consume(h),a;if(h===58){const p=r.toLowerCase();if(p==="http"||p==="https")return t.consume(h),l}return n(h)}function l(h){return h===47?(t.consume(h),s?c:(s=!0,l)):n(h)}function c(h){return h===null||v2(h)||ti(h)||Zy(h)||nN(h)?n(h):t.attempt(pte,t.attempt(mte,d),n)(h)}function d(h){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(h)}}function KBe(t,e,n){let i=0;return r;function r(o){return(o===87||o===119)&&i<3?(i++,t.consume(o),r):o===46&&i===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function YBe(t,e,n){let i,r,s;return o;function o(c){return c===46||c===95?t.check(gte,l,a)(c):c===null||ti(c)||Zy(c)||c!==45&&nN(c)?l(c):(s=!0,t.consume(c),o)}function a(c){return c===95?i=!0:(r=i,i=void 0),t.consume(c),o}function l(c){return r||i||!s?n(c):e(c)}}function XBe(t,e){let n=0,i=0;return r;function r(o){return o===40?(n++,t.consume(o),r):o===41&&i<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(gte,e,s)(o):o===null||ti(o)||Zy(o)?e(o):(t.consume(o),r)}function s(o){return o===41&&i++,t.consume(o),r}}function JBe(t,e,n){return i;function i(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),i):a===38?(t.consume(a),s):a===93?(t.consume(a),r):a===60||a===null||ti(a)||Zy(a)?e(a):n(a)}function r(a){return a===null||a===40||a===91||ti(a)||Zy(a)?e(a):i(a)}function s(a){return fo(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),i):fo(a)?(t.consume(a),o):n(a)}}function ZBe(t,e,n){return i;function i(s){return t.consume(s),r}function r(s){return Ps(s)?n(s):e(s)}}function vte(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||ti(t)}function xte(t){return!fo(t)}function wte(t){return!(t===47||YI(t))}function YI(t){return t===43||t===45||t===46||t===95||Ps(t)}function S5(t){let e=t.length,n=!1;for(;e--;){const i=t[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const QBe={tokenize:a5e,partial:!0};function e5e(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:r5e,continuation:{tokenize:s5e},exit:o5e}},text:{91:{name:"gfmFootnoteCall",tokenize:i5e},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:t5e,resolveTo:n5e}}}}function t5e(t,e,n){const i=this;let r=i.events.length;const s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o;for(;r--;){const l=i.events[r][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const c=Nc(i.sliceSerialize({start:o.end,end:i.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function n5e(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",i,e],t[n+3],t[n+4],["enter",r,e],["exit",r,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",i,e]];return t.splice(n,t.length-n+1,...a),t}function i5e(t,e,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s=0,o;return a;function a(h){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?n(h):(t.enter("gfmFootnoteCallMarker"),t.consume(h),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(h){if(s>999||h===93&&!o||h===null||h===91||ti(h))return n(h);if(h===93){t.exit("chunkString");const p=t.exit("gfmFootnoteCallString");return r.includes(Nc(i.sliceSerialize(p)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(h)}return ti(h)||(o=!0),s++,t.consume(h),h===92?d:c}function d(h){return h===91||h===92||h===93?(t.consume(h),s++,c):c(h)}}function r5e(t,e,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(v){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(v){return v===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",d):n(v)}function d(v){if(o>999||v===93&&!a||v===null||v===91||ti(v))return n(v);if(v===93){t.exit("chunkString");const S=t.exit("gfmFootnoteDefinitionLabelString");return s=Nc(i.sliceSerialize(S)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),p}return ti(v)||(a=!0),o++,t.consume(v),v===92?h:d}function h(v){return v===91||v===92||v===93?(t.consume(v),o++,d):d(v)}function p(v){return v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),r.includes(s)||r.push(s),Sn(t,m,"gfmFootnoteDefinitionWhitespace")):n(v)}function m(v){return e(v)}}function s5e(t,e,n){return t.check(wT,e,t.attempt(QBe,e,n))}function o5e(t){t.exit("gfmFootnoteDefinition")}function a5e(t,e,n){const i=this;return Sn(t,r,"gfmFootnoteDefinitionIndent",5);function r(s){const o=i.events[i.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function l5e(t){let n=(t||{}).singleTilde;const i={name:"strikethrough",tokenize:s,resolveAll:r};return n==null&&(n=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function r(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},h={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},p=[["enter",d,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",h,a]],m=a.parser.constructs.insideSpan.null;m&&Oa(p,p.length,0,iN(m,o.slice(c+1,l),a)),Oa(p,p.length,0,[["exit",h,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",d,a]]),Oa(o,c-1,l-c+3,p),l=c+p.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const c=this.previous,d=this.events;let h=0;return p;function p(v){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(v):(o.enter("strikethroughSequenceTemporary"),m(v))}function m(v){const S=qx(c);if(v===126)return h>1?l(v):(o.consume(v),h++,m);if(h<2&&!n)return l(v);const A=o.exit("strikethroughSequenceTemporary"),E=qx(v);return A._open=!E||E===2&&!!S,A._close=!S||S===2&&!!E,a(v)}}}class c5e{constructor(){this.map=[]}add(e,n,i){u5e(this,e,n,i)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const i=[];for(;n>0;)n-=1,i.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];i.push(e.slice()),e.length=0;let r=i.pop();for(;r;){for(const s of r)e.push(s);r=i.pop()}this.map.length=0}}function u5e(t,e,n,i){let r=0;if(!(n===0&&i.length===0)){for(;r<t.map.length;){if(t.map[r][0]===e){t.map[r][1]+=n,t.map[r][2].push(...i);return}r+=1}t.map.push([e,n,i])}}function d5e(t,e){let n=!1;const i=[];for(;e<t.length;){const r=t[e];if(n){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=i.length-1;i[s]=i[s]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return i}function f5e(){return{flow:{null:{name:"table",tokenize:h5e,resolveAll:p5e}}}}function h5e(t,e,n){const i=this;let r=0,s=0,o;return a;function a(B){let X=i.events.length-1;for(;X>-1;){const oe=i.events[X][1].type;if(oe==="lineEnding"||oe==="linePrefix")X--;else break}const Q=X>-1?i.events[X][1].type:null,J=Q==="tableHead"||Q==="tableRow"?O:l;return J===O&&i.parser.lazy[i.now().line]?n(B):J(B)}function l(B){return t.enter("tableHead"),t.enter("tableRow"),c(B)}function c(B){return B===124||(o=!0,s+=1),d(B)}function d(B){return B===null?n(B):bt(B)?s>1?(s=0,i.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),m):n(B):dn(B)?Sn(t,d,"whitespace")(B):(s+=1,o&&(o=!1,r+=1),B===124?(t.enter("tableCellDivider"),t.consume(B),t.exit("tableCellDivider"),o=!0,d):(t.enter("data"),h(B)))}function h(B){return B===null||B===124||ti(B)?(t.exit("data"),d(B)):(t.consume(B),B===92?p:h)}function p(B){return B===92||B===124?(t.consume(B),h):h(B)}function m(B){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(B):(t.enter("tableDelimiterRow"),o=!1,dn(B)?Sn(t,v,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):v(B))}function v(B){return B===45||B===58?A(B):B===124?(o=!0,t.enter("tableCellDivider"),t.consume(B),t.exit("tableCellDivider"),S):P(B)}function S(B){return dn(B)?Sn(t,A,"whitespace")(B):A(B)}function A(B){return B===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(B),t.exit("tableDelimiterMarker"),E):B===45?(s+=1,E(B)):B===null||bt(B)?N(B):P(B)}function E(B){return B===45?(t.enter("tableDelimiterFiller"),M(B)):P(B)}function M(B){return B===45?(t.consume(B),M):B===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(B),t.exit("tableDelimiterMarker"),R):(t.exit("tableDelimiterFiller"),R(B))}function R(B){return dn(B)?Sn(t,N,"whitespace")(B):N(B)}function N(B){return B===124?v(B):B===null||bt(B)?!o||r!==s?P(B):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(B)):P(B)}function P(B){return n(B)}function O(B){return t.enter("tableRow"),$(B)}function $(B){return B===124?(t.enter("tableCellDivider"),t.consume(B),t.exit("tableCellDivider"),$):B===null||bt(B)?(t.exit("tableRow"),e(B)):dn(B)?Sn(t,$,"whitespace")(B):(t.enter("data"),F(B))}function F(B){return B===null||B===124||ti(B)?(t.exit("data"),$(B)):(t.consume(B),B===92?q:F)}function q(B){return B===92||B===124?(t.consume(B),F):F(B)}}function p5e(t,e){let n=-1,i=!0,r=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,c,d,h;const p=new c5e;for(;++n<t.length;){const m=t[n],v=m[1];m[0]==="enter"?v.type==="tableHead"?(a=!1,l!==0&&(h9(p,e,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},p.add(n,0,[["enter",c,e]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(i=!0,h=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,d={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},p.add(n,0,[["enter",d,e]])),r=v.type==="tableDelimiterRow"?2:d?3:1):r&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(i=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],h=yM(p,e,s,r,void 0,h),s=[0,0,0,0]),o[2]=n)):v.type==="tableCellDivider"&&(i?i=!1:(s[1]!==0&&(o[0]=o[1],h=yM(p,e,s,r,void 0,h)),s=o,o=[s[1],n,0,0])):v.type==="tableHead"?(a=!0,l=n):v.type==="tableRow"||v.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],h=yM(p,e,s,r,n,h)):o[1]!==0&&(h=yM(p,e,o,r,n,h)),r=0):r&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&h9(p,e,l,c,d),p.consume(e.events),n=-1;++n<e.events.length;){const m=e.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=d5e(e.events,n))}return t}function yM(t,e,n,i,r,s){const o=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},Wb(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=Wb(e.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const c=Wb(e.events,n[2]),d=Wb(e.events,n[3]),h={type:a,start:Object.assign({},c),end:Object.assign({},d)};if(t.add(n[2],0,[["enter",h,e]]),i!==2){const p=e.events[n[2]],m=e.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const v=n[2]+1,S=n[3]-n[2]-1;t.add(v,S,[])}}t.add(n[3]+1,0,[["exit",h,e]])}return r!==void 0&&(s.end=Object.assign({},Wb(e.events,r)),t.add(r,0,[["exit",s,e]]),s=void 0),s}function h9(t,e,n,i,r){const s=[],o=Wb(e.events,n);r&&(r.end=Object.assign({},o),s.push(["exit",r,e])),i.end=Object.assign({},o),s.push(["exit",i,e]),t.add(n+1,0,s)}function Wb(t,e){const n=t[e],i=n[0]==="enter"?"start":"end";return n[1][i]}const m5e={name:"tasklistCheck",tokenize:y5e};function g5e(){return{text:{91:m5e}}}function y5e(t,e,n){const i=this;return r;function r(l){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return ti(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return bt(l)?e(l):dn(l)?t.check({tokenize:b5e},e,n)(l):n(l)}}function b5e(t,e,n){return Sn(t,i,"whitespace");function i(r){return r===null?n(r):e(r)}}function v5e(t){return Dee([UBe(),e5e(),l5e(t),f5e(),g5e()])}const x5e={};function w5e(t){const e=this,n=t||x5e,i=e.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),s=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),o=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(v5e(n)),s.push(zBe()),o.push(BBe(n))}const S5e=t=>{let e="";for(let i=0;i<t.length;i++)e+=t[i],i<t.length-1&&(e+="");return e.replace(/\\n/g,`  
`).replace(/```/g,"")},C5e=({messages:t,messagesRef:e})=>b.jsxs("div",{className:"w-full flex flex-col space-y-2",children:[t.map((n,i)=>b.jsx("div",{children:n.type==="stream_message"||n.type==="answer_the_question"||n.type==="ask_the_question"?b.jsx(b.Fragment,{children:n.stream_message.length!==0&&b.jsx("div",{className:"mb-6 borders border-indigo-100 rounded-lg",children:b.jsx("div",{className:"flex w-full justify-start",children:b.jsx("div",{className:"text-left  tracking-wide px-4 py-2 rounded-xl flex  text-zinc-700 text-[14px]",children:b.jsxs("span",{className:"whitespace-pre-wrap",children:[b.jsx(oze,{remarkPlugins:[yze,w5e],children:S5e(n.stream_message)}),n.status==="in_progress"&&b.jsx("div",{className:"",children:b.jsx(gv,{})})]})})})},i)}):n.type==="user_prompt"?b.jsx("div",{className:"flex justify-end mt-4",children:b.jsx("div",{className:"flex max-w-140 justify-end ",children:b.jsx("div",{className:"text-left text-[16px] tracking-wide px-4 py-2  text-zinc-800 rounded-lg bg-zinc-100",children:n.user_prompt})})},i):b.jsxs("div",{className:"mb-3",children:[b.jsx(Fp.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:"rounded-lg  borders border-gray-200",children:b.jsxs("div",{className:"flex items-center gap-4  rounded-lg  borders border-gray-200 ml-4",children:[n.status==="in_progress"&&b.jsx("div",{className:"flex items-center gap-2",children:b.jsx("div",{className:"mt-2 ml-2",children:b.jsx(gv,{})})}),n.status==="failed"&&b.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),b.jsx("span",{className:"text-xs",children:"Failed"})]}),n.status==="canceled"&&b.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),b.jsx("span",{className:"text-xs",children:"Canceled"})]})]})},i),b.jsx("div",{className:"text-gray-600 font-semibold ",children:n.processes.map(r=>b.jsxs(Fp.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:"rounded-lg  borders border-gray-200  mt-3 ml-2",children:[b.jsxs("div",{className:"flex items-center gap-4 p-3  rounded-lg  borders border-gray-200",children:[b.jsxs("div",{className:"text-sm flex-grow",children:[r.description.slice(0,60),"..."]}),r.status==="in_progress"&&b.jsx("div",{className:"flex items-center gap-2",children:b.jsx("div",{className:"mt-2",children:b.jsx(gv,{})})}),r.status==="succeeded"&&b.jsx("div",{className:"flex items-center gap-2 text-green-600",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),r.status==="failed"&&b.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),b.jsx("span",{className:"text-xs",children:"Failed"})]})]}),b.jsx("div",{className:"text-xs text-indigo-500 font-normal max-w-130 pl-2 flex items-start gap-4 ml-2",children:r.stream_text&&r.stream_text.length>0&&b.jsx(b.Fragment,{children:b.jsx("div",{className:"mt-2",children:b.jsx(gv,{})})})})]},r.id))})]},i)},i)),b.jsx("div",{ref:e})]}),XI=eT(t=>({openRouterModels:{freeModels:[],paidModels:[]},saveOpenRouterModels:({freeModels:e,paidModels:n})=>t(()=>({openRouterModels:{freeModels:e,paidModels:n}}))})),A5e=({setIsModelsOpen:t})=>{const e=["PaLM","Search","Gemma","GPT-3.5","-mini"," Mini"," nano"," Nano"],n=k3(()=>t(!1)),i=kt(c=>c.authData.accessToken),r=kt(c=>c.authData),s=XI(c=>c.openRouterModels.paidModels),o=Se.useMemo(()=>s.filter(c=>(c.name.startsWith("Google")||c.name.startsWith("OpenAI"))&&!e.some(d=>c.name.includes(d))).sort((c,d)=>{var m,v;const h=((m=c.pricing)==null?void 0:m.completion)??1/0,p=((v=d.pricing)==null?void 0:v.completion)??1/0;return parseFloat(p)-parseFloat(h)}),[s]),a=kt(c=>c.saveSelectedModel),l=async c=>{try{await IG(i,r.id,{selected_model:c}),a(c)}catch(d){console.log(d)}};return b.jsx("div",{ref:n,className:"bg-white p-2 border border-zinc-300 rounded-lg max-h-160 overflow-y-auto",children:b.jsx("ul",{children:o.map(c=>b.jsx("li",{children:b.jsx("div",{onClick:()=>l(c.id),className:"text-xs hover:font-semibold cursor-pointer",children:c.name})},c.id))})})};function FL(t){return pi({attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 4c-4.419 0-8 3.582-8 8s3.581 8 8 8 8-3.582 8-8-3.581-8-8-8zm3.707 10.293c.391.391.391 1.023 0 1.414-.195.195-.451.293-.707.293s-.512-.098-.707-.293l-2.293-2.293-2.293 2.293c-.195.195-.451.293-.707.293s-.512-.098-.707-.293c-.391-.391-.391-1.023 0-1.414l2.293-2.293-2.293-2.293c-.391-.391-.391-1.023 0-1.414s1.023-.391 1.414 0l2.293 2.293 2.293-2.293c.391-.391 1.023-.391 1.414 0s.391 1.023 0 1.414l-2.293 2.293 2.293 2.293z"},child:[]}]})(t)}const E5e=({projectId:t})=>{const[e,n]=k.useState(""),[i,r]=k.useState(!1),[s,o]=k.useState(!1),[a,l]=k.useState(!1),[c,d]=k.useState(void 0),[h,p]=k.useState(!1),m=Gh(ae=>ae.addUserPrompt),v=Gh(ae=>ae.setChat),S=kt(ae=>ae.authData.accessToken),A=kt(ae=>ae.authData),E=Gh(ae=>ae.chat),M=k3(()=>r(!1)),R=Hh(ae=>ae.context),N=Hh(ae=>ae.selectedText),P=kt(ae=>ae.authData.selected_model),O=kt(ae=>ae.authData.open_router_api_key),$=XI(ae=>ae.openRouterModels),F=Hh(ae=>ae.contextProject),q=Gh(ae=>ae.chat.length>0&&ae.chat[ae.chat.length-1].status==="in_progress"),B=Hh(ae=>ae.setContext),X=Hh(ae=>ae.setSelectedText),Q=XI(ae=>ae.saveOpenRouterModels),J=Hh(ae=>ae.setContextProject),oe=Gh(ae=>ae.addUpdateProcess),ce=k.useRef(null);k.useEffect(()=>{const ae=async()=>{l(!0);try{const ve=(await lfe()).data.data,ke=[],Ce=[];for(let je=1;je<ve.length;je++)ve[je].pricing.completion==="0"?ke.push(ve[je]):Ce.push(ve[je]);Q({freeModels:ke,paidModels:Ce})}catch(U){console.log(U)}finally{l(!1)}};$.paidModels.length===0&&ae()},[O]),k.useEffect(()=>{var ae;(ae=ce.current)==null||ae.scrollIntoView({behavior:"smooth"}),q||le(E)},[E]),k.useEffect(()=>{E.length>0?J(!1):J(!0)},[E]),k.useEffect(()=>{const ae=$.paidModels.find(U=>U.id===P);d(ae||void 0)},[$,P]);const le=async ae=>{const U=new FormData;ae.length===0&&U.append("chat_messages",JSON.stringify(ae)),U.append("chat",JSON.stringify(ae));try{await ZE(S,t,U)}catch(ve){console.error(ve)}},ee=async()=>{if(e==="")return;const ae=R.id?R:null,U=ae!=null&&ae.scenes[0]?ae.scenes[0]:null;try{const ve=await yNe(S,{project_id:t,user_prompt:e,chapter:ae,scene:U,selectedContextText:N,contextProject:F});n(""),B($C()),X(""),m(e,ve.data.request_id)}catch(ve){console.error(ve)}},Z=async()=>{if(E.length!=0)try{await le([]),v([])}catch(ae){console.error(ae)}},se=()=>{const ae={...R,scenes:[]};B(ae),X("")},j=ae=>{ae.key==="Enter"&&!ae.shiftKey&&!ae.ctrlKey&&(ae.preventDefault(),ee())},te=async()=>{const ae=E[E.length-1].process_id,U=E[E.length-1].request_id;try{const ve=await bNe(S,{process_id:ae,request_id:U});oe(ve.data)}catch(ve){console.log(ve)}finally{l(!1)}};return b.jsxs("div",{ref:M,children:[b.jsx("div",{className:` ${i?" opacity-100 mb-8 relative":"bottom-[-600px] opacity-0 absolute"} h-140 bg-white  transition-discrete 
                 duration-300 border border-gray-400 rounded-lg shadow-sm z-40 overflow:hidden duration-300 overflow-auto`,children:b.jsx("div",{className:"w-180 rounded-lg border-none  p-6 flex items-end",children:b.jsx(C5e,{messages:E,messagesRef:ce})})}),b.jsxs("div",{className:"relative border border-gray-400 rounded-lg shadow-sm z-50",children:[b.jsxs("div",{className:" block w-180 rounded-lg border-none bg-white",children:[b.jsx("div",{className:"h-fit w-full",children:b.jsxs("div",{className:"static flex w-full justify-end items-start gap-2 pt-2 pr-2",children:[s&&b.jsx("div",{className:"absolute bottom-33 right-0",children:b.jsx(A5e,{setIsModelsOpen:o})}),b.jsxs("div",{className:"flex flex-col",children:[c&&!a&&b.jsx("div",{className:"flex items-start",children:b.jsx("p",{className:"text-xs text-zinc-900 font-semibold",children:c.name})}),c&&!a&&b.jsxs("div",{className:"flex justify-end text-center gap-1",children:[b.jsx("p",{className:"text-[10px] text-zinc-700 font-semibold",children:"out"}),b.jsxs("p",{className:"text-[10px] text-red-400 font-semibold",children:[(parseFloat(c.pricing.completion)*1e6).toFixed(2)," USD,"]}),b.jsx("p",{className:"text-[10px] text-zinc-700 font-semibold",children:"in"}),b.jsxs("p",{className:"text-[10px] text-red-400 font-semibold",children:[(parseFloat(c.pricing.prompt)*1e6).toFixed(2)," USD"]})]})]}),b.jsx("div",{className:"flex justify-end text-center  bottom-26 right-16",children:b.jsx(bl,{onClick:()=>{o(!s)},className:"rounded-lg bg-zinc-700/80 p-1 font-medium text-white focus:outline-none hover:bg-zinc-700/90 active:bg-zinc-300",children:b.jsx("p",{className:"text-xs",children:b.jsx(uke,{})})})}),b.jsx("div",{className:"flex justify-end text-center  bottom-26 right-3",children:b.jsx(bl,{onClick:()=>{Z()},className:" rounded-lg bg-zinc-700/80 py-0.5 px-2 font-medium text-white focus:outline-none hover:bg-zinc-700/90 active:bg-zinc-300",children:b.jsx("p",{className:"text-xs",children:"Clean"})})})]})}),b.jsxs("form",{onSubmit:ae=>{ae.preventDefault(),ee()},children:[b.jsx(FC,{isUserProfileOpen:h,setIsUserProfileOpen:p,userData:A}),O?b.jsx(SEe,{onKeyDown:j,onClick:()=>r(!0),onChange:ae=>n(ae.target.value),value:e,className:"block w-180 resize-none rounded-lg border-none bg-white py-1.5 px-3 text-base/6 text-zinc-700 focus:outline-none pt-",minRows:2,maxRows:6}):b.jsx("div",{onClick:()=>{p(!0)},className:"h-20 w-full items-center text center flex justify-center cursor-pointer font-semibold",children:"Add OpenRouter API Key"})]}),b.jsxs("div",{className:"flex items-center gap-1 pl-3 pb-2 pb-1 text-sm text-zinc-500",children:[b.jsx("p",{children:"Context: "}),b.jsx(bl,{onClick:()=>{J(!F)},className:`rounded-md 
                            ${F?"bg-indigo-700/80 text-white hover:bg-indigo-700/90":"bg-white text-zinc-400 border border-zinc-300 hover:bg-zinc-50 hover:border-zinc-400 hover:text-zinc-500 "} 
                                px-2 py-0 text-xs font-medium   active:bg-indigo-300`,children:b.jsx("p",{className:"text-xs",children:"Project"})}),R.id&&b.jsxs("div",{className:"flex items-center gap-1 rounded-md bg-[#ffb442] px-1 pl-2 py-0 text-xs font-medium text-white focus:outline-none cursor-default",children:[b.jsxs("p",{className:"text-xs text-zinc-700",children:["Chapter ",R.name]}),b.jsx("p",{onClick:()=>{B($C()),X("")},className:"text-base text-zinc-700",children:b.jsx(FL,{})})]}),R.scenes[0]&&b.jsxs("div",{className:"flex items-center gap-1 rounded-md bg-[#ffb442] px-1 pl-2 py-0 text-xs font-medium text-white focus:outline-none cursor-default",children:[b.jsxs("p",{className:"text-xs text-zinc-700",children:["Scene ",R.scenes[0].sequence]}),b.jsx("p",{onClick:()=>se(),className:"text-base text-zinc-700",children:b.jsx(FL,{})})]}),N!==""&&b.jsxs("div",{className:"flex items-center gap-1 rounded-md bg-[#ffb442] px-1 pl-2 py-0 text-xs font-medium text-white focus:outline-none cursor-default",children:[b.jsx("p",{className:"text-xs text-zinc-700",children:"Text"}),b.jsx("p",{onClick:()=>X(""),className:"text-base text-zinc-700",children:b.jsx(FL,{})})]})]})]}),q?b.jsx("div",{className:"flex justify-end text-center absolute bottom-2 right-2",children:b.jsx(bl,{onClick:()=>{te()},className:"rounded-full bg-indigo-700/80 p-1.5 text-xs font-medium text-white focus:outline-none hover:bg-indigo-700/90 active:bg-indigo-300",children:b.jsx("p",{className:"text-xs",children:b.jsx(k_e,{})})})}):b.jsx("div",{className:"flex justify-end text-center absolute bottom-2 right-2",children:b.jsx(bl,{onClick:()=>{ee()},className:"rounded-full bg-indigo-700/80 p-1.5 text-xs font-medium text-white focus:outline-none hover:bg-indigo-700/90 active:bg-indigo-300",children:b.jsx("p",{className:"text-sm",children:b.jsx(VG,{})})})})]})]})},T5e=()=>{const[t,e]=k.useState(!1),[n,i]=k.useState(!0),[r]=k.useState("Chapters"),[s,o]=k.useState(!1),{id:a}=ed(),l=$t(h=>h.projectsList.find(p=>p.id.toString()===(a==null?void 0:a.toString()))),c=$t(h=>h.updateProjectInList),d=Gh(h=>h.setChat);return k.useEffect(()=>{i(!0);const h=async()=>{try{const p=localStorage.getItem("accessToken");if(p){const m=await $de(p,a);d(m.data.chat),c(m.data)}else return}catch(p){console.error(p)}finally{i(!1)}};a&&l&&a===l.id&&i(!1),h()},[a]),b.jsxs("section",{className:" w-full flex flex-col justify-start items-start min-h-screen",children:[b.jsx("section",{className:"w-full shrink-0 h-16 p-3 gap-3  lg:block"}),b.jsxs("div",{className:"flex w-full h-full ",children:[b.jsx(gNe,{project:l,isExtracting:t}),b.jsx("section",{className:"w-18 shrink-0 h-full p-3 gap-3 lg:block"}),n?b.jsx("div",{className:" flex flex-col justify-between items-center w-full  p-3 ",children:b.jsx("div",{className:"text-2xl text-zinc-400"})}):b.jsx(b.Fragment,{children:l?b.jsxs("div",{className:"flex flex-col w-full ",children:[l.chapters&&r==="Chapters"&&b.jsx("div",{className:"w-full items-start justify-start flex flex-col pt-3 gap-2",children:l.chapters.map(h=>b.jsx(kke,{chapter:h,project:l},h.id))}),b.jsx("div",{className:"w-full h-60"})]}):b.jsx("div",{className:"w-full"})}),b.jsx("section",{className:"flex shrink-0 flex-col w-23 min-h-[600px] p-3 gap-3"}),l&&b.jsxs(b.Fragment,{children:[b.jsx(Ofe,{project:l,setIsExtracting:e,isExtracting:t}),b.jsx("div",{className:"fixed bottom-6 left-[50%] translate-x-[-50%] ",children:b.jsx(E5e,{setIsFocused:o,isFocused:s,projectId:l.id})})]})]})]})},k5e=()=>b.jsx(b.Fragment,{children:b.jsx(T5e,{})}),_5e=()=>{const[t,e]=g0e(["login","register"]),[n,i]=k.useState(""),[r,s]=k.useState(""),[o,a]=k.useState(""),[l,c]=k.useState(!0),[d,h]=k.useState(!1),p=jf(),m=kt(M=>M.saveAccessToken),v=kt(M=>M.saveAuthData),S=kt(M=>M.setLoggedIn);k.useEffect(()=>{const M=async N=>{try{await LG({token:N});const P=await iv(N);m(N),v(P.data),S(!0),p("dashboard")}catch{try{const O=await jG({refresh:localStorage.getItem("refreshToken")});localStorage.setItem("accessToken",O.data.access);const $=await iv(N);m(N),v($.data),S(!0),p("dashboard")}catch(O){console.error(O)}}},R=localStorage.getItem("accessToken");R&&M(R)},[]),k.useEffect(()=>{if(r&&o)return c(r===o);c(!0)},[r,o]);const A=async()=>{if(!(!n||!r||!o)){h(!0);try{await rfe({email:n,username:n,password:r});const M=await G4({email:n,password:r}),R=await iv(M.data.access);localStorage.setItem("accessToken",M.data.access),localStorage.setItem("refreshToken",M.data.refresh),m(M.data.access),v(R.data),S(!0),p("dashboard")}catch(M){console.log(M)}finally{h(!1)}}},E=async()=>{if(!(!n||!r)){h(!0);try{const M=await G4({email:n,password:r}),R=await iv(M.data.access);localStorage.setItem("accessToken",M.data.access),localStorage.setItem("refreshToken",M.data.refresh),m(M.data.access),v(R.data),S(!0),p("dashboard")}catch(M){console.log(M)}finally{h(!1)}}};return b.jsxs("div",{className:"h-screen bg-zinc-50",children:[b.jsxs("div",{className:"flex items-center p-4",children:[b.jsx("img",{className:"size-10",src:zG,alt:"dddd"}),b.jsx("span",{className:"font-semibold text-xl",children:"LoreFlow"})]}),b.jsxs("main",{className:"characters-section flex flex-col w-full h-[80%] justify-center items-center bg-zinc-50",children:[b.jsx("p",{className:"text-4xl font-semibold mb-1",children:"Welcome back!"}),b.jsx("div",{onClick:()=>e(),className:"text-xs text-zinc-500 cursor-pointer hover:underline mb-6",children:t==="register"?"Already have an account? Login":"Don't have an account? Register"}),b.jsxs("section",{className:"border border-zinc-300 rounded-lg p-6 bg-white shadow min-w-sm",children:[b.jsxs("section",{children:[b.jsx("p",{className:"text-sm font-semibold mb-0.5",children:"Email"}),b.jsx("input",{className:"border border-zinc-300 rounded-md px-2 py-1 bg-white w-full text-xs mb-3",required:!0,type:"email",placeholder:"author@email.com",value:n,onChange:M=>i(M.target.value)}),b.jsx("p",{className:"text-sm font-semibold mb-0.5",children:"Password"}),b.jsx("input",{className:"border border-zinc-300 rounded-md px-2 py-1 bg-white w-full text-xs mb-3",required:!0,type:"password",placeholder:"Your password",value:r,onChange:M=>s(M.target.value)}),t==="register"&&b.jsxs(b.Fragment,{children:[b.jsx("p",{className:"text-sm font-semibold mb-0.5",children:"Repeat password"}),b.jsx("input",{className:"border border-zinc-300 rounded-md px-2 py-1 bg-white w-full text-xs mb-3",required:!0,type:"password",placeholder:"Repeate password",value:o,onChange:M=>a(M.target.value)})]}),!l&&b.jsx("p",{className:"text-xs text-red-500 mb-0.5",children:"Passwords doesn't match."})]}),b.jsx($D,{justify:"space-between",mt:"xl",children:t==="register"?b.jsx("button",{onClick:A,className:"w-full border border-zinc-300 rounded-lg p-2 bg-indigo-400 active:bg-indigo-300 flex justify-center",children:d?b.jsx("div",{className:"flex justify-center items-center p-3",children:b.jsx(gv,{})}):b.jsx("p",{className:"text-white font-semibold",children:"Register"})}):b.jsx("button",{onClick:E,className:"w-full border border-zinc-300 rounded-lg p-2 bg-indigo-400 active:bg-indigo-300 flex justify-center",children:d?b.jsx("div",{className:"flex justify-center items-center p-3",children:b.jsx(gv,{})}):b.jsx("p",{className:"text-white font-semibold",children:"Login"})})})]})]})]})},M5e=()=>b.jsx(b.Fragment,{children:b.jsx(_5e,{})}),R5e=()=>{const t=kt(e=>e.isLoggedIn);return b.jsx(b.Fragment,{children:t?b.jsx(C$,{}):b.jsx(hse,{to:"/"})})};function D5e(){return b.jsx($se,{children:b.jsxs(mse,{children:[b.jsx(Oh,{element:b.jsx(R5e,{}),children:b.jsxs(Oh,{element:b.jsx(dfe,{}),children:[b.jsx(Oh,{path:"/dashboard",element:b.jsx(afe,{})}),b.jsx(Oh,{path:"/dashboard/project/:id",element:b.jsx(k5e,{})})]})}),b.jsx(Oh,{element:b.jsx(Kse,{}),children:b.jsx(Oh,{path:"/",element:b.jsx(M5e,{})})}),b.jsx(Oh,{path:"*",element:b.jsx(Yse,{})})]})})}function N5e(){return b.jsx(dX,{children:b.jsx(D5e,{})})}const P5e="modulepreload",O5e=function(t){return"/"+t},p9={},bM=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=O5e(l),l in p9)return;p9[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":P5e,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var NC={};NC.d=(t,e)=>{for(var n in e)NC.o(e,n)&&!NC.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})};NC.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Lt=globalThis.pdfjsLib={};NC.d(Lt,{AbortException:()=>p0,AnnotationEditorLayer:()=>a$,AnnotationEditorParamsType:()=>Dt,AnnotationEditorType:()=>Xt,AnnotationEditorUIManager:()=>e0,AnnotationLayer:()=>N6e,AnnotationMode:()=>Wh,ColorPicker:()=>T2,DOMSVGFactory:()=>O5,DrawLayer:()=>d$,FeatureTest:()=>go,GlobalWorkerOptions:()=>hf,ImageKind:()=>qM,InvalidPDFException:()=>Cte,MissingPDFException:()=>h0,OPS:()=>uc,OutputScale:()=>tF,PDFDataRangeTransport:()=>vne,PDFDateString:()=>k5,PDFWorker:()=>Av,PasswordResponses:()=>F5e,PermissionFlag:()=>I5e,PixelsPerInch:()=>Bp,RenderingCancelledException:()=>E5,TextLayer:()=>CA,UnexpectedResponseException:()=>uN,Util:()=>lt,VerbosityLevel:()=>aN,XfaLayer:()=>wne,build:()=>f6e,createValidAbsoluteUrl:()=>V5e,fetchData:()=>fN,getDocument:()=>i6e,getFilenameFromUrl:()=>J5e,getPdfFilenameFromUrl:()=>Z5e,getXfaPageViewport:()=>Q5e,isDataScheme:()=>hN,isPdfFile:()=>T5,noContextMenu:()=>Nl,normalizeUnicode:()=>K5e,setLayerDimensions:()=>Qy,shadow:()=>vn,version:()=>d6e});const Os=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Ste=[1,0,0,1,0,0],JI=[.001,0,0,.001,0,0],L5e=1e7,$L=1.35,Sa={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Wh={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},j5e="pdfjs_internal_editor_",Xt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Dt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},I5e={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},vs={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},qM={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},gr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},$S={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},aN={ERRORS:0,WARNINGS:1,INFOS:5},uc={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},F5e={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let lN=aN.WARNINGS;function $5e(t){Number.isInteger(t)&&(lN=t)}function z5e(){return lN}function cN(t){lN>=aN.INFOS&&console.log(`Info: ${t}`)}function rn(t){lN>=aN.WARNINGS&&console.log(`Warning: ${t}`)}function wi(t){throw new Error(t)}function Cr(t,e){t||wi(e)}function B5e(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function V5e(t,e=null,n=null){if(!t)return null;try{if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const r=t.match(/\./g);(r==null?void 0:r.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=W5e(t)}catch{}}const i=e?new URL(t,e):new URL(t);if(B5e(i))return i}catch{}return null}function vn(t,e,n,i=!1){return Object.defineProperty(t,e,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const im=function(){function e(n,i){this.message=n,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class ZI extends im{constructor(e,n){super(e,"PasswordException"),this.code=n}}class QI extends im{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class Cte extends im{constructor(e){super(e,"InvalidPDFException")}}class h0 extends im{constructor(e){super(e,"MissingPDFException")}}class uN extends im{constructor(e,n){super(e,"UnexpectedResponseException"),this.status=n}}class H5e extends im{constructor(e){super(e,"FormatError")}}class p0 extends im{constructor(e){super(e,"AbortException")}}function Ate(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&wi("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const i=[];for(let r=0;r<e;r+=n){const s=Math.min(r+n,e),o=t.subarray(r,s);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function dN(t){typeof t!="string"&&wi("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let i=0;i<e;++i)n[i]=t.charCodeAt(i)&255;return n}function U5e(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function C5(t){const e=Object.create(null);for(const[n,i]of t)e[n]=i;return e}function q5e(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function G5e(){try{return new Function(""),!0}catch{return!1}}class go{static get isLittleEndian(){return vn(this,"isLittleEndian",q5e())}static get isEvalSupported(){return vn(this,"isEvalSupported",G5e())}static get isOffscreenCanvasSupported(){return vn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?vn(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):vn(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,n;return vn(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const zL=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Ef,GM,eF;class lt{static makeHexColor(e,n,i){return`#${zL[e]}${zL[n]}${zL[i]}`}static scaleMinMax(e,n){let i;e[0]?(e[0]<0&&(i=n[0],n[0]=n[2],n[2]=i),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(i=n[1],n[1]=n[3],n[3]=i),n[1]*=e[3],n[3]*=e[3]):(i=n[0],n[0]=n[1],n[1]=i,i=n[2],n[2]=n[3],n[3]=i,e[1]<0&&(i=n[1],n[1]=n[3],n[3]=i),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(i=n[0],n[0]=n[2],n[2]=i),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static applyTransform(e,n){const i=e[0]*n[0]+e[1]*n[2]+n[4],r=e[0]*n[1]+e[1]*n[3]+n[5];return[i,r]}static applyInverseTransform(e,n){const i=n[0]*n[3]-n[1]*n[2],r=(e[0]*n[3]-e[1]*n[2]+n[2]*n[5]-n[4]*n[3])/i,s=(-e[0]*n[1]+e[1]*n[0]+n[4]*n[1]-n[5]*n[0])/i;return[r,s]}static getAxialAlignedBoundingBox(e,n){const i=this.applyTransform(e,n),r=this.applyTransform(e.slice(2,4),n),s=this.applyTransform([e[0],e[3]],n),o=this.applyTransform([e[2],e[1]],n);return[Math.min(i[0],r[0],s[0],o[0]),Math.min(i[1],r[1],s[1],o[1]),Math.max(i[0],r[0],s[0],o[0]),Math.max(i[1],r[1],s[1],o[1])]}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e){const n=[e[0],e[2],e[1],e[3]],i=e[0]*n[0]+e[1]*n[2],r=e[0]*n[1]+e[1]*n[3],s=e[2]*n[0]+e[3]*n[2],o=e[2]*n[1]+e[3]*n[3],a=(i+o)/2,l=Math.sqrt((i+o)**2-4*(i*o-s*r))/2,c=a+l||1,d=a-l||1;return[Math.sqrt(c),Math.sqrt(d)]}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const i=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return s>o?null:[i,s,r,o]}static bezierBoundingBox(e,n,i,r,s,o,a,l,c){return c?(c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],n,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],n,l)):c=[Math.min(e,a),Math.min(n,l),Math.max(e,a),Math.max(n,l)],H(this,Ef,eF).call(this,e,i,s,a,n,r,o,l,3*(-e+3*(i-s)+a),6*(e-2*i+s),3*(i-e),c),H(this,Ef,eF).call(this,e,i,s,a,n,r,o,l,3*(-n+3*(r-o)+l),6*(n-2*r+o),3*(r-n),c),c}}Ef=new WeakSet,GM=function(e,n,i,r,s,o,a,l,c,d){if(c<=0||c>=1)return;const h=1-c,p=c*c,m=p*c,v=h*(h*(h*e+3*c*n)+3*p*i)+m*r,S=h*(h*(h*s+3*c*o)+3*p*a)+m*l;d[0]=Math.min(d[0],v),d[1]=Math.min(d[1],S),d[2]=Math.max(d[2],v),d[3]=Math.max(d[3],S)},eF=function(e,n,i,r,s,o,a,l,c,d,h,p){if(Math.abs(c)<1e-12){Math.abs(d)>=1e-12&&H(this,Ef,GM).call(this,e,n,i,r,s,o,a,l,-h/d,p);return}const m=d**2-4*h*c;if(m<0)return;const v=Math.sqrt(m),S=2*c;H(this,Ef,GM).call(this,e,n,i,r,s,o,a,l,(-d+v)/S,p),H(this,Ef,GM).call(this,e,n,i,r,s,o,a,l,(-d-v)/S,p)},W(lt,Ef);function W5e(t){return decodeURIComponent(escape(t))}let BL=null,m9=null;function K5e(t){return BL||(BL=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,m9=new Map([["","t"]])),t.replaceAll(BL,(e,n,i)=>n?n.normalize("NFKC"):m9.get(i))}function Y5e(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const t=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(Math.random()*255);return Ate(t)}const A5="pdfjs_internal_id_",Od={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function X5e(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(Ate(t))}const jd="http://www.w3.org/2000/svg",Eg=class Eg{};Rt(Eg,"CSS",96),Rt(Eg,"PDF",72),Rt(Eg,"PDF_TO_CSS_UNITS",Eg.CSS/Eg.PDF);let Bp=Eg;async function fN(t,e="text"){if(JS(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,i)=>{const r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(r.response);return}n(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class CT{constructor({viewBox:e,scale:n,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=n,this.rotation=i,this.offsetX=r,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,d,h,p;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,d=0,h=0,p=1;break;case 90:c=0,d=1,h=1,p=0;break;case 270:c=0,d=-1,h=-1,p=0;break;case 0:c=1,d=0,h=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,p=-p);let m,v,S,A;c===0?(m=Math.abs(l-e[1])*n+r,v=Math.abs(a-e[0])*n+s,S=(e[3]-e[1])*n,A=(e[2]-e[0])*n):(m=Math.abs(a-e[0])*n+r,v=Math.abs(l-e[1])*n+s,S=(e[2]-e[0])*n,A=(e[3]-e[1])*n),this.transform=[c*n,d*n,h*n,p*n,m-c*n*a-h*n*l,v-d*n*a-p*n*l],this.width=S,this.height=A}get rawDims(){const{viewBox:e}=this;return vn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new CT({viewBox:this.viewBox.slice(),scale:e,rotation:n,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,n){return lt.applyTransform([e,n],this.transform)}convertToViewportRectangle(e){const n=lt.applyTransform([e[0],e[1]],this.transform),i=lt.applyTransform([e[2],e[3]],this.transform);return[n[0],n[1],i[0],i[1]]}convertToPdfPoint(e,n){return lt.applyInverseTransform([e,n],this.transform)}}class E5 extends im{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function hN(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function T5(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function J5e(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function Z5e(t,e="document.pdf"){if(typeof t!="string")return e;if(hN(t))return rn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=n.exec(t);let s=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=i.exec(decodeURIComponent(s))[0]}catch{}return s||e}class g9{constructor(){Rt(this,"started",Object.create(null));Rt(this,"times",[])}time(e){e in this.started&&rn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||rn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:i}of this.times)n=Math.max(i.length,n);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(n)} ${s-r}ms
`);return e.join("")}}function JS(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return n==="http:"||n==="https:"}catch{return!1}}function Nl(t){t.preventDefault()}function y9(t){console.log("Deprecated API usage: "+t)}var TA;class k5{static toDateObject(e){if(!e||typeof e!="string")return null;C(this,TA)||V(this,TA,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=C(this,TA).exec(e);if(!n)return null;const i=parseInt(n[1],10);let r=parseInt(n[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(n[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(n[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(n[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const c=n[7]||"Z";let d=parseInt(n[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(n[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(o+=d,a+=h):c==="+"&&(o-=d,a-=h),new Date(Date.UTC(i,r,s,o,a,l))}}TA=new WeakMap,W(k5,TA);function Q5e(t,{scale:e=1,rotation:n=0}){const{width:i,height:r}=t.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new CT({viewBox:s,scale:e,rotation:n})}function _5(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(rn(`Not a valid color format: "${t}"`),[0,0,0])}function e4e(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const i=window.getComputedStyle(e).color;t.set(n,_5(i))}e.remove()}function ji(t){const{a:e,b:n,c:i,d:r,e:s,f:o}=t.getTransform();return[e,n,i,r,s,o]}function Ld(t){const{a:e,b:n,c:i,d:r,e:s,f:o}=t.getTransform().invertSelf();return[e,n,i,r,s,o]}function Qy(t,e,n=!1,i=!0){if(e instanceof CT){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:o}=t,a=go.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,c=`var(--scale-factor) * ${s}px`,d=a?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,h=a?`round(down, ${c}, var(--scale-round-y, 1px))`:`calc(${c})`;!n||e.rotation%180===0?(o.width=d,o.height=h):(o.width=h,o.height=d)}i&&t.setAttribute("data-main-rotation",e.rotation)}class tF{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Kh,$g,dc,zg,kA,_A,_2,Ete,yo,Tte,kte,WM,_te,iF;const Fd=class Fd{constructor(e){W(this,yo);W(this,Kh,null);W(this,$g,null);W(this,dc);W(this,zg,null);W(this,kA,null);V(this,dc,e),C(Fd,_A)||V(Fd,_A,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=V(this,Kh,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=C(this,dc)._uiManager._signal;e.addEventListener("contextmenu",Nl,{signal:n}),e.addEventListener("pointerdown",H(Fd,_2,Ete),{signal:n});const i=V(this,zg,document.createElement("div"));i.className="buttons",e.append(i);const r=C(this,dc).toolbarPosition;if(r){const{style:s}=e,o=C(this,dc)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return H(this,yo,_te).call(this),e}get div(){return C(this,Kh)}hide(){var e;C(this,Kh).classList.add("hidden"),(e=C(this,$g))==null||e.hideDropdown()}show(){var e;C(this,Kh).classList.remove("hidden"),(e=C(this,kA))==null||e.shown()}async addAltText(e){const n=await e.render();H(this,yo,WM).call(this,n),C(this,zg).prepend(n,C(this,yo,iF)),V(this,kA,e)}addColorPicker(e){V(this,$g,e);const n=e.renderButton();H(this,yo,WM).call(this,n),C(this,zg).prepend(n,C(this,yo,iF))}remove(){var e;C(this,Kh).remove(),(e=C(this,$g))==null||e.destroy(),V(this,$g,null)}};Kh=new WeakMap,$g=new WeakMap,dc=new WeakMap,zg=new WeakMap,kA=new WeakMap,_A=new WeakMap,_2=new WeakSet,Ete=function(e){e.stopPropagation()},yo=new WeakSet,Tte=function(e){C(this,dc)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},kte=function(e){C(this,dc)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},WM=function(e){const n=C(this,dc)._uiManager._signal;e.addEventListener("focusin",H(this,yo,Tte).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",H(this,yo,kte).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Nl,{signal:n})},_te=function(){const{editorType:e,_uiManager:n}=C(this,dc),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",C(Fd,_A)[e]),H(this,yo,WM).call(this,i),i.addEventListener("click",r=>{n.delete()},{signal:n._signal}),C(this,zg).append(i)},iF=function(){const e=document.createElement("div");return e.className="divider",e},W(Fd,_2),W(Fd,_A,null);let nF=Fd;var MA,Bg,Vg,Hp,Mte,Rte,Dte;class t4e{constructor(e){W(this,Hp);W(this,MA,null);W(this,Bg,null);W(this,Vg);V(this,Vg,e)}show(e,n,i){const[r,s]=H(this,Hp,Rte).call(this,n,i),{style:o}=C(this,Bg)||V(this,Bg,H(this,Hp,Mte).call(this));e.append(C(this,Bg)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){C(this,Bg).remove()}}MA=new WeakMap,Bg=new WeakMap,Vg=new WeakMap,Hp=new WeakSet,Mte=function(){const e=V(this,Bg,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Nl,{signal:C(this,Vg)._signal});const n=V(this,MA,document.createElement("div"));return n.className="buttons",e.append(n),H(this,Hp,Dte).call(this),e},Rte=function(e,n){let i=0,r=0;for(const s of e){const o=s.y+s.height;if(o<i)continue;const a=s.x+(n?s.width:0);if(o>i){r=a,i=o;continue}n?a>r&&(r=a):a<r&&(r=a)}return[n?1-r:r,i]},Dte=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");e.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=C(this,Vg)._signal;e.addEventListener("contextmenu",Nl,{signal:i}),e.addEventListener("click",()=>{C(this,Vg).highlightSelection("floating_button")},{signal:i}),C(this,MA).append(e)};function C2(t,e,n){for(const i of n)e.addEventListener(i,t[i].bind(t))}function n4e(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}var M2;class i4e{constructor(){W(this,M2,0)}get id(){return`${j5e}${ro(this,M2)._++}`}}M2=new WeakMap;var Ev,RA,ws,Tv,KM;const j5=class j5{constructor(){W(this,Tv);W(this,Ev,Y5e());W(this,RA,0);W(this,ws,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return vn(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:n,name:i,size:r,type:s}=e;return H(this,Tv,KM).call(this,`${n}_${i}_${r}_${s}`,e)}async getFromUrl(e){return H(this,Tv,KM).call(this,e,e)}async getFromBlob(e,n){const i=await n;return H(this,Tv,KM).call(this,e,i)}async getFromId(e){C(this,ws)||V(this,ws,new Map);const n=C(this,ws).get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:i}=n;return delete n.blobPromise,this.getFromBlob(n.id,i)}return this.getFromUrl(n.url)}getFromCanvas(e,n){C(this,ws)||V(this,ws,new Map);let i=C(this,ws).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(n.width,n.height);return r.getContext("2d").drawImage(n,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${C(this,Ev)}_${ro(this,RA)._++}`,refCounter:1,isSvg:!1},C(this,ws).set(e,i),C(this,ws).set(i.id,i),i}getSvgUrl(e){const n=C(this,ws).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){var r;C(this,ws)||V(this,ws,new Map);const n=C(this,ws).get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:i}=n;if(!n.url&&!n.file){const s=new OffscreenCanvas(i.width,i.height);s.getContext("bitmaprenderer").transferFromImageBitmap(i),n.blobPromise=s.convertToBlob()}(r=i.close)==null||r.call(i),n.bitmap=null}isValidId(e){return e.startsWith(`image_${C(this,Ev)}_`)}};Ev=new WeakMap,RA=new WeakMap,ws=new WeakMap,Tv=new WeakSet,KM=async function(e,n){C(this,ws)||V(this,ws,new Map);let i=C(this,ws).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${C(this,Ev)}_${ro(this,RA)._++}`,refCounter:0,isSvg:!1});let r;if(typeof n=="string"?(i.url=n,r=await fN(n,"blob")):n instanceof File?r=i.file=n:n instanceof Blob&&(r=n),r.type==="image/svg+xml"){const s=j5._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,d)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,c()},o.onload=async()=>{const h=i.svgUrl=o.result;a.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=d});o.readAsDataURL(r),await l}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){console.error(r),i=null}return C(this,ws).set(e,i),i&&C(this,ws).set(i.id,i),i};let rF=j5;var Pr,Yh,DA,Or;class r4e{constructor(e=128){W(this,Pr,[]);W(this,Yh,!1);W(this,DA);W(this,Or,-1);V(this,DA,e)}add({cmd:e,undo:n,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(r&&e(),C(this,Yh))return;const l={cmd:e,undo:n,post:i,type:s};if(C(this,Or)===-1){C(this,Pr).length>0&&(C(this,Pr).length=0),V(this,Or,0),C(this,Pr).push(l);return}if(o&&C(this,Pr)[C(this,Or)].type===s){a&&(l.undo=C(this,Pr)[C(this,Or)].undo),C(this,Pr)[C(this,Or)]=l;return}const c=C(this,Or)+1;c===C(this,DA)?C(this,Pr).splice(0,1):(V(this,Or,c),c<C(this,Pr).length&&C(this,Pr).splice(c)),C(this,Pr).push(l)}undo(){if(C(this,Or)===-1)return;V(this,Yh,!0);const{undo:e,post:n}=C(this,Pr)[C(this,Or)];e(),n==null||n(),V(this,Yh,!1),V(this,Or,C(this,Or)-1)}redo(){if(C(this,Or)<C(this,Pr).length-1){V(this,Or,C(this,Or)+1),V(this,Yh,!0);const{cmd:e,post:n}=C(this,Pr)[C(this,Or)];e(),n==null||n(),V(this,Yh,!1)}}hasSomethingToUndo(){return C(this,Or)!==-1}hasSomethingToRedo(){return C(this,Or)<C(this,Pr).length-1}destroy(){V(this,Pr,null)}}Pr=new WeakMap,Yh=new WeakMap,DA=new WeakMap,Or=new WeakMap;var R2,Nte;class AT{constructor(e){W(this,R2);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=go.platform;for(const[i,r,s={}]of e)for(const o of i){const a=o.startsWith("mac+");n&&a?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!n&&!a&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const i=this.callbacks.get(H(this,R2,Nte).call(this,n));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:a=null}}=i;a&&!a(e,n)||(r.bind(e,...o,n)(),s||(n.stopPropagation(),n.preventDefault()))}}R2=new WeakSet,Nte=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const D2=class D2{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return e4e(e),vn(this,"_colors",e)}convert(e){const n=_5(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[i,r]of this._colors)if(r.every((s,o)=>s===n[o]))return D2._colorsMapping.get(i);return n}getHexCode(e){const n=this._colors.get(e);return n?lt.makeHexColor(...n):e}};Rt(D2,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let sF=D2;var kv,pa,br,Qr,_v,zd,Mv,fc,Xh,Rv,Hg,Eu,hc,Ug,NA,PA,Dv,OA,Tu,Jh,Nv,Zh,ku,N2,Qh,LA,ep,qg,jA,IA,Lr,qn,Bd,Gg,FA,$A,tp,_u,Vd,zA,ul,Je,YM,oF,Pte,Ote,XM,Lte,jte,Ite,aF,Fte,lF,cF,$te,ao,$h,zte,Bte,uF,Vte,ZS,dF;const yv=class yv{constructor(e,n,i,r,s,o,a,l,c,d,h){W(this,Je);W(this,kv,new AbortController);W(this,pa,null);W(this,br,new Map);W(this,Qr,new Map);W(this,_v,null);W(this,zd,null);W(this,Mv,null);W(this,fc,new r4e);W(this,Xh,null);W(this,Rv,0);W(this,Hg,new Set);W(this,Eu,null);W(this,hc,null);W(this,Ug,new Set);W(this,NA,!1);W(this,PA,!1);W(this,Dv,!1);W(this,OA,null);W(this,Tu,null);W(this,Jh,null);W(this,Nv,null);W(this,Zh,!1);W(this,ku,null);W(this,N2,new i4e);W(this,Qh,!1);W(this,LA,!1);W(this,ep,null);W(this,qg,null);W(this,jA,null);W(this,IA,null);W(this,Lr,Xt.NONE);W(this,qn,new Set);W(this,Bd,null);W(this,Gg,null);W(this,FA,null);W(this,$A,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});W(this,tp,[0,0]);W(this,_u,null);W(this,Vd,null);W(this,zA,null);W(this,ul,null);const p=this._signal=C(this,kv).signal;V(this,Vd,e),V(this,zA,n),V(this,_v,i),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:p}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:p}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:p}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:p}),r._on("setpreference",this.onSetPreference.bind(this),{signal:p}),r._on("switchannotationeditorparams",m=>this.updateParams(m.type,m.value),{signal:p}),H(this,Je,Lte).call(this),H(this,Je,$te).call(this),H(this,Je,aF).call(this),V(this,zd,s.annotationStorage),V(this,OA,s.filterFactory),V(this,Gg,o),V(this,Nv,a||null),V(this,NA,l),V(this,PA,c),V(this,Dv,d),V(this,IA,h||null),this.viewParameters={realScale:Bp.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=yv.prototype,n=o=>C(o,Vd).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return vn(this,"_keyboardManager",new AT([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&C(o,Vd).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&C(o,Vd).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:n}]]))}destroy(){var e,n,i,r;(e=C(this,ul))==null||e.resolve(),V(this,ul,null),(n=C(this,kv))==null||n.abort(),V(this,kv,null),this._signal=null;for(const s of C(this,Qr).values())s.destroy();C(this,Qr).clear(),C(this,br).clear(),C(this,Ug).clear(),V(this,pa,null),C(this,qn).clear(),C(this,fc).destroy(),(i=C(this,_v))==null||i.destroy(),(r=C(this,ku))==null||r.hide(),V(this,ku,null),C(this,Tu)&&(clearTimeout(C(this,Tu)),V(this,Tu,null)),C(this,_u)&&(clearTimeout(C(this,_u)),V(this,_u,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return C(this,IA)}get useNewAltTextFlow(){return C(this,PA)}get useNewAltTextWhenAddingImage(){return C(this,Dv)}get hcmFilter(){return vn(this,"hcmFilter",C(this,Gg)?C(this,OA).addHCMFilter(C(this,Gg).foreground,C(this,Gg).background):"none")}get direction(){return vn(this,"direction",getComputedStyle(C(this,Vd)).direction)}get highlightColors(){return vn(this,"highlightColors",C(this,Nv)?new Map(C(this,Nv).split(",").map(e=>e.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return vn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){V(this,jA,e)}editAltText(e,n=!1){var i;(i=C(this,_v))==null||i.editAltText(this,e,n)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":V(this,Dv,n);break}}onPageChanging({pageNumber:e}){V(this,Rv,e-1)}focusMainContainer(){C(this,Vd).focus()}findParent(e,n){for(const i of C(this,Qr).values()){const{x:r,y:s,width:o,height:a}=i.div.getBoundingClientRect();if(e>=r&&e<=r+o&&n>=s&&n<=s+a)return i}return null}disableUserSelect(e=!1){C(this,zA).classList.toggle("noUserSelect",e)}addShouldRescale(e){C(this,Ug).add(e)}removeShouldRescale(e){C(this,Ug).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Bp.PDF_TO_CSS_UNITS;for(const n of C(this,Ug))n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o}=n,a=n.toString(),c=H(this,Je,YM).call(this,n).closest(".textLayer"),d=this.getSelectionBoxes(c);if(!d)return;n.empty();const h=H(this,Je,oF).call(this,c),p=C(this,Lr)===Xt.NONE,m=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o,text:a}),p&&this.showAllEditors("highlight",!0,!0)};if(p){this.switchToMode(Xt.HIGHLIGHT,m);return}m()}addToAnnotationStorage(e){!e.isEmpty()&&C(this,zd)&&!C(this,zd).has(e.id)&&C(this,zd).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,C(this,Zh)&&(V(this,Zh,!1),H(this,Je,XM).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of C(this,qn))if(n.div.contains(e)){V(this,qg,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!C(this,qg))return;const[e,n]=C(this,qg);V(this,qg,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){H(this,Je,aF).call(this),H(this,Je,lF).call(this)}removeEditListeners(){H(this,Je,Fte).call(this),H(this,Je,cF).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const i of C(this,hc))if(i.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const i of C(this,hc))if(i.isHandlingMimeForPasting(n.type)){i.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=C(this,pa))==null||i.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of C(this,qn)){const s=r.serialize(!0);s&&n.push(s)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const s of n.items)for(const o of C(this,hc))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let i=n.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){rn(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const l of i){const c=await r.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)H(this,Je,uF).call(this,l);H(this,Je,dF).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){rn(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),C(this,Lr)!==Xt.NONE&&!this.isEditorHandlingKeyboard&&yv._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,C(this,Zh)&&(V(this,Zh,!1),H(this,Je,XM).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(H(this,Je,jte).call(this),H(this,Je,lF).call(this),H(this,Je,ao).call(this,{isEditing:C(this,Lr)!==Xt.NONE,isEmpty:H(this,Je,ZS).call(this),hasSomethingToUndo:C(this,fc).hasSomethingToUndo(),hasSomethingToRedo:C(this,fc).hasSomethingToRedo(),hasSelectedEditor:!1})):(H(this,Je,Ite).call(this),H(this,Je,cF).call(this),H(this,Je,ao).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!C(this,hc)){V(this,hc,e);for(const n of C(this,hc))H(this,Je,$h).call(this,n.defaultPropertiesToUpdate)}}getId(){return C(this,N2).id}get currentLayer(){return C(this,Qr).get(C(this,Rv))}getLayer(e){return C(this,Qr).get(e)}get currentPageIndex(){return C(this,Rv)}addLayer(e){C(this,Qr).set(e.pageIndex,e),C(this,Qh)?e.enable():e.disable()}removeLayer(e){C(this,Qr).delete(e.pageIndex)}async updateMode(e,n=null,i=!1){if(C(this,Lr)!==e&&!(C(this,ul)&&(await C(this,ul).promise,!C(this,ul)))){if(V(this,ul,Promise.withResolvers()),V(this,Lr,e),e===Xt.NONE){this.setEditingState(!1),H(this,Je,Bte).call(this),C(this,ul).resolve();return}this.setEditingState(!0),await H(this,Je,zte).call(this),this.unselectAll();for(const r of C(this,Qr).values())r.updateMode(e);if(!n){i&&this.addNewEditorFromKeyboard(),C(this,ul).resolve();return}for(const r of C(this,br).values())r.annotationElementId===n?(this.setSelected(r),r.enterInEditMode()):r.unselect();C(this,ul).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==C(this,Lr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,n){var i;if(C(this,hc)){switch(e){case Dt.CREATE:this.currentLayer.addNewEditor();return;case Dt.HIGHLIGHT_DEFAULT_COLOR:(i=C(this,jA))==null||i.updateColor(n);break;case Dt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(C(this,FA)||V(this,FA,new Map)).set(e,n),this.showAllEditors("highlight",n);break}for(const r of C(this,qn))r.updateParams(e,n);for(const r of C(this,hc))r.updateDefaultParams(e,n)}}showAllEditors(e,n,i=!1){var s;for(const o of C(this,br).values())o.editorType===e&&o.show(n);(((s=C(this,FA))==null?void 0:s.get(Dt.HIGHLIGHT_SHOW_ALL))??!0)!==n&&H(this,Je,$h).call(this,[[Dt.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(C(this,LA)!==e){V(this,LA,e);for(const n of C(this,Qr).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}getEditors(e){const n=[];for(const i of C(this,br).values())i.pageIndex===e&&n.push(i);return n}getEditor(e){return C(this,br).get(e)}addEditor(e){C(this,br).set(e.id,e)}removeEditor(e){var n;e.div.contains(document.activeElement)&&(C(this,Tu)&&clearTimeout(C(this,Tu)),V(this,Tu,setTimeout(()=>{this.focusMainContainer(),V(this,Tu,null)},0))),C(this,br).delete(e.id),this.unselect(e),(!e.annotationElementId||!C(this,Hg).has(e.annotationElementId))&&((n=C(this,zd))==null||n.remove(e.id))}addDeletedAnnotationElement(e){C(this,Hg).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return C(this,Hg).has(e)}removeDeletedAnnotationElement(e){C(this,Hg).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){C(this,pa)!==e&&(V(this,pa,e),e&&H(this,Je,$h).call(this,e.propertiesToUpdate))}updateUI(e){C(this,Je,Vte)===e&&H(this,Je,$h).call(this,e.propertiesToUpdate)}toggleSelected(e){if(C(this,qn).has(e)){C(this,qn).delete(e),e.unselect(),H(this,Je,ao).call(this,{hasSelectedEditor:this.hasSelection});return}C(this,qn).add(e),e.select(),H(this,Je,$h).call(this,e.propertiesToUpdate),H(this,Je,ao).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const n of C(this,qn))n!==e&&n.unselect();C(this,qn).clear(),C(this,qn).add(e),e.select(),H(this,Je,$h).call(this,e.propertiesToUpdate),H(this,Je,ao).call(this,{hasSelectedEditor:!0})}isSelected(e){return C(this,qn).has(e)}get firstSelectedEditor(){return C(this,qn).values().next().value}unselect(e){e.unselect(),C(this,qn).delete(e),H(this,Je,ao).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return C(this,qn).size!==0}get isEnterHandled(){return C(this,qn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){C(this,fc).undo(),H(this,Je,ao).call(this,{hasSomethingToUndo:C(this,fc).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:H(this,Je,ZS).call(this)})}redo(){C(this,fc).redo(),H(this,Je,ao).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:C(this,fc).hasSomethingToRedo(),isEmpty:H(this,Je,ZS).call(this)})}addCommands(e){C(this,fc).add(e),H(this,Je,ao).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:H(this,Je,ZS).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...C(this,qn)],n=()=>{for(const r of e)r.remove()},i=()=>{for(const r of e)H(this,Je,uF).call(this,r)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=C(this,pa))==null||e.commitOrRemove()}hasSomethingToControl(){return C(this,pa)||this.hasSelection}selectAll(){for(const e of C(this,qn))e.commit();H(this,Je,dF).call(this,C(this,br).values())}unselectAll(){if(!(C(this,pa)&&(C(this,pa).commitOrRemove(),C(this,Lr)!==Xt.NONE))&&this.hasSelection){for(const e of C(this,qn))e.unselect();C(this,qn).clear(),H(this,Je,ao).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;C(this,tp)[0]+=e,C(this,tp)[1]+=n;const[r,s]=C(this,tp),o=[...C(this,qn)],a=1e3;C(this,_u)&&clearTimeout(C(this,_u)),V(this,_u,setTimeout(()=>{V(this,_u,null),C(this,tp)[0]=C(this,tp)[1]=0,this.addCommands({cmd:()=>{for(const l of o)C(this,br).has(l.id)&&l.translateInPage(r,s)},undo:()=>{for(const l of o)C(this,br).has(l.id)&&l.translateInPage(-r,-s)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),V(this,Eu,new Map);for(const e of C(this,qn))C(this,Eu).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!C(this,Eu))return!1;this.disableUserSelect(!1);const e=C(this,Eu);V(this,Eu,null);let n=!1;for(const[{x:r,y:s,pageIndex:o},a]of e)a.newX=r,a.newY=s,a.newPageIndex=o,n||(n=r!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!n)return!1;const i=(r,s,o,a)=>{if(C(this,br).has(r.id)){const l=C(this,Qr).get(a);l?r._setParentAndPosition(l,s,o):(r.pageIndex=a,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:a}]of e)i(r,s,o,a)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:a}]of e)i(r,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(C(this,Eu))for(const i of C(this,Eu).keys())i.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||C(this,qn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return C(this,pa)===e}getActive(){return C(this,pa)}getMode(){return C(this,Lr)}get imageManager(){return vn(this,"imageManager",new rF)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let c=0,d=n.rangeCount;c<d;c++)if(!e.contains(n.getRangeAt(c).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,d,h,p)=>({x:(d-r)/o,y:1-(c+h-i)/s,width:p/o,height:h/s});break;case"180":a=(c,d,h,p)=>({x:1-(c+h-i)/s,y:1-(d+p-r)/o,width:h/s,height:p/o});break;case"270":a=(c,d,h,p)=>({x:1-(d+p-r)/o,y:(c-i)/s,width:p/o,height:h/s});break;default:a=(c,d,h,p)=>({x:(c-i)/s,y:(d-r)/o,width:h/s,height:p/o});break}const l=[];for(let c=0,d=n.rangeCount;c<d;c++){const h=n.getRangeAt(c);if(!h.collapsed)for(const{x:p,y:m,width:v,height:S}of h.getClientRects())v===0||S===0||l.push(a(p,m,v,S))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(C(this,Mv)||V(this,Mv,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=C(this,Mv))==null||n.delete(e)}renderAnnotationElement(e){var r;const n=(r=C(this,Mv))==null?void 0:r.get(e.data.id);if(!n)return;const i=C(this,zd).getRawValue(n);i&&(C(this,Lr)===Xt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}};kv=new WeakMap,pa=new WeakMap,br=new WeakMap,Qr=new WeakMap,_v=new WeakMap,zd=new WeakMap,Mv=new WeakMap,fc=new WeakMap,Xh=new WeakMap,Rv=new WeakMap,Hg=new WeakMap,Eu=new WeakMap,hc=new WeakMap,Ug=new WeakMap,NA=new WeakMap,PA=new WeakMap,Dv=new WeakMap,OA=new WeakMap,Tu=new WeakMap,Jh=new WeakMap,Nv=new WeakMap,Zh=new WeakMap,ku=new WeakMap,N2=new WeakMap,Qh=new WeakMap,LA=new WeakMap,ep=new WeakMap,qg=new WeakMap,jA=new WeakMap,IA=new WeakMap,Lr=new WeakMap,qn=new WeakMap,Bd=new WeakMap,Gg=new WeakMap,FA=new WeakMap,$A=new WeakMap,tp=new WeakMap,_u=new WeakMap,Vd=new WeakMap,zA=new WeakMap,ul=new WeakMap,Je=new WeakSet,YM=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},oF=function(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const i of C(this,Qr).values())if(i.hasTextLayer(e))return i;return null},Pte=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=H(this,Je,YM).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(C(this,ku)||V(this,ku,new t4e(this)),C(this,ku).show(i,r,this.direction==="ltr"))},Ote=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){C(this,Bd)&&((s=C(this,ku))==null||s.hide(),V(this,Bd,null),H(this,Je,ao).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===C(this,Bd))return;const r=H(this,Je,YM).call(this,e).closest(".textLayer");if(!r){C(this,Bd)&&((o=C(this,ku))==null||o.hide(),V(this,Bd,null),H(this,Je,ao).call(this,{hasSelectedText:!1}));return}if((a=C(this,ku))==null||a.hide(),V(this,Bd,n),H(this,Je,ao).call(this,{hasSelectedText:!0}),!(C(this,Lr)!==Xt.HIGHLIGHT&&C(this,Lr)!==Xt.NONE)&&(C(this,Lr)===Xt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),V(this,Zh,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=C(this,Lr)===Xt.HIGHLIGHT?H(this,Je,oF).call(this,r):null;l==null||l.toggleDrawing();const c=new AbortController,d=this.combinedSignal(c),h=p=>{p.type==="pointerup"&&p.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),p.type==="pointerup"&&H(this,Je,XM).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}},XM=function(e=""){C(this,Lr)===Xt.HIGHLIGHT?this.highlightSelection(e):C(this,NA)&&H(this,Je,Pte).call(this)},Lte=function(){document.addEventListener("selectionchange",H(this,Je,Ote).bind(this),{signal:this._signal})},jte=function(){if(C(this,Jh))return;V(this,Jh,new AbortController);const e=this.combinedSignal(C(this,Jh));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},Ite=function(){var e;(e=C(this,Jh))==null||e.abort(),V(this,Jh,null)},aF=function(){if(C(this,ep))return;V(this,ep,new AbortController);const e=this.combinedSignal(C(this,ep));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Fte=function(){var e;(e=C(this,ep))==null||e.abort(),V(this,ep,null)},lF=function(){if(C(this,Xh))return;V(this,Xh,new AbortController);const e=this.combinedSignal(C(this,Xh));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},cF=function(){var e;(e=C(this,Xh))==null||e.abort(),V(this,Xh,null)},$te=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},ao=function(e){Object.entries(e).some(([i,r])=>C(this,$A)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(C(this,$A),e)}),C(this,Lr)===Xt.HIGHLIGHT&&e.hasSelectedEditor===!1&&H(this,Je,$h).call(this,[[Dt.HIGHLIGHT_FREE,!0]]))},$h=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},zte=async function(){if(!C(this,Qh)){V(this,Qh,!0);const e=[];for(const n of C(this,Qr).values())e.push(n.enable());await Promise.all(e);for(const n of C(this,br).values())n.enable()}},Bte=function(){if(this.unselectAll(),C(this,Qh)){V(this,Qh,!1);for(const e of C(this,Qr).values())e.disable();for(const e of C(this,br).values())e.disable()}},uF=function(e){const n=C(this,Qr).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Vte=function(){let e=null;for(e of C(this,qn));return e},ZS=function(){if(C(this,br).size===0)return!0;if(C(this,br).size===1)for(const e of C(this,br).values())return e.isEmpty();return!1},dF=function(e){for(const n of C(this,qn))n.unselect();C(this,qn).clear();for(const n of e)n.isEmpty()||(C(this,qn).add(n),n.select());H(this,Je,ao).call(this,{hasSelectedEditor:this.hasSelection})},Rt(yv,"TRANSLATE_SMALL",1),Rt(yv,"TRANSLATE_BIG",10);let e0=yv;var jr,Mu,pc,Pv,Ru,ma,Ov,Du,Io,Hd,Wg,Nu,np,Dc,QS,JM;const co=class co{constructor(e){W(this,Dc);W(this,jr,null);W(this,Mu,!1);W(this,pc,null);W(this,Pv,null);W(this,Ru,null);W(this,ma,null);W(this,Ov,!1);W(this,Du,null);W(this,Io,null);W(this,Hd,null);W(this,Wg,null);W(this,Nu,!1);V(this,Io,e),V(this,Nu,e._uiManager.useNewAltTextFlow),C(co,np)||V(co,np,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){co._l10n??(co._l10n=e)}async render(){const e=V(this,pc,document.createElement("button"));e.className="altText",e.tabIndex="0";const n=V(this,Pv,document.createElement("span"));e.append(n),C(this,Nu)?(e.classList.add("new"),e.setAttribute("data-l10n-id",C(co,np).missing),n.setAttribute("data-l10n-id",C(co,np)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=C(this,Io)._uiManager._signal;e.addEventListener("contextmenu",Nl,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),C(this,Io)._uiManager.editAltText(C(this,Io)),C(this,Nu)&&C(this,Io)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:C(this,Dc,QS)}})};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(V(this,Ov,!0),r(s))},{signal:i}),await H(this,Dc,JM).call(this),e}finish(){C(this,pc)&&(C(this,pc).focus({focusVisible:C(this,Ov)}),V(this,Ov,!1))}isEmpty(){return C(this,Nu)?C(this,jr)===null:!C(this,jr)&&!C(this,Mu)}hasData(){return C(this,Nu)?C(this,jr)!==null||!!C(this,Hd):this.isEmpty()}get guessedText(){return C(this,Hd)}async setGuessedText(e){C(this,jr)===null&&(V(this,Hd,e),V(this,Wg,await co._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),H(this,Dc,JM).call(this))}toggleAltTextBadge(e=!1){var n;if(!C(this,Nu)||C(this,jr)){(n=C(this,Du))==null||n.remove(),V(this,Du,null);return}if(!C(this,Du)){const i=V(this,Du,document.createElement("div"));i.className="noAltTextBadge",C(this,Io).div.append(i)}C(this,Du).classList.toggle("hidden",!e)}serialize(e){let n=C(this,jr);return!e&&C(this,Hd)===n&&(n=C(this,Wg)),{altText:n,decorative:C(this,Mu),guessedText:C(this,Hd),textWithDisclaimer:C(this,Wg)}}get data(){return{altText:C(this,jr),decorative:C(this,Mu)}}set data({altText:e,decorative:n,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(V(this,Hd,i),V(this,Wg,r)),!(C(this,jr)===e&&C(this,Mu)===n)&&(s||(V(this,jr,e),V(this,Mu,n)),H(this,Dc,JM).call(this))}toggle(e=!1){C(this,pc)&&(!e&&C(this,ma)&&(clearTimeout(C(this,ma)),V(this,ma,null)),C(this,pc).disabled=!e)}shown(){C(this,Io)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:C(this,Dc,QS)}})}destroy(){var e,n;(e=C(this,pc))==null||e.remove(),V(this,pc,null),V(this,Pv,null),V(this,Ru,null),(n=C(this,Du))==null||n.remove(),V(this,Du,null)}};jr=new WeakMap,Mu=new WeakMap,pc=new WeakMap,Pv=new WeakMap,Ru=new WeakMap,ma=new WeakMap,Ov=new WeakMap,Du=new WeakMap,Io=new WeakMap,Hd=new WeakMap,Wg=new WeakMap,Nu=new WeakMap,np=new WeakMap,Dc=new WeakSet,QS=function(){return C(this,jr)&&"added"||C(this,jr)===null&&this.guessedText&&"review"||"missing"},JM=async function(){var r,s,o;const e=C(this,pc);if(!e)return;if(C(this,Nu)){if(e.classList.toggle("done",!!C(this,jr)),e.setAttribute("data-l10n-id",C(co,np)[C(this,Dc,QS)]),(r=C(this,Pv))==null||r.setAttribute("data-l10n-id",C(co,np)[`${C(this,Dc,QS)}-label`]),!C(this,jr)){(s=C(this,Ru))==null||s.remove();return}}else{if(!C(this,jr)&&!C(this,Mu)){e.classList.remove("done"),(o=C(this,Ru))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=C(this,Ru);if(!n){V(this,Ru,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${C(this,Io).id}`;const a=100,l=C(this,Io)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(C(this,ma)),V(this,ma,null)},{once:!0}),e.addEventListener("mouseenter",()=>{V(this,ma,setTimeout(()=>{V(this,ma,null),C(this,Ru).classList.add("show"),C(this,Io)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;C(this,ma)&&(clearTimeout(C(this,ma)),V(this,ma,null)),(c=C(this,Ru))==null||c.classList.remove("show")},{signal:l})}C(this,Mu)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=C(this,jr)),n.parentNode||e.append(n);const i=C(this,Io).getImageForAltText();i==null||i.setAttribute("aria-describedby",n.id)},W(co,np,null),Rt(co,"_l10n",null);let A2=co;var Kg,mc,Oi,Lv,Yg,es,Xg,ip,BA,Jg,rp,VA,Zg,Ud,Pu,jv,Iv,dl,HA,P2,en,fF,UA,hF,pF,Hte,Ute,mF,gF,yF,qte,bF,Gte,Wte,Kte,vF,eC;const $n=class $n{constructor(e){W(this,en);W(this,Kg,null);W(this,mc,null);W(this,Oi,null);W(this,Lv,!1);W(this,Yg,!1);W(this,es,null);W(this,Xg,null);W(this,ip,null);W(this,BA,"");W(this,Jg,!1);W(this,rp,null);W(this,VA,!1);W(this,Zg,!1);W(this,Ud,!1);W(this,Pu,null);W(this,jv,0);W(this,Iv,0);W(this,dl,null);Rt(this,"_editToolbar",null);Rt(this,"_initialOptions",Object.create(null));Rt(this,"_initialData",null);Rt(this,"_isVisible",!0);Rt(this,"_uiManager",null);Rt(this,"_focusEventsAllowed",!0);W(this,HA,!1);W(this,P2,$n._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=$n.prototype._resizeWithKeyboard,n=e0.TRANSLATE_SMALL,i=e0.TRANSLATE_BIG;return vn(this,"_resizerKeyboardManager",new AT([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],$n.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return vn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new s4e({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if($n._l10n??($n._l10n=e),$n._l10nResizer||($n._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),$n._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);$n._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){wi("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return C(this,HA)}set _isDraggable(e){var n;V(this,HA,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=C(this,P2)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):H(this,en,eC).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(C(this,Jg)?V(this,Jg,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,i,r){const[s,o]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(n+r)/o,this.fixAndSetPosition()}translate(e,n){H(this,en,fF).call(this,this.parentDimensions,e,n)}translateInPage(e,n){C(this,rp)||V(this,rp,[this.x,this.y]),H(this,en,fF).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}drag(e,n){C(this,rp)||V(this,rp,[this.x,this.y]);const[i,r]=this.parentDimensions;if(this.x+=e/i,this.y+=n/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!C(this,rp)&&(C(this,rp)[0]!==this.x||C(this,rp)[1]!==this.y)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:i}=$n,r=i/e,s=i/n;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[n,i]=this.pageDimensions;let{x:r,y:s,width:o,height:a}=this;if(o*=n,a*=i,r*=n,s*=i,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(n-o,r)),s=Math.max(0,Math.min(i-a,s));break;case 90:r=Math.max(0,Math.min(n-a,r)),s=Math.min(i,Math.max(o,s));break;case 180:r=Math.min(n,Math.max(o,r)),s=Math.min(i,Math.max(a,s));break;case 270:r=Math.min(n,Math.max(a,r)),s=Math.max(0,Math.min(i-o,s));break}this.x=r/=n,this.y=s/=i;const[l,c]=this.getBaseTranslation();r+=l,s+=c;const{style:d}=this.div;d.left=`${(100*r).toFixed(2)}%`,d.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var i;return H(i=$n,UA,hF).call(i,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var i;return H(i=$n,UA,hF).call(i,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,i]}=this;return[n*e,i*e]}setDims(e,n){const[i,r]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,C(this,Yg)||(this.div.style.height=`${(100*n/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:n,width:i}=e,r=i.endsWith("%"),s=!C(this,Yg)&&n.endsWith("%");if(r&&s)return;const[o,a]=this.parentDimensions;r||(e.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!C(this,Yg)&&!s&&(e.height=`${(100*parseFloat(n)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=C(this,Oi))==null||e.finish()}async addEditToolbar(){return this._editToolbar||C(this,Zg)?this._editToolbar:(this._editToolbar=new nF(this),this.div.append(this._editToolbar.render()),C(this,Oi)&&await this._editToolbar.addAltText(C(this,Oi)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=C(this,Oi))==null||e.destroy())}addContainer(e){var i;const n=(i=this._editToolbar)==null?void 0:i.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){C(this,Oi)||(A2.initialize($n._l10n),V(this,Oi,new A2(this)),C(this,Kg)&&(C(this,Oi).data=C(this,Kg),V(this,Kg,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=C(this,Oi))==null?void 0:e.data}set altTextData(e){C(this,Oi)&&(C(this,Oi).data=e)}get guessedAltText(){var e;return(e=C(this,Oi))==null?void 0:e.guessedText}async setGuessedAltText(e){var n;await((n=C(this,Oi))==null?void 0:n.setGuessedText(e))}serializeAltText(e){var n;return(n=C(this,Oi))==null?void 0:n.serialize(e)}hasAltText(){return!!C(this,Oi)&&!C(this,Oi).isEmpty()}hasAltTextData(){var e;return((e=C(this,Oi))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=C(this,Lv)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),H(this,en,bF).call(this);const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),C2(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:n}=go.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(V(this,Jg,!0),this._isDraggable){H(this,en,qte).call(this,e);return}H(this,en,yF).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){C(this,Pu)&&clearTimeout(C(this,Pu)),V(this,Pu,setTimeout(()=>{var e;V(this,Pu,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,i){e.changeParent(this),this.x=n,this.y=i,this.fixAndSetPosition()}getRect(e,n,i=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/r,d=n/r,h=this.x*s,p=this.y*o,m=this.width*s,v=this.height*o;switch(i){case 0:return[h+c+a,o-p-d-v+l,h+c+m+a,o-p-d+l];case 90:return[h+d+a,o-p+c+l,h+d+v+a,o-p+c+m+l];case 180:return[h-c-m+a,o-p+d+l,h-c+a,o-p+d+v+l];case 270:return[h-d-v+a,o-p-c-m+l,h-d+a,o-p-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[i,r,s,o]=e,a=s-i,l=o-r;switch(this.rotation){case 0:return[i,n-o,a,l];case 90:return[i,n-r,l,a];case 180:return[s,n-r,a,l];case 270:return[s,n-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){V(this,Zg,!0)}disableEditMode(){V(this,Zg,!1)}isInEditMode(){return C(this,Zg)}shouldGetKeyboardEvents(){return C(this,Ud)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){H(this,en,bF).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,n=null){wi("An editor must be serializable")}static async deserialize(e,n,i){const r=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:i});r.rotation=e.rotation,V(r,Kg,e.accessibilityData);const[s,o]=r.pageDimensions,[a,l,c,d]=r.getRectInCurrentCoords(e.rect,o);return r.x=a/s,r.y=l/o,r.width=c/s,r.height=d/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=C(this,ip))==null||e.abort(),V(this,ip,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),C(this,Pu)&&(clearTimeout(C(this,Pu)),V(this,Pu,null)),H(this,en,eC).call(this),this.removeEditToolbar(),C(this,dl)){for(const n of C(this,dl).values())clearTimeout(n);V(this,dl,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(H(this,en,Hte).call(this),C(this,es).classList.remove("hidden"),C2(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),V(this,Xg,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=C(this,es).children;if(!C(this,mc)){V(this,mc,Array.from(n));const o=H(this,en,Gte).bind(this),a=H(this,en,Wte).bind(this),l=this._uiManager._signal;for(const c of C(this,mc)){const d=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",H(this,en,Kte).bind(this,d),{signal:l}),c.setAttribute("data-l10n-id",$n._l10nResizer[d])}}const i=C(this,mc)[0];let r=0;for(const o of n){if(o===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(C(this,mc).length/4);if(s!==r){if(s<r)for(let a=0;a<r-s;a++)C(this,es).append(C(this,es).firstChild);else if(s>r)for(let a=0;a<s-r;a++)C(this,es).firstChild.before(C(this,es).lastChild);let o=0;for(const a of n){const c=C(this,mc)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",$n._l10nResizer[c])}}H(this,en,vF).call(this,0),V(this,Ud,!0),C(this,es).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){C(this,Ud)&&H(this,en,gF).call(this,C(this,BA),{movementX:e,movementY:n})}_stopResizingWithKeyboard(){H(this,en,eC).call(this),this.div.focus()}select(){var e,n,i;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,s;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(n=this._editToolbar)==null||n.show(),(i=C(this,Oi))==null||i.toggleAltTextBadge(!1)}unselect(){var e,n,i,r,s;(e=C(this,es))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(s=C(this,Oi))==null||s.toggleAltTextBadge(!0)}updateParams(e,n){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return C(this,VA)}set isEditing(e){V(this,VA,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,n){V(this,Yg,!0);const i=e/n,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){C(this,dl)||V(this,dl,new Map);const{action:i}=e;let r=C(this,dl).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),C(this,dl).delete(i),C(this,dl).size===0&&V(this,dl,null)},$n._telemetryTimeout),C(this,dl).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),V(this,Lv,!1)}disable(){this.div&&(this.div.tabIndex=-1),V(this,Lv,!0)}renderAnnotationElement(e){let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const i=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),i.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};Kg=new WeakMap,mc=new WeakMap,Oi=new WeakMap,Lv=new WeakMap,Yg=new WeakMap,es=new WeakMap,Xg=new WeakMap,ip=new WeakMap,BA=new WeakMap,Jg=new WeakMap,rp=new WeakMap,VA=new WeakMap,Zg=new WeakMap,Ud=new WeakMap,Pu=new WeakMap,jv=new WeakMap,Iv=new WeakMap,dl=new WeakMap,HA=new WeakMap,P2=new WeakMap,en=new WeakSet,fF=function([e,n],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/n,this.fixAndSetPosition()},UA=new WeakSet,hF=function(e,n,i){switch(i){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},pF=function(e){switch(e){case 90:{const[n,i]=this.pageDimensions;return[0,-n/i,i/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,i]=this.pageDimensions;return[0,n/i,-i/n,0]}default:return[1,0,0,1]}},Hte=function(){if(C(this,es))return;V(this,es,document.createElement("div")),C(this,es).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const i of e){const r=document.createElement("div");C(this,es).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",H(this,en,Ute).bind(this,i),{signal:n}),r.addEventListener("contextmenu",Nl,{signal:n}),r.tabIndex=-1}this.div.prepend(C(this,es))},Ute=function(e,n){var v;n.preventDefault();const{isMac:i}=go.platform;if(n.button!==0||n.ctrlKey&&i)return;(v=C(this,Oi))==null||v.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",H(this,en,gF).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("contextmenu",Nl,{signal:o});const a=this.x,l=this.y,c=this.width,d=this.height,h=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const m=()=>{var S;s.abort(),this.parent.togglePointerEvents(!0),(S=C(this,Oi))==null||S.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=h,this.div.style.cursor=p,H(this,en,mF).call(this,a,l,c,d)};window.addEventListener("pointerup",m,{signal:o}),window.addEventListener("blur",m,{signal:o})},mF=function(e,n,i,r){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===n&&a===i&&l===r||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[c,d]=this.parentDimensions;this.setDims(c*a,d*l),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=r,this.x=e,this.y=n;const[c,d]=this.parentDimensions;this.setDims(c*i,d*r),this.fixAndSetPosition()},mustExec:!0})},gF=function(e,n){const[i,r]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=$n.MIN_SIZE/i,d=$n.MIN_SIZE/r,h=ee=>Math.round(ee*1e4)/1e4,p=H(this,en,pF).call(this,this.rotation),m=(ee,Z)=>[p[0]*ee+p[2]*Z,p[1]*ee+p[3]*Z],v=H(this,en,pF).call(this,360-this.rotation),S=(ee,Z)=>[v[0]*ee+v[2]*Z,v[1]*ee+v[3]*Z];let A,E,M=!1,R=!1;switch(e){case"topLeft":M=!0,A=(ee,Z)=>[0,0],E=(ee,Z)=>[ee,Z];break;case"topMiddle":A=(ee,Z)=>[ee/2,0],E=(ee,Z)=>[ee/2,Z];break;case"topRight":M=!0,A=(ee,Z)=>[ee,0],E=(ee,Z)=>[0,Z];break;case"middleRight":R=!0,A=(ee,Z)=>[ee,Z/2],E=(ee,Z)=>[0,Z/2];break;case"bottomRight":M=!0,A=(ee,Z)=>[ee,Z],E=(ee,Z)=>[0,0];break;case"bottomMiddle":A=(ee,Z)=>[ee/2,Z],E=(ee,Z)=>[ee/2,0];break;case"bottomLeft":M=!0,A=(ee,Z)=>[0,Z],E=(ee,Z)=>[ee,0];break;case"middleLeft":R=!0,A=(ee,Z)=>[0,Z/2],E=(ee,Z)=>[ee,Z/2];break}const N=A(a,l),P=E(a,l);let O=m(...P);const $=h(s+O[0]),F=h(o+O[1]);let q=1,B=1,[X,Q]=this.screenToPageTranslation(n.movementX,n.movementY);if([X,Q]=S(X/i,Q/r),M){const ee=Math.hypot(a,l);q=B=Math.max(Math.min(Math.hypot(P[0]-N[0]-X,P[1]-N[1]-Q)/ee,1/a,1/l),c/a,d/l)}else R?q=Math.max(c,Math.min(1,Math.abs(P[0]-N[0]-X)))/a:B=Math.max(d,Math.min(1,Math.abs(P[1]-N[1]-Q)))/l;const J=h(a*q),oe=h(l*B);O=m(...E(J,oe));const ce=$-O[0],le=F-O[1];this.width=J,this.height=oe,this.x=ce,this.y=le,this.setDims(i*J,r*oe),this.fixAndSetPosition()},yF=function(e){const{isMac:n}=go.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},qte=function(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();const i=new AbortController,r=this._uiManager.combinedSignal(i);if(n){this.div.classList.add("moving"),V(this,jv,e.clientX),V(this,Iv,e.clientY);const o=a=>{const{clientX:l,clientY:c}=a,[d,h]=this.screenToPageTranslation(l-C(this,jv),c-C(this,Iv));V(this,jv,l),V(this,Iv,c),this._uiManager.dragSelectedEditors(d,h)};window.addEventListener("pointermove",o,{passive:!0,capture:!0,signal:r})}const s=()=>{i.abort(),n&&this.div.classList.remove("moving"),V(this,Jg,!1),this._uiManager.endDragSession()||H(this,en,yF).call(this,e)};window.addEventListener("pointerup",s,{signal:r}),window.addEventListener("blur",s,{signal:r})},bF=function(){if(C(this,ip)||!this.div)return;V(this,ip,new AbortController);const e=this._uiManager.combinedSignal(C(this,ip));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},Gte=function(e){$n._resizerKeyboardManager.exec(this,e)},Wte=function(e){var n;C(this,Ud)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==C(this,es)&&H(this,en,eC).call(this)},Kte=function(e){V(this,BA,C(this,Ud)?e:"")},vF=function(e){if(C(this,mc))for(const n of C(this,mc))n.tabIndex=e},eC=function(){if(V(this,Ud,!1),H(this,en,vF).call(this,-1),C(this,Xg)){const{savedX:e,savedY:n,savedWidth:i,savedHeight:r}=C(this,Xg);H(this,en,mF).call(this,e,n,i,r),V(this,Xg,null)}},W($n,UA),Rt($n,"_l10n",null),Rt($n,"_l10nResizer",null),Rt($n,"_borderLineWidth",-1),Rt($n,"_colorManager",new sF),Rt($n,"_zIndex",1),Rt($n,"_telemetryTimeout",1e3);let Wn=$n;class s4e extends Wn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const b9=3285377520,ol=4294901760,wu=65535;class Yte{constructor(e){this.h1=e?e&4294967295:b9,this.h2=e?e&4294967295:b9}update(e){let n,i;if(typeof e=="string"){n=new Uint8Array(e.length*2),i=0;for(let S=0,A=e.length;S<A;S++){const E=e.charCodeAt(S);E<=255?n[i++]=E:(n[i++]=E>>>8,n[i++]=E&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),i=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,o=new Uint32Array(n.buffer,0,r);let a=0,l=0,c=this.h1,d=this.h2;const h=3432918353,p=461845907,m=h&wu,v=p&wu;for(let S=0;S<r;S++)S&1?(a=o[S],a=a*h&ol|a*m&wu,a=a<<15|a>>>17,a=a*p&ol|a*v&wu,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[S],l=l*h&ol|l*m&wu,l=l<<15|l>>>17,l=l*p&ol|l*v&wu,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(a=0,s){case 3:a^=n[r*4+2]<<16;case 2:a^=n[r*4+1]<<8;case 1:a^=n[r*4],a=a*h&ol|a*m&wu,a=a<<15|a>>>17,a=a*p&ol|a*v&wu,r&1?c^=a:d^=a}this.h1=c,this.h2=d}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&ol|e*36045&wu,n=n*4283543511&ol|((n<<16|e>>>16)*2950163797&ol)>>>16,e^=n>>>1,e=e*444984403&ol|e*60499&wu,n=n*3301882366&ol|((n<<16|e>>>16)*3120437893&ol)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const xF=Object.freeze({map:null,hash:"",transfer:void 0});var Qg,ey,Ir,O2,Xte;class M5{constructor(){W(this,O2);W(this,Qg,!1);W(this,ey,null);W(this,Ir,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const i=C(this,Ir).get(e);return i===void 0?n:Object.assign(n,i)}getRawValue(e){return C(this,Ir).get(e)}remove(e){if(C(this,Ir).delete(e),C(this,Ir).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of C(this,Ir).values())if(n instanceof Wn)return;this.onAnnotationEditor(null)}}setValue(e,n){const i=C(this,Ir).get(e);let r=!1;if(i!==void 0)for(const[s,o]of Object.entries(n))i[s]!==o&&(r=!0,i[s]=o);else r=!0,C(this,Ir).set(e,n);r&&H(this,O2,Xte).call(this),n instanceof Wn&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(e){return C(this,Ir).has(e)}getAll(){return C(this,Ir).size>0?C5(C(this,Ir)):null}setAll(e){for(const[n,i]of Object.entries(e))this.setValue(n,i)}get size(){return C(this,Ir).size}resetModified(){C(this,Qg)&&(V(this,Qg,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Jte(this)}get serializable(){if(C(this,Ir).size===0)return xF;const e=new Map,n=new Yte,i=[],r=Object.create(null);let s=!1;for(const[o,a]of C(this,Ir)){const l=a instanceof Wn?a.serialize(!1,r):a;l&&(e.set(o,l),n.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:i}:xF}get editorStats(){let e=null;const n=new Map;for(const i of C(this,Ir).values()){if(!(i instanceof Wn))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:s}=r;n.has(s)||n.set(s,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(r)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const d=c.get(l)??0;c.set(l,d+1)}}for(const[i,r]of n)e[i]=r.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){V(this,ey,null)}get modifiedIds(){if(C(this,ey))return C(this,ey);const e=[];for(const n of C(this,Ir).values())!(n instanceof Wn)||!n.annotationElementId||!n.serialize()||e.push(n.annotationElementId);return V(this,ey,{ids:new Set(e),hash:e.join(",")})}}Qg=new WeakMap,ey=new WeakMap,Ir=new WeakMap,O2=new WeakSet,Xte=function(){C(this,Qg)||(V(this,Qg,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var qA;class Jte extends M5{constructor(n){super();W(this,qA);const{map:i,hash:r,transfer:s}=n.serializable,o=structuredClone(i,s?{transfer:s}:null);V(this,qA,{map:o,hash:r,transfer:s})}get print(){wi("Should not call PrintAnnotationStorage.print")}get serializable(){return C(this,qA)}get modifiedIds(){return vn(this,"modifiedIds",{ids:new Set,hash:""})}}qA=new WeakMap;var Fv;class o4e{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){W(this,Fv,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),C(this,Fv).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:n}){if(!(!e||C(this,Fv).has(e.loadedName))){if(Cr(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:s}=e,o=new FontFace(i,r,s);this.addNativeFontFace(o);try{await o.load(),C(this,Fv).add(i),n==null||n(e)}catch{rn(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}wi("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw rn(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return vn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Os||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),vn(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function n(){for(Cr(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:n,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return vn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function i(N,P){return N.charCodeAt(P)<<24|N.charCodeAt(P+1)<<16|N.charCodeAt(P+2)<<8|N.charCodeAt(P+3)&255}function r(N,P,O,$){const F=N.substring(0,P),q=N.substring(P+O);return F+$+q}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function d(N,P){if(++c>30){rn("Load test font never loaded."),P();return}if(l.font="30px "+N,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(d.bind(null,N,P))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=r(p,976,h.length,h);const v=16,S=1482184792;let A=i(p,v);for(s=0,o=h.length-3;s<o;s+=4)A=A-S+i(h,s)|0;s<h.length&&(A=A-S+i(h+"XXX",s)|0),p=r(p,v,4,U5e(A));const E=`url(data:font/opentype;base64,${btoa(p)});`,M=`@font-face {font-family:"${h}";src:${E}}`;this.insertRule(M);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const N of[e.loadedName,h]){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=N,R.append(P)}this._document.body.append(R),d(h,()=>{R.remove(),n.complete()})}}Fv=new WeakMap;class a4e{constructor(e,{disableFontFace:n=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=n===!0,this._inspectFont=i}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${X5e(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let i;try{i=e.get(this.loadedName+"_path_"+n)}catch(s){rn(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[n]=function(s,o){};const r=[];for(let s=0,o=i.length;s<o;)switch(i[s++]){case Od.BEZIER_CURVE_TO:{const[a,l,c,d,h,p]=i.slice(s,s+6);r.push(m=>m.bezierCurveTo(a,l,c,d,h,p)),s+=6}break;case Od.MOVE_TO:{const[a,l]=i.slice(s,s+2);r.push(c=>c.moveTo(a,l)),s+=2}break;case Od.LINE_TO:{const[a,l]=i.slice(s,s+2);r.push(c=>c.lineTo(a,l)),s+=2}break;case Od.QUADRATIC_CURVE_TO:{const[a,l,c,d]=i.slice(s,s+4);r.push(h=>h.quadraticCurveTo(a,l,c,d)),s+=4}break;case Od.RESTORE:r.push(a=>a.restore());break;case Od.SAVE:r.push(a=>a.save());break;case Od.SCALE:Cr(r.length===2,"Scale command is only valid at the third position.");break;case Od.TRANSFORM:{const[a,l,c,d,h,p]=i.slice(s,s+6);r.push(m=>m.transform(a,l,c,d,h,p)),s+=6}break;case Od.TRANSLATE:{const[a,l]=i.slice(s,s+2);r.push(c=>c.translate(a,l)),s+=2}break}return this.compiledGlyphs[n]=function(o,a){r[0](o),r[1](o),o.scale(a,-a);for(let l=2,c=r.length;l<c;l++)r[l](o)}}}var GA;class Zte{constructor({enableHWA:e=!1}){W(this,GA,!1);V(this,GA,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,n);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!C(this,GA)})}}reset(e,n,i){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){wi("Abstract method `_createCanvas` called.")}}GA=new WeakMap;class l4e extends Zte{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const i=this._document.createElement("canvas");return i.width=e,i.height=n,i}}class Qte{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){wi("Abstract method `_fetch` called.")}}class ene extends Qte{async _fetch(e){const n=await fN(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):dN(n)}}class tne{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,i,r,s){return"none"}destroy(e=!1){}}var ty,ny,Ou,qd,Ss,L2,iy,tt,xs,Kb,Yb,ZM,Xb,nne,wF,Jb,tC,nC,SF,iC;class c4e extends tne{constructor({docId:n,ownerDocument:i=globalThis.document}){super();W(this,tt);W(this,ty);W(this,ny);W(this,Ou);W(this,qd);W(this,Ss);W(this,L2);W(this,iy,0);V(this,qd,n),V(this,Ss,i)}addFilter(n){if(!n)return"none";let i=C(this,tt,xs).get(n);if(i)return i;const[r,s,o]=H(this,tt,ZM).call(this,n),a=n.length===1?r:`${r}${s}${o}`;if(i=C(this,tt,xs).get(a),i)return C(this,tt,xs).set(n,i),i;const l=`g_${C(this,qd)}_transfer_map_${ro(this,iy)._++}`,c=H(this,tt,Xb).call(this,l);C(this,tt,xs).set(n,c),C(this,tt,xs).set(a,c);const d=H(this,tt,Jb).call(this,l);return H(this,tt,nC).call(this,r,s,o,d),c}addHCMFilter(n,i){var v;const r=`${n}-${i}`,s="base";let o=C(this,tt,Kb).get(s);if((o==null?void 0:o.key)===r||(o?((v=o.filter)==null||v.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},C(this,tt,Kb).set(s,o)),!n||!i))return o.url;const a=H(this,tt,iC).call(this,n);n=lt.makeHexColor(...a);const l=H(this,tt,iC).call(this,i);if(i=lt.makeHexColor(...l),C(this,tt,Yb).style.color="",n==="#000000"&&i==="#ffffff"||n===i)return o.url;const c=new Array(256);for(let S=0;S<=255;S++){const A=S/255;c[S]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const d=c.join(","),h=`g_${C(this,qd)}_hcm_filter`,p=o.filter=H(this,tt,Jb).call(this,h);H(this,tt,nC).call(this,d,d,d,p),H(this,tt,wF).call(this,p);const m=(S,A)=>{const E=a[S]/255,M=l[S]/255,R=new Array(A+1);for(let N=0;N<=A;N++)R[N]=E+N/A*(M-E);return R.join(",")};return H(this,tt,nC).call(this,m(0,5),m(1,5),m(2,5),p),o.url=H(this,tt,Xb).call(this,h),o.url}addAlphaFilter(n){let i=C(this,tt,xs).get(n);if(i)return i;const[r]=H(this,tt,ZM).call(this,[n]),s=`alpha_${r}`;if(i=C(this,tt,xs).get(s),i)return C(this,tt,xs).set(n,i),i;const o=`g_${C(this,qd)}_alpha_map_${ro(this,iy)._++}`,a=H(this,tt,Xb).call(this,o);C(this,tt,xs).set(n,a),C(this,tt,xs).set(s,a);const l=H(this,tt,Jb).call(this,o);return H(this,tt,SF).call(this,r,l),a}addLuminosityFilter(n){let i=C(this,tt,xs).get(n||"luminosity");if(i)return i;let r,s;if(n?([r]=H(this,tt,ZM).call(this,[n]),s=`luminosity_${r}`):s="luminosity",i=C(this,tt,xs).get(s),i)return C(this,tt,xs).set(n,i),i;const o=`g_${C(this,qd)}_luminosity_map_${ro(this,iy)._++}`,a=H(this,tt,Xb).call(this,o);C(this,tt,xs).set(n,a),C(this,tt,xs).set(s,a);const l=H(this,tt,Jb).call(this,o);return H(this,tt,nne).call(this,l),n&&H(this,tt,SF).call(this,r,l),a}addHighlightHCMFilter(n,i,r,s,o){var M;const a=`${i}-${r}-${s}-${o}`;let l=C(this,tt,Kb).get(n);if((l==null?void 0:l.key)===a||(l?((M=l.filter)==null||M.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},C(this,tt,Kb).set(n,l)),!i||!r))return l.url;const[c,d]=[i,r].map(H(this,tt,iC).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[m,v]=[s,o].map(H(this,tt,iC).bind(this));p<h&&([h,p,m,v]=[p,h,v,m]),C(this,tt,Yb).style.color="";const S=(R,N,P)=>{const O=new Array(256),$=(p-h)/P,F=R/255,q=(N-R)/(255*P);let B=0;for(let X=0;X<=P;X++){const Q=Math.round(h+X*$),J=F+X*q;for(let oe=B;oe<=Q;oe++)O[oe]=J;B=Q+1}for(let X=B;X<256;X++)O[X]=O[B-1];return O.join(",")},A=`g_${C(this,qd)}_hcm_${n}_filter`,E=l.filter=H(this,tt,Jb).call(this,A);return H(this,tt,wF).call(this,E),H(this,tt,nC).call(this,S(m[0],v[0],5),S(m[1],v[1],5),S(m[2],v[2],5),E),l.url=H(this,tt,Xb).call(this,A),l.url}destroy(n=!1){n&&C(this,tt,Kb).size!==0||(C(this,Ou)&&(C(this,Ou).parentNode.parentNode.remove(),V(this,Ou,null)),C(this,ny)&&(C(this,ny).clear(),V(this,ny,null)),V(this,iy,0))}}ty=new WeakMap,ny=new WeakMap,Ou=new WeakMap,qd=new WeakMap,Ss=new WeakMap,L2=new WeakMap,iy=new WeakMap,tt=new WeakSet,xs=function(){return C(this,ny)||V(this,ny,new Map)},Kb=function(){return C(this,L2)||V(this,L2,new Map)},Yb=function(){if(!C(this,Ou)){const n=C(this,Ss).createElement("div"),{style:i}=n;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=C(this,Ss).createElementNS(jd,"svg");r.setAttribute("width",0),r.setAttribute("height",0),V(this,Ou,C(this,Ss).createElementNS(jd,"defs")),n.append(r),r.append(C(this,Ou)),C(this,Ss).body.append(n)}return C(this,Ou)},ZM=function(n){if(n.length===1){const c=n[0],d=new Array(256);for(let p=0;p<256;p++)d[p]=c[p]/255;const h=d.join(",");return[h,h,h]}const[i,r,s]=n,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=i[c]/255,a[c]=r[c]/255,l[c]=s[c]/255;return[o.join(","),a.join(","),l.join(",")]},Xb=function(n){if(C(this,ty)===void 0){V(this,ty,"");const i=C(this,Ss).URL;i!==C(this,Ss).baseURI&&(hN(i)?rn('#createUrl: ignore "data:"-URL for performance reasons.'):V(this,ty,i.split("#",1)[0]))}return`url(${C(this,ty)}#${n})`},nne=function(n){const i=C(this,Ss).createElementNS(jd,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(i)},wF=function(n){const i=C(this,Ss).createElementNS(jd,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(i)},Jb=function(n){const i=C(this,Ss).createElementNS(jd,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",n),C(this,tt,Yb).append(i),i},tC=function(n,i,r){const s=C(this,Ss).createElementNS(jd,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),n.append(s)},nC=function(n,i,r,s){const o=C(this,Ss).createElementNS(jd,"feComponentTransfer");s.append(o),H(this,tt,tC).call(this,o,"feFuncR",n),H(this,tt,tC).call(this,o,"feFuncG",i),H(this,tt,tC).call(this,o,"feFuncB",r)},SF=function(n,i){const r=C(this,Ss).createElementNS(jd,"feComponentTransfer");i.append(r),H(this,tt,tC).call(this,r,"feFuncA",n)},iC=function(n){return C(this,tt,Yb).style.color=n,_5(getComputedStyle(C(this,tt,Yb)).getPropertyValue("color"))};class ine{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(i=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){wi("Abstract method `_fetch` called.")}}class rne extends ine{async _fetch(e){const n=await fN(e,"arraybuffer");return new Uint8Array(n)}}if(Os){var CF=Promise.withResolvers(),PC=null;(async()=>{const e=await bM(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await bM(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await bM(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await bM(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:n,https:i,url:r,canvas:s,path2d:o}))})().then(e=>{PC=e,CF.resolve()},e=>{rn(`loadPackages: ${e}`),PC=new Map,CF.resolve()})}class Vp{static get promise(){return CF.promise}static get(e){return PC==null?void 0:PC.get(e)}}async function sne(t){const n=await Vp.get("fs").promises.readFile(t);return new Uint8Array(n)}class u4e extends tne{}class d4e extends Zte{_createCanvas(e,n){return Vp.get("canvas").createCanvas(e,n)}}class f4e extends Qte{async _fetch(e){return sne(e)}}class h4e extends ine{async _fetch(e){return sne(e)}}const uo={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function AF(t,e){if(!e)return;const n=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],n,i),t.clip(r)}class R5{getPattern(){wi("Abstract method `getPattern` called.")}}class p4e extends R5{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)n.addColorStop(i[0],i[1]);return n}getPattern(e,n,i,r){let s;if(r===uo.STROKE||r===uo.FILL){const o=n.current.getClippedPathBoundingBox(r,ji(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=n.cachedCanvases.getCanvas("pattern",a,l),d=c.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),i=lt.transform(i,[1,0,0,1,o[0],o[1]]),d.transform(...n.baseTransform),this.matrix&&d.transform(...this.matrix),AF(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(i);s.setTransform(h)}else AF(e,this._bbox),s=this._createGradient(e);return s}}function VL(t,e,n,i,r,s,o,a){const l=e.coords,c=e.colors,d=t.data,h=t.width*4;let p;l[n+1]>l[i+1]&&(p=n,n=i,i=p,p=s,s=o,o=p),l[i+1]>l[r+1]&&(p=i,i=r,r=p,p=o,o=a,a=p),l[n+1]>l[i+1]&&(p=n,n=i,i=p,p=s,s=o,o=p);const m=(l[n]+e.offsetX)*e.scaleX,v=(l[n+1]+e.offsetY)*e.scaleY,S=(l[i]+e.offsetX)*e.scaleX,A=(l[i+1]+e.offsetY)*e.scaleY,E=(l[r]+e.offsetX)*e.scaleX,M=(l[r+1]+e.offsetY)*e.scaleY;if(v>=M)return;const R=c[s],N=c[s+1],P=c[s+2],O=c[o],$=c[o+1],F=c[o+2],q=c[a],B=c[a+1],X=c[a+2],Q=Math.round(v),J=Math.round(M);let oe,ce,le,ee,Z,se,j,te;for(let ae=Q;ae<=J;ae++){if(ae<A){const je=ae<v?0:(v-ae)/(v-A);oe=m-(m-S)*je,ce=R-(R-O)*je,le=N-(N-$)*je,ee=P-(P-F)*je}else{let je;ae>M?je=1:A===M?je=0:je=(A-ae)/(A-M),oe=S-(S-E)*je,ce=O-(O-q)*je,le=$-($-B)*je,ee=F-(F-X)*je}let U;ae<v?U=0:ae>M?U=1:U=(v-ae)/(v-M),Z=m-(m-E)*U,se=R-(R-q)*U,j=N-(N-B)*U,te=P-(P-X)*U;const ve=Math.round(Math.min(oe,Z)),ke=Math.round(Math.max(oe,Z));let Ce=h*ae+ve*4;for(let je=ve;je<=ke;je++)U=(oe-je)/(oe-Z),U<0?U=0:U>1&&(U=1),d[Ce++]=ce-(ce-se)*U|0,d[Ce++]=le-(le-j)*U|0,d[Ce++]=ee-(ee-te)*U|0,d[Ce++]=255}}function m4e(t,e,n){const i=e.coords,r=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(i.length/a)-1,c=a-1;for(s=0;s<l;s++){let d=s*a;for(let h=0;h<c;h++,d++)VL(t,n,i[d],i[d+1],i[d+a],r[d],r[d+1],r[d+a]),VL(t,n,i[d+a+1],i[d+1],i[d+a],r[d+a+1],r[d+1],r[d+a])}break;case"triangles":for(s=0,o=i.length;s<o;s+=3)VL(t,n,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class g4e extends R5{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,n,i){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),m=c/h,v=d/p,S={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/m,scaleY:1/v},A=h+2*2,E=p+2*2,M=i.getCanvas("mesh",A,E),R=M.context,N=R.createImageData(h,p);if(n){const O=N.data;for(let $=0,F=O.length;$<F;$+=4)O[$]=n[0],O[$+1]=n[1],O[$+2]=n[2],O[$+3]=255}for(const O of this._figures)m4e(N,O,S);return R.putImageData(N,2,2),{canvas:M.canvas,offsetX:a-2*m,offsetY:l-2*v,scaleX:m,scaleY:v}}getPattern(e,n,i,r){AF(e,this._bbox);let s;if(r===uo.SHADING)s=lt.singularValueDecompose2dScale(ji(e));else if(s=lt.singularValueDecompose2dScale(n.baseTransform),this.matrix){const a=lt.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,r===uo.SHADING?null:this._background,n.cachedCanvases);return r!==uo.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class y4e extends R5{getPattern(){return"hotpink"}}function b4e(t){switch(t[0]){case"RadialAxial":return new p4e(t);case"Mesh":return new g4e(t);case"Dummy":return new y4e}throw new Error(`Unknown IR type: ${t[0]}`)}const v9={COLORED:1,UNCOLORED:2},j2=class j2{constructor(e,n,i,r,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=n,this.ctx=i,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(e){const{bbox:n,operatorList:i,paintType:r,tilingType:s,color:o,canvasGraphicsFactory:a}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),cN("TilingType: "+s);const d=n[0],h=n[1],p=n[2],m=n[3],v=p-d,S=m-h,A=lt.singularValueDecompose2dScale(this.matrix),E=lt.singularValueDecompose2dScale(this.baseTransform),M=A[0]*E[0],R=A[1]*E[1];let N=v,P=S,O=!1,$=!1;const F=Math.ceil(l*M),q=Math.ceil(c*R),B=Math.ceil(v*M),X=Math.ceil(S*R);F>=B?N=l:O=!0,q>=X?P=c:$=!0;const Q=this.getSizeAndScale(N,this.ctx.canvas.width,M),J=this.getSizeAndScale(P,this.ctx.canvas.height,R),oe=e.cachedCanvases.getCanvas("pattern",Q.size,J.size),ce=oe.context,le=a.createCanvasGraphics(ce);if(le.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(le,r,o),ce.translate(-Q.scale*d,-J.scale*h),le.transform(Q.scale,0,0,J.scale,0,0),ce.save(),this.clipBbox(le,d,h,p,m),le.baseTransform=ji(le.ctx),le.executeOperatorList(i),le.endDrawing(),ce.restore(),O||$){const ee=oe.canvas;O&&(N=l),$&&(P=c);const Z=this.getSizeAndScale(N,this.ctx.canvas.width,M),se=this.getSizeAndScale(P,this.ctx.canvas.height,R),j=Z.size,te=se.size,ae=e.cachedCanvases.getCanvas("pattern-workaround",j,te),U=ae.context,ve=O?Math.floor(v/l):0,ke=$?Math.floor(S/c):0;for(let Ce=0;Ce<=ve;Ce++)for(let je=0;je<=ke;je++)U.drawImage(ee,j*Ce,te*je,j,te,0,0,j,te);return{canvas:ae.canvas,scaleX:Z.scale,scaleY:se.scale,offsetX:d,offsetY:h}}return{canvas:oe.canvas,scaleX:Q.scale,scaleY:J.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,n,i){const r=Math.max(j2.MAX_PATTERN_SIZE,n);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,n,i,r,s){const o=r-n,a=s-i;e.ctx.rect(n,i,o,a),e.current.updateRectMinMax(ji(e.ctx),[n,i,r,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,i){const r=e.ctx,s=e.current;switch(n){case v9.COLORED:const o=this.ctx;r.fillStyle=o.fillStyle,r.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case v9.UNCOLORED:const a=lt.makeHexColor(i[0],i[1],i[2]);r.fillStyle=a,r.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new H5e(`Unsupported paint type: ${n}`)}}getPattern(e,n,i,r){let s=i;r!==uo.SHADING&&(s=lt.transform(s,n.baseTransform),this.matrix&&(s=lt.transform(s,this.matrix)));const o=this.createPatternCanvas(n);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};Rt(j2,"MAX_PATTERN_SIZE",3e3);let EF=j2;function v4e({src:t,srcPos:e=0,dest:n,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=go.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],d=i>>3,h=i&7,p=t.length;n=new Uint32Array(n.buffer);let m=0;for(let v=0;v<r;v++){for(const A=e+d;e<A;e++){const E=e<p?t[e]:255;n[m++]=E&128?c:l,n[m++]=E&64?c:l,n[m++]=E&32?c:l,n[m++]=E&16?c:l,n[m++]=E&8?c:l,n[m++]=E&4?c:l,n[m++]=E&2?c:l,n[m++]=E&1?c:l}if(h===0)continue;const S=e<p?t[e++]:255;for(let A=0;A<h;A++)n[m++]=S&1<<7-A?c:l}return{srcPos:e,destPos:m}}const x9=16,w9=100,x4e=15,S9=10,C9=1e3,zo=16;function w4e(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(i,r){e.translate(i,r),this.__originalTranslate(i,r)},t.scale=function(i,r){e.scale(i,r),this.__originalScale(i,r)},t.transform=function(i,r,s,o,a,l){e.transform(i,r,s,o,a,l),this.__originalTransform(i,r,s,o,a,l)},t.setTransform=function(i,r,s,o,a,l){e.setTransform(i,r,s,o,a,l),this.__originalSetTransform(i,r,s,o,a,l)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(i){e.rotate(i),this.__originalRotate(i)},t.clip=function(i){e.clip(i),this.__originalClip(i)},t.moveTo=function(n,i){e.moveTo(n,i),this.__originalMoveTo(n,i)},t.lineTo=function(n,i){e.lineTo(n,i),this.__originalLineTo(n,i)},t.bezierCurveTo=function(n,i,r,s,o,a){e.bezierCurveTo(n,i,r,s,o,a),this.__originalBezierCurveTo(n,i,r,s,o,a)},t.rect=function(n,i,r,s){e.rect(n,i,r,s),this.__originalRect(n,i,r,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class S4e{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,n,i)):(r=this.canvasFactory.create(n,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function vM(t,e,n,i,r,s,o,a,l,c){const[d,h,p,m,v,S]=ji(t);if(h===0&&p===0){const M=o*d+v,R=Math.round(M),N=a*m+S,P=Math.round(N),O=(o+l)*d+v,$=Math.abs(Math.round(O)-R)||1,F=(a+c)*m+S,q=Math.abs(Math.round(F)-P)||1;return t.setTransform(Math.sign(d),0,0,Math.sign(m),R,P),t.drawImage(e,n,i,r,s,0,0,$,q),t.setTransform(d,h,p,m,v,S),[$,q]}if(d===0&&m===0){const M=a*p+v,R=Math.round(M),N=o*h+S,P=Math.round(N),O=(a+c)*p+v,$=Math.abs(Math.round(O)-R)||1,F=(o+l)*h+S,q=Math.abs(Math.round(F)-P)||1;return t.setTransform(0,Math.sign(h),Math.sign(p),0,R,P),t.drawImage(e,n,i,r,s,0,0,q,$),t.setTransform(d,h,p,m,v,S),[q,$]}t.drawImage(e,n,i,r,s,o,a,l,c);const A=Math.hypot(d,h),E=Math.hypot(p,m);return[A*l,E*c]}function C4e(t){const{width:e,height:n}=t;if(e>C9||n>C9)return null;const i=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(n+1)),a,l,c;const d=e+7&-8;let h=new Uint8Array(d*n),p=0;for(const E of t.data){let M=128;for(;M>0;)h[p++]=E&M?0:255,M>>=1}let m=0;for(p=0,h[p]!==0&&(o[0]=1,++m),l=1;l<e;l++)h[p]!==h[p+1]&&(o[l]=h[p]?2:1,++m),p++;for(h[p]!==0&&(o[l]=2,++m),a=1;a<n;a++){p=a*d,c=a*s,h[p-d]!==h[p]&&(o[c]=h[p]?1:8,++m);let E=(h[p]?4:0)+(h[p-d]?8:0);for(l=1;l<e;l++)E=(E>>2)+(h[p+1]?4:0)+(h[p-d+1]?8:0),r[E]&&(o[c+l]=r[E],++m),p++;if(h[p-d]!==h[p]&&(o[c+l]=h[p]?2:4,++m),m>i)return null}for(p=d*(n-1),c=a*s,h[p]!==0&&(o[c]=8,++m),l=1;l<e;l++)h[p]!==h[p+1]&&(o[c+l]=h[p]?4:8,++m),p++;if(h[p]!==0&&(o[c+l]=4,++m),m>i)return null;const v=new Int32Array([0,s,-1,0,-s,0,0,0,1]),S=new Path2D;for(a=0;m&&a<=n;a++){let E=a*s;const M=E+e;for(;E<M&&!o[E];)E++;if(E===M)continue;S.moveTo(E%s,a);const R=E;let N=o[E];do{const P=v[N];do E+=P;while(!o[E]);const O=o[E];O!==5&&O!==10?(N=O,o[E]=0):(N=O&51*N>>4,o[E]&=N>>2|N<<2),S.lineTo(E%s,E/s|0),o[E]||--m}while(R!==E);--a}return h=null,o=null,function(E){E.save(),E.scale(1/e,-1/n),E.translate(0,-n),E.fill(S),E.beginPath(),E.restore()}}class A9{constructor(e,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Ste,this.textMatrixScale=1,this.fontMatrix=JI,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=vs.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,n])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,n){this.x=e,this.y=n}updatePathMinMax(e,n,i){[n,i]=lt.applyTransform([n,i],e),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,n){const i=lt.applyTransform(n,e),r=lt.applyTransform(n.slice(2),e),s=lt.applyTransform([n[0],n[3]],e),o=lt.applyTransform([n[2],n[1]],e);this.minX=Math.min(this.minX,i[0],r[0],s[0],o[0]),this.minY=Math.min(this.minY,i[1],r[1],s[1],o[1]),this.maxX=Math.max(this.maxX,i[0],r[0],s[0],o[0]),this.maxY=Math.max(this.maxY,i[1],r[1],s[1],o[1])}updateScalingPathMinMax(e,n){lt.scaleMinMax(e,n),this.minX=Math.min(this.minX,n[0]),this.minY=Math.min(this.minY,n[1]),this.maxX=Math.max(this.maxX,n[2]),this.maxY=Math.max(this.maxY,n[3])}updateCurvePathMinMax(e,n,i,r,s,o,a,l,c,d){const h=lt.bezierBoundingBox(n,i,r,s,o,a,l,c,d);d||this.updateRectMinMax(e,h)}getPathBoundingBox(e=uo.FILL,n=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(e===uo.STROKE){n||wi("Stroke bounding box must include transform.");const r=lt.singularValueDecompose2dScale(n),s=r[0]*this.lineWidth/2,o=r[1]*this.lineWidth/2;i[0]-=s,i[1]-=o,i[2]+=s,i[3]+=o}return i}updateClipFromPath(){const e=lt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=uo.FILL,n=null){return lt.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function E9(t,e){if(typeof ImageData<"u"&&e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,i=e.width,r=n%zo,s=(n-r)/zo,o=r===0?s:s+1,a=t.createImageData(i,zo);let l=0,c;const d=e.data,h=a.data;let p,m,v,S;if(e.kind===qM.GRAYSCALE_1BPP){const A=d.byteLength,E=new Uint32Array(h.buffer,0,h.byteLength>>2),M=E.length,R=i+7>>3,N=4294967295,P=go.isLittleEndian?4278190080:255;for(p=0;p<o;p++){for(v=p<s?zo:r,c=0,m=0;m<v;m++){const O=A-l;let $=0;const F=O>R?i:O*8-7,q=F&-8;let B=0,X=0;for(;$<q;$+=8)X=d[l++],E[c++]=X&128?N:P,E[c++]=X&64?N:P,E[c++]=X&32?N:P,E[c++]=X&16?N:P,E[c++]=X&8?N:P,E[c++]=X&4?N:P,E[c++]=X&2?N:P,E[c++]=X&1?N:P;for(;$<F;$++)B===0&&(X=d[l++],B=128),E[c++]=X&B?N:P,B>>=1}for(;c<M;)E[c++]=0;t.putImageData(a,0,p*zo)}}else if(e.kind===qM.RGBA_32BPP){for(m=0,S=i*zo*4,p=0;p<s;p++)h.set(d.subarray(l,l+S)),l+=S,t.putImageData(a,0,m),m+=zo;p<o&&(S=i*r*4,h.set(d.subarray(l,l+S)),t.putImageData(a,0,m))}else if(e.kind===qM.RGB_24BPP)for(v=zo,S=i*v,p=0;p<o;p++){for(p>=s&&(v=r,S=i*v),c=0,m=S;m--;)h[c++]=d[l++],h[c++]=d[l++],h[c++]=d[l++],h[c++]=255;t.putImageData(a,0,p*zo)}else throw new Error(`bad image kind: ${e.kind}`)}function T9(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,i=e.width,r=n%zo,s=(n-r)/zo,o=r===0?s:s+1,a=t.createImageData(i,zo);let l=0;const c=e.data,d=a.data;for(let h=0;h<o;h++){const p=h<s?zo:r;({srcPos:l}=v4e({src:c,srcPos:l,dest:d,width:i,height:p,nonBlackColor:0})),t.putImageData(a,0,h*zo)}}function zS(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)t[i]!==void 0&&(e[i]=t[i]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function xM(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!Os){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function k9(t,e){if(e)return!0;const n=lt.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Bp.PDF_TO_CSS_UNITS);return n[0]<=i&&n[1]<=i}const A4e=["butt","round","square"],E4e=["miter","round","bevel"],T4e={},_9={};var Up,TF,kF;const I5=class I5{constructor(e,n,i,r,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){W(this,Up);this.ctx=e,this.current=new A9(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new S4e(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,n=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):n}beginDrawing({transform:e,viewport:n,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,i){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...ji(this.compositeCtx))}this.ctx.save(),xM(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=ji(this.ctx)}executeOperatorList(e,n,i,r){const s=e.argsArray,o=e.fnArray;let a=n||0;const l=s.length;if(l===a)return a;const c=l-a>S9&&typeof i=="function",d=c?Date.now()+x4e:0;let h=0;const p=this.commonObjs,m=this.objs;let v;for(;;){if(r!==void 0&&a===r.nextBreakPoint)return r.breakIt(a,i),a;if(v=o[a],v!==uc.dependency)this[v].apply(this,s[a]);else for(const S of s[a]){const A=S.startsWith("g_")?p:m;if(!A.has(S))return A.get(S,i),a}if(a++,a===l)return a;if(c&&++h>S9){if(Date.now()>d)return i(),a;h=0}}}endDrawing(){H(this,Up,TF).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),H(this,Up,kF).call(this)}_scaleImage(e,n){const i=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(n[0],n[1]),1),o=Math.max(Math.hypot(n[2],n[3]),1),a=i,l=r,c="prescale1",d,h;for(;s>2&&a>1||o>2&&l>1;){let p=a,m=l;s>2&&a>1&&(p=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/p),o>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/m),d=this.cachedCanvases.getCanvas(c,p,m),h=d.context,h.clearRect(0,0,p,m),h.drawImage(e,0,0,a,l,0,0,p,m),e=d.canvas,a=p,l=m,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const n=this.ctx,{width:i,height:r}=e,s=this.current.fillColor,o=this.current.patternFill,a=ji(n);let l,c,d,h;if((e.bitmap||e.data)&&e.count>1){const F=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(F),l||(l=new Map,this._cachedBitmapsMap.set(F,l));const q=l.get(c);if(q&&!o){const B=Math.round(Math.min(a[0],a[2])+a[4]),X=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:q,offsetX:B,offsetY:X}}d=q}d||(h=this.cachedCanvases.getCanvas("maskCanvas",i,r),T9(h.context,e));let p=lt.transform(a,[1/i,0,0,-1/r,0,0]);p=lt.transform(p,[1,0,0,1,0,-r]);const[m,v,S,A]=lt.getAxialAlignedBoundingBox([0,0,i,r],p),E=Math.round(S-m)||1,M=Math.round(A-v)||1,R=this.cachedCanvases.getCanvas("fillCanvas",E,M),N=R.context,P=m,O=v;N.translate(-P,-O),N.transform(...p),d||(d=this._scaleImage(h.canvas,Ld(N)),d=d.img,l&&o&&l.set(c,d)),N.imageSmoothingEnabled=k9(ji(N),e.interpolate),vM(N,d,0,0,d.width,d.height,0,0,i,r),N.globalCompositeOperation="source-in";const $=lt.transform(Ld(N),[1,0,0,1,-P,-O]);return N.fillStyle=o?s.getPattern(n,this,$,uo.FILL):s,N.fillRect(0,0,i,r),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,R.canvas)),{canvas:R.canvas,offsetX:Math.round(P),offsetY:Math.round(O)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=A4e[e]}setLineJoin(e){this.ctx.lineJoin=E4e[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,n){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=n)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[n,i]of e)switch(n){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,e,n);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...ji(this.suspendedCtx)),zS(this.suspendedCtx,s),w4e(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),zS(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,i,r){const s=r[0],o=r[1],a=r[2]-s,l=r[3]-o;a===0||l===0||(this.genericComposeSMask(n.context,i,a,l,n.subtype,n.backdrop,n.transferMap,s,o,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,n,i,r,s,o,a,l,c,d,h){let p=e.canvas,m=l-d,v=c-h;if(o){const A=lt.makeHexColor(...o);if(m<0||v<0||m+i>p.width||v+r>p.height){const E=this.cachedCanvases.getCanvas("maskExtension",i,r),M=E.context;M.drawImage(p,-m,-v),M.globalCompositeOperation="destination-atop",M.fillStyle=A,M.fillRect(0,0,i,r),M.globalCompositeOperation="source-over",p=E.canvas,m=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(m,v,i,r),e.clip(E),e.globalCompositeOperation="destination-atop",e.fillStyle=A,e.fillRect(m,v,i,r),e.restore()}}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?n.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(a));const S=new Path2D;S.rect(l,c,i,r),n.clip(S),n.globalCompositeOperation="destination-in",n.drawImage(p,m,v,i,r,l,c,i,r),n.restore()}save(){this.inSMaskMode?(zS(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),zS(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,n,i,r,s,o){this.ctx.transform(e,n,i,r,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,i){const r=this.ctx,s=this.current;let o=s.x,a=s.y,l,c;const d=ji(r),h=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,p=h?i.slice(0):null;for(let m=0,v=0,S=e.length;m<S;m++)switch(e[m]|0){case uc.rectangle:o=n[v++],a=n[v++];const A=n[v++],E=n[v++],M=o+A,R=a+E;r.moveTo(o,a),A===0||E===0?r.lineTo(M,R):(r.lineTo(M,a),r.lineTo(M,R),r.lineTo(o,R)),h||s.updateRectMinMax(d,[o,a,M,R]),r.closePath();break;case uc.moveTo:o=n[v++],a=n[v++],r.moveTo(o,a),h||s.updatePathMinMax(d,o,a);break;case uc.lineTo:o=n[v++],a=n[v++],r.lineTo(o,a),h||s.updatePathMinMax(d,o,a);break;case uc.curveTo:l=o,c=a,o=n[v+4],a=n[v+5],r.bezierCurveTo(n[v],n[v+1],n[v+2],n[v+3],o,a),s.updateCurvePathMinMax(d,l,c,n[v],n[v+1],n[v+2],n[v+3],o,a,p),v+=6;break;case uc.curveTo2:l=o,c=a,r.bezierCurveTo(o,a,n[v],n[v+1],n[v+2],n[v+3]),s.updateCurvePathMinMax(d,l,c,o,a,n[v],n[v+1],n[v+2],n[v+3],p),o=n[v+2],a=n[v+3],v+=4;break;case uc.curveTo3:l=o,c=a,o=n[v+2],a=n[v+3],r.bezierCurveTo(n[v],n[v+1],o,a,o,a),s.updateCurvePathMinMax(d,l,c,n[v],n[v+1],o,a,o,a,p),v+=4;break;case uc.closePath:r.closePath();break}h&&s.updateScalingPathMinMax(d,p),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const n=this.ctx,i=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(n.save(),n.strokeStyle=i.getPattern(n,this,Ld(n),uo.STROKE),this.rescaleAndStroke(!1),n.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const n=this.ctx,i=this.current.fillColor,r=this.current.patternFill;let s=!1;r&&(n.save(),n.fillStyle=i.getPattern(n,this,Ld(n),uo.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),s&&n.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=T4e}eoClip(){this.pendingClip=_9}beginText(){this.current.textMatrix=Ste,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,n=this.ctx;if(e===void 0){n.beginPath();return}n.save(),n.beginPath();for(const i of e)n.setTransform(...i.transform),n.translate(i.x,i.y),i.addToPath(n,i.fontSize);n.restore(),n.clip(),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,n){var d;const i=this.commonObjs.get(e),r=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=i.fontMatrix||JI,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&rn("Invalid font matrix for font "+e),n<0?(n=-n,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const s=i.loadedName||"sans-serif",o=((d=i.systemFontInfo)==null?void 0:d.css)||`"${s}", ${i.fallbackName}`;let a="normal";i.black?a="900":i.bold&&(a="bold");const l=i.italic?"italic":"normal";let c=n;n<x9?c=x9:n>w9&&(c=w9),this.current.fontSizeScale=n/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,n){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,n){this.setLeading(-n),this.moveText(e,n)}setTextMatrix(e,n,i,r,s,o){this.current.textMatrix=[e,n,i,r,s,o],this.current.textMatrixScale=Math.hypot(e,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,n,i,r){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,d=l&vs.FILL_STROKE_MASK,h=!!(l&vs.ADD_TO_PATH_FLAG),p=o.patternFill&&!a.missingFile;let m;(a.disableFontFace||h||p)&&(m=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||p?(s.save(),s.translate(n,i),s.beginPath(),m(s,c),r&&s.setTransform(...r),(d===vs.FILL||d===vs.FILL_STROKE)&&s.fill(),(d===vs.STROKE||d===vs.FILL_STROKE)&&s.stroke(),s.restore()):((d===vs.FILL||d===vs.FILL_STROKE)&&s.fillText(e,n,i),(d===vs.STROKE||d===vs.FILL_STROKE)&&s.strokeText(e,n,i)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ji(s),x:n,y:i,fontSize:c,addToPath:m})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<n.length;r+=4)if(n[r]>0&&n[r]<255){i=!0;break}return vn(this,"isFontSubpixelAAEnabled",i)}showText(e){const n=this.current,i=n.font;if(i.isType3Font)return this.showType3Text(e);const r=n.fontSize;if(r===0)return;const s=this.ctx,o=n.fontSizeScale,a=n.charSpacing,l=n.wordSpacing,c=n.fontDirection,d=n.textHScale*c,h=e.length,p=i.vertical,m=p?1:-1,v=i.defaultVMetrics,S=r*n.fontMatrix[0],A=n.textRenderingMode===vs.FILL&&!i.disableFontFace&&!n.patternFill;s.save(),s.transform(...n.textMatrix),s.translate(n.x,n.y+n.textRise),c>0?s.scale(d,-1):s.scale(d,1);let E;if(n.patternFill){s.save();const O=n.fillColor.getPattern(s,this,Ld(s),uo.FILL);E=ji(s),s.restore(),s.fillStyle=O}let M=n.lineWidth;const R=n.textMatrixScale;if(R===0||M===0){const O=n.textRenderingMode&vs.FILL_STROKE_MASK;(O===vs.STROKE||O===vs.FILL_STROKE)&&(M=this.getSinglePixelWidth())}else M/=R;if(o!==1&&(s.scale(o,o),M/=o),s.lineWidth=M,i.isInvalidPDFjsFont){const O=[];let $=0;for(const F of e)O.push(F.unicode),$+=F.width;s.fillText(O.join(""),0,0),n.x+=$*S*d,s.restore(),this.compose();return}let N=0,P;for(P=0;P<h;++P){const O=e[P];if(typeof O=="number"){N+=m*O*r/1e3;continue}let $=!1;const F=(O.isSpace?l:0)+a,q=O.fontChar,B=O.accent;let X,Q,J=O.width;if(p){const ce=O.vmetric||v,le=-(O.vmetric?ce[1]:J*.5)*S,ee=ce[2]*S;J=ce?-ce[0]:J,X=le/o,Q=(N+ee)/o}else X=N/o,Q=0;if(i.remeasure&&J>0){const ce=s.measureText(q).width*1e3/r*o;if(J<ce&&this.isFontSubpixelAAEnabled){const le=J/ce;$=!0,s.save(),s.scale(le,1),X/=le}else J!==ce&&(X+=(J-ce)/2e3*r/o)}if(this.contentVisible&&(O.isInFont||i.missingFile)){if(A&&!B)s.fillText(q,X,Q);else if(this.paintChar(q,X,Q,E),B){const ce=X+r*B.offset.x/o,le=Q-r*B.offset.y/o;this.paintChar(B.fontChar,ce,le,E)}}const oe=p?J*S-F*c:J*S+F*c;N+=oe,$&&s.restore()}p?n.y-=N:n.x+=N*d,s.restore(),this.compose()}showType3Text(e){const n=this.ctx,i=this.current,r=i.font,s=i.fontSize,o=i.fontDirection,a=r.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,d=i.textHScale*o,h=i.fontMatrix||JI,p=e.length,m=i.textRenderingMode===vs.INVISIBLE;let v,S,A,E;if(!(m||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),n.transform(...i.textMatrix),n.translate(i.x,i.y),n.scale(d,o),v=0;v<p;++v){if(S=e[v],typeof S=="number"){E=a*S*s/1e3,this.ctx.translate(E,0),i.x+=E*d;continue}const M=(S.isSpace?c:0)+l,R=r.charProcOperatorList[S.operatorListId];if(!R){rn(`Type3 character "${S.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=S,this.save(),n.scale(s,s),n.transform(...h),this.executeOperatorList(R),this.restore()),A=lt.applyTransform([S.width,0],h)[0]*s+M,n.translate(A,0),i.x+=A*d}n.restore(),this.processingType3=null}}setCharWidth(e,n){}setCharWidthAndBounds(e,n,i,r,s,o){this.ctx.rect(i,r,s-i,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let n;if(e[0]==="TilingPattern"){const i=e[1],r=this.baseTransform||ji(this.ctx),s={createCanvasGraphics:o=>new I5(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new EF(e,i,this.ctx,s,r)}else n=this._getPattern(e[1],e[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,n,i){this.ctx.strokeStyle=this.current.strokeColor=lt.makeHexColor(e,n,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,n,i){this.ctx.fillStyle=this.current.fillColor=lt.makeHexColor(e,n,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=b4e(this.getObject(e)),this.cachedPatterns.set(e,i)),n&&(i.matrix=n),i}shadingFill(e){if(!this.contentVisible)return;const n=this.ctx;this.save();const i=this._getPattern(e);n.fillStyle=i.getPattern(n,this,Ld(n),uo.SHADING);const r=Ld(n);if(r){const{width:s,height:o}=n.canvas,[a,l,c,d]=lt.getAxialAlignedBoundingBox([0,0,s,o],r);this.ctx.fillRect(a,l,c-a,d-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){wi("Should not call beginInlineImage")}beginImageData(){wi("Should not call beginImageData")}paintFormXObjectBegin(e,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=ji(this.ctx),n)){const i=n[2]-n[0],r=n[3]-n[1];this.ctx.rect(n[0],n[1],i,r),this.current.updateRectMinMax(ji(this.ctx),n),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||cN("TODO: Support non-isolated groups."),e.knockout&&rn("Knockout groups not supported.");const i=ji(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=lt.getAxialAlignedBoundingBox(e.bbox,ji(n));const s=[0,0,n.canvas.width,n.canvas.height];r=lt.intersect(r,s)||[0,0,0,0];const o=Math.floor(r[0]),a=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-o,1),c=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,l,c),p=h.context;p.translate(-o,-a),p.transform(...i),e.smask?this.smaskStack.push({canvas:h.canvas,context:p,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(o,a),n.save()),zS(n,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=ji(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=lt.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],r);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,n,i,r,s){if(H(this,Up,TF).call(this),xM(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const o=n[2]-n[0],a=n[3]-n[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=o,n[3]=a;const[l,c]=lt.singularValueDecompose2dScale(ji(this.ctx)),{viewportScale:d}=this,h=Math.ceil(o*this.outputScaleX*d),p=Math.ceil(a*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,p);const{canvas:m,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),xM(this.ctx)}else xM(this.ctx),this.endPath(),this.ctx.rect(n[0],n[1],o,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new A9(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),H(this,Up,kF).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(e.data,e),e.count=n;const i=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=C4e(e)),r.compiled)){r.compiled(i);return}const s=this._createMaskCanvas(e),o=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,i=0,r=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=ji(a);a.transform(n,i,r,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let d=0,h=o.length;d<h;d+=2){const p=lt.transform(l,[n,i,r,s,o[d],o[d+1]]),[m,v]=lt.applyTransform([0,0],p);a.drawImage(c.canvas,m,v)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,d=this.cachedCanvases.getCanvas("maskCanvas",a,l),h=d.context;h.save();const p=this.getObject(o,s);T9(h,p),h.globalCompositeOperation="source-in",h.fillStyle=r?i.getPattern(h,this,Ld(n),uo.FILL):i,h.fillRect(0,0,a,l),h.restore(),n.save(),n.transform(...c),n.scale(1,-1),vM(n,d.canvas,0,0,a,l,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){rn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(e,n,i,r){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){rn("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,d=r.length;c<d;c+=2)l.push({transform:[n,0,0,i,r[c],r[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(n,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const n=e.width,i=e.height,r=this.ctx;if(this.save(),!Os){const{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none")}r.scale(1/n,-1/i);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",n,i).context;E9(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,Ld(r));r.imageSmoothingEnabled=k9(ji(r),e.interpolate),vM(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,n,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,n){if(!this.contentVisible)return;const i=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;E9(l,e),r=this.applyTransferMapsToCanvas(l)}for(const s of n)i.save(),i.transform(...s.transform),i.scale(1,-1),vM(i,r,s.x,s.y,s.w,s.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,n){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(n||(this.pendingClip===_9?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=ji(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:i,c:r,d:s}=this.ctx.getTransform();let o,a;if(i===0&&r===0){const l=Math.abs(n),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{const d=l*e;o=a=d<1?1/d:1}else if(e===0)o=1/l,a=1/c;else{const d=l*e,h=c*e;o=d<1?1/d:1,a=h<1?1/h:1}}else{const l=Math.abs(n*s-i*r),c=Math.hypot(n,i),d=Math.hypot(r,s);if(e===0)o=d/l,a=c/l;else{const h=e*l;o=d>h?d/h:1,a=c>h?c/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:n}=this,{lineWidth:i}=this.current,[r,s]=this.getScaleForStroking();if(n.lineWidth=i||1,r===1&&s===1){n.stroke();return}const o=n.getLineDash();if(e&&n.save(),n.scale(r,s),o.length>0){const a=Math.max(r,s);n.setLineDash(o.map(l=>l/a)),n.lineDashOffset/=a}n.stroke(),e&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Up=new WeakSet,TF=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},kF=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}};let Cv=I5;for(const t in uc)Cv.prototype[t]!==void 0&&(Cv.prototype[uc[t]]=Cv.prototype[t]);var WA,KA;class hf{static get workerPort(){return C(this,WA)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");V(this,WA,e)}static get workerSrc(){return C(this,KA)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");V(this,KA,e)}}WA=new WeakMap,KA=new WeakMap,W(hf,WA,null),W(hf,KA,"");const wM={DATA:1,ERROR:2},or={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function fa(t){switch(t instanceof Error||typeof t=="object"&&t!==null||wi('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new p0(t.message);case"MissingPDFException":return new h0(t.message);case"PasswordException":return new ZI(t.message,t.code);case"UnexpectedResponseException":return new uN(t.message,t.status);case"UnknownErrorException":return new QI(t.message,t.details);default:return new QI(t.message,t.toString())}}var $v,Ml,one,ane,lne,QM;class rC{constructor(e,n,i){W(this,Ml);W(this,$v,new AbortController);this.sourceName=e,this.targetName=n,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",H(this,Ml,one).bind(this),{signal:C(this,$v).signal})}on(e,n){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=n}send(e,n,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},i)}sendWithPromise(e,n,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:n},i)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,n,i,r){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:n,desiredSize:c.desiredSize},r),d.promise},pull:c=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:o,targetName:a,stream:or.PULL,streamId:s,desiredSize:c.desiredSize}),d.promise},cancel:c=>{Cr(c instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:or.CANCEL,streamId:s,reason:fa(c)}),d.promise}},i)}destroy(){var e;(e=C(this,$v))==null||e.abort(),V(this,$v,null)}}$v=new WeakMap,Ml=new WeakSet,one=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){H(this,Ml,lne).call(this,e);return}if(e.callback){const i=e.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===wM.DATA)r.resolve(e.data);else if(e.callback===wM.ERROR)r.reject(fa(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,r=e.sourceName,s=this.comObj;new Promise(function(o){o(n(e.data))}).then(function(o){s.postMessage({sourceName:i,targetName:r,callback:wM.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:i,targetName:r,callback:wM.ERROR,callbackId:e.callbackId,reason:fa(o)})});return}if(e.streamId){H(this,Ml,ane).call(this,e);return}n(e.data)},ane=function(e){const n=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,d=1,h){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=d,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:or.ENQUEUE,streamId:n,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:or.CLOSE,streamId:n}),delete o.streamSinks[n])},error(c){Cr(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:or.ERROR,streamId:n,reason:fa(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,new Promise(function(c){c(a(e.data,l))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:or.START_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:i,targetName:r,stream:or.START_COMPLETE,streamId:n,reason:fa(c)})})},lne=function(e){const n=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this.streamControllers[n],a=this.streamSinks[n];switch(e.stream){case or.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(fa(e.reason));break;case or.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(fa(e.reason));break;case or.PULL:if(!a){s.postMessage({sourceName:i,targetName:r,stream:or.PULL_COMPLETE,streamId:n,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var c;l((c=a.onPull)==null?void 0:c.call(a))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:or.PULL_COMPLETE,streamId:n,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:or.PULL_COMPLETE,streamId:n,reason:fa(l)})});break;case or.ENQUEUE:if(Cr(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case or.CLOSE:if(Cr(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),H(this,Ml,QM).call(this,o,n);break;case or.ERROR:Cr(o,"error should have stream controller"),o.controller.error(fa(e.reason)),H(this,Ml,QM).call(this,o,n);break;case or.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(fa(e.reason)),H(this,Ml,QM).call(this,o,n);break;case or.CANCEL:if(!a)break;new Promise(function(l){var c;l((c=a.onCancel)==null?void 0:c.call(a,fa(e.reason)))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:or.CANCEL_COMPLETE,streamId:n,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:or.CANCEL_COMPLETE,streamId:n,reason:fa(l)})}),a.sinkCapability.reject(fa(e.reason)),a.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},QM=async function(e,n){var i,r,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[n]};var ry,YA;class k4e{constructor({parsedData:e,rawData:n}){W(this,ry);W(this,YA);V(this,ry,e),V(this,YA,n)}getRaw(){return C(this,YA)}get(e){return C(this,ry).get(e)??null}getAll(){return C5(C(this,ry))}has(e){return C(this,ry).has(e)}}ry=new WeakMap,YA=new WeakMap;const Zb=Symbol("INTERNAL");var XA,JA,ZA,zv;class _4e{constructor(e,{name:n,intent:i,usage:r,rbGroups:s}){W(this,XA,!1);W(this,JA,!1);W(this,ZA,!1);W(this,zv,!0);V(this,XA,!!(e&Sa.DISPLAY)),V(this,JA,!!(e&Sa.PRINT)),this.name=n,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(C(this,ZA))return C(this,zv);if(!C(this,zv))return!1;const{print:e,view:n}=this.usage;return C(this,XA)?(n==null?void 0:n.viewState)!=="OFF":C(this,JA)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,i=!1){e!==Zb&&wi("Internal method `_setVisible` called."),V(this,ZA,i),V(this,zv,n)}}XA=new WeakMap,JA=new WeakMap,ZA=new WeakMap,zv=new WeakMap;var sp,Gn,Bv,Vv,QA,_F;class M4e{constructor(e,n=Sa.DISPLAY){W(this,QA);W(this,sp,null);W(this,Gn,new Map);W(this,Bv,null);W(this,Vv,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,V(this,Vv,e.order);for(const i of e.groups)C(this,Gn).set(i.id,new _4e(n,i));if(e.baseState==="OFF")for(const i of C(this,Gn).values())i._setVisible(Zb,!1);for(const i of e.on)C(this,Gn).get(i)._setVisible(Zb,!0);for(const i of e.off)C(this,Gn).get(i)._setVisible(Zb,!1);V(this,Bv,this.getHash())}}isVisible(e){if(C(this,Gn).size===0)return!0;if(!e)return cN("Optional content group not defined."),!0;if(e.type==="OCG")return C(this,Gn).has(e.id)?C(this,Gn).get(e.id).visible:(rn(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return H(this,QA,_F).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!C(this,Gn).has(n))return rn(`Optional content group not found: ${n}`),!0;if(C(this,Gn).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!C(this,Gn).has(n))return rn(`Optional content group not found: ${n}`),!0;if(!C(this,Gn).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!C(this,Gn).has(n))return rn(`Optional content group not found: ${n}`),!0;if(!C(this,Gn).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!C(this,Gn).has(n))return rn(`Optional content group not found: ${n}`),!0;if(C(this,Gn).get(n).visible)return!1}return!0}return rn(`Unknown optional content policy ${e.policy}.`),!0}return rn(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,i=!0){var s;const r=C(this,Gn).get(e);if(!r){rn(`Optional content group not found: ${e}`);return}if(i&&n&&r.rbGroups.length)for(const o of r.rbGroups)for(const a of o)a!==e&&((s=C(this,Gn).get(a))==null||s._setVisible(Zb,!1,!0));r._setVisible(Zb,!!n,!0),V(this,sp,null)}setOCGState({state:e,preserveRB:n}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=C(this,Gn).get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,n);break;case"OFF":this.setVisibility(r,!1,n);break;case"Toggle":this.setVisibility(r,!s.visible,n);break}}V(this,sp,null)}get hasInitialVisibility(){return C(this,Bv)===null||this.getHash()===C(this,Bv)}getOrder(){return C(this,Gn).size?C(this,Vv)?C(this,Vv).slice():[...C(this,Gn).keys()]:null}getGroups(){return C(this,Gn).size>0?C5(C(this,Gn)):null}getGroup(e){return C(this,Gn).get(e)||null}getHash(){if(C(this,sp)!==null)return C(this,sp);const e=new Yte;for(const[n,i]of C(this,Gn))e.update(`${n}:${i.visible}`);return V(this,sp,e.hexdigest())}}sp=new WeakMap,Gn=new WeakMap,Bv=new WeakMap,Vv=new WeakMap,QA=new WeakSet,_F=function(e){const n=e.length;if(n<2)return!0;const i=e[0];for(let r=1;r<n;r++){const s=e[r];let o;if(Array.isArray(s))o=H(this,QA,_F).call(this,s);else if(C(this,Gn).has(s))o=C(this,Gn).get(s).visible;else return rn(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class R4e{constructor(e,{disableRange:n=!1,disableStream:i=!1}){Cr(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});Cr(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,i,r,s;e.total===void 0?(i=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||i.call(n,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){Cr(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new D4e(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=new N4e(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class D4e{constructor(e,n,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=T5(r)?r:null,this._queuedChunks=n||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class N4e{constructor(e,n,i){this._stream=e,this._begin=n,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function P4e(t){let e=!0,n=i("filename\\*","i").exec(t);if(n){n=n[1];let d=a(n);return d=unescape(d),d=l(d),d=c(d),s(d)}if(n=o(t),n){const d=c(n);return s(d)}if(n=i("filename","i").exec(t),n){n=n[1];let d=a(n);return d=c(d),s(d)}function i(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const p=new TextDecoder(d,{fatal:!0}),m=dN(h);h=p.decode(m),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=r("utf-8",d),e&&(d=r("iso-8859-1",d))),d}function o(d){const h=[];let p;const m=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=m.exec(d))!==null;){let[,S,A,E]=p;if(S=parseInt(S,10),S in h){if(S===0)break;continue}h[S]=[A,E]}const v=[];for(let S=0;S<h.length&&S in h;++S){let[A,E]=h[S];E=a(E),A&&(E=unescape(E),S===0&&(E=l(E))),v.push(E)}return v.join("")}function a(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let p=0;p<h.length;++p){const m=h[p].indexOf('"');m!==-1&&(h[p]=h[p].slice(0,m),h.length=p+1),h[p]=h[p].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const p=d.slice(0,h),v=d.slice(h+1).replace(/^[^']*'/,"");return r(p,v)}function c(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,p,m,v){if(m==="q"||m==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,A){return String.fromCharCode(parseInt(A,16))}),r(p,v);try{v=atob(v)}catch{}return r(p,v)})}return""}function D5(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const i in e){const r=e[i];r!==void 0&&n.append(i,r)}return n}function N5({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*n)||i||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function P5(t){const e=t.get("Content-Disposition");if(e){let n=P4e(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(T5(n))return n}return null}function pN(t,e){return t===404||t===0&&e.startsWith("file:")?new h0('Missing PDF "'+e+'".'):new uN(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function cne(t){return t===200||t===206}function une(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function dne(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(rn(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class M9{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=D5(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Cr(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new O4e(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=new L4e(this,e,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class O4e{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const i=new Headers(e.headers),r=n.url;fetch(r,une(i,this._withCredentials,this._abortController)).then(s=>{if(!cne(s.status))throw pN(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:a,suggestedLength:l}=N5({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=P5(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new p0("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:dne(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class L4e{constructor(e,n,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${n}-${i-1}`);const o=r.url;fetch(o,une(s,this._withCredentials,this._abortController)).then(a=>{if(!cne(a.status))throw pN(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:dne(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const HL=200,UL=206;function j4e(t){const e=t.response;return typeof e!="string"?e:dN(e).buffer}class I4e{constructor({url:e,httpHeaders:n,withCredentials:i}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=D5(this.isHttp,n),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,n,i){const r={begin:e,end:n};for(const s in i)r[s]=i[s];return this.request(r)}requestFull(e){return this.request(e)}request(e){const n=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[s,o]of this.headers)n.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=UL):r.expectedStatus=HL,n.responseType="arraybuffer",e.onError&&(n.onerror=function(s){e.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,i),n.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,n.send(null),i}onProgress(e,n){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,n))}onStateChange(e,n){var l,c,d;const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(l=i.onError)==null||l.call(i,r.status);return}const s=r.status||HL;if(!(s===HL&&i.expectedStatus===UL)&&s!==i.expectedStatus){(c=i.onError)==null||c.call(i,r.status);return}const a=j4e(r);if(s===UL){const h=r.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);i.onDone({begin:parseInt(p[1],10),chunk:a})}else a?i.onDone({begin:0,chunk:a}):(d=i.onError)==null||d.call(i,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class F4e{constructor(e){this._source=e,this._manager=new I4e(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return Cr(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new $4e(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const i=new z4e(this._manager,e,n);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class $4e{constructor(e,n){this._manager=e;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=e.requestFull(i),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e),i=new Headers(n.getAllResponseHeaders().trim().split(/[\r\n]+/).map(o=>{const[a,...l]=o.split(": ");return[a,l.join(": ")]})),{allowRangeRequests:r,suggestedLength:s}=N5({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=P5(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=pN(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class z4e{constructor(e,n,i){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(n,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=pN(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const B4e=/^[a-z][a-z0-9\-+.]+:/i;function V4e(t){if(B4e.test(t))return new URL(t);const e=Vp.get("url");return new URL(e.pathToFileURL(t))}function fne(t,e,n){return t.protocol==="http:"?Vp.get("http").request(t,{headers:e},n):Vp.get("https").request(t,{headers:e},n)}class H4e{constructor(e){this.source=e,this.url=V4e(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=D5(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Cr(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new G4e(this):new U4e(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=this.isFsUrl?new W4e(this,e,n):new q4e(this,e,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class hne{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new p0("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class pne{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const n=e.source;this._isStreamingSupported=!n.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class U4e extends hne{constructor(e){super(e);const n=Object.fromEntries(e.headers),i=r=>{if(r.statusCode===404){const l=new h0(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(r);const s=new Headers(this._readableStream.headers),{allowRangeRequests:o,suggestedLength:a}=N5({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=P5(s)};this._request=fne(this._url,n,i),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class q4e extends pne{constructor(e,n,i){super(e);const r=Object.fromEntries(e.headers);r.Range=`bytes=${n}-${i-1}`;const s=o=>{if(o.statusCode===404){const a=new h0(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(o)};this._request=fne(this._url,r,s),this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class G4e extends hne{constructor(e){super(e);const n=Vp.get("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new h0(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class W4e extends pne{constructor(e,n,i){super(e);const r=Vp.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:n,end:i-1}))}}const K4e=1e5,Oo=30,Y4e=.8;var L9,op,Fo,eE,tE,sy,Gd,nE,iE,oy,Hv,Uv,ap,qv,rE,Gv,ay,sE,oE,ly,cy,aE,lp,Wv,Of,mne,gne,MF,La,eR,RF,yne,bne;const yr=class yr{constructor({textContentSource:e,container:n,viewport:i}){W(this,Of);W(this,op,Promise.withResolvers());W(this,Fo,null);W(this,eE,!1);W(this,tE,!!((L9=globalThis.FontInspector)!=null&&L9.enabled));W(this,sy,null);W(this,Gd,null);W(this,nE,0);W(this,iE,0);W(this,oy,null);W(this,Hv,null);W(this,Uv,0);W(this,ap,0);W(this,qv,Object.create(null));W(this,rE,[]);W(this,Gv,null);W(this,ay,[]);W(this,sE,new WeakMap);W(this,oE,null);var l;if(e instanceof ReadableStream)V(this,Gv,e);else if(typeof e=="object")V(this,Gv,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');V(this,Fo,V(this,Hv,n)),V(this,ap,i.scale*(globalThis.devicePixelRatio||1)),V(this,Uv,i.rotation),V(this,Gd,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:o,pageY:a}=i.rawDims;V(this,oE,[1,0,0,-1,-o,a+s]),V(this,iE,r),V(this,nE,s),H(l=yr,La,yne).call(l),Qy(n,i),C(this,op).promise.finally(()=>{C(yr,Wv).delete(this),V(this,Gd,null),V(this,qv,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=go.platform;return vn(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{C(this,oy).read().then(({value:n,done:i})=>{if(i){C(this,op).resolve();return}C(this,sy)??V(this,sy,n.lang),Object.assign(C(this,qv),n.styles),H(this,Of,mne).call(this,n.items),e()},C(this,op).reject)};return V(this,oy,C(this,Gv).getReader()),C(yr,Wv).add(this),e(),C(this,op).promise}update({viewport:e,onBefore:n=null}){var s;const i=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==C(this,Uv)&&(n==null||n(),V(this,Uv,r),Qy(C(this,Hv),{rotation:r})),i!==C(this,ap)){n==null||n(),V(this,ap,i);const o={div:null,properties:null,ctx:H(s=yr,La,eR).call(s,C(this,sy))};for(const a of C(this,ay))o.properties=C(this,sE).get(a),o.div=a,H(this,Of,MF).call(this,o)}}cancel(){var n;const e=new p0("TextLayer task cancelled.");(n=C(this,oy))==null||n.cancel(e).catch(()=>{}),V(this,oy,null),C(this,op).reject(e)}get textDivs(){return C(this,ay)}get textContentItemsStr(){return C(this,rE)}static cleanup(){if(!(C(this,Wv).size>0)){C(this,ly).clear();for(const{canvas:e}of C(this,cy).values())e.remove();C(this,cy).clear()}}};op=new WeakMap,Fo=new WeakMap,eE=new WeakMap,tE=new WeakMap,sy=new WeakMap,Gd=new WeakMap,nE=new WeakMap,iE=new WeakMap,oy=new WeakMap,Hv=new WeakMap,Uv=new WeakMap,ap=new WeakMap,qv=new WeakMap,rE=new WeakMap,Gv=new WeakMap,ay=new WeakMap,sE=new WeakMap,oE=new WeakMap,ly=new WeakMap,cy=new WeakMap,aE=new WeakMap,lp=new WeakMap,Wv=new WeakMap,Of=new WeakSet,mne=function(e){var r,s;if(C(this,eE))return;(s=C(this,Gd)).ctx??(s.ctx=H(r=yr,La,eR).call(r,C(this,sy)));const n=C(this,ay),i=C(this,rE);for(const o of e){if(n.length>K4e){rn("Ignoring additional textDivs for performance reasons."),V(this,eE,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=C(this,Fo);V(this,Fo,document.createElement("span")),C(this,Fo).classList.add("markedContent"),o.id!==null&&C(this,Fo).setAttribute("id",`${o.id}`),a.append(C(this,Fo))}else o.type==="endMarkedContent"&&V(this,Fo,C(this,Fo).parentNode);continue}i.push(o.str),H(this,Of,gne).call(this,o)}},gne=function(e){var S;const n=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};C(this,ay).push(n);const r=lt.transform(C(this,oE),e.transform);let s=Math.atan2(r[1],r[0]);const o=C(this,qv)[e.fontName];o.vertical&&(s+=Math.PI/2);let a=C(this,tE)&&o.fontSubstitution||o.fontFamily;a=yr.fontFamilyMap.get(a)||a;const l=Math.hypot(r[2],r[3]),c=l*H(S=yr,La,bne).call(S,a,C(this,sy));let d,h;s===0?(d=r[4],h=r[5]-c):(d=r[4]+c*Math.sin(s),h=r[5]-c*Math.cos(s));const p="calc(var(--scale-factor)*",m=n.style;C(this,Fo)===C(this,Hv)?(m.left=`${(100*d/C(this,iE)).toFixed(2)}%`,m.top=`${(100*h/C(this,nE)).toFixed(2)}%`):(m.left=`${p}${d.toFixed(2)}px)`,m.top=`${p}${h.toFixed(2)}px)`),m.fontSize=`${p}${(C(yr,lp)*l).toFixed(2)}px)`,m.fontFamily=a,i.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,C(this,tE)&&(n.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const A=Math.abs(e.transform[0]),E=Math.abs(e.transform[3]);A!==E&&Math.max(A,E)/Math.min(A,E)>1.5&&(v=!0)}if(v&&(i.canvasWidth=o.vertical?e.height:e.width),C(this,sE).set(n,i),C(this,Gd).div=n,C(this,Gd).properties=i,H(this,Of,MF).call(this,C(this,Gd)),i.hasText&&C(this,Fo).append(n),i.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),C(this,Fo).append(A)}},MF=function(e){var a;const{div:n,properties:i,ctx:r}=e,{style:s}=n;let o="";if(C(yr,lp)>1&&(o=`scale(${1/C(yr,lp)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:d}=i;H(a=yr,La,RF).call(a,r,d*C(this,ap),l);const{width:h}=r.measureText(n.textContent);h>0&&(o=`scaleX(${c*C(this,ap)/h}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(s.transform=o)},La=new WeakSet,eR=function(e=null){let n=C(this,cy).get(e||(e=""));if(!n){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),n=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),C(this,cy).set(e,n),C(this,aE).set(n,{size:0,family:""})}return n},RF=function(e,n,i){const r=C(this,aE).get(e);n===r.size&&i===r.family||(e.font=`${n}px ${i}`,r.size=n,r.family=i)},yne=function(){if(C(this,lp)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),V(this,lp,e.getBoundingClientRect().height),e.remove()},bne=function(e,n){const i=C(this,ly).get(e);if(i)return i;const r=H(this,La,eR).call(this,n);r.canvas.width=r.canvas.height=Oo,H(this,La,RF).call(this,r,Oo,e);const s=r.measureText("");let o=s.fontBoundingBoxAscent,a=Math.abs(s.fontBoundingBoxDescent);if(o){const d=o/(o+a);return C(this,ly).set(e,d),r.canvas.width=r.canvas.height=0,d}r.strokeStyle="red",r.clearRect(0,0,Oo,Oo),r.strokeText("g",0,0);let l=r.getImageData(0,0,Oo,Oo).data;a=0;for(let d=l.length-1-3;d>=0;d-=4)if(l[d]>0){a=Math.ceil(d/4/Oo);break}r.clearRect(0,0,Oo,Oo),r.strokeText("A",0,Oo),l=r.getImageData(0,0,Oo,Oo).data,o=0;for(let d=0,h=l.length;d<h;d+=4)if(l[d]>0){o=Oo-Math.floor(d/4/Oo);break}r.canvas.width=r.canvas.height=0;const c=o?o/(o+a):Y4e;return C(this,ly).set(e,c),c},W(yr,La),W(yr,ly,new Map),W(yr,cy,new Map),W(yr,aE,new WeakMap),W(yr,lp,null),W(yr,Wv,new Set);let CA=yr;class AA{static textContent(e){const n=[],i={items:n,styles:Object.create(null)};function r(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(AA.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&n.push({str:o}),!!s.children)for(const c of s.children)r(c)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const X4e=65536,J4e=100,Z4e=5e3,Q4e=Os?d4e:l4e,e6e=Os?f4e:ene,t6e=Os?u4e:c4e,n6e=Os?h4e:rne;function i6e(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new DF,{docId:n}=e,i=t.url?r6e(t.url):null,r=t.data?s6e(t.data):null,s=t.httpHeaders||null,o=t.withCredentials===!0,a=t.password??null,l=t.range instanceof vne?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:X4e;let d=t.worker instanceof Av?t.worker:null;const h=t.verbosity,p=typeof t.docBaseUrl=="string"&&!hN(t.docBaseUrl)?t.docBaseUrl:null,m=typeof t.cMapUrl=="string"?t.cMapUrl:null,v=t.cMapPacked!==!1,S=t.CMapReaderFactory||e6e,A=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,E=t.StandardFontDataFactory||n6e,M=t.stopAtErrors!==!0,R=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,N=t.isEvalSupported!==!1,P=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!Os,O=typeof t.isChrome=="boolean"?t.isChrome:!go.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),$=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,F=typeof t.disableFontFace=="boolean"?t.disableFontFace:Os,q=t.fontExtraProperties===!0,B=t.enableXfa===!0,X=t.ownerDocument||globalThis.document,Q=t.disableRange===!0,J=t.disableStream===!0,oe=t.disableAutoFetch===!0,ce=t.pdfBug===!0,le=t.CanvasFactory||Q4e,ee=t.FilterFactory||t6e,Z=t.enableHWA===!0,se=l?l.length:t.length??NaN,j=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!Os&&!F,te=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:S===ene&&E===rne&&m&&A&&JS(m,document.baseURI)&&JS(A,document.baseURI);t.canvasFactory&&y9("`canvasFactory`-instance option, please use `CanvasFactory` instead."),t.filterFactory&&y9("`filterFactory`-instance option, please use `FilterFactory` instead.");const ae=null;$5e(h);const U={canvasFactory:new le({ownerDocument:X,enableHWA:Z}),filterFactory:new ee({docId:n,ownerDocument:X}),cMapReaderFactory:te?null:new S({baseUrl:m,isCompressed:v}),standardFontDataFactory:te?null:new E({baseUrl:A})};if(!d){const Ce={verbosity:h,port:hf.workerPort};d=Ce.port?Av.fromPort(Ce):new Av(Ce),e._worker=d}const ve={docId:n,apiVersion:"4.8.69",data:r,password:a,disableAutoFetch:oe,rangeChunkSize:c,length:se,docBaseUrl:p,enableXfa:B,evaluatorOptions:{maxImageSize:R,disableFontFace:F,ignoreErrors:M,isEvalSupported:N,isOffscreenCanvasSupported:P,isChrome:O,canvasMaxAreaInBytes:$,fontExtraProperties:q,useSystemFonts:j,cMapUrl:te?m:null,standardFontDataUrl:te?A:null}},ke={disableFontFace:F,fontExtraProperties:q,ownerDocument:X,pdfBug:ce,styleElement:ae,loadingParams:{disableAutoFetch:oe,enableXfa:B}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Ce=d.messageHandler.sendWithPromise("GetDocRequest",ve,r?[r.buffer]:null);let je;if(l)je=new R4e(l,{disableRange:Q,disableStream:J});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");let Ue;Os?Ue=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&JS(i)?M9:H4e:Ue=JS(i)?M9:F4e,je=new Ue({url:i,length:se,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:Q,disableStream:J})}return Ce.then(Ue=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Ye=new rC(n,Ue,d.port),Ge=new c6e(Ye,e,je,ke,U);e._transport=Ge,Ye.send("Ready",null)})}).catch(e._capability.reject),e}function r6e(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(Os&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function s6e(t){if(Os&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return dN(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function R9(t){return typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0}var I2;const F2=class F2{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${ro(F2,I2)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,n,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};I2=new WeakMap,W(F2,I2,0);let DF=F2;class vne{constructor(e,n,i=!1,r=null){this.length=e,this.initialData=n,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,n){for(const i of this._rangeListeners)i(e,n)}onDataProgress(e,n){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,n)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,n){wi("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class o6e{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return vn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var cp,Wd,xl,Qb,tR;class a6e{constructor(e,n,i,r=!1){W(this,xl);W(this,cp,null);W(this,Wd,!1);this._pageIndex=e,this._pageInfo=n,this._transport=i,this._stats=r?new g9:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new xne,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new CT({viewBox:this.view,scale:e,rotation:n,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return vn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:n,intent:i="display",annotationMode:r=Wh.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:d=null,isEditing:h=!1}){var N,P;(N=this._stats)==null||N.time("Overall");const p=this._transport.getRenderingIntent(i,r,d,h),{renderingIntent:m,cacheKey:v}=p;V(this,Wd,!1),H(this,xl,tR).call(this),a||(a=this._transport.getOptionalContentConfig(m));let S=this._intentStates.get(v);S||(S=Object.create(null),this._intentStates.set(v,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const A=!!(m&Sa.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(P=this._stats)==null||P.time("Page Request"),this._pumpOperatorList(p));const E=O=>{var $;S.renderTasks.delete(M),(this._maybeCleanupAfterRender||A)&&V(this,Wd,!0),H(this,xl,Qb).call(this,!A),O?(M.capability.reject(O),this._abortOperatorList({intentState:S,reason:O instanceof Error?O:new Error(O)})):M.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),($=globalThis.Stats)!=null&&$.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},M=new PF({callback:E,params:{canvasContext:e,viewport:n,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:c});(S.renderTasks||(S.renderTasks=new Set)).add(M);const R=M.task;return Promise.all([S.displayReadyCapability.promise,a]).then(([O,$])=>{var F;if(this.destroyed){E();return}if((F=this._stats)==null||F.time("Rendering"),!($.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");M.initializeGraphics({transparency:O,optionalContentConfig:$}),M.operatorListChanged()}).catch(E),R}getOperatorList({intent:e="display",annotationMode:n=Wh.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var c;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(e,n,i,r,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>AA.textContent(i));const n=this.streamTextContent(e);return new Promise(function(i,r){function s(){o.read().then(function({value:l,done:c}){if(c){i(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},r)}const o=n.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const i of n.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),V(this,Wd,!1),H(this,xl,tR).call(this),Promise.all(e)}cleanup(e=!1){V(this,Wd,!0);const n=H(this,xl,Qb).call(this,!1);return e&&n&&this._stats&&(this._stats=new g9),n}_startRenderPage(e,n){var r,s;const i=this._intentStates.get(n);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,n){for(let i=0,r=e.length;i<r;i++)n.operatorList.fnArray.push(e.fnArray[i]),n.operatorList.argsArray.push(e.argsArray[i]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const i of n.renderTasks)i.operatorListChanged();e.lastChunk&&H(this,xl,Qb).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:o}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:s,modifiedIds:r},o).getReader(),c=this._intentStates.get(n);c.streamReader=l;const d=()=>{l.read().then(({value:h,done:p})=>{if(p){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),d())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const p of c.renderTasks)p.operatorListChanged();H(this,xl,Qb).call(this,!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:n,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(n instanceof E5){let r=J4e;n.extraDelay>0&&n.extraDelay<1e3&&(r+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},r);return}}if(e.streamReader.cancel(new p0(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}cp=new WeakMap,Wd=new WeakMap,xl=new WeakSet,Qb=function(e=!1){if(H(this,xl,tR).call(this),!C(this,Wd)||this.destroyed)return!1;if(e)return V(this,cp,setTimeout(()=>{V(this,cp,null),H(this,xl,Qb).call(this,!1)},Z4e)),!1;for(const{renderTasks:n,operatorList:i}of this._intentStates.values())if(n.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),V(this,Wd,!1),!0},tR=function(){C(this,cp)&&(clearTimeout(C(this,cp)),V(this,cp,null))};var Kd,$2;class l6e{constructor(){W(this,Kd,new Map);W(this,$2,Promise.resolve())}postMessage(e,n){const i={data:structuredClone(e,n?{transfer:n}:null)};C(this,$2).then(()=>{for(const[r]of C(this,Kd))r.call(this,i)})}addEventListener(e,n,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:s}=i;if(s.aborted){rn("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,n);r=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}C(this,Kd).set(n,r)}removeEventListener(e,n){const i=C(this,Kd).get(n);i==null||i(),C(this,Kd).delete(n)}terminate(){for(const[,e]of C(this,Kd))e==null||e();C(this,Kd).clear()}}Kd=new WeakMap,$2=new WeakMap;var z2,uy,dy,Kv,nR,Yv,iR;const ki=class ki{constructor({name:e=null,port:n=null,verbosity:i=z5e()}={}){W(this,Kv);var r;if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,n){if((r=C(ki,dy))!=null&&r.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(C(ki,dy)||V(ki,dy,new WeakMap)).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return Os?Promise.all([Vp.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new rC("main","worker",e),this._messageHandler.on("ready",function(){}),H(this,Kv,nR).call(this)}_initialize(){if(C(ki,uy)||C(ki,Yv,iR)){this._setupFakeWorker();return}let{workerSrc:e}=ki;try{ki._isSameOrigin(window.location.href,e)||(e=ki._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),i=new rC("main","worker",n),r=()=>{s.abort(),i.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;n.addEventListener("error",()=>{this._webWorker||r()},{signal:s.signal}),i.on("test",a=>{if(s.abort(),this.destroyed||!a){r();return}this._messageHandler=i,this._port=n,this._webWorker=n,H(this,Kv,nR).call(this)}),i.on("ready",a=>{if(s.abort(),this.destroyed){r();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;i.send("test",a,[a.buffer])};o();return}catch{cN("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){C(ki,uy)||(rn("Setting up fake worker."),V(ki,uy,!0)),ki._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new l6e;this._port=n;const i=`fake${ro(ki,z2)._++}`,r=new rC(i+"_worker",i,n);e.setup(r,n),this._messageHandler=new rC(i,i+"_worker",n),H(this,Kv,nR).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=C(ki,dy))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var i;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const n=(i=C(this,dy))==null?void 0:i.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new ki(e)}static get workerSrc(){if(hf.workerSrc)return hf.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return vn(this,"_setupFakeWorkerGlobal",(async()=>C(this,Yv,iR)?C(this,Yv,iR):(await import(this.workerSrc)).WorkerMessageHandler)())}};z2=new WeakMap,uy=new WeakMap,dy=new WeakMap,Kv=new WeakSet,nR=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Yv=new WeakSet,iR=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},W(ki,Yv),W(ki,z2,0),W(ki,uy,!1),W(ki,dy),Os&&(V(ki,uy,!0),hf.workerSrc||(hf.workerSrc="./pdf.worker.mjs")),ki._isSameOrigin=(e,n)=>{let i;try{if(i=new URL(e),!i.origin||i.origin==="null")return!1}catch{return!1}const r=new URL(n,i);return i.origin===r.origin},ki._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))};let Av=ki;var Yd,Lu,Xv,Jv,ju,fy,sC;class c6e{constructor(e,n,i,r,s){W(this,fy);W(this,Yd,new Map);W(this,Lu,new Map);W(this,Xv,new Map);W(this,Jv,new Map);W(this,ju,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new xne,this.fontLoader=new o4e({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return vn(this,"annotationStorage",new M5)}getRenderingIntent(e,n=Wh.ENABLE,i=null,r=!1,s=!1){let o=Sa.DISPLAY,a=xF;switch(e){case"any":o=Sa.ANY;break;case"display":break;case"print":o=Sa.PRINT;break;default:rn(`getRenderingIntent - invalid intent: ${e}`)}const l=o&Sa.PRINT&&i instanceof Jte?i:this.annotationStorage;switch(n){case Wh.DISABLE:o+=Sa.ANNOTATIONS_DISABLE;break;case Wh.ENABLE:break;case Wh.ENABLE_FORMS:o+=Sa.ANNOTATIONS_FORMS;break;case Wh.ENABLE_STORAGE:o+=Sa.ANNOTATIONS_STORAGE,a=l.serializable;break;default:rn(`getRenderingIntent - invalid annotationMode: ${n}`)}r&&(o+=Sa.IS_EDITING),s&&(o+=Sa.OPLIST);const{ids:c,hash:d}=l.modifiedIds,h=[o,a.hash,d];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=C(this,ju))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of C(this,Lu).values())e.push(r._destroy());C(this,Lu).clear(),C(this,Xv).clear(),C(this,Jv).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),C(this,Yd).clear(),this.filterFactory.destroy(),CA.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new p0("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(i,r)=>{Cr(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}Cr(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async i=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:o}=this._fullReader;return(!r||!s)&&(this._lastProgress&&((a=n.onProgress)==null||a.call(n,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=n.onProgress)==null||c.call(n,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(i,r)=>{Cr(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){r.close();return}Cr(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,n._capability.resolve(new o6e(i,this))}),e.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new ZI(i.message,i.code);break;case"InvalidPDFException":r=new Cte(i.message);break;case"MissingPDFException":r=new h0(i.message);break;case"UnexpectedResponseException":r=new uN(i.message,i.status);break;case"UnknownErrorException":r=new QI(i.message,i.details);break;default:wi("DocException - expected a valid Error.")}n._capability.reject(r)}),e.on("PasswordRequest",i=>{if(V(this,ju,Promise.withResolvers()),n.onPassword){const r=s=>{s instanceof Error?C(this,ju).reject(s):C(this,ju).resolve({password:s})};try{n.onPassword(r,i.code)}catch(s){C(this,ju).reject(s)}}else C(this,ju).reject(new ZI(i.message,i.code));return C(this,ju).promise}),e.on("DataLoaded",i=>{var r;(r=n.onProgress)==null||r.call(n,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;C(this,Lu).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in s){const m=s.error;rn(`Error during font loading: ${m}`),this.commonObjs.resolve(i,m);break}const d=c&&((o=globalThis.FontInspector)!=null&&o.enabled)?(m,v)=>globalThis.FontInspector.fontAdded(m,v):null,h=new a4e(s,{disableFontFace:a,inspectFont:d});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!l&&h.data&&(h.data=null),this.commonObjs.resolve(i,h)});break;case"CopyLocalImage":const{imageRef:p}=s;Cr(p,"The imageRef must be defined.");for(const m of C(this,Lu).values())for(const[,v]of m.objs)if((v==null?void 0:v.ref)===p)return v.dataLen?(this.commonObjs.resolve(i,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,o])=>{var l;if(this.destroyed)return;const a=C(this,Lu).get(r);if(!a.objs.has(i)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":a.objs.resolve(i,o),(o==null?void 0:o.dataLen)>L5e&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=n.onProgress)==null||r.call(n,{loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(i)}),e.on("FetchStandardFontData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&rn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,i=C(this,Xv).get(n);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&C(this,Jv).set(s.refStr,e);const o=new a6e(n,s,this,this._params.pdfBug);return C(this,Lu).set(n,o),o});return C(this,Xv).set(n,r),r}getPageIndex(e){return R9(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return H(this,fy,sC).call(this,"GetFieldObjects")}hasJSActions(){return H(this,fy,sC).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return H(this,fy,sC).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return H(this,fy,sC).call(this,"GetOptionalContentConfig").then(n=>new M4e(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=C(this,Yd).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,o;return{info:r[0],metadata:r[1]?new k4e(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return C(this,Yd).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of C(this,Lu).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),C(this,Yd).clear(),this.filterFactory.destroy(!0),CA.cleanup()}}cachedPageNumber(e){if(!R9(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return C(this,Jv).get(n)??null}}Yd=new WeakMap,Lu=new WeakMap,Xv=new WeakMap,Jv=new WeakMap,ju=new WeakMap,fy=new WeakSet,sC=function(e,n=null){const i=C(this,Yd).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,n);return C(this,Yd).set(e,r),r};const SM=Symbol("INITIAL_DATA");var gc,lE,NF;class xne{constructor(){W(this,lE);W(this,gc,Object.create(null))}get(e,n=null){if(n){const r=H(this,lE,NF).call(this,e);return r.promise.then(()=>n(r.data)),null}const i=C(this,gc)[e];if(!i||i.data===SM)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const n=C(this,gc)[e];return!!n&&n.data!==SM}resolve(e,n=null){const i=H(this,lE,NF).call(this,e);i.data=n,i.resolve()}clear(){var e;for(const n in C(this,gc)){const{data:i}=C(this,gc)[n];(e=i==null?void 0:i.bitmap)==null||e.close()}V(this,gc,Object.create(null))}*[Symbol.iterator](){for(const e in C(this,gc)){const{data:n}=C(this,gc)[e];n!==SM&&(yield[e,n])}}}gc=new WeakMap,lE=new WeakSet,NF=function(e){var n;return(n=C(this,gc))[e]||(n[e]={...Promise.withResolvers(),data:SM})};var up;class u6e{constructor(e){W(this,up,null);V(this,up,e),this.onContinue=null}get promise(){return C(this,up).capability.promise}cancel(e=0){C(this,up).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=C(this,up).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=C(this,up);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}up=new WeakMap;var dp,hy;const Tg=class Tg{constructor({callback:e,params:n,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:p=null}){W(this,dp,null);this.callback=e,this.params=n,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new u6e(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var a,l;if(this.cancelled)return;if(this._canvas){if(C(Tg,hy).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");C(Tg,hy).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:s,background:o}=this.params;this.gfx=new Cv(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,n=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),C(this,dp)&&(window.cancelAnimationFrame(C(this,dp)),V(this,dp,null)),C(Tg,hy).delete(this._canvas),this.callback(e||new E5(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?V(this,dp,window.requestAnimationFrame(()=>{V(this,dp,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),C(Tg,hy).delete(this._canvas),this.callback())))}};dp=new WeakMap,hy=new WeakMap,W(Tg,hy,new WeakSet);let PF=Tg;const d6e="4.8.69",f6e="3634dab10";function D9(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function BS(t){return Math.max(0,Math.min(255,255*t))}class N9{static CMYK_G([e,n,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*n+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=BS(e),[e,e,e]}static G_HTML([e]){const n=D9(e);return`#${n}${n}${n}`}static RGB_G([e,n,i]){return["G",.3*e+.59*n+.11*i]}static RGB_rgb(e){return e.map(BS)}static RGB_HTML(e){return`#${e.map(D9).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,n+r)]}static CMYK_rgb([e,n,i,r]){return[BS(1-Math.min(1,e+r)),BS(1-Math.min(1,i+r)),BS(1-Math.min(1,n+r))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,i]){const r=1-e,s=1-n,o=1-i,a=Math.min(r,s,o);return["CMYK",r,s,o,a]}}class h6e{create(e,n,i=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${n}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${n}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){wi("Abstract method `_createSVG` called.")}}class O5 extends h6e{_createSVG(e){return document.createElementNS(jd,e)}}class wne{static setupStorage(e,n,i,r,s){const o=r.getValue(n,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(n,{value:a.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{r.setValue(n,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(n,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of i.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(n,{value:c})});break}}static setAttributes({html:e,element:n,storage:i=null,intent:r,linkService:s}){const{attributes:o}=n,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,n,i)}static render(e){var h,p;const n=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:i});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=m}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(r.children.length===0){if(r.value){const m=document.createTextNode(r.value);o.append(m),a&&AA.shouldBuildText(r.name)&&c.push(m)}return{textDivs:c}}const d=[[r,-1,o]];for(;d.length>0;){const[m,v,S]=d.at(-1);if(v+1===m.children.length){d.pop();continue}const A=m.children[++d.at(-1)[1]];if(A===null)continue;const{name:E}=A;if(E==="#text"){const R=document.createTextNode(A.value);c.push(R),S.append(R);continue}const M=(h=A==null?void 0:A.attributes)!=null&&h.xmlns?document.createElementNS(A.attributes.xmlns,E):document.createElement(E);if(S.append(M),A.attributes&&this.setAttributes({html:M,element:A,storage:n,intent:s,linkService:i}),((p=A.children)==null?void 0:p.length)>0)d.push([A,-1,M]);else if(A.value){const R=document.createTextNode(A.value);a&&AA.shouldBuildText(E)&&c.push(R),M.append(R)}}for(const m of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const ET=1e3,p6e=9,t0=new WeakSet;function Af(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class m6e{static create(e){switch(e.data.annotationType){case gr.LINK:return new Sne(e);case gr.TEXT:return new g6e(e);case gr.WIDGET:switch(e.data.fieldType){case"Tx":return new y6e(e);case"Btn":return e.data.radioButton?new Ene(e):e.data.checkBox?new v6e(e):new x6e(e);case"Ch":return new w6e(e);case"Sig":return new b6e(e)}return new m0(e);case gr.POPUP:return new LF(e);case gr.FREETEXT:return new Rne(e);case gr.LINE:return new C6e(e);case gr.SQUARE:return new A6e(e);case gr.CIRCLE:return new E6e(e);case gr.POLYLINE:return new Dne(e);case gr.CARET:return new k6e(e);case gr.INK:return new L5(e);case gr.POLYGON:return new T6e(e);case gr.HIGHLIGHT:return new Nne(e);case gr.UNDERLINE:return new _6e(e);case gr.SQUIGGLY:return new M6e(e);case gr.STRIKEOUT:return new R6e(e);case gr.STAMP:return new Pne(e);case gr.FILEATTACHMENT:return new D6e(e);default:return new ir(e)}}}var py,Zv,Qv,cE,OF;const F5=class F5{constructor(e,{isRenderable:n=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){W(this,cE);W(this,py,null);W(this,Zv,!1);W(this,Qv,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:n,richText:i}){return!!(e!=null&&e.str||n!=null&&n.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return F5._hasPopupData(this.data)}updateEdited(e){var i;if(!this.container)return;C(this,py)||V(this,py,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&H(this,cE,OF).call(this,n),(i=C(this,Qv))==null||i.popup.updateEdited(e)}resetEdited(){var e;C(this,py)&&(H(this,cE,OF).call(this,C(this,py).rect),(e=C(this,Qv))==null||e.popup.resetEdited(),V(this,py,null))}_createContainer(e){const{data:n,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",n.id),this instanceof m0||(s.tabIndex=ET);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,n.alternativeText&&(s.title=n.alternativeText),n.noRotate&&s.classList.add("norotate"),!n.rect||this instanceof LF){const{rotation:S}=n;return!n.hasOwnCanvas&&S!==0&&this.setRotation(S,s),s}const{width:a,height:l}=Af(n.rect);if(!e&&n.borderStyle.width>0){o.borderWidth=`${n.borderStyle.width}px`;const S=n.borderStyle.horizontalCornerRadius,A=n.borderStyle.verticalCornerRadius;if(S>0||A>0){const M=`calc(${S}px * var(--scale-factor)) / calc(${A}px * var(--scale-factor))`;o.borderRadius=M}else if(this instanceof Ene){const M=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=M}switch(n.borderStyle.style){case $S.SOLID:o.borderStyle="solid";break;case $S.DASHED:o.borderStyle="dashed";break;case $S.BEVELED:rn("Unimplemented border style: beveled");break;case $S.INSET:rn("Unimplemented border style: inset");break;case $S.UNDERLINE:o.borderBottomStyle="solid";break}const E=n.borderColor||null;E?(V(this,Zv,!0),o.borderColor=lt.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):o.borderWidth=0}const c=lt.normalizeRect([n.rect[0],i.view[3]-n.rect[1]+i.view[1],n.rect[2],i.view[3]-n.rect[3]+i.view[1]]),{pageWidth:d,pageHeight:h,pageX:p,pageY:m}=r.rawDims;o.left=`${100*(c[0]-p)/d}%`,o.top=`${100*(c[1]-m)/h}%`;const{rotation:v}=n;return n.hasOwnCanvas||v===0?(o.width=`${100*a/d}%`,o.height=`${100*l/h}%`):this.setRotation(v,s),s}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:o}=Af(this.data.rect);let a,l;e%180===0?(a=100*s/i,l=100*o/r):(a=100*o/i,l=100*s/r),n.style.width=`${a}%`,n.style.height=`${l}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,i,r)=>{const s=r.detail[n],o=s[0],a=s.slice(1);r.target.style[i]=N9[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:N9[`${o}_rgb`](a)})};return vn(this,"_commonActions",{display:n=>{const{display:i}=n.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:i}=n.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const i=n.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,n){const i=this._commonActions;for(const r of Object.keys(n.detail)){const s=e[r]||i[r];s==null||s(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const i=this._commonActions;for(const[r,s]of Object.entries(n)){const o=i[r];if(o){const a={detail:{[r]:s},target:e};o(a),delete n[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,i,r,s]=this.data.rect.map(S=>Math.fround(S));if(e.length===8){const[S,A,E,M]=e.subarray(2,6);if(r===S&&s===A&&n===E&&i===M)return}const{style:o}=this.container;let a;if(C(this,Zv)){const{borderColor:S,borderWidth:A}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const l=r-n,c=s-i,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const p=d.createElement("defs");h.append(p);const m=d.createElement("clipPath"),v=`clippath_${this.data.id}`;m.setAttribute("id",v),m.setAttribute("clipPathUnits","objectBoundingBox"),p.append(m);for(let S=2,A=e.length;S<A;S+=8){const E=e[S],M=e[S+1],R=e[S+2],N=e[S+3],P=d.createElement("rect"),O=(R-n)/l,$=(s-M)/c,F=(E-R)/l,q=(M-N)/c;P.setAttribute("x",O),P.setAttribute("y",$),P.setAttribute("width",F),P.setAttribute("height",q),m.append(P),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${O}" y="${$}" width="${F}" height="${q}"/>`)}C(this,Zv)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${v})`}_createPopup(){const{data:e}=this,n=V(this,Qv,new LF({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){wi("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:o,exportValues:a}of r){if(s===-1||o===n)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!t0.has(c)){rn(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:l,domElement:c})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==n&&t0.has(r)&&i.push({id:o,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n})})}};py=new WeakMap,Zv=new WeakMap,Qv=new WeakMap,cE=new WeakSet,OF=function(e){const{container:{style:n},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;i==null||i.splice(0,4,...e);const{width:c,height:d}=Af(e);n.left=`${100*(e[0]-a)/s}%`,n.top=`${100*(o-e[3]+l)/o}%`,r===0?(n.width=`${100*c/s}%`,n.height=`${100*d/o}%`):this.setRotation(r)};let ir=F5;var Ca,yg,Cne,Ane;class Sne extends ir{constructor(n,i=null){super(n,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});W(this,Ca);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",n.id);let s=!1;return n.url?(i.addLinkAttributes(r,n.url,n.newWindow),s=!0):n.action?(this._bindNamedAction(r,n.action),s=!0):n.attachment?(H(this,Ca,Cne).call(this,r,n.attachment,n.attachmentDest),s=!0):n.setOCGState?(H(this,Ca,Ane).call(this,r,n.setOCGState),s=!0):n.dest?(this._bindLink(r,n.dest),s=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,n),s=!0),n.resetForm?(this._bindResetFormAction(r,n.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(r),this.container}_bindLink(n,i){n.href=this.linkService.getDestinationHash(i),n.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&H(this,Ca,yg).call(this)}_bindNamedAction(n,i){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(i),!1),H(this,Ca,yg).call(this)}_bindJSAction(n,i){n.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const o=r.get(s);o&&(n[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}n.onclick||(n.onclick=()=>!1),H(this,Ca,yg).call(this)}_bindResetFormAction(n,i){const r=n.onclick;if(r||(n.href=this.linkService.getAnchorUrl("")),H(this,Ca,yg).call(this),!this._fieldObjects){rn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(n.onclick=()=>!1);return}n.onclick=()=>{var h;r==null||r();const{fields:s,refs:o,include:a}=i,l=[];if(s.length!==0||o.length!==0){const p=new Set(o);for(const m of s){const v=this._fieldObjects[m]||[];for(const{id:S}of v)p.add(S)}for(const m of Object.values(this._fieldObjects))for(const v of m)p.has(v.id)===a&&l.push(v)}else for(const p of Object.values(this._fieldObjects))l.push(...p);const c=this.annotationStorage,d=[];for(const p of l){const{id:m}=p;switch(d.push(m),p.type){case"text":{const S=p.defaultValue||"";c.setValue(m,{value:S});break}case"checkbox":case"radiobutton":{const S=p.defaultValue===p.exportValues;c.setValue(m,{value:S});break}case"combobox":case"listbox":{const S=p.defaultValue||"";c.setValue(m,{value:S});break}default:continue}const v=document.querySelector(`[data-element-id="${m}"]`);if(v){if(!t0.has(v)){rn(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}Ca=new WeakSet,yg=function(){this.container.setAttribute("data-internal-link","")},Cne=function(n,i,r=null){n.href=this.linkService.getAnchorUrl(""),i.description&&(n.title=i.description),n.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(i.content,i.filename,r),!1},H(this,Ca,yg).call(this)},Ane=function(n,i){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(i),!1),H(this,Ca,yg).call(this)};class g6e extends ir{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class m0 extends ir{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return go.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,i,r,s){i.includes("mouse")?e.addEventListener(i,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{var a;if(i==="blur"){if(!n.focused||!o.relatedTarget)return;n.focused=!1}else if(i==="focus"){if(n.focused)return;n.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}}))})}_setEventListeners(e,n,i,r){var s,o,a;for(const[l,c]of i)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,l,c,r),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,n,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":lt.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||p6e,s=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),d=Math.round(c/($L*r))||1,h=c/d;o=Math.min(r,l(h/$L))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(r,l(c/$L))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=lt.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class y6e extends m0{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,i,r){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[n]=i),s.setValue(o.id,{[r]:i})}render(){var r,s;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=e.getValue(n,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=c??a,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",c??a),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),t0.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=ET,this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",p=>{e.setValue(n,{value:p.target.value}),this.setPropertyOnSiblings(i,"value",p.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue??"";i.value=d.userValue=m,d.formattedValue=null});let h=p=>{const{formattedValue:m}=d;m!=null&&(p.target.value=m),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",m=>{var S;if(d.focused)return;const{target:v}=m;d.userValue&&(v.value=d.userValue),d.lastCommittedValue=v.value,d.commitKey=1,(S=this.data.actions)!=null&&S.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const v={value(S){d.userValue=S.detail.value??"",e.setValue(n,{value:d.userValue.toString()}),S.target.value=d.userValue},formattedValue(S){const{formattedValue:A}=S.detail;d.formattedValue=A,A!=null&&S.target!==document.activeElement&&(S.target.value=A),e.setValue(n,{formattedValue:A})},selRange(S){S.target.setSelectionRange(...S.detail.selRange)},charLimit:S=>{var R;const{charLimit:A}=S.detail,{target:E}=S;if(A===0){E.removeAttribute("maxLength");return}E.setAttribute("maxLength",A);let M=d.userValue;!M||M.length<=A||(M=M.slice(0,A),E.value=d.userValue=M,e.setValue(n,{value:M}),(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:M,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}};this._dispatchEventFromSandbox(v,m)}),i.addEventListener("keydown",m=>{var A;d.commitKey=1;let v=-1;if(m.key==="Escape"?v=0:m.key==="Enter"&&!this.data.multiLine?v=2:m.key==="Tab"&&(d.commitKey=3),v===-1)return;const{value:S}=m.target;d.lastCommittedValue!==S&&(d.lastCommittedValue=S,d.userValue=S,(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:S,willCommit:!0,commitKey:v,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const p=h;h=null,i.addEventListener("blur",m=>{var S,A;if(!d.focused||!m.relatedTarget)return;(S=this.data.actions)!=null&&S.Blur||(d.focused=!1);const{value:v}=m.target;d.userValue=v,d.lastCommittedValue!==v&&((A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:v,willCommit:!0,commitKey:d.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),p(m)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",m=>{var P;d.lastCommittedValue=null;const{data:v,target:S}=m,{value:A,selectionStart:E,selectionEnd:M}=S;let R=E,N=M;switch(m.inputType){case"deleteWordBackward":{const O=A.substring(0,E).match(/\w*[^\w]*$/);O&&(R-=O[0].length);break}case"deleteWordForward":{const O=A.substring(E).match(/^[^\w]*\w*/);O&&(N+=O[0].length);break}case"deleteContentBackward":E===M&&(R-=1);break;case"deleteContentForward":E===M&&(N+=1);break}m.preventDefault(),(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:A,change:v||"",willCommit:!1,selStart:R,selEnd:N}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(h&&i.addEventListener("blur",h),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${m}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class b6e extends m0{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class v6e extends m0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,i=n.id;let r=e.getValue(i,{value:n.exportValue===n.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return t0.add(s),s.setAttribute("data-element-id",i),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=n.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",n.exportValue),s.tabIndex=ET,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,i)){const d=l&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=d),e.setValue(c.id,{value:d})}e.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{const a=n.defaultFieldValue||"Off";o.target.checked=a===n.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Ene extends m0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,i=n.id;let r=e.getValue(i,{value:n.fieldValue===n.buttonValue}).value;if(typeof r=="string"&&(r=r!==n.buttonValue,e.setValue(i,{value:r})),r)for(const o of this._getElementsByName(n.fieldName,i))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(t0.add(s),s.setAttribute("data-element-id",i),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=n.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=ET,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,i))e.setValue(c.id,{value:!1});e.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{const a=n.defaultFieldValue;o.target.checked=a!=null&&a===n.buttonValue}),this.enableScripting&&this.hasJSActions){const o=n.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const d=o===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const p=d&&h.id===i;h.domElement&&(h.domElement.checked=p),e.setValue(h.id,{value:p})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class x6e extends Sne{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class w6e extends m0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,i=e.getValue(n,{value:this.data.fieldValue}),r=document.createElement("select");t0.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=ET;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const p of r.options)p.selected=p.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,i.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),r.append(h)}let o=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),r.prepend(d),o=()=>{d.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const a=d=>{const h=d?"value":"textContent",{options:p,multiple:m}=r;return m?Array.prototype.filter.call(p,v=>v.selected).map(v=>v[h]):p.selectedIndex===-1?null:p[p.selectedIndex][h]};let l=a(!1);const c=d=>{const h=d.target.options;return Array.prototype.map.call(h,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",d=>{const h={value(p){o==null||o();const m=p.detail.value,v=new Set(Array.isArray(m)?m:[m]);for(const S of r.options)S.selected=v.has(S.value);e.setValue(n,{value:a(!0)}),l=a(!1)},multipleSelection(p){r.multiple=!0},remove(p){const m=r.options,v=p.detail.remove;m[v].selected=!1,r.remove(v),m.length>0&&Array.prototype.findIndex.call(m,A=>A.selected)===-1&&(m[0].selected=!0),e.setValue(n,{value:a(!0),items:c(p)}),l=a(!1)},clear(p){for(;r.length!==0;)r.remove(0);e.setValue(n,{value:null,items:[]}),l=a(!1)},insert(p){const{index:m,displayValue:v,exportValue:S}=p.detail.insert,A=r.children[m],E=document.createElement("option");E.textContent=v,E.value=S,A?A.before(E):r.append(E),e.setValue(n,{value:a(!0),items:c(p)}),l=a(!1)},items(p){const{items:m}=p.detail;for(;r.length!==0;)r.remove(0);for(const v of m){const{displayValue:S,exportValue:A}=v,E=document.createElement("option");E.textContent=S,E.value=A,r.append(E)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(n,{value:a(!0),items:c(p)}),l=a(!1)},indices(p){const m=new Set(p.detail.indices);for(const v of p.target.options)v.selected=m.has(v.index);e.setValue(n,{value:a(!0)}),l=a(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(h,d)}),r.addEventListener("input",d=>{var m;const h=a(!0),p=a(!1);e.setValue(n,{value:h}),d.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:p,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):r.addEventListener("input",function(d){e.setValue(n,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class LF extends ir{constructor(e){const{data:n,elements:i}=e;super(e,{isRenderable:ir._hasPopupData(n)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new S6e({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const i of this.elements)i.popup=e,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(i=>`${A5}${i}`).join(",")),this.container}}var ex,B2,V2,tx,my,Ui,Xd,nx,uE,dE,ix,Jd,yc,Zd,fE,Qd,hE,gy,yy,Zn,rR,jF,Tne,kne,_ne,Mne,sR,oR,IF;class S6e{constructor({container:e,color:n,elements:i,titleObj:r,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:d,open:h}){W(this,Zn);W(this,ex,H(this,Zn,_ne).bind(this));W(this,B2,H(this,Zn,IF).bind(this));W(this,V2,H(this,Zn,oR).bind(this));W(this,tx,H(this,Zn,sR).bind(this));W(this,my,null);W(this,Ui,null);W(this,Xd,null);W(this,nx,null);W(this,uE,null);W(this,dE,null);W(this,ix,null);W(this,Jd,!1);W(this,yc,null);W(this,Zd,null);W(this,fE,null);W(this,Qd,null);W(this,hE,null);W(this,gy,null);W(this,yy,!1);var p;V(this,Ui,e),V(this,hE,r),V(this,Xd,o),V(this,Qd,a),V(this,dE,l),V(this,my,n),V(this,fE,c),V(this,ix,d),V(this,uE,i),V(this,nx,k5.toDateObject(s)),this.trigger=i.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",C(this,tx)),m.addEventListener("mouseenter",C(this,V2)),m.addEventListener("mouseleave",C(this,B2)),m.classList.add("popupTriggerArea");for(const m of i)(p=m.container)==null||p.addEventListener("keydown",C(this,ex));C(this,Ui).hidden=!0,h&&H(this,Zn,sR).call(this)}render(){if(C(this,yc))return;const e=V(this,yc,document.createElement("div"));if(e.className="popup",C(this,my)){const s=e.style.outlineColor=lt.makeHexColor(...C(this,my));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=lt.makeHexColor(...C(this,my).map(a=>Math.floor(.7*(255-a)+a)))}const n=document.createElement("span");n.className="header";const i=document.createElement("h1");if(n.append(i),{dir:i.dir,str:i.textContent}=C(this,hE),e.append(n),C(this,nx)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:C(this,nx).valueOf()})),n.append(s)}const r=C(this,Zn,rR);if(r)wne.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(C(this,Xd));e.append(s)}C(this,Ui).append(e)}_formatContents({str:e,dir:n}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=n;const r=e.split(/(?:\r\n?|\n)/);for(let s=0,o=r.length;s<o;++s){const a=r[s];i.append(document.createTextNode(a)),s<o-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:e,popupContent:n}){var i;C(this,gy)||V(this,gy,{contentsObj:C(this,Xd),richText:C(this,Qd)}),e&&V(this,Zd,null),n&&(V(this,Qd,H(this,Zn,kne).call(this,n)),V(this,Xd,null)),(i=C(this,yc))==null||i.remove(),V(this,yc,null)}resetEdited(){var e;C(this,gy)&&({contentsObj:ro(this,Xd)._,richText:ro(this,Qd)._}=C(this,gy),V(this,gy,null),(e=C(this,yc))==null||e.remove(),V(this,yc,null),V(this,Zd,null))}forceHide(){V(this,yy,this.isVisible),C(this,yy)&&(C(this,Ui).hidden=!0)}maybeShow(){C(this,yy)&&(C(this,yc)||H(this,Zn,oR).call(this),V(this,yy,!1),C(this,Ui).hidden=!1)}get isVisible(){return C(this,Ui).hidden===!1}}ex=new WeakMap,B2=new WeakMap,V2=new WeakMap,tx=new WeakMap,my=new WeakMap,Ui=new WeakMap,Xd=new WeakMap,nx=new WeakMap,uE=new WeakMap,dE=new WeakMap,ix=new WeakMap,Jd=new WeakMap,yc=new WeakMap,Zd=new WeakMap,fE=new WeakMap,Qd=new WeakMap,hE=new WeakMap,gy=new WeakMap,yy=new WeakMap,Zn=new WeakSet,rR=function(){const e=C(this,Qd),n=C(this,Xd);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&C(this,Qd).html||null},jF=function(){var e,n,i;return((i=(n=(e=C(this,Zn,rR))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:i.fontSize)||0},Tne=function(){var e,n,i;return((i=(n=(e=C(this,Zn,rR))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:i.color)||null},kne=function(e){const n=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},r={style:{color:C(this,Zn,Tne),fontSize:C(this,Zn,jF)?`calc(${C(this,Zn,jF)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))n.push({name:"span",value:s,attributes:r});return i},_ne=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&C(this,Jd))&&H(this,Zn,sR).call(this)},Mne=function(){if(C(this,Zd)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:s}}}=C(this,dE);let o=!!C(this,ix),a=o?C(this,ix):C(this,fE);for(const v of C(this,uE))if(!a||lt.intersect(v.data.rect,a)!==null){a=v.data.rect,o=!0;break}const l=lt.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),d=o?a[2]-a[0]+5:0,h=l[0]+d,p=l[1];V(this,Zd,[100*(h-r)/n,100*(p-s)/i]);const{style:m}=C(this,Ui);m.left=`${C(this,Zd)[0]}%`,m.top=`${C(this,Zd)[1]}%`},sR=function(){V(this,Jd,!C(this,Jd)),C(this,Jd)?(H(this,Zn,oR).call(this),C(this,Ui).addEventListener("click",C(this,tx)),C(this,Ui).addEventListener("keydown",C(this,ex))):(H(this,Zn,IF).call(this),C(this,Ui).removeEventListener("click",C(this,tx)),C(this,Ui).removeEventListener("keydown",C(this,ex)))},oR=function(){C(this,yc)||this.render(),this.isVisible?C(this,Jd)&&C(this,Ui).classList.add("focused"):(H(this,Zn,Mne).call(this),C(this,Ui).hidden=!1,C(this,Ui).style.zIndex=parseInt(C(this,Ui).style.zIndex)+1e3)},IF=function(){C(this,Ui).classList.remove("focused"),!(C(this,Jd)||!this.isVisible)&&(C(this,Ui).hidden=!0,C(this,Ui).style.zIndex=parseInt(C(this,Ui).style.zIndex)-1e3)};class Rne extends ir{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Xt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const i=document.createElement("span");i.textContent=n,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var pE;class C6e extends ir{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});W(this,pE,null)}render(){this.container.classList.add("lineAnnotation");const n=this.data,{width:i,height:r}=Af(n.rect),s=this.svgFactory.create(i,r,!0),o=V(this,pE,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),o.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),o.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),o.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),o.setAttribute("stroke-width",n.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return C(this,pE)}addHighlightArea(){this.container.classList.add("highlightArea")}}pE=new WeakMap;var mE;class A6e extends ir{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});W(this,mE,null)}render(){this.container.classList.add("squareAnnotation");const n=this.data,{width:i,height:r}=Af(n.rect),s=this.svgFactory.create(i,r,!0),o=n.borderStyle.width,a=V(this,mE,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",i-o),a.setAttribute("height",r-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return C(this,mE)}addHighlightArea(){this.container.classList.add("highlightArea")}}mE=new WeakMap;var gE;class E6e extends ir{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});W(this,gE,null)}render(){this.container.classList.add("circleAnnotation");const n=this.data,{width:i,height:r}=Af(n.rect),s=this.svgFactory.create(i,r,!0),o=n.borderStyle.width,a=V(this,gE,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",i/2),a.setAttribute("cy",r/2),a.setAttribute("rx",i/2-o/2),a.setAttribute("ry",r/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return C(this,gE)}addHighlightArea(){this.container.classList.add("highlightArea")}}gE=new WeakMap;var yE;class Dne extends ir{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});W(this,yE,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:i,borderStyle:r,popupRef:s}}=this;if(!i)return this.container;const{width:o,height:a}=Af(n),l=this.svgFactory.create(o,a,!0);let c=[];for(let h=0,p=i.length;h<p;h+=2){const m=i[h]-n[0],v=n[3]-i[h+1];c.push(`${m},${v}`)}c=c.join(" ");const d=V(this,yE,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",c),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return C(this,yE)}addHighlightArea(){this.container.classList.add("highlightArea")}}yE=new WeakMap;class T6e extends Dne{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class k6e extends ir{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var bE;class L5 extends ir{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});W(this,bE,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Xt.HIGHLIGHT:Xt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,inkLists:i,borderStyle:r,popupRef:s}}=this,{width:o,height:a}=Af(n),l=this.svgFactory.create(o,a,!0);for(const c of i){let d=[];for(let p=0,m=c.length;p<m;p+=2){const v=c[p]-n[0],S=n[3]-c[p+1];d.push(`${v},${S}`)}d=d.join(" ");const h=this.svgFactory.createElement(this.svgElementName);C(this,bE).push(h),h.setAttribute("points",d),h.setAttribute("stroke-width",r.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return C(this,bE)}addHighlightArea(){this.container.classList.add("highlightArea")}}bE=new WeakMap;class Nne extends ir{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Xt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class _6e extends ir{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class M6e extends ir{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class R6e extends ir{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Pne extends ir{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Xt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var vE,xE,FF;class D6e extends ir{constructor(n){var r;super(n,{isRenderable:!0});W(this,xE);W(this,vE,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",H(this,xE,FF).bind(this)),V(this,vE,r);const{isMac:s}=go.platform;return n.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&H(this,xE,FF).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),n.append(r),n}getElementsToTriggerPopup(){return C(this,vE)}addHighlightArea(){this.container.classList.add("highlightArea")}}vE=new WeakMap,xE=new WeakSet,FF=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var wE,by,vy,SE,i0,One,$F;class N6e{constructor({div:e,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:o,structTreeLayer:a}){W(this,i0);W(this,wE,null);W(this,by,null);W(this,vy,new Map);W(this,SE,null);this.div=e,V(this,wE,n),V(this,by,i),V(this,SE,a||null),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return C(this,vy).size>0}async render(e){var o;const{annotations:n}=e,i=this.div;Qy(i,this.viewport);const r=new Map,s={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new O5,annotationStorage:e.annotationStorage||new M5,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of n){if(a.noHTML)continue;const l=a.annotationType===gr.POPUP;if(l){const h=r.get(a.id);if(!h)continue;s.elements=h}else{const{width:h,height:p}=Af(a.rect);if(h<=0||p<=0)continue}s.data=a;const c=m6e.create(s);if(!c.isRenderable)continue;if(!l&&a.popupRef){const h=r.get(a.popupRef);h?h.push(c):r.set(a.popupRef,[c])}const d=c.render();a.hidden&&(d.style.visibility="hidden"),await H(this,i0,One).call(this,d,a.id),c._isEditable&&(C(this,vy).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}H(this,i0,$F).call(this)}update({viewport:e}){const n=this.div;this.viewport=e,Qy(n,{rotation:e.rotation}),H(this,i0,$F).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(C(this,vy).values())}getEditableAnnotation(e){return C(this,vy).get(e)}}wE=new WeakMap,by=new WeakMap,vy=new WeakMap,SE=new WeakMap,i0=new WeakSet,One=async function(e,n){var o,a;const i=e.firstChild||e,r=i.id=`${A5}${n}`,s=await((o=C(this,SE))==null?void 0:o.getAriaAttributes(r));if(s)for(const[l,c]of s)i.setAttribute(l,c);this.div.append(e),(a=C(this,wE))==null||a.moveElementInDOM(this.div,e,i,!1)},$F=function(){if(!C(this,by))return;const e=this.div;for(const[n,i]of C(this,by)){const r=e.querySelector(`[data-annotation-id="${n}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i)}C(this,by).clear()};const CM=/\r\n?|\n/g;var bc,ga,CE,xy,ya,dr,Lne,jne,Ine,aR,Tf,lR,cR,Fne,BF,$ne;const ci=class ci extends Wn{constructor(n){super({...n,name:"freeTextEditor"});W(this,dr);W(this,bc);W(this,ga,"");W(this,CE,`${this.id}-editor`);W(this,xy,null);W(this,ya);V(this,bc,n.color||ci._defaultColor||Wn._defaultLineColor),V(this,ya,n.fontSize||ci._defaultFontSize)}static get _keyboardManager(){const n=ci.prototype,i=o=>o.isEmpty(),r=e0.TRANSLATE_SMALL,s=e0.TRANSLATE_BIG;return vn(this,"_keyboardManager",new AT([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(n,i){Wn.initialize(n,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,i){switch(n){case Dt.FREETEXT_SIZE:ci._defaultFontSize=i;break;case Dt.FREETEXT_COLOR:ci._defaultColor=i;break}}updateParams(n,i){switch(n){case Dt.FREETEXT_SIZE:H(this,dr,Lne).call(this,i);break;case Dt.FREETEXT_COLOR:H(this,dr,jne).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Dt.FREETEXT_SIZE,ci._defaultFontSize],[Dt.FREETEXT_COLOR,ci._defaultColor||Wn._defaultLineColor]]}get propertiesToUpdate(){return[[Dt.FREETEXT_SIZE,C(this,ya)],[Dt.FREETEXT_COLOR,C(this,bc)]]}_translateEmpty(n,i){this._uiManager.translateSelectedEditors(n,i,!0)}getInitialTranslation(){const n=this.parentScale;return[-ci._internalPadding*n,-(ci._internalPadding+C(this,ya))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Xt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),V(this,xy,new AbortController);const n=this._uiManager.combinedSignal(C(this,xy));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n})}disableEditMode(){var n;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",C(this,CE)),this._isDraggable=!0,(n=C(this,xy))==null||n.abort(),V(this,xy,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var n;this.width||(this.enableEditMode(),this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=C(this,ga),i=V(this,ga,H(this,dr,Ine).call(this).trimEnd());if(n===i)return;const r=s=>{if(V(this,ga,s),!s){this.remove();return}H(this,dr,cR).call(this),this._uiManager.rebuild(this),H(this,dr,aR).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(n)},mustExec:!1}),H(this,dr,aR).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(n){this.enterInEditMode()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){ci._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let n,i;this.width&&(n=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",C(this,CE)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${C(this,ya)}px * var(--scale-factor))`,r.color=C(this,bc),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),C2(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[d,h]=this.pageDimensions,[p,m]=this.pageTranslation;let v,S;switch(this.rotation){case 0:v=n+(a[0]-p)/d,S=i+this.height-(a[1]-m)/h;break;case 90:v=n+(a[0]-p)/d,S=i-(a[1]-m)/h,[l,c]=[c,-l];break;case 180:v=n-this.width+(a[0]-p)/d,S=i-(a[1]-m)/h,[l,c]=[-l,-c];break;case 270:v=n+(a[0]-p-this.height*h)/d,S=i+(a[1]-m-this.width*d)/h,[l,c]=[-c,l];break}this.setAt(v*s,S*o,l,c)}else this.setAt(n*s,i*o,this.width*s,this.height*o);H(this,dr,cR).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var v,S,A;const i=n.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;n.preventDefault();const s=H(v=ci,Tf,BF).call(v,i.getData("text")||"").replaceAll(CM,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const E=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(CM,"")),E!==this.editorDiv){let M=d;for(const R of this.editorDiv.childNodes){if(R===E){M=h;continue}M.push(H(S=ci,Tf,lR).call(S,R))}}d.push(l.nodeValue.slice(0,c).replaceAll(CM,""))}else if(l===this.editorDiv){let E=d,M=0;for(const R of this.editorDiv.childNodes)M++===c&&(E=h),E.push(H(A=ci,Tf,lR).call(A,R))}V(this,ga,`${d.join(`
`)}${s}${h.join(`
`)}`),H(this,dr,cR).call(this);const p=new Range;let m=d.reduce((E,M)=>E+M.length,0);for(const{firstChild:E}of this.editorDiv.childNodes)if(E.nodeType===Node.TEXT_NODE){const M=E.nodeValue.length;if(m<=M){p.setStart(E,m),p.setEnd(E,m);break}m-=M}o.removeAllRanges(),o.addRange(p)}get contentDiv(){return this.editorDiv}static async deserialize(n,i,r){var a;let s=null;if(n instanceof Rne){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:d,rotation:h,id:p,popupRef:m},textContent:v,textPosition:S,parent:{page:{pageNumber:A}}}=n;if(!v||v.length===0)return null;s=n={annotationType:Xt.FREETEXT,color:Array.from(c),fontSize:l,value:v.join(`
`),position:S,pageIndex:A-1,rect:d.slice(0),rotation:h,id:p,deleted:!1,popupRef:m}}const o=await super.deserialize(n,i,r);return V(o,ya,n.fontSize),V(o,bc,lt.makeHexColor(...n.color)),V(o,ga,H(a=ci,Tf,BF).call(a,n.value)),o.annotationElementId=n.id||null,o._initialData=s,o}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=ci._internalPadding*this.parentScale,r=this.getRect(i,i),s=Wn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:C(this,bc)),o={annotationType:Xt.FREETEXT,color:s,fontSize:C(this,ya),value:H(this,dr,Fne).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?o:this.annotationElementId&&!H(this,dr,$ne).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(n){const i=super.renderAnnotationElement(n);if(this.deleted)return i;const{style:r}=i;r.fontSize=`calc(${C(this,ya)}px * var(--scale-factor))`,r.color=C(this,bc),i.replaceChildren();for(const o of C(this,ga).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),i.append(a)}const s=ci._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(s,s),popupContent:C(this,ga)}),i}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};bc=new WeakMap,ga=new WeakMap,CE=new WeakMap,xy=new WeakMap,ya=new WeakMap,dr=new WeakSet,Lne=function(n){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-C(this,ya))*this.parentScale),V(this,ya,s),H(this,dr,aR).call(this)},r=C(this,ya);this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},jne=function(n){const i=s=>{V(this,bc,this.editorDiv.style.color=s)},r=C(this,bc);this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ine=function(){var r;const n=[];this.editorDiv.normalize();let i=null;for(const s of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(n.push(H(r=ci,Tf,lR).call(r,s)),i=s);return n.join(`
`)},aR=function(){const[n,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/n,this.height=r.height/i):(this.width=r.height/n,this.height=r.width/i),this.fixAndSetPosition()},Tf=new WeakSet,lR=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(CM,"")},cR=function(){if(this.editorDiv.replaceChildren(),!!C(this,ga))for(const n of C(this,ga).split(`
`)){const i=document.createElement("div");i.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(i)}},Fne=function(){return C(this,ga).replaceAll(""," ")},BF=function(n){return n.replaceAll(" ","")},$ne=function(n){const{value:i,fontSize:r,color:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||n.value!==i||n.fontSize!==r||n.color.some((a,l)=>a!==s[l])||n.pageIndex!==o},W(ci,Tf),Rt(ci,"_freeTextDefaultContent",""),Rt(ci,"_internalPadding",0),Rt(ci,"_defaultColor",null),Rt(ci,"_defaultFontSize",10),Rt(ci,"_type","freetext"),Rt(ci,"_editorType",Xt.FREETEXT);let zF=ci;class zne{toSVGPath(){wi("Abstract method `toSVGPath` must be implemented.")}get box(){wi("Abstract getter `box` must be implemented.")}serialize(e,n){wi("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){wi("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){wi("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var ba,vc,rx,sx,Iu,an,wy,Sy,AE,EE,ox,ax,fp,TE,H2,U2,Er,oC,Bne,Vne,Hne,Une,qne,Gne;const $d=class $d{constructor({x:e,y:n},i,r,s,o,a=0){W(this,Er);W(this,ba);W(this,vc,[]);W(this,rx);W(this,sx);W(this,Iu,[]);W(this,an,new Float64Array(18));W(this,wy);W(this,Sy);W(this,AE);W(this,EE);W(this,ox);W(this,ax);W(this,fp,[]);V(this,ba,i),V(this,ax,s*r),V(this,sx,o),C(this,an).set([NaN,NaN,NaN,NaN,e,n],6),V(this,rx,a),V(this,EE,C($d,TE)*r),V(this,AE,C($d,U2)*r),V(this,ox,r),C(this,fp).push(e,n)}isEmpty(){return isNaN(C(this,an)[8])}add({x:e,y:n}){var q;V(this,wy,e),V(this,Sy,n);const[i,r,s,o]=C(this,ba);let[a,l,c,d]=C(this,an).subarray(8,12);const h=e-c,p=n-d,m=Math.hypot(h,p);if(m<C(this,AE))return!1;const v=m-C(this,EE),S=v/m,A=S*h,E=S*p;let M=a,R=l;a=c,l=d,c+=A,d+=E,(q=C(this,fp))==null||q.push(e,n);const N=-E/v,P=A/v,O=N*C(this,ax),$=P*C(this,ax);return C(this,an).set(C(this,an).subarray(2,8),0),C(this,an).set([c+O,d+$],4),C(this,an).set(C(this,an).subarray(14,18),12),C(this,an).set([c-O,d-$],16),isNaN(C(this,an)[6])?(C(this,Iu).length===0&&(C(this,an).set([a+O,l+$],2),C(this,Iu).push(NaN,NaN,NaN,NaN,(a+O-i)/s,(l+$-r)/o),C(this,an).set([a-O,l-$],14),C(this,vc).push(NaN,NaN,NaN,NaN,(a-O-i)/s,(l-$-r)/o)),C(this,an).set([M,R,a,l,c,d],6),!this.isEmpty()):(C(this,an).set([M,R,a,l,c,d],6),Math.abs(Math.atan2(R-l,M-a)-Math.atan2(E,A))<Math.PI/2?([a,l,c,d]=C(this,an).subarray(2,6),C(this,Iu).push(NaN,NaN,NaN,NaN,((a+c)/2-i)/s,((l+d)/2-r)/o),[a,l,M,R]=C(this,an).subarray(14,18),C(this,vc).push(NaN,NaN,NaN,NaN,((M+a)/2-i)/s,((R+l)/2-r)/o),!0):([M,R,a,l,c,d]=C(this,an).subarray(0,6),C(this,Iu).push(((M+5*a)/6-i)/s,((R+5*l)/6-r)/o,((5*a+c)/6-i)/s,((5*l+d)/6-r)/o,((a+c)/2-i)/s,((l+d)/2-r)/o),[c,d,a,l,M,R]=C(this,an).subarray(12,18),C(this,vc).push(((M+5*a)/6-i)/s,((R+5*l)/6-r)/o,((5*a+c)/6-i)/s,((5*l+d)/6-r)/o,((a+c)/2-i)/s,((l+d)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=C(this,Iu),n=C(this,vc);if(isNaN(C(this,an)[6])&&!this.isEmpty())return H(this,Er,Bne).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);H(this,Er,Hne).call(this,i);for(let r=n.length-6;r>=6;r-=6)isNaN(n[r])?i.push(`L${n[r+4]} ${n[r+5]}`):i.push(`C${n[r]} ${n[r+1]} ${n[r+2]} ${n[r+3]} ${n[r+4]} ${n[r+5]}`);return H(this,Er,Vne).call(this,i),i.join(" ")}newFreeDrawOutline(e,n,i,r,s,o){return new Wne(e,n,i,r,s,o)}getOutlines(){var h;const e=C(this,Iu),n=C(this,vc),i=C(this,an),[r,s,o,a]=C(this,ba),l=new Float64Array((((h=C(this,fp))==null?void 0:h.length)??0)+2);for(let p=0,m=l.length-2;p<m;p+=2)l[p]=(C(this,fp)[p]-r)/o,l[p+1]=(C(this,fp)[p+1]-s)/a;if(l[l.length-2]=(C(this,wy)-r)/o,l[l.length-1]=(C(this,Sy)-s)/a,isNaN(i[6])&&!this.isEmpty())return H(this,Er,Une).call(this,l);const c=new Float64Array(C(this,Iu).length+24+C(this,vc).length);let d=e.length;for(let p=0;p<d;p+=2){if(isNaN(e[p])){c[p]=c[p+1]=NaN;continue}c[p]=e[p],c[p+1]=e[p+1]}d=H(this,Er,Gne).call(this,c,d);for(let p=n.length-6;p>=6;p-=6)for(let m=0;m<6;m+=2){if(isNaN(n[p+m])){c[d]=c[d+1]=NaN,d+=2;continue}c[d]=n[p+m],c[d+1]=n[p+m+1],d+=2}return H(this,Er,qne).call(this,c,d),this.newFreeDrawOutline(c,l,C(this,ba),C(this,ox),C(this,rx),C(this,sx))}};ba=new WeakMap,vc=new WeakMap,rx=new WeakMap,sx=new WeakMap,Iu=new WeakMap,an=new WeakMap,wy=new WeakMap,Sy=new WeakMap,AE=new WeakMap,EE=new WeakMap,ox=new WeakMap,ax=new WeakMap,fp=new WeakMap,TE=new WeakMap,H2=new WeakMap,U2=new WeakMap,Er=new WeakSet,oC=function(){const e=C(this,an).subarray(4,6),n=C(this,an).subarray(16,18),[i,r,s,o]=C(this,ba);return[(C(this,wy)+(e[0]-n[0])/2-i)/s,(C(this,Sy)+(e[1]-n[1])/2-r)/o,(C(this,wy)+(n[0]-e[0])/2-i)/s,(C(this,Sy)+(n[1]-e[1])/2-r)/o]},Bne=function(){const[e,n,i,r]=C(this,ba),[s,o,a,l]=H(this,Er,oC).call(this);return`M${(C(this,an)[2]-e)/i} ${(C(this,an)[3]-n)/r} L${(C(this,an)[4]-e)/i} ${(C(this,an)[5]-n)/r} L${s} ${o} L${a} ${l} L${(C(this,an)[16]-e)/i} ${(C(this,an)[17]-n)/r} L${(C(this,an)[14]-e)/i} ${(C(this,an)[15]-n)/r} Z`},Vne=function(e){const n=C(this,vc);e.push(`L${n[4]} ${n[5]} Z`)},Hne=function(e){const[n,i,r,s]=C(this,ba),o=C(this,an).subarray(4,6),a=C(this,an).subarray(16,18),[l,c,d,h]=H(this,Er,oC).call(this);e.push(`L${(o[0]-n)/r} ${(o[1]-i)/s} L${l} ${c} L${d} ${h} L${(a[0]-n)/r} ${(a[1]-i)/s}`)},Une=function(e){const n=C(this,an),[i,r,s,o]=C(this,ba),[a,l,c,d]=H(this,Er,oC).call(this),h=new Float64Array(36);return h.set([NaN,NaN,NaN,NaN,(n[2]-i)/s,(n[3]-r)/o,NaN,NaN,NaN,NaN,(n[4]-i)/s,(n[5]-r)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,(n[16]-i)/s,(n[17]-r)/o,NaN,NaN,NaN,NaN,(n[14]-i)/s,(n[15]-r)/o],0),this.newFreeDrawOutline(h,e,C(this,ba),C(this,ox),C(this,rx),C(this,sx))},qne=function(e,n){const i=C(this,vc);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],n),n+=6},Gne=function(e,n){const i=C(this,an).subarray(4,6),r=C(this,an).subarray(16,18),[s,o,a,l]=C(this,ba),[c,d,h,p]=H(this,Er,oC).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-o)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(r[0]-s)/a,(r[1]-o)/l],n),n+=24},W($d,TE,8),W($d,H2,2),W($d,U2,C($d,TE)+C($d,H2));let E2=$d;var lx,Cy,ef,kE,va,_E,er,Bo,aC,lC,Kne;class Wne extends zne{constructor(n,i,r,s,o,a){super();W(this,Bo);W(this,lx);W(this,Cy,null);W(this,ef);W(this,kE);W(this,va);W(this,_E);W(this,er);V(this,er,n),V(this,va,i),V(this,lx,r),V(this,_E,s),V(this,ef,o),V(this,kE,a),H(this,Bo,Kne).call(this,a);const{x:l,y:c,width:d,height:h}=C(this,Cy);for(let p=0,m=n.length;p<m;p+=2)n[p]=(n[p]-l)/d,n[p+1]=(n[p+1]-c)/h;for(let p=0,m=i.length;p<m;p+=2)i[p]=(i[p]-l)/d,i[p+1]=(i[p+1]-c)/h}toSVGPath(){const n=[`M${C(this,er)[4]} ${C(this,er)[5]}`];for(let i=6,r=C(this,er).length;i<r;i+=6){if(isNaN(C(this,er)[i])){n.push(`L${C(this,er)[i+4]} ${C(this,er)[i+5]}`);continue}n.push(`C${C(this,er)[i]} ${C(this,er)[i+1]} ${C(this,er)[i+2]} ${C(this,er)[i+3]} ${C(this,er)[i+4]} ${C(this,er)[i+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,i,r,s],o){const a=r-n,l=s-i;let c,d;switch(o){case 0:c=H(this,Bo,aC).call(this,C(this,er),n,s,a,-l),d=H(this,Bo,aC).call(this,C(this,va),n,s,a,-l);break;case 90:c=H(this,Bo,lC).call(this,C(this,er),n,i,a,l),d=H(this,Bo,lC).call(this,C(this,va),n,i,a,l);break;case 180:c=H(this,Bo,aC).call(this,C(this,er),r,i,-a,l),d=H(this,Bo,aC).call(this,C(this,va),r,i,-a,l);break;case 270:c=H(this,Bo,lC).call(this,C(this,er),r,s,-a,-l),d=H(this,Bo,lC).call(this,C(this,va),r,s,-a,-l);break}return{outline:Array.from(c),points:[Array.from(d)]}}get box(){return C(this,Cy)}newOutliner(n,i,r,s,o,a=0){return new E2(n,i,r,s,o,a)}getNewOutline(n,i){const{x:r,y:s,width:o,height:a}=C(this,Cy),[l,c,d,h]=C(this,lx),p=o*d,m=a*h,v=r*d+l,S=s*h+c,A=this.newOutliner({x:C(this,va)[0]*p+v,y:C(this,va)[1]*m+S},C(this,lx),C(this,_E),n,C(this,kE),i??C(this,ef));for(let E=2;E<C(this,va).length;E+=2)A.add({x:C(this,va)[E]*p+v,y:C(this,va)[E+1]*m+S});return A.getOutlines()}get mustRemoveSelfIntersections(){return!0}}lx=new WeakMap,Cy=new WeakMap,ef=new WeakMap,kE=new WeakMap,va=new WeakMap,_E=new WeakMap,er=new WeakMap,Bo=new WeakSet,aC=function(n,i,r,s,o){const a=new Float64Array(n.length);for(let l=0,c=n.length;l<c;l+=2)a[l]=i+n[l]*s,a[l+1]=r+n[l+1]*o;return a},lC=function(n,i,r,s,o){const a=new Float64Array(n.length);for(let l=0,c=n.length;l<c;l+=2)a[l]=i+n[l+1]*s,a[l+1]=r+n[l]*o;return a},Kne=function(n){const i=C(this,er);let r=i[4],s=i[5],o=r,a=s,l=r,c=s,d=r,h=s;const p=n?Math.max:Math.min;for(let E=6,M=i.length;E<M;E+=6){if(isNaN(i[E]))o=Math.min(o,i[E+4]),a=Math.min(a,i[E+5]),l=Math.max(l,i[E+4]),c=Math.max(c,i[E+5]),h<i[E+5]?(d=i[E+4],h=i[E+5]):h===i[E+5]&&(d=p(d,i[E+4]));else{const R=lt.bezierBoundingBox(r,s,...i.slice(E,E+6));o=Math.min(o,R[0]),a=Math.min(a,R[1]),l=Math.max(l,R[2]),c=Math.max(c,R[3]),h<R[3]?(d=R[2],h=R[3]):h===R[3]&&(d=p(d,R[2]))}r=i[E+4],s=i[E+5]}const m=o-C(this,ef),v=a-C(this,ef),S=l-o+2*C(this,ef),A=c-a+2*C(this,ef);V(this,Cy,{x:m,y:v,width:S,height:A,lastPoint:[d,h]})};var ME,hp,xc,bo,Yne,uR,Xne,Jne,VF;class P9{constructor(e,n=0,i=0,r=!0){W(this,bo);W(this,ME);W(this,hp,[]);W(this,xc,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const c=10**-4;for(const{x:A,y:E,width:M,height:R}of e){const N=Math.floor((A-n)/c)*c,P=Math.ceil((A+M+n)/c)*c,O=Math.floor((E-n)/c)*c,$=Math.ceil((E+R+n)/c)*c,F=[N,O,$,!0],q=[P,O,$,!1];C(this,hp).push(F,q),s=Math.min(s,N),o=Math.max(o,P),a=Math.min(a,O),l=Math.max(l,$)}const d=o-s+2*i,h=l-a+2*i,p=s-i,m=a-i,v=C(this,hp).at(r?-1:-2),S=[v[0],v[2]];for(const A of C(this,hp)){const[E,M,R]=A;A[0]=(E-p)/d,A[1]=(M-m)/h,A[2]=(R-m)/h}V(this,ME,{x:p,y:m,width:d,height:h,lastPoint:S})}getOutlines(){C(this,hp).sort((n,i)=>n[0]-i[0]||n[1]-i[1]||n[2]-i[2]);const e=[];for(const n of C(this,hp))n[3]?(e.push(...H(this,bo,VF).call(this,n)),H(this,bo,Xne).call(this,n)):(H(this,bo,Jne).call(this,n),e.push(...H(this,bo,VF).call(this,n)));return H(this,bo,Yne).call(this,e)}}ME=new WeakMap,hp=new WeakMap,xc=new WeakMap,bo=new WeakSet,Yne=function(e){const n=[],i=new Set;for(const o of e){const[a,l,c]=o;n.push([a,l,o],[a,c,o])}n.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=n.length;o<a;o+=2){const l=n[o][2],c=n[o+1][2];l.push(c),c.push(l),i.add(l),i.add(c)}const r=[];let s;for(;i.size>0;){const o=i.values().next().value;let[a,l,c,d,h]=o;i.delete(o);let p=a,m=l;for(s=[a,c],r.push(s);;){let v;if(i.has(d))v=d;else if(i.has(h))v=h;else break;i.delete(v),[a,l,c,d,h]=v,p!==a&&(s.push(p,m,a,m===l?l:c),p=a),m=m===l?c:l}s.push(p,m)}return new P6e(r,C(this,ME))},uR=function(e){const n=C(this,xc);let i=0,r=n.length-1;for(;i<=r;){const s=i+r>>1,o=n[s][0];if(o===e)return s;o<e?i=s+1:r=s-1}return r+1},Xne=function([,e,n]){const i=H(this,bo,uR).call(this,e);C(this,xc).splice(i,0,[e,n])},Jne=function([,e,n]){const i=H(this,bo,uR).call(this,e);for(let r=i;r<C(this,xc).length;r++){const[s,o]=C(this,xc)[r];if(s!==e)break;if(s===e&&o===n){C(this,xc).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,o]=C(this,xc)[r];if(s!==e)break;if(s===e&&o===n){C(this,xc).splice(r,1);return}}},VF=function(e){const[n,i,r]=e,s=[[n,i,r]],o=H(this,bo,uR).call(this,r);for(let a=0;a<o;a++){const[l,c]=C(this,xc)[a];for(let d=0,h=s.length;d<h;d++){const[,p,m]=s[d];if(!(c<=p||m<=l)){if(p>=l){if(m>c)s[d][1]=c;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,m>c&&s.push([n,c,m])}}}return s};var RE,cx;class P6e extends zne{constructor(n,i){super();W(this,RE);W(this,cx);V(this,cx,n),V(this,RE,i)}toSVGPath(){const n=[];for(const i of C(this,cx)){let[r,s]=i;n.push(`M${r} ${s}`);for(let o=2;o<i.length;o+=2){const a=i[o],l=i[o+1];a===r?(n.push(`V${l}`),s=l):l===s&&(n.push(`H${a}`),r=a)}n.push("Z")}return n.join(" ")}serialize([n,i,r,s],o){const a=[],l=r-n,c=s-i;for(const d of C(this,cx)){const h=new Array(d.length);for(let p=0;p<d.length;p+=2)h[p]=n+d[p]*l,h[p+1]=s-d[p+1]*c;a.push(h)}return a}get box(){return C(this,RE)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}RE=new WeakMap,cx=new WeakMap;class HF extends E2{newFreeDrawOutline(e,n,i,r,s,o){return new O6e(e,n,i,r,s,o)}get classNamesForDrawing(){return["highlight","free"]}}class O6e extends Wne{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,n,i,r,s,o=0){return new HF(e,n,i,r,s,o)}}var wc,Ay,ux,vr,DE,dx,NE,PE,pp,Sc,fx,OE,Jn,UF,qF,GF,bg,Zne,zh;const jo=class jo{constructor({editor:e=null,uiManager:n=null}){W(this,Jn);W(this,wc,null);W(this,Ay,null);W(this,ux);W(this,vr,null);W(this,DE,!1);W(this,dx,!1);W(this,NE,null);W(this,PE);W(this,pp,null);W(this,Sc,null);W(this,fx);var i;e?(V(this,dx,!1),V(this,fx,Dt.HIGHLIGHT_COLOR),V(this,NE,e)):(V(this,dx,!0),V(this,fx,Dt.HIGHLIGHT_DEFAULT_COLOR)),V(this,Sc,(e==null?void 0:e._uiManager)||n),V(this,PE,C(this,Sc)._eventBus),V(this,ux,(e==null?void 0:e.color)||((i=C(this,Sc))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),C(jo,OE)||V(jo,OE,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return vn(this,"_keyboardManager",new AT([[["Escape","mac+Escape"],jo.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],jo.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],jo.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],jo.prototype._moveToPrevious],[["Home","mac+Home"],jo.prototype._moveToBeginning],[["End","mac+End"],jo.prototype._moveToEnd]]))}renderButton(){const e=V(this,wc,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const n=C(this,Sc)._signal;e.addEventListener("click",H(this,Jn,bg).bind(this),{signal:n}),e.addEventListener("keydown",H(this,Jn,GF).bind(this),{signal:n});const i=V(this,Ay,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=C(this,ux),e.append(i),e}renderMainDropdown(){const e=V(this,vr,H(this,Jn,UF).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===C(this,wc)){H(this,Jn,bg).call(this,e);return}const n=e.target.getAttribute("data-color");n&&H(this,Jn,qF).call(this,n,e)}_moveToNext(e){var n,i;if(!C(this,Jn,zh)){H(this,Jn,bg).call(this,e);return}if(e.target===C(this,wc)){(n=C(this,vr).firstChild)==null||n.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var n,i;if(e.target===((n=C(this,vr))==null?void 0:n.firstChild)||e.target===C(this,wc)){C(this,Jn,zh)&&this._hideDropdownFromKeyboard();return}C(this,Jn,zh)||H(this,Jn,bg).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var n;if(!C(this,Jn,zh)){H(this,Jn,bg).call(this,e);return}(n=C(this,vr).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!C(this,Jn,zh)){H(this,Jn,bg).call(this,e);return}(n=C(this,vr).lastChild)==null||n.focus()}hideDropdown(){var e,n;(e=C(this,vr))==null||e.classList.add("hidden"),(n=C(this,pp))==null||n.abort(),V(this,pp,null)}_hideDropdownFromKeyboard(){var e;if(!C(this,dx)){if(!C(this,Jn,zh)){(e=C(this,NE))==null||e.unselect();return}this.hideDropdown(),C(this,wc).focus({preventScroll:!0,focusVisible:C(this,DE)})}}updateColor(e){if(C(this,Ay)&&(C(this,Ay).style.backgroundColor=e),!C(this,vr))return;const n=C(this,Sc).highlightColors.values();for(const i of C(this,vr).children)i.setAttribute("aria-selected",n.next().value===e)}destroy(){var e,n;(e=C(this,wc))==null||e.remove(),V(this,wc,null),V(this,Ay,null),(n=C(this,vr))==null||n.remove(),V(this,vr,null)}};wc=new WeakMap,Ay=new WeakMap,ux=new WeakMap,vr=new WeakMap,DE=new WeakMap,dx=new WeakMap,NE=new WeakMap,PE=new WeakMap,pp=new WeakMap,Sc=new WeakMap,fx=new WeakMap,OE=new WeakMap,Jn=new WeakSet,UF=function(){const e=document.createElement("div"),n=C(this,Sc)._signal;e.addEventListener("contextmenu",Nl,{signal:n}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,r]of C(this,Sc).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",C(jo,OE)[i]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.setAttribute("aria-selected",r===C(this,ux)),s.addEventListener("click",H(this,Jn,qF).bind(this,r),{signal:n}),e.append(s)}return e.addEventListener("keydown",H(this,Jn,GF).bind(this),{signal:n}),e},qF=function(e,n){n.stopPropagation(),C(this,PE).dispatch("switchannotationeditorparams",{source:this,type:C(this,fx),value:e})},GF=function(e){jo._keyboardManager.exec(this,e)},bg=function(e){if(C(this,Jn,zh)){this.hideDropdown();return}if(V(this,DE,e.detail===0),C(this,pp)||(V(this,pp,new AbortController),window.addEventListener("pointerdown",H(this,Jn,Zne).bind(this),{signal:C(this,Sc).combinedSignal(C(this,pp))})),C(this,vr)){C(this,vr).classList.remove("hidden");return}const n=V(this,vr,H(this,Jn,UF).call(this));C(this,wc).append(n)},Zne=function(e){var n;(n=C(this,vr))!=null&&n.contains(e.target)||this.hideDropdown()},zh=function(){return C(this,vr)&&!C(this,vr).classList.contains("hidden")},W(jo,OE,null);let T2=jo;var hx,LE,tf,Ey,px,fl,jE,IE,Ty,Cc,Cs,$o,mx,nf,xr,gx,hl,FE,qt,WF,dR,Qne,eie,tie,KF,vg,wl,ev,nie,fR,cC,iie,rie,sie,oie,aie;const Pn=class Pn extends Wn{constructor(n){super({...n,name:"highlightEditor"});W(this,qt);W(this,hx,null);W(this,LE,0);W(this,tf);W(this,Ey,null);W(this,px,null);W(this,fl,null);W(this,jE,null);W(this,IE,0);W(this,Ty,null);W(this,Cc,null);W(this,Cs,null);W(this,$o,!1);W(this,mx,null);W(this,nf);W(this,xr,null);W(this,gx,"");W(this,hl);W(this,FE,"");this.color=n.color||Pn._defaultColor,V(this,hl,n.thickness||Pn._defaultThickness),V(this,nf,n.opacity||Pn._defaultOpacity),V(this,tf,n.boxes||null),V(this,FE,n.methodOfCreation||""),V(this,gx,n.text||""),this._isDraggable=!1,n.highlightId>-1?(V(this,$o,!0),H(this,qt,dR).call(this,n),H(this,qt,vg).call(this)):C(this,tf)&&(V(this,hx,n.anchorNode),V(this,LE,n.anchorOffset),V(this,jE,n.focusNode),V(this,IE,n.focusOffset),H(this,qt,WF).call(this),H(this,qt,vg).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const n=Pn.prototype;return vn(this,"_keyboardManager",new AT([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:C(this,$o)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:C(this,hl),methodOfCreation:C(this,FE)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,i){var r;Wn.initialize(n,i),Pn._defaultColor||(Pn._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(n,i){switch(n){case Dt.HIGHLIGHT_DEFAULT_COLOR:Pn._defaultColor=i;break;case Dt.HIGHLIGHT_THICKNESS:Pn._defaultThickness=i;break}}translateInPage(n,i){}get toolbarPosition(){return C(this,mx)}updateParams(n,i){switch(n){case Dt.HIGHLIGHT_COLOR:H(this,qt,Qne).call(this,i);break;case Dt.HIGHLIGHT_THICKNESS:H(this,qt,eie).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Dt.HIGHLIGHT_DEFAULT_COLOR,Pn._defaultColor],[Dt.HIGHLIGHT_THICKNESS,Pn._defaultThickness]]}get propertiesToUpdate(){return[[Dt.HIGHLIGHT_COLOR,this.color||Pn._defaultColor],[Dt.HIGHLIGHT_THICKNESS,C(this,hl)||Pn._defaultThickness],[Dt.HIGHLIGHT_FREE,C(this,$o)]]}async addEditToolbar(){const n=await super.addEditToolbar();return n?(this._uiManager.highlightColors&&(V(this,px,new T2({editor:this})),n.addColorPicker(C(this,px))),n):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(H(this,qt,cC).call(this))}getBaseTranslation(){return[0,0]}getRect(n,i){return super.getRect(n,i,H(this,qt,cC).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){H(this,qt,KF).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(H(this,qt,vg).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var r;let i=!1;this.parent&&!n?H(this,qt,KF).call(this):n&&(H(this,qt,vg).call(this,n),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),i&&this.select()}rotate(n){var s,o,a;const{drawLayer:i}=this.parent;let r;C(this,$o)?(n=(n-this.rotation+360)%360,r=H(s=Pn,wl,ev).call(s,C(this,Cc).box,n)):r=H(o=Pn,wl,ev).call(o,this,n),i.rotate(C(this,Cs),n),i.rotate(C(this,xr),n),i.updateBox(C(this,Cs),r),i.updateBox(C(this,xr),H(a=Pn,wl,ev).call(a,C(this,fl).box,n))}render(){if(this.div)return this.div;const n=super.render();C(this,gx)&&(n.setAttribute("aria-label",C(this,gx)),n.setAttribute("role","mark")),C(this,$o)?n.classList.add("free"):this.div.addEventListener("keydown",H(this,qt,nie).bind(this),{signal:this._uiManager._signal});const i=V(this,Ty,document.createElement("div"));n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=C(this,Ey);const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),C2(this,C(this,Ty),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){this.isSelected||this.parent.drawLayer.addClass(C(this,xr),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(C(this,xr),"hovered")}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:H(this,qt,fR).call(this,!0);break;case 1:case 3:H(this,qt,fR).call(this,!1);break}}select(){var n,i;super.select(),C(this,xr)&&((n=this.parent)==null||n.drawLayer.removeClass(C(this,xr),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(C(this,xr),"selected"))}unselect(){var n;super.unselect(),C(this,xr)&&((n=this.parent)==null||n.drawLayer.removeClass(C(this,xr),"selected"),C(this,$o)||H(this,qt,fR).call(this,!1))}get _mustFixPosition(){return!C(this,$o)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.show(C(this,Cs),n),this.parent.drawLayer.show(C(this,xr),n))}static startHighlighting(n,i,{target:r,x:s,y:o}){const{x:a,y:l,width:c,height:d}=r.getBoundingClientRect(),h=new AbortController,p=n.combinedSignal(h),m=S=>{S.preventDefault(),S.stopPropagation()},v=S=>{h.abort(),H(this,wl,oie).call(this,n,S)};window.addEventListener("blur",v,{signal:p}),window.addEventListener("pointerup",v,{signal:p}),window.addEventListener("pointerdown",m,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",Nl,{signal:p}),r.addEventListener("pointermove",H(this,wl,sie).bind(this,n),{signal:p}),this._freeHighlight=new HF({x:s,y:o},[a,l,c,d],n.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(n,i,r){var S,A,E,M;let s=null;if(n instanceof Nne){const{data:{quadPoints:R,rect:N,rotation:P,id:O,color:$,opacity:F,popupRef:q},parent:{page:{pageNumber:B}}}=n;s=n={annotationType:Xt.HIGHLIGHT,color:Array.from($),opacity:F,quadPoints:R,boxes:null,pageIndex:B-1,rect:N.slice(0),rotation:P,id:O,deleted:!1,popupRef:q}}else if(n instanceof L5){const{data:{inkLists:R,rect:N,rotation:P,id:O,color:$,borderStyle:{rawWidth:F},popupRef:q},parent:{page:{pageNumber:B}}}=n;s=n={annotationType:Xt.HIGHLIGHT,color:Array.from($),thickness:F,inkLists:R,boxes:null,pageIndex:B-1,rect:N.slice(0),rotation:P,id:O,deleted:!1,popupRef:q}}const{color:o,quadPoints:a,inkLists:l,opacity:c}=n,d=await super.deserialize(n,i,r);d.color=lt.makeHexColor(...o),V(d,nf,c||1),l&&V(d,hl,n.thickness),d.annotationElementId=n.id||null,d._initialData=s;const[h,p]=d.pageDimensions,[m,v]=d.pageTranslation;if(a){const R=V(d,tf,[]);for(let N=0;N<a.length;N+=8)R.push({x:(a[N]-m)/h,y:1-(a[N+1]-v)/p,width:(a[N+2]-a[N])/h,height:(a[N+1]-a[N+5])/p});H(S=d,qt,WF).call(S),H(A=d,qt,vg).call(A),d.rotate(d.rotation)}else if(l){V(d,$o,!0);const R=l[0],N={x:R[0]-m,y:p-(R[1]-v)},P=new HF(N,[0,0,h,p],1,C(d,hl)/2,!0,.001);for(let F=0,q=R.length;F<q;F+=2)N.x=R[F]-m,N.y=p-(R[F+1]-v),P.add(N);const{id:O,clipPathId:$}=i.drawLayer.draw(P,d.color,d._defaultOpacity,!0);H(E=d,qt,dR).call(E,{highlightOutlines:P.getOutlines(),highlightId:O,clipPathId:$}),H(M=d,qt,vg).call(M)}return d}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),r=Wn._colorManager.convert(this.color),s={annotationType:Xt.HIGHLIGHT,color:r,opacity:C(this,nf),thickness:C(this,hl),quadPoints:H(this,qt,iie).call(this),outlines:H(this,qt,rie).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:H(this,qt,cC).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!H(this,qt,aie).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};hx=new WeakMap,LE=new WeakMap,tf=new WeakMap,Ey=new WeakMap,px=new WeakMap,fl=new WeakMap,jE=new WeakMap,IE=new WeakMap,Ty=new WeakMap,Cc=new WeakMap,Cs=new WeakMap,$o=new WeakMap,mx=new WeakMap,nf=new WeakMap,xr=new WeakMap,gx=new WeakMap,hl=new WeakMap,FE=new WeakMap,qt=new WeakSet,WF=function(){const n=new P9(C(this,tf),.001);V(this,Cc,n.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=C(this,Cc).box;const i=new P9(C(this,tf),.0025,.001,this._uiManager.direction==="ltr");V(this,fl,i.getOutlines());const{lastPoint:r}=C(this,fl).box;V(this,mx,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},dR=function({highlightOutlines:n,highlightId:i,clipPathId:r}){var h,p;if(V(this,Cc,n),V(this,fl,n.getNewOutline(C(this,hl)/2+1.5,.0025)),i>=0)V(this,Cs,i),V(this,Ey,r),this.parent.drawLayer.finalizeLine(i,n),V(this,xr,this.parent.drawLayer.drawOutline(C(this,fl)));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(C(this,Cs),n),this.parent.drawLayer.updateBox(C(this,Cs),H(h=Pn,wl,ev).call(h,C(this,Cc).box,(m-this.rotation+360)%360)),this.parent.drawLayer.updateLine(C(this,xr),C(this,fl)),this.parent.drawLayer.updateBox(C(this,xr),H(p=Pn,wl,ev).call(p,C(this,fl).box,m))}const{x:o,y:a,width:l,height:c}=n.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[m,v]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*v/m,this.height=c*m/v;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[m,v]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*v/m,this.height=c*m/v;break}}const{lastPoint:d}=C(this,fl).box;V(this,mx,[(d[0]-o)/l,(d[1]-a)/c])},Qne=function(n){const i=(o,a)=>{var l,c,d;this.color=o,(l=this.parent)==null||l.drawLayer.changeColor(C(this,Cs),o),(c=C(this,px))==null||c.updateColor(o),V(this,nf,a),(d=this.parent)==null||d.drawLayer.changeOpacity(C(this,Cs),a)},r=this.color,s=C(this,nf);this.addCommands({cmd:i.bind(this,n,Pn._defaultOpacity),undo:i.bind(this,r,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},eie=function(n){const i=C(this,hl),r=s=>{V(this,hl,s),H(this,qt,tie).call(this,s)};this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},tie=function(n){if(!C(this,$o))return;H(this,qt,dR).call(this,{highlightOutlines:C(this,Cc).getNewOutline(n/2)}),this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)},KF=function(){C(this,Cs)===null||!this.parent||(this.parent.drawLayer.remove(C(this,Cs)),V(this,Cs,null),this.parent.drawLayer.remove(C(this,xr)),V(this,xr,null))},vg=function(n=this.parent){C(this,Cs)===null&&({id:ro(this,Cs)._,clipPathId:ro(this,Ey)._}=n.drawLayer.draw(C(this,Cc),this.color,C(this,nf)),V(this,xr,n.drawLayer.drawOutline(C(this,fl))),C(this,Ty)&&(C(this,Ty).style.clipPath=C(this,Ey)))},wl=new WeakSet,ev=function({x:n,y:i,width:r,height:s},o){switch(o){case 90:return{x:1-i-s,y:n,width:s,height:r};case 180:return{x:1-n-r,y:1-i-s,width:r,height:s};case 270:return{x:i,y:1-n-r,width:s,height:r}}return{x:n,y:i,width:r,height:s}},nie=function(n){Pn._keyboardManager.exec(this,n)},fR=function(n){if(!C(this,hx))return;const i=window.getSelection();n?i.setPosition(C(this,hx),C(this,LE)):i.setPosition(C(this,jE),C(this,IE))},cC=function(){return C(this,$o)?this.rotation:0},iie=function(){if(C(this,$o))return null;const[n,i]=this.pageDimensions,[r,s]=this.pageTranslation,o=C(this,tf),a=new Float32Array(o.length*8);let l=0;for(const{x:c,y:d,width:h,height:p}of o){const m=c*n+r,v=(1-d-p)*i+s;a[l]=a[l+4]=m,a[l+1]=a[l+3]=v,a[l+2]=a[l+6]=m+h*n,a[l+5]=a[l+7]=v+p*i,l+=8}return a},rie=function(n){return C(this,Cc).serialize(n,H(this,qt,cC).call(this))},sie=function(n,i){this._freeHighlight.add(i)&&n.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},oie=function(n,i){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},aie=function(n){const{color:i}=this._initialData;return n.color.some((r,s)=>r!==i[s])},W(Pn,wl),Rt(Pn,"_defaultColor",null),Rt(Pn,"_defaultOpacity",1),Rt(Pn,"_defaultThickness",12),Rt(Pn,"_type","highlight"),Rt(Pn,"_editorType",Xt.HIGHLIGHT),Rt(Pn,"_freeHighlightId",-1),Rt(Pn,"_freeHighlight",null),Rt(Pn,"_freeHighlightClipId","");let k2=Pn;var ky,_y,Fu,rf,pl,My,Ry,Dy,sf,yx,Ny,Py,mp,We,lie,cie,uie,die,XF,fie,JF,hie,pie,mie,gie,yie,xg,ZF,QF,e$,hR,pR,tv,t$,mR,Lf,bie,n$,vie,xie,i$,gR,uC;const Pi=class Pi extends Wn{constructor(n){super({...n,name:"inkEditor"});W(this,We);W(this,ky,0);W(this,_y,0);W(this,Fu,null);W(this,rf,new Path2D);W(this,pl,!1);W(this,My,null);W(this,Ry,!1);W(this,Dy,!1);W(this,sf,null);W(this,yx,null);W(this,Ny,0);W(this,Py,0);W(this,mp,null);this.color=n.color||null,this.thickness=n.thickness||null,this.opacity=n.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(n,i){Wn.initialize(n,i)}static updateDefaultParams(n,i){switch(n){case Dt.INK_THICKNESS:Pi._defaultThickness=i;break;case Dt.INK_COLOR:Pi._defaultColor=i;break;case Dt.INK_OPACITY:Pi._defaultOpacity=i/100;break}}updateParams(n,i){switch(n){case Dt.INK_THICKNESS:H(this,We,lie).call(this,i);break;case Dt.INK_COLOR:H(this,We,cie).call(this,i);break;case Dt.INK_OPACITY:H(this,We,uie).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Dt.INK_THICKNESS,Pi._defaultThickness],[Dt.INK_COLOR,Pi._defaultColor||Wn._defaultLineColor],[Dt.INK_OPACITY,Math.round(Pi._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Dt.INK_THICKNESS,this.thickness||Pi._defaultThickness],[Dt.INK_COLOR,this.color||Pi._defaultColor||Wn._defaultLineColor],[Dt.INK_OPACITY,Math.round(100*(this.opacity??Pi._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(H(this,We,hR).call(this),H(this,We,pR).call(this)),this.isAttachedToDOM||(this.parent.add(this),H(this,We,tv).call(this)),H(this,We,uC).call(this)))}remove(){var n;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,C(this,Fu)&&(clearTimeout(C(this,Fu)),V(this,Fu,null)),(n=C(this,sf))==null||n.disconnect(),V(this,sf,null),super.remove())}setParent(n){!this.parent&&n?this._uiManager.removeShouldRescale(this):this.parent&&n===null&&this._uiManager.addShouldRescale(this),super.setParent(n)}onScaleChanging(){const[n,i]=this.parentDimensions,r=this.width*n,s=this.height*i;this.setDimensions(r,s)}enableEditMode(){C(this,pl)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,H(this,We,ZF).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),H(this,We,QF).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){C(this,pl)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),V(this,pl,!0),this.div.classList.add("disabled"),H(this,We,uC).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),this.enableEditMode())}canvasPointerdown(n){n.button!==0||!this.isInEditMode()||C(this,pl)||(this.setInForeground(),n.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),H(this,We,fie).call(this,n.offsetX,n.offsetY))}canvasPointermove(n){n.preventDefault(),H(this,We,JF).call(this,n.offsetX,n.offsetY)}canvasPointerup(n){n.preventDefault(),H(this,We,e$).call(this,n)}canvasPointerleave(n){H(this,We,e$).call(this,n)}get isResizable(){return!this.isEmpty()&&C(this,pl)}render(){if(this.div)return this.div;let n,i;this.width&&(n=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,s,o,a]=H(this,We,die).call(this);if(this.setAt(r,s,0,0),this.setDims(o,a),H(this,We,hR).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(n*l,i*c,this.width*l,this.height*c),V(this,Dy,!0),H(this,We,tv).call(this),this.setDims(this.width*l,this.height*c),H(this,We,xg).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return H(this,We,pR).call(this),this.div}setDimensions(n,i){const r=Math.round(n),s=Math.round(i);if(C(this,Ny)===r&&C(this,Py)===s)return;V(this,Ny,r),V(this,Py,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=n/o,this.height=i/a,this.fixAndSetPosition(),C(this,pl)&&H(this,We,t$).call(this,n,i),H(this,We,tv).call(this),H(this,We,xg).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(n,i,r){var A,E,M;if(n instanceof L5)return null;const s=await super.deserialize(n,i,r);s.thickness=n.thickness,s.color=lt.makeHexColor(...n.color),s.opacity=n.opacity;const[o,a]=s.pageDimensions,l=s.width*o,c=s.height*a,d=s.parentScale,h=n.thickness/2;V(s,pl,!0),V(s,Ny,Math.round(l)),V(s,Py,Math.round(c));const{paths:p,rect:m,rotation:v}=n;for(let{bezier:R}of p){R=H(A=Pi,Lf,vie).call(A,R,m,v);const N=[];s.paths.push(N);let P=d*(R[0]-h),O=d*(R[1]-h);for(let F=2,q=R.length;F<q;F+=6){const B=d*(R[F]-h),X=d*(R[F+1]-h),Q=d*(R[F+2]-h),J=d*(R[F+3]-h),oe=d*(R[F+4]-h),ce=d*(R[F+5]-h);N.push([[P,O],[B,X],[Q,J],[oe,ce]]),P=oe,O=ce}const $=H(this,Lf,bie).call(this,N);s.bezierPath2D.push($)}const S=H(E=s,We,i$).call(E);return V(s,_y,Math.max(Wn.MIN_SIZE,S[2]-S[0])),V(s,ky,Math.max(Wn.MIN_SIZE,S[3]-S[1])),H(M=s,We,t$).call(M,l,c),s}serialize(){if(this.isEmpty())return null;const n=this.getRect(0,0),i=Wn._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Xt.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:H(this,We,xie).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,n),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};ky=new WeakMap,_y=new WeakMap,Fu=new WeakMap,rf=new WeakMap,pl=new WeakMap,My=new WeakMap,Ry=new WeakMap,Dy=new WeakMap,sf=new WeakMap,yx=new WeakMap,Ny=new WeakMap,Py=new WeakMap,mp=new WeakMap,We=new WeakSet,lie=function(n){const i=s=>{this.thickness=s,H(this,We,uC).call(this)},r=this.thickness;this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},cie=function(n){const i=s=>{this.color=s,H(this,We,xg).call(this)},r=this.color;this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},uie=function(n){const i=s=>{this.opacity=s,H(this,We,xg).call(this)};n/=100;const r=this.opacity;this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},die=function(){const{parentRotation:n,parentDimensions:[i,r]}=this;switch(n){case 90:return[0,r,r,i];case 180:return[i,r,i,r];case 270:return[i,0,r,i];default:return[0,0,i,r]}},XF=function(){const{ctx:n,color:i,opacity:r,thickness:s,parentScale:o,scaleFactor:a}=this;n.lineWidth=s*o/a,n.lineCap="round",n.lineJoin="round",n.miterLimit=10,n.strokeStyle=`${i}${n4e(r)}`},fie=function(n,i){this.canvas.addEventListener("contextmenu",Nl,{signal:this._uiManager._signal}),H(this,We,QF).call(this),V(this,My,new AbortController);const r=this._uiManager.combinedSignal(C(this,My));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,C(this,Dy)||(V(this,Dy,!0),H(this,We,tv).call(this),this.thickness||(this.thickness=Pi._defaultThickness),this.color||(this.color=Pi._defaultColor||Wn._defaultLineColor),this.opacity??(this.opacity=Pi._defaultOpacity)),this.currentPath.push([n,i]),V(this,Ry,!1),H(this,We,XF).call(this),V(this,mp,()=>{H(this,We,mie).call(this),C(this,mp)&&window.requestAnimationFrame(C(this,mp))}),window.requestAnimationFrame(C(this,mp))},JF=function(n,i){const[r,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&n===r&&i===s)return;const o=this.currentPath;let a=C(this,rf);if(o.push([n,i]),V(this,Ry,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(n,i);return}o.length===3&&(V(this,rf,a=new Path2D),a.moveTo(...o[0])),H(this,We,gie).call(this,a,...o.at(-3),...o.at(-2),n,i)},hie=function(){if(this.currentPath.length===0)return;const n=this.currentPath.at(-1);C(this,rf).lineTo(...n)},pie=function(n,i){V(this,mp,null),n=Math.min(Math.max(n,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),H(this,We,JF).call(this,n,i),H(this,We,hie).call(this);let r;if(this.currentPath.length!==1)r=H(this,We,yie).call(this);else{const c=[n,i];r=[[c,c.slice(),c.slice(),c]]}const s=C(this,rf),o=this.currentPath;this.currentPath=[],V(this,rf,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(r),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(H(this,We,hR).call(this),H(this,We,pR).call(this)),H(this,We,uC).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},mie=function(){if(!C(this,Ry))return;V(this,Ry,!1);const n=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),r=i.map(a=>a[0]),s=i.map(a=>a[1]);Math.min(...r)-n,Math.max(...r)+n,Math.min(...s)-n,Math.max(...s)+n;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(C(this,rf)),o.restore()},gie=function(n,i,r,s,o,a,l){const c=(i+s)/2,d=(r+o)/2,h=(s+a)/2,p=(o+l)/2;n.bezierCurveTo(c+2*(s-c)/3,d+2*(o-d)/3,h+2*(s-h)/3,p+2*(o-p)/3,h,p)},yie=function(){const n=this.currentPath;if(n.length<=2)return[[n[0],n[0],n.at(-1),n.at(-1)]];const i=[];let r,[s,o]=n[0];for(r=1;r<n.length-2;r++){const[m,v]=n[r],[S,A]=n[r+1],E=(m+S)/2,M=(v+A)/2,R=[s+2*(m-s)/3,o+2*(v-o)/3],N=[E+2*(m-E)/3,M+2*(v-M)/3];i.push([[s,o],R,N,[E,M]]),[s,o]=[E,M]}const[a,l]=n[r],[c,d]=n[r+1],h=[s+2*(a-s)/3,o+2*(l-o)/3],p=[c+2*(a-c)/3,d+2*(l-d)/3];return i.push([[s,o],h,p,[c,d]]),i},xg=function(){if(this.isEmpty()){H(this,We,mR).call(this);return}H(this,We,XF).call(this);const{canvas:n,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,n.width,n.height),H(this,We,mR).call(this);for(const r of this.bezierPath2D)i.stroke(r)},ZF=function(){if(C(this,yx))return;V(this,yx,new AbortController);const n=this._uiManager.combinedSignal(C(this,yx));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:n})},QF=function(){var n;(n=this.pointerdownAC)==null||n.abort(),this.pointerdownAC=null},e$=function(n){var i;(i=C(this,My))==null||i.abort(),V(this,My,null),H(this,We,ZF).call(this),C(this,Fu)&&clearTimeout(C(this,Fu)),V(this,Fu,setTimeout(()=>{V(this,Fu,null),this.canvas.removeEventListener("contextmenu",Nl)},10)),H(this,We,pie).call(this,n.offsetX,n.offsetY),this.addToAnnotationStorage(),this.setInBackground()},hR=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},pR=function(){V(this,sf,new ResizeObserver(n=>{const i=n[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),C(this,sf).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=C(this,sf))==null||n.disconnect(),V(this,sf,null)},{once:!0})},tv=function(){if(!C(this,Dy))return;const[n,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*n),this.canvas.height=Math.ceil(this.height*i),H(this,We,mR).call(this)},t$=function(n,i){const r=H(this,We,gR).call(this),s=(n-r)/C(this,_y),o=(i-r)/C(this,ky);this.scaleFactor=Math.min(s,o)},mR=function(){const n=H(this,We,gR).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+n,this.translationY*this.scaleFactor+n)},Lf=new WeakSet,bie=function(n){const i=new Path2D;for(let r=0,s=n.length;r<s;r++){const[o,a,l,c]=n[r];r===0&&i.moveTo(...o),i.bezierCurveTo(a[0],a[1],l[0],l[1],c[0],c[1])}return i},n$=function(n,i,r){const[s,o,a,l]=i;switch(r){case 0:for(let c=0,d=n.length;c<d;c+=2)n[c]+=s,n[c+1]=l-n[c+1];break;case 90:for(let c=0,d=n.length;c<d;c+=2){const h=n[c];n[c]=n[c+1]+s,n[c+1]=h+o}break;case 180:for(let c=0,d=n.length;c<d;c+=2)n[c]=a-n[c],n[c+1]+=o;break;case 270:for(let c=0,d=n.length;c<d;c+=2){const h=n[c];n[c]=a-n[c+1],n[c+1]=l-h}break;default:throw new Error("Invalid rotation")}return n},vie=function(n,i,r){const[s,o,a,l]=i;switch(r){case 0:for(let c=0,d=n.length;c<d;c+=2)n[c]-=s,n[c+1]=l-n[c+1];break;case 90:for(let c=0,d=n.length;c<d;c+=2){const h=n[c];n[c]=n[c+1]-o,n[c+1]=h-s}break;case 180:for(let c=0,d=n.length;c<d;c+=2)n[c]=a-n[c],n[c+1]-=o;break;case 270:for(let c=0,d=n.length;c<d;c+=2){const h=n[c];n[c]=l-n[c+1],n[c+1]=a-h}break;default:throw new Error("Invalid rotation")}return n},xie=function(n,i,r,s){var d,h;const o=[],a=this.thickness/2,l=n*i+a,c=n*r+a;for(const p of this.paths){const m=[],v=[];for(let S=0,A=p.length;S<A;S++){const[E,M,R,N]=p[S];if(E[0]===N[0]&&E[1]===N[1]&&A===1){const J=n*E[0]+l,oe=n*E[1]+c;m.push(J,oe),v.push(J,oe);break}const P=n*E[0]+l,O=n*E[1]+c,$=n*M[0]+l,F=n*M[1]+c,q=n*R[0]+l,B=n*R[1]+c,X=n*N[0]+l,Q=n*N[1]+c;S===0&&(m.push(P,O),v.push(P,O)),m.push($,F,q,B,X,Q),v.push($,F),S===A-1&&v.push(X,Q)}o.push({bezier:H(d=Pi,Lf,n$).call(d,m,s,this.rotation),points:H(h=Pi,Lf,n$).call(h,v,s,this.rotation)})}return o},i$=function(){let n=1/0,i=-1/0,r=1/0,s=-1/0;for(const o of this.paths)for(const[a,l,c,d]of o){const h=lt.bezierBoundingBox(...a,...l,...c,...d);n=Math.min(n,h[0]),r=Math.min(r,h[1]),i=Math.max(i,h[2]),s=Math.max(s,h[3])}return[n,r,i,s]},gR=function(){return C(this,pl)?Math.ceil(this.thickness*this.parentScale):0},uC=function(n=!1){if(this.isEmpty())return;if(!C(this,pl)){H(this,We,xg).call(this);return}const i=H(this,We,i$).call(this),r=H(this,We,gR).call(this);V(this,_y,Math.max(Wn.MIN_SIZE,i[2]-i[0])),V(this,ky,Math.max(Wn.MIN_SIZE,i[3]-i[1]));const s=Math.ceil(r+C(this,_y)*this.scaleFactor),o=Math.ceil(r+C(this,ky)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=s/a,this.height=o/l,this.setAspectRatio(s,o);const c=this.translationX,d=this.translationY;this.translationX=-i[0],this.translationY=-i[1],H(this,We,tv).call(this),H(this,We,xg).call(this),V(this,Ny,s),V(this,Py,o),this.setDims(s,o);const h=n?r/this.scaleFactor/2:0;this.translate(c-this.translationX-h,d-this.translationY-h)},W(Pi,Lf),Rt(Pi,"_defaultColor",null),Rt(Pi,"_defaultOpacity",1),Rt(Pi,"_defaultThickness",1),Rt(Pi,"_type","ink"),Rt(Pi,"_editorType",Xt.INK);let YF=Pi;var Li,ts,gp,of,yp,bx,$u,af,zu,xa,vx,mn,dC,fC,yR,s$,wie,bR,o$,vR,Sie,Cie;const OC=class OC extends Wn{constructor(n){super({...n,name:"stampEditor"});W(this,mn);W(this,Li,null);W(this,ts,null);W(this,gp,null);W(this,of,null);W(this,yp,null);W(this,bx,"");W(this,$u,null);W(this,af,null);W(this,zu,null);W(this,xa,!1);W(this,vx,!1);V(this,of,n.bitmapUrl),V(this,yp,n.bitmapFile)}static initialize(n,i){Wn.initialize(n,i)}static get supportedTypes(){return vn(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return vn(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(n){return this.supportedTypes.includes(n)}static paste(n,i){i.pasteEditor(Xt.STAMP,{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const i=n.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(n=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:a}=n||this.copyCanvas(null,null,!0).imageData,l=await r.guess({name:"altText",request:{data:s,width:o,height:a,channels:s.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),i&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var n,i;C(this,ts)&&(V(this,Li,null),this._uiManager.imageManager.deleteId(C(this,ts)),(n=C(this,$u))==null||n.remove(),V(this,$u,null),(i=C(this,af))==null||i.disconnect(),V(this,af,null),C(this,zu)&&(clearTimeout(C(this,zu)),V(this,zu,null))),super.remove()}rebuild(){if(!this.parent){C(this,ts)&&H(this,mn,yR).call(this);return}super.rebuild(),this.div!==null&&(C(this,ts)&&C(this,$u)===null&&H(this,mn,yR).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(C(this,gp)||C(this,Li)||C(this,of)||C(this,yp)||C(this,ts))}get isResizable(){return!0}render(){if(this.div)return this.div;let n,i;if(this.width&&(n=this.x,i=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),C(this,Li)?H(this,mn,s$).call(this):H(this,mn,yR).call(this),this.width&&!this.annotationElementId){const[r,s]=this.parentDimensions;this.setAt(n*r,i*s,this.width*r,this.height*s)}return this.div}copyCanvas(n,i,r=!1){var m;n||(n=224);const{width:s,height:o}=C(this,Li),a=new tF;let l=C(this,Li),c=s,d=o,h=null;if(i){if(s>i||o>i){const F=Math.min(i/s,i/o);c=Math.floor(s*F),d=Math.floor(o*F)}h=document.createElement("canvas");const v=h.width=Math.ceil(c*a.sx),S=h.height=Math.ceil(d*a.sy);C(this,xa)||(l=H(this,mn,bR).call(this,v,S));const A=h.getContext("2d");A.filter=this._uiManager.hcmFilter;let E="white",M="#cfcfd8";this._uiManager.hcmFilter!=="none"?M="black":(m=window.matchMedia)!=null&&m.call(window,"(prefers-color-scheme: dark)").matches&&(E="#8f8f9d",M="#42414d");const R=15,N=R*a.sx,P=R*a.sy,O=new OffscreenCanvas(N*2,P*2),$=O.getContext("2d");$.fillStyle=E,$.fillRect(0,0,N*2,P*2),$.fillStyle=M,$.fillRect(0,0,N,P),$.fillRect(N,P,N,P),A.fillStyle=A.createPattern(O,"repeat"),A.fillRect(0,0,v,S),A.drawImage(l,0,0,l.width,l.height,0,0,v,S)}let p=null;if(r){let v,S;if(a.symmetric&&l.width<n&&l.height<n)v=l.width,S=l.height;else if(l=C(this,Li),s>n||o>n){const M=Math.min(n/s,n/o);v=Math.floor(s*M),S=Math.floor(o*M),C(this,xa)||(l=H(this,mn,bR).call(this,v,S))}const E=new OffscreenCanvas(v,S).getContext("2d",{willReadFrequently:!0});E.drawImage(l,0,0,l.width,l.height,0,0,v,S),p={width:v,height:S,data:E.getImageData(0,0,v,S).data}}return{canvas:h,width:c,height:d,imageData:p}}getImageForAltText(){return C(this,$u)}static async deserialize(n,i,r){var S;let s=null;if(n instanceof Pne){const{data:{rect:A,rotation:E,id:M,structParent:R,popupRef:N},container:P,parent:{page:{pageNumber:O}}}=n,$=P.querySelector("canvas"),F=r.imageManager.getFromCanvas(P.id,$);$.remove();const q=((S=await i._structTree.getAriaAttributes(`${A5}${M}`))==null?void 0:S.get("aria-label"))||"";s=n={annotationType:Xt.STAMP,bitmapId:F.id,bitmap:F.bitmap,pageIndex:O-1,rect:A.slice(0),rotation:E,id:M,deleted:!1,accessibilityData:{decorative:!1,altText:q},isSvg:!1,structParent:R,popupRef:N}}const o=await super.deserialize(n,i,r),{rect:a,bitmap:l,bitmapUrl:c,bitmapId:d,isSvg:h,accessibilityData:p}=n;d&&r.imageManager.isValidId(d)?(V(o,ts,d),l&&V(o,Li,l)):V(o,of,c),V(o,xa,h);const[m,v]=o.pageDimensions;return o.width=(a[2]-a[0])/m,o.height=(a[3]-a[1])/v,o.annotationElementId=n.id||null,p&&(o.altTextData=p),o._initialData=s,V(o,vx,!!s),o}serialize(n=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Xt.STAMP,bitmapId:C(this,ts),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:C(this,xa),structTreeParentId:this._structTreeParentId};if(n)return r.bitmapUrl=H(this,mn,vR).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(r.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=H(this,mn,Cie).call(this,r);if(l.isSame)return null;l.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,i===null)return r;i.stamps||(i.stamps=new Map);const a=C(this,xa)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(C(this,ts)))i.stamps.set(C(this,ts),{area:a,serialized:r}),r.bitmap=H(this,mn,vR).call(this,!1);else if(C(this,xa)){const l=i.stamps.get(C(this,ts));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=H(this,mn,vR).call(this,!1))}return r}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}};Li=new WeakMap,ts=new WeakMap,gp=new WeakMap,of=new WeakMap,yp=new WeakMap,bx=new WeakMap,$u=new WeakMap,af=new WeakMap,zu=new WeakMap,xa=new WeakMap,vx=new WeakMap,mn=new WeakSet,dC=function(n,i=!1){if(!n){this.remove();return}V(this,Li,n.bitmap),i||(V(this,ts,n.id),V(this,xa,n.isSvg)),n.file&&V(this,bx,n.file.name),H(this,mn,s$).call(this)},fC=function(){if(V(this,gp,null),this._uiManager.enableWaiting(!1),!!C(this,$u)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&C(this,Li)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&C(this,Li)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},yR=function(){if(C(this,ts)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(C(this,ts)).then(r=>H(this,mn,dC).call(this,r,!0)).finally(()=>H(this,mn,fC).call(this));return}if(C(this,of)){const r=C(this,of);V(this,of,null),this._uiManager.enableWaiting(!0),V(this,gp,this._uiManager.imageManager.getFromUrl(r).then(s=>H(this,mn,dC).call(this,s)).finally(()=>H(this,mn,fC).call(this)));return}if(C(this,yp)){const r=C(this,yp);V(this,yp,null),this._uiManager.enableWaiting(!0),V(this,gp,this._uiManager.imageManager.getFromFile(r).then(s=>H(this,mn,dC).call(this,s)).finally(()=>H(this,mn,fC).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=OC.supportedTypesStr;const i=this._uiManager._signal;V(this,gp,new Promise(r=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),H(this,mn,dC).call(this,s)}r()},{signal:i}),n.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>H(this,mn,fC).call(this))),n.click()},s$=function(){const{div:n}=this;let{width:i,height:r}=C(this,Li);const[s,o]=this.pageDimensions,a=.75;if(this.width)i=this.width*s,r=this.height*o;else if(i>a*s||r>a*o){const h=Math.min(a*s/i,a*o/r);i*=h,r*=h}const[l,c]=this.parentDimensions;this.setDims(i*l/s,r*c/o),this._uiManager.enableWaiting(!1);const d=V(this,$u,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),H(this,mn,o$).call(this,i,r),H(this,mn,Sie).call(this),C(this,vx)||(this.parent.addUndoableEditor(this),V(this,vx,!0)),this._reportTelemetry({action:"inserted_image"}),C(this,bx)&&d.setAttribute("aria-label",C(this,bx))},wie=function(n,i){var a;const[r,s]=this.parentDimensions;this.width=n/r,this.height=i/s,(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,C(this,zu)!==null&&clearTimeout(C(this,zu)),V(this,zu,setTimeout(()=>{V(this,zu,null),H(this,mn,o$).call(this,n,i)},200))},bR=function(n,i){const{width:r,height:s}=C(this,Li);let o=r,a=s,l=C(this,Li);for(;o>2*n||a>2*i;){const c=o,d=a;o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*i&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(l,0,0,c,d,0,0,o,a),l=h.transferToImageBitmap()}return l},o$=function(n,i){const r=new tF,s=Math.ceil(n*r.sx),o=Math.ceil(i*r.sy),a=C(this,$u);if(!a||a.width===s&&a.height===o)return;a.width=s,a.height=o;const l=C(this,xa)?C(this,Li):H(this,mn,bR).call(this,s,o),c=a.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,s,o)},vR=function(n){if(n){if(C(this,xa)){const s=this._uiManager.imageManager.getSvgUrl(C(this,ts));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=C(this,Li),i.getContext("2d").drawImage(C(this,Li),0,0),i.toDataURL()}if(C(this,xa)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*Bp.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*Bp.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(C(this,Li),0,0,C(this,Li).width,C(this,Li).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(C(this,Li))},Sie=function(){this._uiManager._signal&&(V(this,af,new ResizeObserver(n=>{const i=n[0].contentRect;i.width&&i.height&&H(this,mn,wie).call(this,i.width,i.height)})),C(this,af).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=C(this,af))==null||n.disconnect(),V(this,af,null)},{once:!0}))},Cie=function(n){var c;const{rect:i,pageIndex:r,accessibilityData:{altText:s}}=this._initialData,o=n.rect.every((d,h)=>Math.abs(d-i[h])<1),a=n.pageIndex===r,l=(((c=n.accessibilityData)==null?void 0:c.alt)||"")===s;return{isSame:o&&a&&l,isSameAltText:l}},Rt(OC,"_type","stamp"),Rt(OC,"_editorType",Xt.STAMP);let r$=OC;var Oy,xx,Bu,bp,lf,wa,vp,wx,Sx,As,cf,ht,xp,cs,Aie,l$,c$,u$,xR;const cc=class cc{constructor({uiManager:e,pageIndex:n,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:l,viewport:c,l10n:d}){W(this,cs);W(this,Oy);W(this,xx,!1);W(this,Bu,null);W(this,bp,null);W(this,lf,null);W(this,wa,new Map);W(this,vp,!1);W(this,wx,!1);W(this,Sx,!1);W(this,As,null);W(this,cf,null);W(this,ht);const h=[...C(cc,xp).values()];if(!cc._initialized){cc._initialized=!0;for(const p of h)p.initialize(d,e)}e.registerEditorTypes(h),V(this,ht,e),this.pageIndex=n,this.div=i,V(this,Oy,s),V(this,Bu,o),this.viewport=c,V(this,As,l),this.drawLayer=a,this._structTree=r,C(this,ht).addLayer(this)}get isEmpty(){return C(this,wa).size===0}get isInvisible(){return this.isEmpty&&C(this,ht).getMode()===Xt.NONE}updateToolbar(e){C(this,ht).updateToolbar(e)}updateMode(e=C(this,ht).getMode()){switch(H(this,cs,xR).call(this),e){case Xt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Xt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Xt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const i of C(cc,xp).values())n.toggle(`${i._type}Editing`,e===i._editorType);this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=C(this,As))==null?void 0:n.div)}addInkEditorIfNeeded(e){if(C(this,ht).getMode()!==Xt.INK)return;if(!e){for(const i of C(this,wa).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){C(this,ht).setEditingState(e)}addCommands(e){C(this,ht).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=C(this,Bu))==null||n.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const i of C(this,wa).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(C(this,ht).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!C(this,Bu))return;const n=C(this,Bu).getEditableAnnotations();for(const i of n){if(i.hide(),C(this,ht).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;V(this,Sx,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,n=new Map;for(const s of C(this,wa).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else n.set(s.annotationElementId,s);(r=this.getEditableAnnotation(s.annotationElementId))==null||r.show(),s.remove()}if(C(this,Bu)){const s=C(this,Bu).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(C(this,ht).isDeletedAnnotationElement(a))continue;let l=n.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(C(this,ht).addChangedExistingAnnotation(l),l.renderAnnotationElement(o)&&l.show(!1)),o.show()}}H(this,cs,xR).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of C(cc,xp).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),V(this,Sx,!1)}getEditableAnnotation(e){var n;return((n=C(this,Bu))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){C(this,ht).getActive()!==e&&C(this,ht).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=C(this,As))!=null&&e.div&&!C(this,cf)){V(this,cf,new AbortController);const n=C(this,ht).combinedSignal(C(this,cf));C(this,As).div.addEventListener("pointerdown",H(this,cs,Aie).bind(this),{signal:n}),C(this,As).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=C(this,As))!=null&&e.div&&C(this,cf)&&(C(this,cf).abort(),V(this,cf,null),C(this,As).div.classList.remove("highlighting"))}enableClick(){if(C(this,bp))return;V(this,bp,new AbortController);const e=C(this,ht).combinedSignal(C(this,bp));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=C(this,bp))==null||e.abort(),V(this,bp,null)}attach(e){C(this,wa).set(e.id,e);const{annotationElementId:n}=e;n&&C(this,ht).isDeletedAnnotationElement(n)&&C(this,ht).removeDeletedAnnotationElement(e)}detach(e){var n;C(this,wa).delete(e.id),(n=C(this,Oy))==null||n.removePointerInTextLayer(e.contentDiv),!C(this,Sx)&&e.annotationElementId&&C(this,ht).addDeletedAnnotationElement(e)}remove(e){this.detach(e),C(this,ht).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,C(this,wx)||this.addInkEditorIfNeeded(!1)}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(C(this,ht).addDeletedAnnotationElement(e.annotationElementId),Wn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),C(this,ht).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),C(this,ht).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!C(this,lf)&&(e._focusEventsAllowed=!1,V(this,lf,setTimeout(()=>{V(this,lf,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:C(this,ht)._signal}),n.focus())},0))),e._structTreeParentId=(i=C(this,Oy))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:n,undo:i,mustExec:!1})}getNextId(){return C(this,ht).getId()}combinedSignal(e){return C(this,ht).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=C(this,cs,l$))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,n){C(this,ht).updateToolbar(e),C(this,ht).updateMode(e);const{offsetX:i,offsetY:r}=H(this,cs,u$).call(this),s=this.getNextId(),o=H(this,cs,c$).call(this,{parent:this,id:s,x:i,y:r,uiManager:C(this,ht),isCentered:!0,...n});o&&this.add(o)}async deserialize(e){var n;return await((n=C(cc,xp).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,C(this,ht)))||null}createAndAddNewEditor(e,n,i={}){const r=this.getNextId(),s=H(this,cs,c$).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:C(this,ht),isCentered:n,...i});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(H(this,cs,u$).call(this),!0)}setSelected(e){C(this,ht).setSelected(e)}toggleSelected(e){C(this,ht).toggleSelected(e)}unselect(e){C(this,ht).unselect(e)}pointerup(e){const{isMac:n}=go.platform;if(!(e.button!==0||e.ctrlKey&&n)&&e.target===this.div&&C(this,vp)){if(V(this,vp,!1),!C(this,xx)){V(this,xx,!0);return}if(C(this,ht).getMode()===Xt.STAMP){C(this,ht).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(C(this,ht).getMode()===Xt.HIGHLIGHT&&this.enableTextSelection(),C(this,vp)){V(this,vp,!1);return}const{isMac:n}=go.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;V(this,vp,!0);const i=C(this,ht).getActive();V(this,xx,!i||i.isEmpty())}findNewParent(e,n,i){const r=C(this,ht).findParent(n,i);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,n;((e=C(this,ht).getActive())==null?void 0:e.parent)===this&&(C(this,ht).commitOrRemove(),C(this,ht).setActiveEditor(null)),C(this,lf)&&(clearTimeout(C(this,lf)),V(this,lf,null));for(const i of C(this,wa).values())(n=C(this,Oy))==null||n.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,C(this,wa).clear(),C(this,ht).removeLayer(this)}render({viewport:e}){this.viewport=e,Qy(this.div,e);for(const n of C(this,ht).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){C(this,ht).commitOrRemove(),H(this,cs,xR).call(this);const n=this.viewport.rotation,i=e.rotation;if(this.viewport=e,Qy(this.div,{rotation:i}),n!==i)for(const r of C(this,wa).values())r.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return C(this,ht).viewParameters.realScale}};Oy=new WeakMap,xx=new WeakMap,Bu=new WeakMap,bp=new WeakMap,lf=new WeakMap,wa=new WeakMap,vp=new WeakMap,wx=new WeakMap,Sx=new WeakMap,As=new WeakMap,cf=new WeakMap,ht=new WeakMap,xp=new WeakMap,cs=new WeakSet,Aie=function(e){C(this,ht).unselectAll();const{target:n}=e;if(n===C(this,As).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&C(this,As).div.contains(n)){const{isMac:i}=go.platform;if(e.button!==0||e.ctrlKey&&i)return;C(this,ht).showAllEditors("highlight",!0,!0),C(this,As).div.classList.add("free"),this.toggleDrawing(),k2.startHighlighting(this,C(this,ht).direction==="ltr",{target:C(this,As).div,x:e.x,y:e.y}),C(this,As).div.addEventListener("pointerup",()=>{C(this,As).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:C(this,ht)._signal}),e.preventDefault()}},l$=function(){return C(cc,xp).get(C(this,ht).getMode())},c$=function(e){const n=C(this,cs,l$);return n?new n.prototype.constructor(e):null},u$=function(){const{x:e,y:n,width:i,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,n),a=Math.min(window.innerWidth,e+i),l=Math.min(window.innerHeight,n+r),c=(s+a)/2-e,d=(o+l)/2-n,[h,p]=this.viewport.rotation%180===0?[c,d]:[d,c];return{offsetX:h,offsetY:p}},xR=function(){V(this,wx,!0);for(const e of C(this,wa).values())e.isEmpty()&&e.remove();V(this,wx,!1)},Rt(cc,"_initialized",!1),W(cc,xp,new Map([zF,YF,r$,k2].map(e=>[e._editorType,e])));let a$=cc;var Vu,$E,ar,uf,zE,f$,r0,h$,Eie;const Zr=class Zr{constructor({pageIndex:e}){W(this,r0);W(this,Vu,null);W(this,$E,0);W(this,ar,new Map);W(this,uf,new Map);this.pageIndex=e}setParent(e){if(!C(this,Vu)){V(this,Vu,e);return}if(C(this,Vu)!==e){if(C(this,ar).size>0)for(const n of C(this,ar).values())n.remove(),e.append(n);V(this,Vu,e)}}static get _svgFactory(){return vn(this,"_svgFactory",new O5)}draw(e,n,i,r=!1){const s=ro(this,$E)._++,o=H(this,r0,h$).call(this,e.box);o.classList.add(...e.classNamesForDrawing);const a=Zr._svgFactory.createElement("defs");o.append(a);const l=Zr._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),r&&C(this,uf).set(s,l);const d=H(this,r0,Eie).call(this,a,c),h=Zr._svgFactory.createElement("use");return o.append(h),o.setAttribute("fill",n),o.setAttribute("fill-opacity",i),h.setAttribute("href",`#${c}`),C(this,ar).set(s,o),{id:s,clipPathId:`url(#${d})`}}drawOutline(e){const n=ro(this,$E)._++,i=H(this,r0,h$).call(this,e.box);i.classList.add(...e.classNamesForOutlining);const r=Zr._svgFactory.createElement("defs");i.append(r);const s=Zr._svgFactory.createElement("path");r.append(s);const o=`path_p${this.pageIndex}_${n}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.mustRemoveSelfIntersections){const d=Zr._svgFactory.createElement("mask");r.append(d),a=`mask_p${this.pageIndex}_${n}`,d.setAttribute("id",a),d.setAttribute("maskUnits","objectBoundingBox");const h=Zr._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const p=Zr._svgFactory.createElement("use");d.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const l=Zr._svgFactory.createElement("use");i.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const c=l.cloneNode();return i.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),C(this,ar).set(n,i),n}finalizeLine(e,n){const i=C(this,uf).get(e);C(this,uf).delete(e),this.updateBox(e,n.box),i.setAttribute("d",n.toSVGPath())}updateLine(e,n){C(this,ar).get(e).firstChild.firstChild.setAttribute("d",n.toSVGPath())}updatePath(e,n){C(this,uf).get(e).setAttribute("d",n.toSVGPath())}updateBox(e,n){var i;H(i=Zr,zE,f$).call(i,C(this,ar).get(e),n)}show(e,n){C(this,ar).get(e).classList.toggle("hidden",!n)}rotate(e,n){C(this,ar).get(e).setAttribute("data-main-rotation",n)}changeColor(e,n){C(this,ar).get(e).setAttribute("fill",n)}changeOpacity(e,n){C(this,ar).get(e).setAttribute("fill-opacity",n)}addClass(e,n){C(this,ar).get(e).classList.add(n)}removeClass(e,n){C(this,ar).get(e).classList.remove(n)}getSVGRoot(e){return C(this,ar).get(e)}remove(e){C(this,uf).delete(e),C(this,Vu)!==null&&(C(this,ar).get(e).remove(),C(this,ar).delete(e))}destroy(){V(this,Vu,null);for(const e of C(this,ar).values())e.remove();C(this,ar).clear(),C(this,uf).clear()}};Vu=new WeakMap,$E=new WeakMap,ar=new WeakMap,uf=new WeakMap,zE=new WeakSet,f$=function(e,{x:n=0,y:i=0,width:r=1,height:s=1}={}){const{style:o}=e;o.top=`${100*i}%`,o.left=`${100*n}%`,o.width=`${100*r}%`,o.height=`${100*s}%`},r0=new WeakSet,h$=function(e){var i;const n=Zr._svgFactory.create(1,1,!0);return C(this,Vu).append(n),n.setAttribute("aria-hidden",!0),H(i=Zr,zE,f$).call(i,n,e),n},Eie=function(e,n){const i=Zr._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${n}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=Zr._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${n}`),s.classList.add("clip"),r},W(Zr,zE);let d$=Zr;Lt.AbortException;Lt.AnnotationEditorLayer;Lt.AnnotationEditorParamsType;Lt.AnnotationEditorType;Lt.AnnotationEditorUIManager;Lt.AnnotationLayer;Lt.AnnotationMode;Lt.ColorPicker;Lt.DOMSVGFactory;Lt.DrawLayer;Lt.FeatureTest;var L6e=Lt.GlobalWorkerOptions;Lt.ImageKind;Lt.InvalidPDFException;Lt.MissingPDFException;Lt.OPS;Lt.OutputScale;Lt.PDFDataRangeTransport;Lt.PDFDateString;Lt.PDFWorker;Lt.PasswordResponses;Lt.PermissionFlag;Lt.PixelsPerInch;Lt.RenderingCancelledException;Lt.TextLayer;Lt.UnexpectedResponseException;Lt.Util;Lt.VerbosityLevel;Lt.XfaLayer;Lt.build;Lt.createValidAbsoluteUrl;Lt.fetchData;Lt.getDocument;Lt.getFilenameFromUrl;Lt.getPdfFilenameFromUrl;Lt.getXfaPageViewport;Lt.isDataScheme;Lt.isPdfFile;Lt.noContextMenu;Lt.normalizeUnicode;Lt.setLayerDimensions;Lt.shadow;var j6e=Lt.version;function I6e(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}I6e(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var TT=t=>typeof t=="number"&&!isNaN(t),n0=t=>typeof t=="string",Pf=t=>typeof t=="function",F6e=t=>n0(t)||TT(t),p$=t=>n0(t)||Pf(t)?t:null,$6e=(t,e)=>t===!1||TT(t)&&t>0?t:e,m$=t=>k.isValidElement(t)||n0(t)||Pf(t)||TT(t);function z6e(t,e,n=300){let{scrollHeight:i,style:r}=t;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,n)})})}function Tie({enter:t,exit:e,appendPosition:n=!1,collapse:i=!0,collapseDuration:r=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:c,isIn:d,playToast:h}){let p=n?`${t}--${o}`:t,m=n?`${e}--${o}`:e,v=k.useRef(0);return k.useLayoutEffect(()=>{let S=c.current,A=p.split(" "),E=M=>{M.target===c.current&&(h(),S.removeEventListener("animationend",E),S.removeEventListener("animationcancel",E),v.current===0&&M.type!=="animationcancel"&&S.classList.remove(...A))};S.classList.add(...A),S.addEventListener("animationend",E),S.addEventListener("animationcancel",E)},[]),k.useEffect(()=>{let S=c.current,A=()=>{S.removeEventListener("animationend",A),i?z6e(S,l,r):l()};d||(a?A():(v.current=1,S.className+=` ${m}`,S.addEventListener("animationend",A)))},[d]),Se.createElement(Se.Fragment,null,s)}}function O9(t,e){return{content:kie(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function kie(t,e,n=!1){return k.isValidElement(t)&&!n0(t.type)?k.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Pf(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function B6e({closeToast:t,theme:e,ariaLabel:n="close"}){return Se.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),t(!0)},"aria-label":n},Se.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Se.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function V6e({delay:t,isRunning:e,closeToast:n,type:i="default",hide:r,className:s,controlledProgress:o,progress:a,rtl:l,isIn:c,theme:d}){let h=r||o&&a===0,p={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(p.transform=`scaleX(${a})`);let m=Ls("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":l}),v=Pf(s)?s({rtl:l,type:i,defaultClassName:m}):Ls(m,s),S={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&n()}};return Se.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},Se.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${i}`}),Se.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:v,style:p,...S}))}var H6e=1,_ie=()=>`${H6e++}`;function U6e(t,e,n){let i=1,r=0,s=[],o=[],a=e,l=new Map,c=new Set,d=M=>(c.add(M),()=>c.delete(M)),h=()=>{o=Array.from(l.values()),c.forEach(M=>M())},p=({containerId:M,toastId:R,updateId:N})=>{let P=M?M!==t:t!==1,O=l.has(R)&&N==null;return P||O},m=(M,R)=>{l.forEach(N=>{var P;(R==null||R===N.props.toastId)&&((P=N.toggle)==null||P.call(N,M))})},v=M=>{var R,N;(N=(R=M.props)==null?void 0:R.onClose)==null||N.call(R,M.removalReason),M.isActive=!1},S=M=>{if(M==null)l.forEach(v);else{let R=l.get(M);R&&v(R)}h()},A=()=>{r-=s.length,s=[]},E=M=>{var R,N;let{toastId:P,updateId:O}=M.props,$=O==null;M.staleId&&l.delete(M.staleId),M.isActive=!0,l.set(P,M),h(),n(O9(M,$?"added":"updated")),$&&((N=(R=M.props).onOpen)==null||N.call(R))};return{id:t,props:a,observe:d,toggle:m,removeToast:S,toasts:l,clearQueue:A,buildToast:(M,R)=>{if(p(R))return;let{toastId:N,updateId:P,data:O,staleId:$,delay:F}=R,q=P==null;q&&r++;let B={...a,style:a.toastStyle,key:i++,...Object.fromEntries(Object.entries(R).filter(([Q,J])=>J!=null)),toastId:N,updateId:P,data:O,isIn:!1,className:p$(R.className||a.toastClassName),progressClassName:p$(R.progressClassName||a.progressClassName),autoClose:R.isLoading?!1:$6e(R.autoClose,a.autoClose),closeToast(Q){l.get(N).removalReason=Q,S(N)},deleteToast(){let Q=l.get(N);if(Q!=null){if(n(O9(Q,"removed")),l.delete(N),r--,r<0&&(r=0),s.length>0){E(s.shift());return}h()}}};B.closeButton=a.closeButton,R.closeButton===!1||m$(R.closeButton)?B.closeButton=R.closeButton:R.closeButton===!0&&(B.closeButton=m$(a.closeButton)?a.closeButton:!0);let X={content:M,props:B,staleId:$};a.limit&&a.limit>0&&r>a.limit&&q?s.push(X):TT(F)?setTimeout(()=>{E(X)},F):E(X)},setProps(M){a=M},setToggle:(M,R)=>{let N=l.get(M);N&&(N.toggle=R)},isToastActive:M=>{var R;return(R=l.get(M))==null?void 0:R.isActive},getSnapshot:()=>o}}var mo=new Map,EA=[],g$=new Set,q6e=t=>g$.forEach(e=>e(t)),Mie=()=>mo.size>0;function G6e(){EA.forEach(t=>Die(t.content,t.options)),EA=[]}var W6e=(t,{containerId:e})=>{var n;return(n=mo.get(e||1))==null?void 0:n.toasts.get(t)};function Rie(t,e){var n;if(e)return!!((n=mo.get(e))!=null&&n.isToastActive(t));let i=!1;return mo.forEach(r=>{r.isToastActive(t)&&(i=!0)}),i}function K6e(t){if(!Mie()){EA=EA.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||F6e(t))mo.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=mo.get(t.containerId);e?e.removeToast(t.id):mo.forEach(n=>{n.removeToast(t.id)})}}var Y6e=(t={})=>{mo.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function Die(t,e){m$(t)&&(Mie()||EA.push({content:t,options:e}),mo.forEach(n=>{n.buildToast(t,e)}))}function X6e(t){var e;(e=mo.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function Nie(t,e){mo.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function J6e(t){let e=t.containerId||1;return{subscribe(n){let i=U6e(e,t,q6e);mo.set(e,i);let r=i.observe(n);return G6e(),()=>{r(),mo.delete(e)}},setProps(n){var i;(i=mo.get(e))==null||i.setProps(n)},getSnapshot(){var n;return(n=mo.get(e))==null?void 0:n.getSnapshot()}}}function Z6e(t){return g$.add(t),()=>{g$.delete(t)}}function Q6e(t){return t&&(n0(t.toastId)||TT(t.toastId))?t.toastId:_ie()}function kT(t,e){return Die(t,e),e.toastId}function mN(t,e){return{...e,type:e&&e.type||t,toastId:Q6e(e)}}function gN(t){return(e,n)=>kT(e,mN(t,n))}function On(t,e){return kT(t,mN("default",e))}On.loading=(t,e)=>kT(t,mN("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function eVe(t,{pending:e,error:n,success:i},r){let s;e&&(s=n0(e)?On.loading(e,r):On.loading(e.render,{...r,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,d,h)=>{if(d==null){On.dismiss(s);return}let p={type:c,...o,...r,data:h},m=n0(d)?{render:d}:d;return s?On.update(s,{...p,...m}):On(m.render,{...p,...m}),h},l=Pf(t)?t():t;return l.then(c=>a("success",i,c)).catch(c=>a("error",n,c)),l}On.promise=eVe;On.success=gN("success");On.info=gN("info");On.error=gN("error");On.warning=gN("warning");On.warn=On.warning;On.dark=(t,e)=>kT(t,mN("default",{theme:"dark",...e}));function tVe(t){K6e(t)}On.dismiss=tVe;On.clearWaitingQueue=Y6e;On.isActive=Rie;On.update=(t,e={})=>{let n=W6e(t,e);if(n){let{props:i,content:r}=n,s={delay:100,...i,...e,toastId:e.toastId||t,updateId:_ie()};s.toastId!==t&&(s.staleId=t);let o=s.render||r;delete s.render,kT(o,s)}};On.done=t=>{On.update(t,{progress:1})};On.onChange=Z6e;On.play=t=>Nie(!0,t);On.pause=t=>Nie(!1,t);function nVe(t){var e;let{subscribe:n,getSnapshot:i,setProps:r}=k.useRef(J6e(t)).current;r(t);let s=(e=k.useSyncExternalStore(n,i,i))==null?void 0:e.slice();function o(a){if(!s)return[];let l=new Map;return t.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:d}=c.props;l.has(d)||l.set(d,[]),l.get(d).push(c)}),Array.from(l,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:Rie,count:s==null?void 0:s.length}}function iVe(t){let[e,n]=k.useState(!1),[i,r]=k.useState(!1),s=k.useRef(null),o=k.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:h}=t;X6e({id:t.toastId,containerId:t.containerId,fn:n}),k.useEffect(()=>{if(t.pauseOnFocusLoss)return p(),()=>{m()}},[t.pauseOnFocusLoss]);function p(){document.hasFocus()||E(),window.addEventListener("focus",A),window.addEventListener("blur",E)}function m(){window.removeEventListener("focus",A),window.removeEventListener("blur",E)}function v($){if(t.draggable===!0||t.draggable===$.pointerType){M();let F=s.current;o.canCloseOnClick=!0,o.canDrag=!0,F.style.transition="none",t.draggableDirection==="x"?(o.start=$.clientX,o.removalDistance=F.offsetWidth*(t.draggablePercent/100)):(o.start=$.clientY,o.removalDistance=F.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function S($){let{top:F,bottom:q,left:B,right:X}=s.current.getBoundingClientRect();$.nativeEvent.type!=="touchend"&&t.pauseOnHover&&$.clientX>=B&&$.clientX<=X&&$.clientY>=F&&$.clientY<=q?E():A()}function A(){n(!0)}function E(){n(!1)}function M(){o.didMove=!1,document.addEventListener("pointermove",N),document.addEventListener("pointerup",P)}function R(){document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",P)}function N($){let F=s.current;if(o.canDrag&&F){o.didMove=!0,e&&E(),t.draggableDirection==="x"?o.delta=$.clientX-o.start:o.delta=$.clientY-o.start,o.start!==$.clientX&&(o.canCloseOnClick=!1);let q=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;F.style.transform=`translate3d(${q},0)`,F.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function P(){R();let $=s.current;if(o.canDrag&&o.didMove&&$){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){r(!0),t.closeToast(!0),t.collapseAll();return}$.style.transition="transform 0.2s, opacity 0.2s",$.style.removeProperty("transform"),$.style.removeProperty("opacity")}}let O={onPointerDown:v,onPointerUp:S};return a&&l&&(O.onMouseEnter=E,t.stacked||(O.onMouseLeave=A)),h&&(O.onClick=$=>{d&&d($),o.canCloseOnClick&&c(!0)}),{playToast:A,pauseToast:E,isRunning:e,preventExitTransition:i,toastRef:s,eventHandlers:O}}var rVe=typeof window<"u"?k.useLayoutEffect:k.useEffect,yN=({theme:t,type:e,isLoading:n,...i})=>Se.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function sVe(t){return Se.createElement(yN,{...t},Se.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function oVe(t){return Se.createElement(yN,{...t},Se.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function aVe(t){return Se.createElement(yN,{...t},Se.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function lVe(t){return Se.createElement(yN,{...t},Se.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function cVe(){return Se.createElement("div",{className:"Toastify__spinner"})}var y$={info:oVe,warning:sVe,success:aVe,error:lVe,spinner:cVe},uVe=t=>t in y$;function dVe({theme:t,type:e,isLoading:n,icon:i}){let r=null,s={theme:t,type:e};return i===!1||(Pf(i)?r=i({...s,isLoading:n}):k.isValidElement(i)?r=k.cloneElement(i,s):n?r=y$.spinner():uVe(e)&&(r=y$[e](s))),r}var fVe=t=>{let{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:r,playToast:s}=iVe(t),{closeButton:o,children:a,autoClose:l,onClick:c,type:d,hideProgressBar:h,closeToast:p,transition:m,position:v,className:S,style:A,progressClassName:E,updateId:M,role:R,progress:N,rtl:P,toastId:O,deleteToast:$,isIn:F,isLoading:q,closeOnClick:B,theme:X,ariaLabel:Q}=t,J=Ls("Toastify__toast",`Toastify__toast-theme--${X}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":P},{"Toastify__toast--close-on-click":B}),oe=Pf(S)?S({rtl:P,position:v,type:d,defaultClassName:J}):Ls(J,S),ce=dVe(t),le=!!N||!l,ee={closeToast:p,type:d,theme:X},Z=null;return o===!1||(Pf(o)?Z=o(ee):k.isValidElement(o)?Z=k.cloneElement(o,ee):Z=B6e(ee)),Se.createElement(m,{isIn:F,done:$,position:v,preventExitTransition:n,nodeRef:i,playToast:s},Se.createElement("div",{id:O,tabIndex:0,onClick:c,"data-in":F,className:oe,...r,style:A,ref:i,...F&&{role:R,"aria-label":Q}},ce!=null&&Se.createElement("div",{className:Ls("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!q})},ce),kie(a,t,!e),Z,!t.customProgressBar&&Se.createElement(V6e,{...M&&!le?{key:`p-${M}`}:{},rtl:P,theme:X,delay:l,isRunning:e,isIn:F,closeToast:p,hide:h,type:d,className:E,controlledProgress:le,progress:N||0})))},Pie=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),hVe=Tie(Pie("bounce",!0)),pVe=Tie(Pie("flip")),mVe={position:"top-right",transition:hVe,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function gVe(t){let e={...mVe,...t},n=t.stacked,[i,r]=k.useState(!0),s=k.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=nVe(e),{className:c,style:d,rtl:h,containerId:p,hotKeys:m}=e;function v(A){let E=Ls("Toastify__toast-container",`Toastify__toast-container--${A}`,{"Toastify__toast-container--rtl":h});return Pf(c)?c({position:A,rtl:h,defaultClassName:E}):Ls(E,p$(c))}function S(){n&&(r(!0),On.play())}return rVe(()=>{var A;if(n){let E=s.current.querySelectorAll('[data-in="true"]'),M=12,R=(A=e.position)==null?void 0:A.includes("top"),N=0,P=0;Array.from(E).reverse().forEach((O,$)=>{let F=O;F.classList.add("Toastify__toast--stacked"),$>0&&(F.dataset.collapsed=`${i}`),F.dataset.pos||(F.dataset.pos=R?"top":"bot");let q=N*(i?.2:1)+(i?0:M*$);F.style.setProperty("--y",`${R?q:q*-1}px`),F.style.setProperty("--g",`${M}`),F.style.setProperty("--s",`${1-(i?P:0)}`),N+=F.offsetHeight,P+=.025})}},[i,l,n]),k.useEffect(()=>{function A(E){var M;let R=s.current;m(E)&&((M=R.querySelector('[tabIndex="0"]'))==null||M.focus(),r(!1),On.pause()),E.key==="Escape"&&(document.activeElement===R||R!=null&&R.contains(document.activeElement))&&(r(!0),On.play())}return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[m]),Se.createElement("section",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{n&&(r(!1),On.pause())},onMouseLeave:S,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((A,E)=>{let M=E.length?{...d}:{...d,pointerEvents:"none"};return Se.createElement("div",{tabIndex:-1,className:v(A),"data-stacked":n,style:M,key:`c-${A}`},E.map(({content:R,props:N})=>Se.createElement(fVe,{...N,stacked:n,collapseAll:S,isIn:a(N.toastId,N.containerId),key:`t-${N.key}`},R)))}))}const yVe=t=>{On(b.jsxs(b.Fragment,{children:[b.jsx(JD,{className:"text-2xl mr-2 text-green-600"}),b.jsxs("div",{className:"text-sm",children:["The Character ",b.jsxs("span",{className:"font-semibold",children:[t.name," "]}),"was created."]})]}))},bVe=t=>{On(b.jsxs(b.Fragment,{children:[b.jsx(JD,{className:"text-2xl mr-2 text-green-600"}),b.jsxs("div",{className:"text-sm",children:["The Item ",b.jsxs("span",{className:"font-semibold",children:[t.name," "]}),"was created."]})]}))},vVe=t=>{On(b.jsxs(b.Fragment,{children:[b.jsx(JD,{className:"text-2xl mr-2 text-green-600"}),b.jsxs("div",{className:"text-sm",children:["The Location ",b.jsxs("span",{className:"font-semibold",children:[t.name," "]}),"was created."]})]}))},xVe=t=>{On(b.jsxs(b.Fragment,{children:[b.jsx(JD,{className:"text-2xl mr-2 text-green-600"}),b.jsxs("div",{className:"text-sm",children:["The Scene ",b.jsxs("span",{className:"font-semibold",children:[t.title," "]}),"was created."]})]}))},wVe=(t,e,n)=>{n(e,t.chapter,t),xVe(t)},SVe=(t,e,n,i)=>{i(e,t.chapter,t.id,n)},CVe=(t,e,n,i,r)=>{r(e,t.chapter,t.id,n,i)},AVe=(t,e,n)=>{n(e,t),yVe(t)},EVe=(t,e,n)=>{n(e,t),bVe(t)},TVe=(t,e,n)=>{n(e,t),vVe(t)},kVe=k.createContext({isConnected:!1}),_Ve=({children:t})=>{const[e,n]=k.useState(!1),[i,r]=k.useState(!1),[s,o]=k.useState(!1),[a,l]=k.useState(0),c=k.useRef(null),d=k.useRef(null),h=k.useRef(1e3),p=kt(X=>X.authData.accessToken),m=kt(X=>X.authData.ws_chanel_code),v=$t(X=>X.projectsList).find(X=>X.id===i),S=$t(X=>X.addMergeExtractedCharacter),A=Gh(X=>X.addUpdateProcess),E=Gh(X=>X.addUpdateStreamMessage),M=$t(X=>X.addSceneToChapter),R=$t(X=>X.streamToExistingScene),N=$t(X=>X.streamToNewScene),P=$t(X=>X.addCharacterToProject),O=$t(X=>X.addItemToProject),$=$t(X=>X.addLocationToProject),F=window.location.hostname==="localhost"?`ws://0.0.0.0:8000/ws/chanel/${m}/`:`wss://loreflow.app/ws/chanel/${m}/`;k.useEffect(()=>{e&&(async()=>{try{if(!v)return;const Q=new FormData;Q.append("characters_json",JSON.stringify(v.characters_json)),await ZE(p,v.id.toString(),Q)}catch(Q){console.error("Error updating server characters:",Q)}finally{n(!1)}})()},[e,v,p]);const q=k.useCallback(async(X,Q)=>{for(let J=0;J<X.length;J++){const oe=X[J];oe.project=Q,S(Q,oe)}n(!0)},[S]),B=k.useCallback(()=>{m&&(c.current&&c.current.close(),c.current=new WebSocket(F),c.current.onopen=()=>{console.log("WebSocket connection established"),o(!0),h.current=1e3,c.current&&c.current.send(JSON.stringify({message:"Web Socket Connected"}))},c.current.onmessage=X=>{try{const Q=JSON.parse(X.data);if(Q.characters){const J=JSON.parse(Q.characters),oe=J.characters,ce=J.movie_project_id;r(ce),q(oe,ce)}if(Q.process){const J=JSON.parse(Q.process);A(J)}if(Q.stream_message){const J=JSON.parse(Q.stream_message);E(J.process,J.request_id,J.stream_message)}if(Q.stream_scene){const J=JSON.parse(Q.stream_scene);SVe(J.scene,J.project_id,J.message,N)}if(Q.stream_to_existing_scene){const J=JSON.parse(Q.stream_to_existing_scene);CVe(J.scene,J.project_id,J.message,J.request_id,R)}if(Q.scene){const J=JSON.parse(Q.scene);wVe(J.scene,J.project_id,M)}if(Q.character){const J=JSON.parse(Q.character);AVe(J.character,J.project_id,P)}if(Q.item){const J=JSON.parse(Q.item);EVe(J.item,J.project_id,O)}if(Q.location){const J=JSON.parse(Q.location);TVe(J.location,J.project_id,$)}}catch(Q){console.error("Error processing WebSocket message:",Q)}},c.current.onclose=X=>{console.log(`WebSocket connection closed. Code: ${X.code}, Reason: ${X.reason}`),o(!1);const Q=Math.min(3e4,h.current*1.5);h.current=Q,console.log(`Attempting to reconnect in ${Q/1e3} seconds...`),d.current&&window.clearTimeout(d.current),d.current=window.setTimeout(()=>{l(J=>J+1)},Q)},c.current.onerror=X=>{console.error("WebSocket error:",X)})},[m,F,q]);return k.useEffect(()=>(m&&B(),()=>{d.current&&window.clearTimeout(d.current),c.current&&c.current.close()}),[B,a,m]),b.jsx(kVe.Provider,{value:{isConnected:s},children:t})};L6e.workerSrc=`//unpkg.com/pdfjs-dist@${j6e}/build/pdf.worker.min.mjs`;Sre.createRoot(document.getElementById("root")).render(b.jsxs(_Ve,{children:[b.jsx(gVe,{position:"bottom-right",autoClose:2500,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",transition:pVe}),b.jsx(N5e,{})]}));
